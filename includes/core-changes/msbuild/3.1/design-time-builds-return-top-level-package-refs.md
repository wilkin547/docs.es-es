---
ms.openlocfilehash: 53840ddd59ae3463bae2930fd0151ab2cd2d65cb
ms.sourcegitcommit: e301979e3049ce412d19b094c60ed95b316a8f8c
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/16/2020
ms.locfileid: "97593335"
---
### <a name="design-time-builds-only-return-top-level-package-references"></a><span data-ttu-id="e7899-101">Las compilaciones en tiempo de diseño solo devuelven referencias de paquete de nivel superior</span><span class="sxs-lookup"><span data-stu-id="e7899-101">Design-time builds only return top-level package references</span></span>

<span data-ttu-id="e7899-102">A partir del SDK de .NET Core 3.1.400, el destino de `RunResolvePackageDependencies` solo devuelve las referencias de paquete de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="e7899-102">Starting in .NET Core SDK 3.1.400, only top-level package references are returned by the `RunResolvePackageDependencies` target.</span></span>

#### <a name="version-introduced"></a><span data-ttu-id="e7899-103">Versión introducida</span><span class="sxs-lookup"><span data-stu-id="e7899-103">Version introduced</span></span>

<span data-ttu-id="e7899-104">SDK 3.1.400 de .NET Core</span><span class="sxs-lookup"><span data-stu-id="e7899-104">.NET Core SDK 3.1.400</span></span>

#### <a name="change-description"></a><span data-ttu-id="e7899-105">Descripción del cambio</span><span class="sxs-lookup"><span data-stu-id="e7899-105">Change description</span></span>

<span data-ttu-id="e7899-106">En versiones anteriores del SDK de .NET Core, el destino `RunResolvePackageDependencies` creó los siguientes elementos de MSBuild que contenían información del archivo de recursos de NuGet:</span><span class="sxs-lookup"><span data-stu-id="e7899-106">In previous versions of the .NET Core SDK, the `RunResolvePackageDependencies` target created the following MSBuild items that contained information from the NuGet assets file:</span></span>

- `PackageDefinitions`
- `PackageDependencies`
- `TargetDefinitions`
- `FileDefinitions`
- `FileDependencies`

<span data-ttu-id="e7899-107">Visual Studio usa estos datos para rellenar el nodo Dependencias en el explorador de soluciones,</span><span class="sxs-lookup"><span data-stu-id="e7899-107">This data is used by Visual Studio to populate the Dependencies node in Solution Explorer.</span></span> <span data-ttu-id="e7899-108">pero puede ser una gran cantidad de datos y estos no son necesarios a menos que se expanda el nodo Dependencias.</span><span class="sxs-lookup"><span data-stu-id="e7899-108">However, it can be a large amount of data, and the data isn't needed unless the Dependencies node is expanded.</span></span>

<span data-ttu-id="e7899-109">A partir de la versión 3.1.400 del SDK de .NET Core, la mayoría de estos elementos no se generan de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e7899-109">Starting in the .NET Core SDK version 3.1.400, most of these items aren't generated by default.</span></span> <span data-ttu-id="e7899-110">Solo se devuelven los elementos de tipo `Package`.</span><span class="sxs-lookup"><span data-stu-id="e7899-110">Only items of type `Package` are returned.</span></span> <span data-ttu-id="e7899-111">Si Visual Studio necesita que los elementos rellenen el nodo dependencias, lee la información directamente del archivo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e7899-111">If Visual Studio needs the items to populate the Dependencies node, it reads the information directly from the assets file.</span></span>

#### <a name="reason-for-change"></a><span data-ttu-id="e7899-112">Motivo del cambio</span><span class="sxs-lookup"><span data-stu-id="e7899-112">Reason for change</span></span>

<span data-ttu-id="e7899-113">Este cambio se presentó para mejorar el rendimiento de carga de la solución dentro de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e7899-113">This changed was introduced to improve solution-load performance inside of Visual Studio.</span></span> <span data-ttu-id="e7899-114">Anteriormente, todas las referencias de paquete se cargaban, lo que implicaba la carga de muchas referencias que la mayoría de los usuarios nunca veían.</span><span class="sxs-lookup"><span data-stu-id="e7899-114">Previously, all package references would be loaded, which involved loading many references that most users would never view.</span></span>

#### <a name="recommended-action"></a><span data-ttu-id="e7899-115">Acción recomendada</span><span class="sxs-lookup"><span data-stu-id="e7899-115">Recommended action</span></span>

<span data-ttu-id="e7899-116">Si tiene lógica de MSBuild que depende de la creación de estos elementos, establezca la propiedad `EmitLegacyAssetsFileItems` en `true` en el archivo del proyecto.</span><span class="sxs-lookup"><span data-stu-id="e7899-116">If you have MSBuild logic that depends on these items being created, set the `EmitLegacyAssetsFileItems` property to `true` in your project file.</span></span> <span data-ttu-id="e7899-117">Esta configuración habilita el comportamiento anterior en el que se crean todos los elementos.</span><span class="sxs-lookup"><span data-stu-id="e7899-117">This setting enables the previous behavior where all the items are created.</span></span>

#### <a name="category"></a><span data-ttu-id="e7899-118">Categoría</span><span class="sxs-lookup"><span data-stu-id="e7899-118">Category</span></span>

<span data-ttu-id="e7899-119">MSBuild</span><span class="sxs-lookup"><span data-stu-id="e7899-119">MSBuild</span></span>

#### <a name="affected-apis"></a><span data-ttu-id="e7899-120">API afectadas</span><span class="sxs-lookup"><span data-stu-id="e7899-120">Affected APIs</span></span>

<span data-ttu-id="e7899-121">N/D</span><span class="sxs-lookup"><span data-stu-id="e7899-121">N/A</span></span>
