---
title: Escribir protocolos acoplables
description: Obtenga información sobre los protocolos conectables. Estos protocolos admiten el desarrollo de aplicaciones que usan recursos de Internet independientemente de los detalles del protocolo que usan los recursos.
ms.date: 03/30/2017
helpviewer_keywords:
- data requests, pluggable protocols
- WebRequest class, pluggable protocols
- response to Internet request, pluggable protocols
- URI
- Windows Sockets
- request/response model
- sending data, pluggable protocols
- pluggable protocols
- WebClient class, about WebClient class
- pluggable protocols, about pluggable protocols
- Internet, pluggable protocols
- path identifiers
- Uniform Resource Identifier
- application development [.NET Framework], pluggable protocols
- requesting data from Internet, pluggable protocols
- receiving data, pluggable protocols
- protocols, pluggable
- server identifiers
- scheme identifiers
ms.assetid: 4b48e22d-e4e5-48f0-be80-d549bda97415
ms.openlocfilehash: 0bc2d0d005e50b04aff360866a146f6fe6b0ea02
ms.sourcegitcommit: da21fc5a8cce1e028575acf31974681a1bc5aeed
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/08/2020
ms.locfileid: "84502358"
---
# <a name="introducing-pluggable-protocols"></a><span data-ttu-id="a39a5-103">Escribir protocolos acoplables</span><span class="sxs-lookup"><span data-stu-id="a39a5-103">Introducing Pluggable Protocols</span></span>
<span data-ttu-id="a39a5-104">Microsoft .NET Framework proporciona una implementación por capas, extensible y administrada de servicios de Internet que se puede integrar rápida y fácilmente en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="a39a5-104">The Microsoft .NET Framework provides a layered, extensible, and managed implementation of Internet services that can be integrated quickly and easily into your applications.</span></span> <span data-ttu-id="a39a5-105">Las clases de acceso a Internet de los espacios de nombres <xref:System.Net> y <xref:System.Net.Sockets> se pueden usar para implementar aplicaciones basadas en Internet y en web.</span><span class="sxs-lookup"><span data-stu-id="a39a5-105">The Internet access classes in the <xref:System.Net> and <xref:System.Net.Sockets> namespaces can be used to implement both Web-based and Internet-based applications.</span></span>  
  
## <a name="internet-applications"></a><span data-ttu-id="a39a5-106">Aplicaciones de Internet</span><span class="sxs-lookup"><span data-stu-id="a39a5-106">Internet Applications</span></span>  
 <span data-ttu-id="a39a5-107">Las aplicaciones de Internet se pueden clasificar de forma general en dos tipos: aplicaciones de cliente que solicitan información y aplicaciones de servidor que responden a solicitudes de información de los clientes.</span><span class="sxs-lookup"><span data-stu-id="a39a5-107">Internet applications can be classified broadly into two kinds: client applications that request information and server applications that respond to information requests from clients.</span></span> <span data-ttu-id="a39a5-108">La aplicación cliente-servidor de Internet clásica es la World Wide Web, donde las personas usan exploradores para obtener acceso a documentos y otros datos almacenados en servidores web de todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="a39a5-108">The classic Internet client-server application is the World Wide Web, where people use browsers to access documents and other data stored on Web servers worldwide.</span></span>  
  
 <span data-ttu-id="a39a5-109">Las aplicaciones no se limitan a uno solo de estos roles. Por ejemplo, el familiar servidor de aplicaciones de nivel intermedio responde a las solicitudes de los clientes, para lo que solicita datos de otro servidor, en cuyo caso actúa como servidor y cliente.</span><span class="sxs-lookup"><span data-stu-id="a39a5-109">Applications are not limited to just one of these roles; for instance, the familiar middle-tier application server responds to requests from clients by requesting data from another server, in which case it is acting as both a server and a client.</span></span>  
  
 <span data-ttu-id="a39a5-110">La aplicación cliente realiza una solicitud, para lo que identifica el recurso de Internet solicitado y el protocolo de comunicación que se usará para la solicitud y la respuesta.</span><span class="sxs-lookup"><span data-stu-id="a39a5-110">The client application makes a request by identifying the requested Internet resource and the communication protocol to use for the request and response.</span></span> <span data-ttu-id="a39a5-111">Si es necesario, el cliente también proporciona todos los datos adicionales que sean necesarios para completar la solicitud, como la ubicación del proxy o la información de autenticación (nombre de usuario, contraseña, etc.).</span><span class="sxs-lookup"><span data-stu-id="a39a5-111">If necessary, the client also provides any additional data required to complete the request, such as proxy location or authentication information (user name, password, and so on).</span></span> <span data-ttu-id="a39a5-112">Una vez generada la solicitud, se puede enviar al servidor.</span><span class="sxs-lookup"><span data-stu-id="a39a5-112">Once the request is formed, the request can be sent to the server.</span></span>  
  
## <a name="identifying-resources"></a><span data-ttu-id="a39a5-113">Identificación de recursos</span><span class="sxs-lookup"><span data-stu-id="a39a5-113">Identifying Resources</span></span>  
 <span data-ttu-id="a39a5-114">.NET Framework usa un identificador uniforme de recursos (URI) para identificar el recurso de Internet solicitado y el protocolo de comunicación.</span><span class="sxs-lookup"><span data-stu-id="a39a5-114">The .NET Framework uses a Uniform Resource Identifier (URI) to identify the requested Internet resource and communication protocol.</span></span> <span data-ttu-id="a39a5-115">El URI consta de al menos tres y, posiblemente, cuatro fragmentos: el identificador de esquema, que identifica el protocolo de comunicaciones para la solicitud y la respuesta; el identificador de servidor, que consta de un nombre de host del Sistema de nombres de dominio (DNS) o una dirección TCP que identifica de forma única el servidor en Internet; el identificador de la ruta de acceso, que busca la información solicitada en el servidor; y una cadena de consulta opcional, que pasa información del cliente al servidor.</span><span class="sxs-lookup"><span data-stu-id="a39a5-115">The URI consists of at least three, and possibly four, fragments: the scheme identifier, which identifies the communications protocol for the request and response; the server identifier, which consists of either a Domain Name System (DNS) host name or a TCP address that uniquely identifies the server on the Internet; the path identifier, which locates the requested information on the server; and an optional query string, which passes information from the client to the server.</span></span> <span data-ttu-id="a39a5-116">Por ejemplo, el URI `http://www.contoso.com/whatsnew.aspx?date=today` consta del identificador de esquema `http`, el identificador de servidor `www.contoso.com`, la ruta de acceso `/whatsnew.aspx` y la cadena de consulta `?date=today`.</span><span class="sxs-lookup"><span data-stu-id="a39a5-116">For example, the URI `http://www.contoso.com/whatsnew.aspx?date=today` consists of the scheme identifier `http`, the server identifier `www.contoso.com`, the path `/whatsnew.aspx`, and the query string `?date=today`.</span></span>  
  
 <span data-ttu-id="a39a5-117">Una vez que el servidor ha recibido la solicitud y procesado la respuesta, devuelve la respuesta a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="a39a5-117">After the server has received the request and processed the response, it returns the response to the client application.</span></span> <span data-ttu-id="a39a5-118">La respuesta incluye información adicional, como el tipo de contenido (por ejemplo, texto sin formato o datos XML).</span><span class="sxs-lookup"><span data-stu-id="a39a5-118">The response includes supplemental information, such as the type of the content (raw text or XML data, for example).</span></span>  
  
## <a name="requests-and-responses-in-the-net-framework"></a><span data-ttu-id="a39a5-119">Solicitudes y respuestas en .NET Framework</span><span class="sxs-lookup"><span data-stu-id="a39a5-119">Requests and Responses in the .NET Framework</span></span>  
 <span data-ttu-id="a39a5-120">.NET Framework usa clases específicas para proporcionar los tres elementos de información necesarios para obtener acceso a recursos de Internet a través de un modelo de solicitud/respuesta: la clase <xref:System.Uri>, que contiene el URI del recurso de Internet que se busca; la clase <xref:System.Net.WebRequest>, que contiene una solicitud para el recurso; y la clase <xref:System.Net.WebResponse>, que proporciona un contenedor para la respuesta entrante.</span><span class="sxs-lookup"><span data-stu-id="a39a5-120">The .NET Framework uses specific classes to provide the three pieces of information required to access Internet resources through a request/response model: the <xref:System.Uri> class, which contains the URI of the Internet resource you are seeking; the <xref:System.Net.WebRequest> class, which contains a request for the resource; and the <xref:System.Net.WebResponse> class, which provides a container for the incoming response.</span></span>  
  
 <span data-ttu-id="a39a5-121">Las aplicaciones cliente crean instancias `WebRequest`, para lo que pasan el URI del recurso de red al método <xref:System.Net.WebRequest.Create%2A>.</span><span class="sxs-lookup"><span data-stu-id="a39a5-121">Client applications create `WebRequest` instances by passing the URI of the network resource to the <xref:System.Net.WebRequest.Create%2A> method.</span></span> <span data-ttu-id="a39a5-122">Este método estático crea una `WebRequest` para un protocolo específico, como HTTP.</span><span class="sxs-lookup"><span data-stu-id="a39a5-122">This static method creates a `WebRequest` for a specific protocol, such as HTTP.</span></span> <span data-ttu-id="a39a5-123">La `WebRequest` que se devuelve proporciona acceso a las propiedades que controlan la solicitud al servidor y el acceso al flujo de datos que se envía cuando se realiza la solicitud.</span><span class="sxs-lookup"><span data-stu-id="a39a5-123">The `WebRequest` that is returned provides access to properties that control both the request to the server and access to the data stream that is sent when the request is made.</span></span> <span data-ttu-id="a39a5-124">El método <xref:System.Net.WebRequest.GetResponse%2A> de la `WebRequest` envía la solicitud de la aplicación cliente al servidor identificado en el URI.</span><span class="sxs-lookup"><span data-stu-id="a39a5-124">The <xref:System.Net.WebRequest.GetResponse%2A> method on the `WebRequest` sends the request from the client application to the server identified in the URI.</span></span> <span data-ttu-id="a39a5-125">En los casos en los que la respuesta se retrasa, la solicitud se puede realizar de forma asincrónica con el método <xref:System.Net.WebRequest.BeginGetResponse%2A> en la **WebRequest**, y la respuesta se puede devolver más adelante mediante el método <xref:System.Net.WebRequest.EndGetResponse%2A>.</span><span class="sxs-lookup"><span data-stu-id="a39a5-125">In cases in which the response might be delayed, the request can be made asynchronously using the <xref:System.Net.WebRequest.BeginGetResponse%2A> method on the **WebRequest**, and the response can be returned at a later time using the <xref:System.Net.WebRequest.EndGetResponse%2A> method.</span></span>  
  
 <span data-ttu-id="a39a5-126">Los métodos **GetResponse** y **EndGetResponse** devuelven una **WebResponse** que proporciona acceso a los datos devueltos por el servidor.</span><span class="sxs-lookup"><span data-stu-id="a39a5-126">The **GetResponse** and **EndGetResponse** methods return a **WebResponse** that provides access to the data returned by the server.</span></span> <span data-ttu-id="a39a5-127">Dado que estos datos se proporcionan a la aplicación solicitante como un flujo mediante el método <xref:System.Net.WebResponse.GetResponseStream%2A>, se pueden usar en una aplicación en cualquier lugar en el que se usen flujos de datos.</span><span class="sxs-lookup"><span data-stu-id="a39a5-127">Because this data is provided to the requesting application as a stream by the <xref:System.Net.WebResponse.GetResponseStream%2A> method, it can be used in an application anywhere data streams are used.</span></span>  
  
 <span data-ttu-id="a39a5-128">Las clases **WebRequest** y **WebResponse** son la base de los protocolos acoplables, que consisten en una implementación de servicios de red que permite desarrollar aplicaciones que usan recursos de Internet sin preocuparse sobre los detalles específicos del protocolo que cada recurso usa.</span><span class="sxs-lookup"><span data-stu-id="a39a5-128">The **WebRequest** and **WebResponse** classes are the basis of pluggable protocols — an implementation of network services that enables you to develop applications that use Internet resources without worrying about the specific details of the protocol that each resource uses.</span></span> <span data-ttu-id="a39a5-129">Las clases descendientes de **WebRequest** se registran con la clase **WebRequest** para administrar los detalles del establecimiento de conexiones a los recursos de Internet.</span><span class="sxs-lookup"><span data-stu-id="a39a5-129">Descendant classes of **WebRequest** are registered with the **WebRequest** class to manage the details of making the actual connections to Internet resources.</span></span>  
  
 <span data-ttu-id="a39a5-130">Por ejemplo, la clase <xref:System.Net.HttpWebRequest> administra los detalles de la conexión a un recurso de Internet mediante HTTP.</span><span class="sxs-lookup"><span data-stu-id="a39a5-130">As an example, the <xref:System.Net.HttpWebRequest> class manages the details of connecting to an Internet resource using HTTP.</span></span> <span data-ttu-id="a39a5-131">De forma predeterminada, cuando el método **WebRequest.Create** encuentra un URI que empieza por "http:" o "https:" (identificadores de protocolo para HTTP y HTTP seguro), la **WebRequest** que se devuelve se puede usar tal cual o se puede convertir en **HttpWebRequest** para obtener acceso a propiedades específicas del protocolo.</span><span class="sxs-lookup"><span data-stu-id="a39a5-131">By default, when the **WebRequest.Create** method encounters a URI that begins with "http:" or "https:" (the protocol identifiers for HTTP and secure HTTP), the **WebRequest** that is returned can be used as is, or it can be typecast to **HttpWebRequest** to access protocol-specific properties.</span></span> <span data-ttu-id="a39a5-132">En la mayoría de los casos, la **WebRequest** proporciona toda la información necesaria para realizar una solicitud.</span><span class="sxs-lookup"><span data-stu-id="a39a5-132">In most cases, the **WebRequest** provides all the necessary information for making a request.</span></span>  
  
 <span data-ttu-id="a39a5-133">Todos los protocolos que se pueden representar como una transacción de solicitud/respuesta se pueden usar en una **WebRequest**.</span><span class="sxs-lookup"><span data-stu-id="a39a5-133">Any protocol that can be represented as a request/response transaction can be used in a **WebRequest**.</span></span> <span data-ttu-id="a39a5-134">Puede derivar clases específicas del protocolo de **WebRequest** y de **WebResponse** y, después, registrarlas para que las use la aplicación con el método estático <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="a39a5-134">You can derive protocol-specific classes from **WebRequest** and **WebResponse** and then register them for use by the application with the static <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> method.</span></span>  
  
 <span data-ttu-id="a39a5-135">Cuando se requiere la autorización del cliente para las solicitudes de Internet, la propiedad <xref:System.Net.WebRequest.Credentials%2A> de la **WebRequest** proporciona las credenciales necesarias.</span><span class="sxs-lookup"><span data-stu-id="a39a5-135">When client authorization for Internet requests is required, the <xref:System.Net.WebRequest.Credentials%2A> property of the **WebRequest** supplies the necessary credentials.</span></span> <span data-ttu-id="a39a5-136">Estas credenciales pueden ser un simple par de nombre y contraseña para la autenticación implícita o HTTP básico, o bien un conjunto de nombre, contraseña y dominio para la autenticación Kerberos o NTLM.</span><span class="sxs-lookup"><span data-stu-id="a39a5-136">These credentials can be a simple name/password pair for basic HTTP or digest authentication, or a name/password/domain set for NTLM or Kerberos authentication.</span></span> <span data-ttu-id="a39a5-137">Se puede almacenar un conjunto de credenciales en una instancia <xref:System.Net.NetworkCredential> o varios conjuntos simultáneamente en una instancia <xref:System.Net.CredentialCache>.</span><span class="sxs-lookup"><span data-stu-id="a39a5-137">One set of credentials can be stored in a <xref:System.Net.NetworkCredential> instance, or multiple sets can be stored simultaneously in a <xref:System.Net.CredentialCache> instance.</span></span> <span data-ttu-id="a39a5-138">**CredentialCache** usa el URI de la solicitud y el esquema de autenticación admitido por el servidor para determinar qué credenciales se deben enviar al servidor.</span><span class="sxs-lookup"><span data-stu-id="a39a5-138">The **CredentialCache** uses the URI of the request and the authentication scheme that the server supports to determine which credentials to send to the server.</span></span>  
  
## <a name="simple-requests-with-webclient"></a><span data-ttu-id="a39a5-139">Solicitudes sencillas con WebClient</span><span class="sxs-lookup"><span data-stu-id="a39a5-139">Simple Requests with WebClient</span></span>  
 <span data-ttu-id="a39a5-140">Para las aplicaciones que necesitan realizar solicitudes sencillas de recursos de Internet, la clase <xref:System.Net.WebClient> proporciona métodos comunes para cargar datos en un servidor de Internet o descargarlos de él.</span><span class="sxs-lookup"><span data-stu-id="a39a5-140">For applications that need to make simple requests for Internet resources, the <xref:System.Net.WebClient> class provides common methods for uploading data to or downloading data from an Internet server.</span></span> <span data-ttu-id="a39a5-141">**WebClient** se basa en la clase **WebRequest** para proporcionar acceso a recursos de Internet. Por lo tanto, la clase **WebClient** puede usar cualquier protocolo acoplable registrado.</span><span class="sxs-lookup"><span data-stu-id="a39a5-141">**WebClient** relies on the **WebRequest** class to provide access to Internet resources; therefore, the **WebClient** class can use any registered pluggable protocol.</span></span>  
  
 <span data-ttu-id="a39a5-142">Para las aplicaciones que no pueden usar el modelo de solicitud/respuesta o para las aplicaciones que necesitan escuchar en la red y enviar solicitudes, el espacio de nombres **System.Net.Sockets** proporciona las clases <xref:System.Net.Sockets.TcpClient>, <xref:System.Net.Sockets.TcpListener> y <xref:System.Net.Sockets.UdpClient>.</span><span class="sxs-lookup"><span data-stu-id="a39a5-142">For applications that cannot use the request/response model, or for applications that need to listen on the network as well as send requests, the **System.Net.Sockets** namespace provides the <xref:System.Net.Sockets.TcpClient>, <xref:System.Net.Sockets.TcpListener>, and <xref:System.Net.Sockets.UdpClient> classes.</span></span> <span data-ttu-id="a39a5-143">Estas clases controlan los detalles del establecimiento de las conexiones mediante diferentes protocolos de transporte y exponen la conexión de red a la aplicación como un flujo.</span><span class="sxs-lookup"><span data-stu-id="a39a5-143">These classes handle the details of making connections using different transport protocols and expose the network connection to the application as a stream.</span></span>  
  
 <span data-ttu-id="a39a5-144">Los programadores que están familiarizados con la interfaz de Windows Sockets o que necesitan el control que proporciona la programación en el nivel de socket constatarán que las clases **System.Net.Sockets** se adaptan a sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="a39a5-144">Developers familiar with the Windows Sockets interface or those who need the control provided by programming at the socket level will find that the **System.Net.Sockets** classes meet their needs.</span></span> <span data-ttu-id="a39a5-145">Las clases **System.Net.Sockets** son una transición del código administrado al código nativo dentro de las clases **System.Net**.</span><span class="sxs-lookup"><span data-stu-id="a39a5-145">The **System.Net.Sockets** classes are a transition point from managed to native code within the **System.Net** classes.</span></span> <span data-ttu-id="a39a5-146">En la mayoría de los casos, las clases **System.Net.Sockets** serializan los datos en sus homólogos de 32 bits de Windows, además de controlar todas las comprobaciones de seguridad necesarias.</span><span class="sxs-lookup"><span data-stu-id="a39a5-146">In most cases, **System.Net.Sockets** classes marshal data into their Windows 32-bit counterparts, as well as handling any necessary security checks.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a39a5-147">Vea también</span><span class="sxs-lookup"><span data-stu-id="a39a5-147">See also</span></span>

- [<span data-ttu-id="a39a5-148">Programming Pluggable Protocols (Programar protocolos acoplables)</span><span class="sxs-lookup"><span data-stu-id="a39a5-148">Programming Pluggable Protocols</span></span>](programming-pluggable-protocols.md)
- [<span data-ttu-id="a39a5-149">Programación para redes en .NET Framework</span><span class="sxs-lookup"><span data-stu-id="a39a5-149">Network Programming in the .NET Framework</span></span>](index.md)
- [<span data-ttu-id="a39a5-150">Network Programming Samples (Ejemplos de programación de red)</span><span class="sxs-lookup"><span data-stu-id="a39a5-150">Network Programming Samples</span></span>](network-programming-samples.md)
