---
description: 'Más información acerca de: personalización de fuentes (Servicios de datos de WCF)'
title: Personalización de fuentes (Data Services de WCF)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, feeds
- WCF Data Services, Atom protocol
- Atom Publishing Protocol [WCF Data Services]
- WCF Data Services, customizing feeds
ms.assetid: 0d1a39bc-6462-4683-bd7d-e74e0fd28a85
ms.openlocfilehash: 9c9e0ead05c446b293fd728c3720472529a0cf0c
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99765963"
---
# <a name="feed-customization-wcf-data-services"></a><span data-ttu-id="98a7f-103">Personalización de fuentes (Data Services de WCF)</span><span class="sxs-lookup"><span data-stu-id="98a7f-103">Feed Customization (WCF Data Services)</span></span>

[!INCLUDE [wcf-deprecated](~/includes/wcf-deprecated.md)]

<span data-ttu-id="98a7f-104">Servicios de datos de WCF usa el Open Data Protocol (OData) para exponer los datos como una fuente.</span><span class="sxs-lookup"><span data-stu-id="98a7f-104">WCF Data Services uses the Open Data Protocol (OData) to expose data as a feed.</span></span> <span data-ttu-id="98a7f-105">OData admite los formatos Atom y notación de objetos JavaScript (JSON) para las fuentes de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-105">OData supports both Atom and JavaScript Object Notation (JSON) formats for data feeds.</span></span> <span data-ttu-id="98a7f-106">Cuando se usa una fuente Atom, OData proporciona un método estándar para serializar los datos, como entidades y relaciones, en un formato XML que se puede incluir en el cuerpo del mensaje HTTP.</span><span class="sxs-lookup"><span data-stu-id="98a7f-106">When you use an Atom feed, OData provides a standard method to serialize data, such as entities and relationships, into an XML format that can be included in the body of HTTP message.</span></span> <span data-ttu-id="98a7f-107">OData define una asignación de propiedad de entidad predeterminada entre los datos contenidos en entidades y elementos Atom.</span><span class="sxs-lookup"><span data-stu-id="98a7f-107">OData defines a default entity-property mapping between the data that is contained in entities and Atom elements.</span></span> <span data-ttu-id="98a7f-108">Para obtener más información, consulte [OData: formato Atom](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span><span class="sxs-lookup"><span data-stu-id="98a7f-108">For more information, see [OData: Atom Format](https://www.odata.org/documentation/odata-version-2-0/atom-format/).</span></span>  
  
 <span data-ttu-id="98a7f-109">Quizá tenga un escenario de aplicación que requiera que los datos de la propiedad devueltos por el servicio de datos se serialicen de forma personalizada en vez de hacerlo con el formato de fuente estándar.</span><span class="sxs-lookup"><span data-stu-id="98a7f-109">You may have an application scenario that requires that the property data returned by the data service be serialized in a customized manner rather than in the standard feed format.</span></span> <span data-ttu-id="98a7f-110">Con OData, puede personalizar la serialización en una fuente de distribución de datos para que las propiedades de una entidad se puedan asignar a elementos y atributos no usados de una entrada o a elementos personalizados de una entrada en la fuente.</span><span class="sxs-lookup"><span data-stu-id="98a7f-110">With OData, you can customize the serialization in a data feed so that properties of an entity may be mapped to unused elements and attributes of an entry or to custom elements of an entry in the feed.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="98a7f-111">La personalización de fuentes solo se admite en las fuentes Atom.</span><span class="sxs-lookup"><span data-stu-id="98a7f-111">Feed customization is only supported for Atom feeds.</span></span> <span data-ttu-id="98a7f-112">No se devuelven fuentes personalizadas cuando se solicita el formato JSON para la fuente devuelta.</span><span class="sxs-lookup"><span data-stu-id="98a7f-112">Custom feeds are not returned when the JSON format is requested for the returned feed.</span></span>  
  
 <span data-ttu-id="98a7f-113">Con Servicios de datos de WCF, puede definir una asignación alternativa de propiedad de entidad para una carga Atom aplicando manualmente los atributos a los tipos de entidad en el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-113">With WCF Data Services, you can define an alternate entity-property mapping for an Atom payload by manually applying attributes to entity types in the data model.</span></span> <span data-ttu-id="98a7f-114">El proveedor del origen de datos del servicio de datos determina cómo debería aplicar estos atributos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-114">The data source provider of the data service determines how you should apply these attributes.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="98a7f-115">Cuando defina las fuentes personalizadas, debe asegurarse de que se incluyan todas las propiedades de entidad con asignaciones personalizadas en la proyección.</span><span class="sxs-lookup"><span data-stu-id="98a7f-115">When you define custom feeds, you must guarantee that all entity properties that have custom mappings defined are included in the projection.</span></span> <span data-ttu-id="98a7f-116">Cuando no se incluya ninguna propiedad de entidad asignada en la proyección, se puede producir la pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-116">When a mapped entity property is not included in the projection, data loss might occur.</span></span> <span data-ttu-id="98a7f-117">Para obtener más información, consulte [proyecciones de consultas](query-projections-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="98a7f-117">For more information, see [Query Projections](query-projections-wcf-data-services.md).</span></span>  
  
## <a name="customizing-feeds-with-the-entity-framework-provider"></a><span data-ttu-id="98a7f-118">Personalizar fuentes con el proveedor de Entity Framework</span><span class="sxs-lookup"><span data-stu-id="98a7f-118">Customizing Feeds with the Entity Framework Provider</span></span>  

 <span data-ttu-id="98a7f-119">El modelo de datos usado con el proveedor de Entity Framework se representa como XML en el archivo .edmx.</span><span class="sxs-lookup"><span data-stu-id="98a7f-119">The data model used with the Entity Framework provider is represented as XML in the .edmx file.</span></span> <span data-ttu-id="98a7f-120">En este caso, los atributos que definen las fuentes personalizadas se agregan a los elementos `EntityType` y `Property`, que representan tipos de entidad y propiedades en el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-120">In this case, the attributes that define custom feeds are added to the `EntityType` and `Property` elements that represent entity types and properties in the data model.</span></span> <span data-ttu-id="98a7f-121">Estos atributos de personalización de fuentes no se definen en [ \[ MC-CSDL \] : formato de archivo de definición de esquemas conceptuales](/openspecs/windows_protocols/mc-csdl/c03ad8c3-e8b7-4306-af96-a9e52bb3df12), que es el formato que usa el proveedor de Entity Framework para definir el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-121">These feed customization attributes are not defined in [\[MC-CSDL\]: Conceptual Schema Definition File Format](/openspecs/windows_protocols/mc-csdl/c03ad8c3-e8b7-4306-af96-a9e52bb3df12), which is the format that the Entity Framework provider uses to define the data model.</span></span> <span data-ttu-id="98a7f-122">Por consiguiente, debe declarar los atributos de personalización de fuentes en un espacio de nombres de esquema concreto, que se define como `m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-122">Therefore, you must declare feed customization attributes in a specific schema namespace, which is defined as `m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"`.</span></span> <span data-ttu-id="98a7f-123">El fragmento XML siguiente muestra los atributos de personalización de la fuente aplicados a los elementos `Property` del tipo de entidad `Products` que definen las propiedades `ProductName`, `ReorderLevel` y `UnitsInStock`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-123">The following XML fragment shows feed customization attributes applied to `Property` elements of the `Products` entity type that define the `ProductName`, `ReorderLevel`, and `UnitsInStock` properties.</span></span>  
  
 [!code-xml[Astoria Custom Feeds#EdmFeedAttributes](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/northwind.csdl#edmfeedattributes)]  
  
 <span data-ttu-id="98a7f-124">Estos atributos generan la fuente de distribución de datos personalizada siguiente para el conjunto de entidades `Products`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-124">These attributes produce the following customized data feed for the `Products` entity set.</span></span> <span data-ttu-id="98a7f-125">En la fuente de distribución de datos personalizada, el valor de propiedad `ProductName` se muestra tanto en el elemento `author` como en el elemento de propiedad `ProductName` y la propiedad `UnitsInStock` se muestra en un elemento personalizado que tiene su propio espacio de nombres único y con la propiedad `ReorderLevel` como atributo:</span><span class="sxs-lookup"><span data-stu-id="98a7f-125">In the customized data feed, the `ProductName` property value is displayed in both in the `author` element and as the `ProductName` property element, and the `UnitsInStock` property is displayed in a custom element that has its own unique namespace and with the `ReorderLevel` property as an attribute:</span></span>  
  
 [!code-xml[Astoria Custom Feeds#EdmFeedResultProduct](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/edmfeedresult.xml#edmfeedresultproduct)]  
  
 <span data-ttu-id="98a7f-126">Para obtener más información, vea [Cómo: personalizar fuentes con el proveedor de Entity Framework](how-to-customize-feeds-with-ef-provider-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="98a7f-126">For more information, see [How to: Customize Feeds with the Entity Framework Provider](how-to-customize-feeds-with-ef-provider-wcf-data-services.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="98a7f-127">Dado que Entity Designer no admite las extensiones al modelo de datos, debe modificar manualmente el archivo XML que contiene el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-127">Because extensions to the data model are not supported by the Entity Designer, you must manually modify the XML file that contains the data model.</span></span> <span data-ttu-id="98a7f-128">Para obtener más información sobre el archivo. edmx generado por las herramientas de Entity Data Model, vea [información general sobre el archivo. edmx (Entity Framework)](/previous-versions/dotnet/netframework-4.0/cc982042(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="98a7f-128">For more information about the .edmx file that is generated by the Entity Data Model tools, see [.edmx File Overview (Entity Framework)](/previous-versions/dotnet/netframework-4.0/cc982042(v=vs.100)).</span></span>  
  
### <a name="custom-feed-attributes"></a><span data-ttu-id="98a7f-129">Atributos de fuentes personalizadas</span><span class="sxs-lookup"><span data-stu-id="98a7f-129">Custom Feed Attributes</span></span>  

 <span data-ttu-id="98a7f-130">En la tabla siguiente se muestran los atributos XML que personalizan fuentes y que puede agregar al lenguaje de definición de esquemas conceptuales (CSDL) que define el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-130">The following table shows the XML attributes that customize feeds that you can add to the conceptual schema definition language (CSDL) that defines the data model.</span></span> <span data-ttu-id="98a7f-131">Estos atributos son equivalentes a las propiedades de la clase <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> usada con el proveedor de reflexión.</span><span class="sxs-lookup"><span data-stu-id="98a7f-131">These attributes are equivalent to the properties of the <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> used with the reflection provider.</span></span>  
  
|<span data-ttu-id="98a7f-132">Nombre del atributo</span><span class="sxs-lookup"><span data-stu-id="98a7f-132">Attribute name</span></span>|<span data-ttu-id="98a7f-133">Descripción</span><span class="sxs-lookup"><span data-stu-id="98a7f-133">Description</span></span>|  
|--------------------|-----------------|  
|`FC_ContentKind`|<span data-ttu-id="98a7f-134">Indica el tipo de contenido.</span><span class="sxs-lookup"><span data-stu-id="98a7f-134">Indicates the type of the content.</span></span> <span data-ttu-id="98a7f-135">Las palabras clave siguientes definen los tipos de contenido de distribución:</span><span class="sxs-lookup"><span data-stu-id="98a7f-135">The following keywords define syndication content types.</span></span><br /><br /> <span data-ttu-id="98a7f-136">`text:` El valor de la propiedad se muestra en la fuente como texto.</span><span class="sxs-lookup"><span data-stu-id="98a7f-136">`text:` The property value is displayed in the feed as text.</span></span><br /><br /> <span data-ttu-id="98a7f-137">`html:` El valor de la propiedad se muestra en la fuente como HTML.</span><span class="sxs-lookup"><span data-stu-id="98a7f-137">`html:` The property value is displayed in the feed as HTML.</span></span><br /><br /> <span data-ttu-id="98a7f-138">`xhtml:` El valor de la propiedad se muestra en la fuente como HTML con formato XML.</span><span class="sxs-lookup"><span data-stu-id="98a7f-138">`xhtml:` The property value is displayed in the feed as XML-formatted HTML.</span></span><br /><br /> <span data-ttu-id="98a7f-139">Estas palabras clave son equivalentes a los valores de la enumeración <xref:System.Data.Services.Common.SyndicationTextContentKind> usada con el proveedor de reflexión.</span><span class="sxs-lookup"><span data-stu-id="98a7f-139">These keywords are equivalent to the values of the <xref:System.Data.Services.Common.SyndicationTextContentKind> enumeration used with the reflection provider.</span></span><br /><br /> <span data-ttu-id="98a7f-140">No se admite este atributo cuando se usan los atributos `FC_NsPrefix` y `FC_NsUri`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-140">This attribute is not supported when the `FC_NsPrefix` and `FC_NsUri` attributes are used.</span></span><br /><br /> <span data-ttu-id="98a7f-141">Cuando especifique un valor de `xhtml` para el atributo `FC_ContentKind`, debe asegurarse de que el valor de propiedad contenga XML con el formato correcto.</span><span class="sxs-lookup"><span data-stu-id="98a7f-141">When you specify a value of `xhtml` for the `FC_ContentKind` attribute, you must ensure that the property value contains properly formatted XML.</span></span> <span data-ttu-id="98a7f-142">El servicio de datos devuelve el valor sin realizar transformaciones.</span><span class="sxs-lookup"><span data-stu-id="98a7f-142">The data service returns the value without performing any transformations.</span></span> <span data-ttu-id="98a7f-143">Además, debe asegurarse de que cualquier prefijo de elemento XML del XML devuelto tenga un URI de espacio de nombres definido en la fuente asignada.</span><span class="sxs-lookup"><span data-stu-id="98a7f-143">You must also ensure that any XML element prefixes in the returned XML have a namespace URI and prefix defined in the mapped feed.</span></span>|  
|`FC_KeepInContent`|<span data-ttu-id="98a7f-144">Indica que el valor de propiedad a la que se hace referencia debería estar incluido tanto en la sección de contenido de la fuente como en la ubicación asignada.</span><span class="sxs-lookup"><span data-stu-id="98a7f-144">Indicates that the referenced property value should be included both in the content section of the feed and in the mapped location.</span></span> <span data-ttu-id="98a7f-145">Los valores válidos son `true` y `false`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-145">Valid values are `true` and `false`.</span></span> <span data-ttu-id="98a7f-146">Para que la fuente resultante sea compatible con versiones anteriores de Servicios de datos de WCF, especifique un valor de para asegurarse de `true` que el valor se incluye en la sección de contenido de la fuente.</span><span class="sxs-lookup"><span data-stu-id="98a7f-146">To make the resulting feed backward-compatible with earlier versions of WCF Data Services, specify a value of `true` to make sure that the value is included in the content section of the feed.</span></span>|  
|`FC_NsPrefix`|<span data-ttu-id="98a7f-147">El prefijo del espacio de nombres del elemento XML de una asignación sin distribución.</span><span class="sxs-lookup"><span data-stu-id="98a7f-147">The namespace prefix of the XML element in a non-syndication mapping.</span></span> <span data-ttu-id="98a7f-148">Este atributo debe usarse con el atributo `FC_NsUri` y no se puede usar con el atributo `FC_ContentKind`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-148">This attribute must be used with the `FC_NsUri` attribute and cannot be used with the `FC_ContentKind` attribute.</span></span>|  
|`FC_NsUri`|<span data-ttu-id="98a7f-149">El URI del espacio de nombres del elemento XML de una asignación sin distribución.</span><span class="sxs-lookup"><span data-stu-id="98a7f-149">The namespace URI of the XML element in a non-syndication mapping.</span></span> <span data-ttu-id="98a7f-150">Este atributo debe usarse con el atributo `FC_NsPrefix` y no se puede usar con el atributo `FC_ContentKind`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-150">This attribute must be used with the `FC_NsPrefix` attribute and cannot be used with the `FC_ContentKind` attribute.</span></span>|  
|`FC_SourcePath`|<span data-ttu-id="98a7f-151">La ruta de acceso de la propiedad de la entidad a la que se aplica esta regla de asignación de fuentes.</span><span class="sxs-lookup"><span data-stu-id="98a7f-151">The path of the property of the entity to which this feed mapping rule applies.</span></span> <span data-ttu-id="98a7f-152">Este atributo solo se admite cuando se usa en un elemento `EntityType`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-152">This attribute is only supported when it is used in an `EntityType` element.</span></span><br /><br /> <span data-ttu-id="98a7f-153">La propiedad <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> no puede hacer referencia directamente a un tipo complejo.</span><span class="sxs-lookup"><span data-stu-id="98a7f-153">The <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> property cannot directly reference a complex type.</span></span> <span data-ttu-id="98a7f-154">Para los tipos complejos, debe usar una expresión de ruta cuyos nombres de propiedad estén separados por un carácter de barra diagonal (`/`).</span><span class="sxs-lookup"><span data-stu-id="98a7f-154">For complex types, you must use a path expression where property names are separated by a backslash (`/`) character.</span></span> <span data-ttu-id="98a7f-155">Por ejemplo, se permiten los siguientes valores para un tipo de entidad `Person` con una propiedad de entero `Age` y una propiedad compleja.</span><span class="sxs-lookup"><span data-stu-id="98a7f-155">For example, the following values are allowed for an entity type `Person` with an integer property `Age` and a complex property</span></span><br /><br /> <span data-ttu-id="98a7f-156">`Address`:</span><span class="sxs-lookup"><span data-stu-id="98a7f-156">`Address`:</span></span><br /><br /> `Age`<br /><br /> `Address/Street`<br /><br /> <span data-ttu-id="98a7f-157">La propiedad <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> no puede establecerse en un valor que contenga un espacio ni en ningún otro carácter que no sea válido para un nombre de propiedad.</span><span class="sxs-lookup"><span data-stu-id="98a7f-157">The <xref:System.Data.Services.Common.EntityPropertyMappingAttribute.SourcePath%2A> property cannot be set to a value that contains a space or any other character that is not valid in a property name.</span></span>|  
|`FC_TargetPath`|<span data-ttu-id="98a7f-158">El nombre del elemento de destino de la fuente resultante que debe asignarse a la propiedad.</span><span class="sxs-lookup"><span data-stu-id="98a7f-158">The name of the target element of the resulting feed to map the property.</span></span> <span data-ttu-id="98a7f-159">Este elemento puede ser un elemento definido por la especificación Atom o un elemento personalizado.</span><span class="sxs-lookup"><span data-stu-id="98a7f-159">This element can be an element defined by the Atom specification or a custom element.</span></span><br /><br /> <span data-ttu-id="98a7f-160">Las siguientes palabras clave son valores predefinidos de la ruta de acceso de destino de distribución que apuntan a una ubicación específica en una fuente de OData.</span><span class="sxs-lookup"><span data-stu-id="98a7f-160">The following keywords are predefined syndication target-path values that point to specific location in an OData feed.</span></span><br /><br /> <span data-ttu-id="98a7f-161">`SyndicationAuthorEmail:``atom:email`Elemento secundario del `atom:author` elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-161">`SyndicationAuthorEmail:` The `atom:email` child element of the `atom:author` element.</span></span><br /><br /> <span data-ttu-id="98a7f-162">`SyndicationAuthorName:``atom:name`Elemento secundario del `atom:author` elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-162">`SyndicationAuthorName:` The `atom:name` child element of the `atom:author` element.</span></span><br /><br /> <span data-ttu-id="98a7f-163">`SyndicationAuthorUri:``atom:uri`Elemento secundario del `atom:author` elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-163">`SyndicationAuthorUri:` The `atom:uri` child element of the `atom:author` element.</span></span><br /><br /> <span data-ttu-id="98a7f-164">`SyndicationContributorEmail:``atom:email`Elemento secundario del `atom:contributor` elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-164">`SyndicationContributorEmail:` The `atom:email` child element of the `atom:contributor` element.</span></span><br /><br /> <span data-ttu-id="98a7f-165">`SyndicationContributorName:``atom:name`Elemento secundario del `atom:contributor` elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-165">`SyndicationContributorName:` The `atom:name` child element of the `atom:contributor` element.</span></span><br /><br /> <span data-ttu-id="98a7f-166">`SyndicationContributorUri:``atom:uri`Elemento secundario del `atom:contributor` elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-166">`SyndicationContributorUri:` The `atom:uri` child element of the `atom:contributor` element.</span></span><br /><br /> <span data-ttu-id="98a7f-167">`SyndicationCustomProperty:` Un elemento de propiedad personalizado.</span><span class="sxs-lookup"><span data-stu-id="98a7f-167">`SyndicationCustomProperty:` A custom property element.</span></span> <span data-ttu-id="98a7f-168">Cuando se realiza la asignación a un elemento personalizado, el destino debe ser una expresión de ruta de acceso cuyos elementos anidados estén separados mediante una barra diagonal (`/`) y cuyos atributos se especifiquen mediante una arroba (`@`).</span><span class="sxs-lookup"><span data-stu-id="98a7f-168">When mapping to a custom element, the target must be a path expression in which nested elements are separated by a backslash (`/`) and attributes are specified by an ampersand (`@`).</span></span> <span data-ttu-id="98a7f-169">En el ejemplo siguiente, la cadena `UnitsInStock/@ReorderLevel` asigna un valor de propiedad a un atributo denominado `ReorderLevel` en un elemento secundario denominado `UnitsInStock` del elemento de entrada raíz.</span><span class="sxs-lookup"><span data-stu-id="98a7f-169">In the following example, the string `UnitsInStock/@ReorderLevel` maps a property value to an attribute named `ReorderLevel` on a child element named `UnitsInStock` of the root entry element.</span></span><br /><br /> `<Property Name="ReorderLevel" Type="Int16"               m:FC_TargetPath="UnitsInStock/@ReorderLevel"               m:FC_NsPrefix="Northwind"               m:FC_NsUri="http://schemas.examples.microsoft.com/dataservices"               m:FC_KeepInContent="false"               />`<br /><br /> <span data-ttu-id="98a7f-170">Cuando el destino es un nombre de elemento personalizado, también se deben especificar los atributos `FC_NsPrefix` y `FC_NsUri`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-170">When the target is a custom element name, the `FC_NsPrefix` and `FC_NsUri` attributes must also be specified.</span></span><br /><br /> <span data-ttu-id="98a7f-171">`SyndicationPublished:``atom:published`Elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-171">`SyndicationPublished:` The `atom:published` element.</span></span><br /><br /> <span data-ttu-id="98a7f-172">`SyndicationRights:``atom:rights`Elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-172">`SyndicationRights:` The `atom:rights` element.</span></span><br /><br /> <span data-ttu-id="98a7f-173">`SyndicationSummary:``atom:summary`Elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-173">`SyndicationSummary:` The `atom:summary` element.</span></span><br /><br /> <span data-ttu-id="98a7f-174">`SyndicationTitle:``atom:title`Elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-174">`SyndicationTitle:` The `atom:title` element.</span></span><br /><br /> <span data-ttu-id="98a7f-175">`SyndicationUpdated:``atom:updated`Elemento.</span><span class="sxs-lookup"><span data-stu-id="98a7f-175">`SyndicationUpdated:` The `atom:updated` element.</span></span><br /><br /> <span data-ttu-id="98a7f-176">Estas palabras clave son equivalentes a los valores de la enumeración <xref:System.Data.Services.Common.SyndicationItemProperty> usada con el proveedor de reflexión.</span><span class="sxs-lookup"><span data-stu-id="98a7f-176">These keywords are equivalent to the values of the <xref:System.Data.Services.Common.SyndicationItemProperty> enumeration used with the reflection provider.</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="98a7f-177">Los nombres y los valores de los atributos distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="98a7f-177">Attribute names and values are case-sensitive.</span></span> <span data-ttu-id="98a7f-178">Los atributos se pueden aplicar al elemento `EntityType` o a uno o varios elementos `Property`, pero no a ambos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-178">Attributes can be applied either to the `EntityType` element or to one or more `Property` elements, but not to both.</span></span>  
  
## <a name="customizing-feeds-with-the-reflection-provider"></a><span data-ttu-id="98a7f-179">Personalizar fuentes con el proveedor de reflexión</span><span class="sxs-lookup"><span data-stu-id="98a7f-179">Customizing Feeds with the Reflection Provider</span></span>  

 <span data-ttu-id="98a7f-180">Para personalizar fuentes para un modelo de datos que se implementó usando el proveedor de reflexión, agregue una o varias instancias del atributo <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> a las clases que representan los tipos de entidad del modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-180">To customize feeds for a data model that was implemented by using the reflection provider, add one or more instances of the <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> attribute to the classes that represent entity types in the data model.</span></span> <span data-ttu-id="98a7f-181">Las propiedades de la clase <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> corresponden a los atributos de personalización de fuentes que se describen en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="98a7f-181">The properties of the <xref:System.Data.Services.Common.EntityPropertyMappingAttribute> class correspond to the feed customization attributes that are described in the previous section.</span></span> <span data-ttu-id="98a7f-182">A continuación se muestra un ejemplo de la declaración del tipo `Order`, con asignación de la fuente personalizada definida para ambas propiedades.</span><span class="sxs-lookup"><span data-stu-id="98a7f-182">The following is an example of the declaration of the `Order` type, with custom feed mapping defined for both properties.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="98a7f-183">El modelo de datos para este ejemplo se define en el tema [Cómo: crear un servicio de datos mediante el proveedor de reflexión](create-a-data-service-using-rp-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="98a7f-183">The data model for this example is defined in the topic [How to: Create a Data Service Using the Reflection Provider](create-a-data-service-using-rp-wcf-data-services.md).</span></span>  
  
 [!code-csharp[Astoria Custom Feeds#CustomOrderFeed](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_custom_feeds/cs/orderitems.svc.cs#customorderfeed)]
 [!code-vb[Astoria Custom Feeds#CustomOrderFeed](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_custom_feeds/vb/orderitems.svc.vb#customorderfeed)]  
  
 <span data-ttu-id="98a7f-184">Estos atributos generan la fuente de distribución de datos personalizada siguiente para el conjunto de entidades `Orders`.</span><span class="sxs-lookup"><span data-stu-id="98a7f-184">These attributes produce the following customized data feed for the `Orders` entity set.</span></span> <span data-ttu-id="98a7f-185">En esta fuente personalizada, el `OrderId` valor de propiedad solo se muestra en el `title` elemento de `entry` y el `Customer` valor de propiedad se muestra tanto en el `author` elemento como en el `Customer` elemento de propiedad:</span><span class="sxs-lookup"><span data-stu-id="98a7f-185">In this customized feed, the `OrderId` property value displays only in the `title` element of the `entry` and the `Customer` property value displays both in the `author` element and as the `Customer` property element:</span></span>  
  
 [!code-xml[Astoria Custom Feeds#IQueryableFeedResult](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria_custom_feeds/xml/iqueryablefeedresult.xml#iqueryablefeedresult)]  
  
 <span data-ttu-id="98a7f-186">Para obtener más información, vea [Cómo: personalizar fuentes con el proveedor de reflexión](how-to-customize-feeds-with-the-reflection-provider-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="98a7f-186">For more information, see [How to: Customize Feeds with the Reflection Provider](how-to-customize-feeds-with-the-reflection-provider-wcf-data-services.md).</span></span>  
  
## <a name="customizing-feeds-with-a-custom-data-service-provider"></a><span data-ttu-id="98a7f-187">Personalizar fuentes con un proveedor de servicios de datos personalizado</span><span class="sxs-lookup"><span data-stu-id="98a7f-187">Customizing Feeds with a Custom Data Service Provider</span></span>  

 <span data-ttu-id="98a7f-188">La personalización de fuentes para un modelo de datos definido utilizando un proveedor de servicios de datos personalizado se define para un tipo de recurso llamando al método <xref:System.Data.Services.Providers.ResourceType.AddEntityPropertyMappingAttribute%2A> en el objeto <xref:System.Data.Services.Providers.ResourceType> que representa un tipo de entidad en el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-188">Feed customization for a data model defined by using a custom data service provider is defined for a resource type by calling the <xref:System.Data.Services.Providers.ResourceType.AddEntityPropertyMappingAttribute%2A> on the <xref:System.Data.Services.Providers.ResourceType> that represents an entity type in the data model.</span></span> <span data-ttu-id="98a7f-189">Para obtener más información, vea [proveedores de servicios de datos personalizados](custom-data-service-providers-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="98a7f-189">For more information, see [Custom Data Service Providers](custom-data-service-providers-wcf-data-services.md).</span></span>  
  
## <a name="consuming-custom-feeds"></a><span data-ttu-id="98a7f-190">Usar fuentes personalizadas</span><span class="sxs-lookup"><span data-stu-id="98a7f-190">Consuming Custom Feeds</span></span>  

 <span data-ttu-id="98a7f-191">Cuando la aplicación usa directamente una fuente de OData, debe ser capaz de procesar los elementos y atributos personalizados en la fuente devuelta.</span><span class="sxs-lookup"><span data-stu-id="98a7f-191">When your application directly consumes an OData feed, it must be able to process any customized elements and attributes in the returned feed.</span></span> <span data-ttu-id="98a7f-192">Cuando se han implementado fuentes personalizadas en un modelo de datos, sea cual sea el proveedor del servicio de datos, el punto de conexión `$metadata` devuelve la información de la fuente personalizada como atributos de fuente personalizados en el CSDL devuelto por el servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="98a7f-192">When you have implemented custom feeds in your data model, regardless of the data service provider, the `$metadata` endpoint returns custom feed information as custom feed attributes in the CSDL returned by the data service.</span></span> <span data-ttu-id="98a7f-193">Cuando se usa el cuadro de diálogo **Agregar referencia de servicio** o la herramienta [datasvcutil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) para generar clases de servicio de datos de cliente, se usan los atributos de fuente personalizados para garantizar que las solicitudes y respuestas al servicio de datos se controlan correctamente.</span><span class="sxs-lookup"><span data-stu-id="98a7f-193">When you use the **Add Service Reference** dialog or the [datasvcutil.exe](wcf-data-service-client-utility-datasvcutil-exe.md) tool to generate client data service classes, the customized feed attributes are used to guarantee that requests and responses to the data service are handled correctly.</span></span>  
  
## <a name="feed-customization-considerations"></a><span data-ttu-id="98a7f-194">Consideraciones sobre personalización de fuentes</span><span class="sxs-lookup"><span data-stu-id="98a7f-194">Feed Customization Considerations</span></span>  

 <span data-ttu-id="98a7f-195">Debe considerar lo siguiente cuando defina asignaciones de fuentes personalizadas.</span><span class="sxs-lookup"><span data-stu-id="98a7f-195">You should consider the following when defining custom feed mappings.</span></span>  
  
- <span data-ttu-id="98a7f-196">El cliente Servicios de datos de WCF trata los elementos asignados en una fuente como vacíos cuando contienen solo espacios en blanco.</span><span class="sxs-lookup"><span data-stu-id="98a7f-196">The WCF Data Services client treats mapped elements in a feed as empty when they contain only white space.</span></span> <span data-ttu-id="98a7f-197">Por este motivo, los elementos asignados que solo contienen espacios en blanco no se materializan en el cliente con el mismo espacio en blanco.</span><span class="sxs-lookup"><span data-stu-id="98a7f-197">Because of this, mapped elements that contain only white space are not materialized on the client with the same white space.</span></span> <span data-ttu-id="98a7f-198">Para conservar este espacio en blanco en el cliente, debe establecer el valor de `KeepInContext` en `true` en el atributo de asignación de fuentes.</span><span class="sxs-lookup"><span data-stu-id="98a7f-198">To preserve this white space on the client, you must set the value of `KeepInContext` to `true` in the feed mapping attribute.</span></span>  
  
## <a name="versioning-requirements"></a><span data-ttu-id="98a7f-199">Requisitos de control de versiones</span><span class="sxs-lookup"><span data-stu-id="98a7f-199">Versioning Requirements</span></span>  

 <span data-ttu-id="98a7f-200">La personalización de fuentes tiene los siguientes requisitos de control de versiones del protocolo OData:</span><span class="sxs-lookup"><span data-stu-id="98a7f-200">Feed customization has the following OData protocol versioning requirements:</span></span>  
  
- <span data-ttu-id="98a7f-201">La personalización de fuentes requiere que tanto el cliente como el servicio de datos admitan la versión 2,0 del protocolo OData y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="98a7f-201">Feed customization requires that both the client and data service support version 2.0 of the OData protocol and later versions.</span></span>  
  
 <span data-ttu-id="98a7f-202">Para obtener más información, vea [control de versiones del servicio de datos](data-service-versioning-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="98a7f-202">For more information, see [Data Service Versioning](data-service-versioning-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="98a7f-203">Vea también</span><span class="sxs-lookup"><span data-stu-id="98a7f-203">See also</span></span>

- [<span data-ttu-id="98a7f-204">Proveedor de reflexión</span><span class="sxs-lookup"><span data-stu-id="98a7f-204">Reflection Provider</span></span>](reflection-provider-wcf-data-services.md)
- [<span data-ttu-id="98a7f-205">Proveedor de Entity Framework</span><span class="sxs-lookup"><span data-stu-id="98a7f-205">Entity Framework Provider</span></span>](entity-framework-provider-wcf-data-services.md)
