---
title: 'Cómo: especificar las credenciales de cliente para una solicitud de servicio de datos (Data Services de WCF)'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, customizing requests
ms.assetid: 1632f9af-e45f-4363-9222-03823daa8e28
ms.openlocfilehash: cf3ba2a13d56aae56ed7a1444169056b9905a145
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/04/2018
ms.locfileid: "33363971"
---
# <a name="how-to-specify-client-credentials-for-a-data-service-request-wcf-data-services"></a><span data-ttu-id="44c4e-102">Cómo: especificar las credenciales de cliente para una solicitud de servicio de datos (Data Services de WCF)</span><span class="sxs-lookup"><span data-stu-id="44c4e-102">How to: Specify Client Credentials for a Data Service Request (WCF Data Services)</span></span>
<span data-ttu-id="44c4e-103">De forma predeterminada, la biblioteca cliente no proporciona credenciales cuando se envía una solicitud a un servicio [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="44c4e-103">By default, the client library does not supply credentials when sending a request to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service.</span></span> <span data-ttu-id="44c4e-104">Sin embargo, puede especificar que las credenciales se envíen para autenticar solicitudes al servicio de datos proporcionando una clase <xref:System.Net.NetworkCredential> para la propiedad <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> de la clase <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="44c4e-104">However, you can specify that credentials be sent to authenticate requests to the data service by supplying a <xref:System.Net.NetworkCredential> for the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="44c4e-105">Para obtener más información, consulta [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="44c4e-105">For more information, see [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).</span></span> <span data-ttu-id="44c4e-106">En el ejemplo de este tema se muestra cómo proporcionar explícitamente credenciales que el cliente de [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] usará cuando solicite datos del servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="44c4e-106">The example in this topic shows how to explicitly provide credentials that are used by the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client when requesting data from the data service.</span></span>  
  
 <span data-ttu-id="44c4e-107">En el ejemplo de este tema se usa el servicio de datos de ejemplo Northwind y las clases del servicio de datos de cliente generadas automáticamente.</span><span class="sxs-lookup"><span data-stu-id="44c4e-107">The example in this topic uses the Northwind sample data service and autogenerated client data service classes.</span></span> <span data-ttu-id="44c4e-108">Se crean este servicio y las clases de datos de cliente al completar la [inicio rápido de WCF Data Services](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="44c4e-108">This service and the client data classes are created when you complete the [WCF Data Services quickstart](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md).</span></span> <span data-ttu-id="44c4e-109">También puede usar el [servicio de datos de ejemplo Northwind](http://go.microsoft.com/fwlink/?LinkId=187426) que se publica en el [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] sitio Web; estos datos de ejemplo servicio es de solo lectura e intentando guardar cambios devuelve un error.</span><span class="sxs-lookup"><span data-stu-id="44c4e-109">You can also use the [Northwind sample data service](http://go.microsoft.com/fwlink/?LinkId=187426) that is published on the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Web site; this sample data service is read-only and attempting to save changes returns an error.</span></span> <span data-ttu-id="44c4e-110">Servicios de los datos de ejemplo en el [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] sitio Web permiten la autenticación anónima.</span><span class="sxs-lookup"><span data-stu-id="44c4e-110">The sample data services on the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Web site allow anonymous authentication.</span></span>  
  
## <a name="example"></a><span data-ttu-id="44c4e-111">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="44c4e-111">Example</span></span>  
 <span data-ttu-id="44c4e-112">En el siguiente ejemplo proviene de la página de código subyacente para un archivo de lenguaje de marcado de aplicaciones Extensible (XAML) que es la página principal de la aplicación de Windows Presentation Framework.</span><span class="sxs-lookup"><span data-stu-id="44c4e-112">The following example is from the code-behind page for an Extensible Application Markup Language (XAML) file that is the main page of the Windows Presentation Framework application.</span></span> <span data-ttu-id="44c4e-113">En este ejemplo se muestra una instancia de `LoginWindow` para recopilar las credenciales de autenticación del usuario y, a continuación, las usa cuando realiza una solicitud al servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="44c4e-113">This example displays a `LoginWindow` instance to collect authentication credentials from the user, and then uses these credentials when making a request to the data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml.cs#clientcredentials)]  
 [!code-vb[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentials.xaml.vb#clientcredentials)]
  
## <a name="example"></a><span data-ttu-id="44c4e-114">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="44c4e-114">Example</span></span>  
 <span data-ttu-id="44c4e-115">El código XAML siguiente define la página principal de la aplicación WPF.</span><span class="sxs-lookup"><span data-stu-id="44c4e-115">The following XAML defines the main page of the WPF application.</span></span>  
  
 [!code-xaml[Astoria Northwind Client#ClientCredentialsXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentials.xaml#clientcredentialsxaml)]  
  
## <a name="example"></a><span data-ttu-id="44c4e-116">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="44c4e-116">Example</span></span>  
 <span data-ttu-id="44c4e-117">El siguiente ejemplo proviene de la página de codigos subyacente de la ventana que se usa para recopilar las credenciales de autenticación del usuario antes de realizar una solicitud al servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="44c4e-117">The following example is from the code-behind page for the window that is used to collect the authentication credentials from the user before making a request to the data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml.cs#clientcredentialslogin)]  
 [!code-vb[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/clientcredentialslogin.xaml.vb#clientcredentialslogin)]
  
## <a name="example"></a><span data-ttu-id="44c4e-118">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="44c4e-118">Example</span></span>  
 <span data-ttu-id="44c4e-119">El código XAML siguiente define el inicio de sesión de la aplicación WPF.</span><span class="sxs-lookup"><span data-stu-id="44c4e-119">The following XAML defines the login of the WPF application.</span></span>  
  
 [!code-xaml[Astoria Northwind Client#ClientCredentialsLoginXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/clientcredentialslogin.xaml#clientcredentialsloginxaml)]  
  
## <a name="net-framework-security"></a><span data-ttu-id="44c4e-120">Seguridad de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="44c4e-120">.NET Framework Security</span></span>  
 <span data-ttu-id="44c4e-121">Las siguientes consideraciones de seguridad son aplicables al ejemplo de este tema:</span><span class="sxs-lookup"><span data-stu-id="44c4e-121">The following security considerations apply to the example in this topic:</span></span>  
  
-   <span data-ttu-id="44c4e-122">Para comprobar que funcionan las credenciales proporcionadas en este ejemplo, el servicio de datos de Northwind debe usar un esquema de autenticación que no sea de acceso anónimo.</span><span class="sxs-lookup"><span data-stu-id="44c4e-122">To verify that the credentials supplied in this sample work, the Northwind data service must use an authentication scheme other than anonymous access.</span></span> <span data-ttu-id="44c4e-123">De lo contrario, el sitio web que hospede el servicio de datos no solicitará las credenciales.</span><span class="sxs-lookup"><span data-stu-id="44c4e-123">Otherwise, the Web site hosting the data service will not request credentials.</span></span>  
  
-   <span data-ttu-id="44c4e-124">Las credenciales de usuario solo se deben solicitar durante la ejecución y no se deben almacenar en memoria caché.</span><span class="sxs-lookup"><span data-stu-id="44c4e-124">User credentials should only be requested during execution and should not be cached.</span></span> <span data-ttu-id="44c4e-125">Las credenciales se deben almacenar siempre de forma segura.</span><span class="sxs-lookup"><span data-stu-id="44c4e-125">Credentials must always be stored securely.</span></span>  
  
-   <span data-ttu-id="44c4e-126">Los datos enviados con la autenticación básica e implícita no se cifran. Por tanto, los puede ver un adversario.</span><span class="sxs-lookup"><span data-stu-id="44c4e-126">Data sent with Basic and Digest Authentication is not encrypted, so the data can be seen by an adversary.</span></span> <span data-ttu-id="44c4e-127">Además, se envían credenciales de autenticación básica (nombre de usuario y contraseña) en texto no cifrado y se pueden interceptar.</span><span class="sxs-lookup"><span data-stu-id="44c4e-127">Additionally, basic authentication credentials (user name and password) are sent in cleartext and can be intercepted.</span></span>  
  
 <span data-ttu-id="44c4e-128">Para obtener más información, consulta [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="44c4e-128">For more information, see [Securing WCF Data Services](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="44c4e-129">Vea también</span><span class="sxs-lookup"><span data-stu-id="44c4e-129">See Also</span></span>  
 [<span data-ttu-id="44c4e-130">Protección de WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="44c4e-130">Securing WCF Data Services</span></span>](../../../../docs/framework/data/wcf/securing-wcf-data-services.md)  
 [<span data-ttu-id="44c4e-131">Biblioteca cliente de Servicios de datos de WCF</span><span class="sxs-lookup"><span data-stu-id="44c4e-131">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
