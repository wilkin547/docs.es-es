---
description: Más información acerca de cómo especificar las credenciales de cliente para una solicitud de servicio de datos (Servicios de datos de WCF)
title: 'Cómo: especificar las credenciales de cliente para una solicitud de servicio de datos (Servicio de datos de WCF)'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, customizing requests
ms.assetid: 1632f9af-e45f-4363-9222-03823daa8e28
ms.openlocfilehash: 45ccb237d310479d708b6ab0a7dcfe8812c1ea3f
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99773061"
---
# <a name="how-to-specify-client-credentials-for-a-data-service-request-wcf-data-services"></a><span data-ttu-id="a4df1-103">Cómo: especificar las credenciales de cliente para una solicitud de servicio de datos (Servicio de datos de WCF)</span><span class="sxs-lookup"><span data-stu-id="a4df1-103">How to: Specify Client Credentials for a Data Service Request (WCF Data Services)</span></span>

[!INCLUDE [wcf-deprecated](~/includes/wcf-deprecated.md)]

<span data-ttu-id="a4df1-104">De forma predeterminada, la biblioteca de cliente no proporciona credenciales cuando se envía una solicitud a un servicio de OData.</span><span class="sxs-lookup"><span data-stu-id="a4df1-104">By default, the client library does not supply credentials when sending a request to an OData service.</span></span> <span data-ttu-id="a4df1-105">Sin embargo, puede especificar que las credenciales se envíen para autenticar solicitudes al servicio de datos proporcionando una clase <xref:System.Net.NetworkCredential> para la propiedad <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> de la clase <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="a4df1-105">However, you can specify that credentials be sent to authenticate requests to the data service by supplying a <xref:System.Net.NetworkCredential> for the <xref:System.Data.Services.Client.DataServiceContext.Credentials%2A> property of the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="a4df1-106">Para obtener más información, consulta [Securing WCF Data Services](securing-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4df1-106">For more information, see [Securing WCF Data Services](securing-wcf-data-services.md).</span></span> <span data-ttu-id="a4df1-107">En el ejemplo de este tema se muestra cómo proporcionar explícitamente credenciales utilizadas por el cliente de Servicios de datos de WCF cuando se solicitan datos del servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="a4df1-107">The example in this topic shows how to explicitly provide credentials that are used by the WCF Data Services client when requesting data from the data service.</span></span>  
  
 <span data-ttu-id="a4df1-108">En el ejemplo de este tema se usa el servicio de datos de ejemplo Northwind y las clases del servicio de datos de cliente generadas automáticamente.</span><span class="sxs-lookup"><span data-stu-id="a4df1-108">The example in this topic uses the Northwind sample data service and autogenerated client data service classes.</span></span> <span data-ttu-id="a4df1-109">Este servicio y las clases de datos de cliente se crean al completar la guía de [Inicio rápido de servicios de datos de WCF](quickstart-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4df1-109">This service and the client data classes are created when you complete the [WCF Data Services quickstart](quickstart-wcf-data-services.md).</span></span> <span data-ttu-id="a4df1-110">También puede usar el [servicio de datos de ejemplo Northwind](https://services.odata.org/Northwind/Northwind.svc/) que se publica en el sitio web de oData; Este servicio de datos de ejemplo es de solo lectura y si se intentan guardar los cambios, se devuelve un error.</span><span class="sxs-lookup"><span data-stu-id="a4df1-110">You can also use the [Northwind sample data service](https://services.odata.org/Northwind/Northwind.svc/) that is published on the OData Web site; this sample data service is read-only and attempting to save changes returns an error.</span></span> <span data-ttu-id="a4df1-111">Los servicios de datos de ejemplo del sitio web de OData permiten la autenticación anónima.</span><span class="sxs-lookup"><span data-stu-id="a4df1-111">The sample data services on the OData Web site allow anonymous authentication.</span></span>  
  
## <a name="example"></a><span data-ttu-id="a4df1-112">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a4df1-112">Example</span></span>  

 <span data-ttu-id="a4df1-113">El siguiente ejemplo proviene una página de codigos subyacente de un archivo de lenguaje XAML que es la página principal de la aplicación de Windows Presentation Framework.</span><span class="sxs-lookup"><span data-stu-id="a4df1-113">The following example is from the code-behind page for an Extensible Application Markup Language (XAML) file that is the main page of the Windows Presentation Framework application.</span></span> <span data-ttu-id="a4df1-114">En este ejemplo se muestra una instancia de `LoginWindow` para recopilar las credenciales de autenticación del usuario y, a continuación, las usa cuando realiza una solicitud al servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="a4df1-114">This example displays a `LoginWindow` instance to collect authentication credentials from the user, and then uses these credentials when making a request to the data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/clientcredentials.xaml.cs#clientcredentials)]  
 [!code-vb[Astoria Northwind Client#ClientCredentials](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/clientcredentials.xaml.vb#clientcredentials)]
  
## <a name="example"></a><span data-ttu-id="a4df1-115">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a4df1-115">Example</span></span>  

 <span data-ttu-id="a4df1-116">El código XAML siguiente define la página principal de la aplicación WPF.</span><span class="sxs-lookup"><span data-stu-id="a4df1-116">The following XAML defines the main page of the WPF application.</span></span>  
  
 [!code-xaml[Astoria Northwind Client#ClientCredentialsXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/clientcredentials.xaml#clientcredentialsxaml)]  
  
## <a name="example"></a><span data-ttu-id="a4df1-117">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a4df1-117">Example</span></span>  

 <span data-ttu-id="a4df1-118">El siguiente ejemplo proviene de la página de codigos subyacente de la ventana que se usa para recopilar las credenciales de autenticación del usuario antes de realizar una solicitud al servicio de datos.</span><span class="sxs-lookup"><span data-stu-id="a4df1-118">The following example is from the code-behind page for the window that is used to collect the authentication credentials from the user before making a request to the data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/clientcredentialslogin.xaml.cs#clientcredentialslogin)]  
 [!code-vb[Astoria Northwind Client#ClientCredentialsLogin](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/clientcredentialslogin.xaml.vb#clientcredentialslogin)]
  
## <a name="example"></a><span data-ttu-id="a4df1-119">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="a4df1-119">Example</span></span>  

 <span data-ttu-id="a4df1-120">El código XAML siguiente define el inicio de sesión de la aplicación WPF.</span><span class="sxs-lookup"><span data-stu-id="a4df1-120">The following XAML defines the login of the WPF application.</span></span>  
  
 [!code-xaml[Astoria Northwind Client#ClientCredentialsLoginXaml](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/clientcredentialslogin.xaml#clientcredentialsloginxaml)]  
  
## <a name="net-framework-security"></a><span data-ttu-id="a4df1-121">Seguridad de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="a4df1-121">.NET Framework Security</span></span>  

 <span data-ttu-id="a4df1-122">Las siguientes consideraciones de seguridad son aplicables al ejemplo de este tema:</span><span class="sxs-lookup"><span data-stu-id="a4df1-122">The following security considerations apply to the example in this topic:</span></span>  
  
- <span data-ttu-id="a4df1-123">Para comprobar que funcionan las credenciales proporcionadas en este ejemplo, el servicio de datos de Northwind debe usar un esquema de autenticación que no sea de acceso anónimo.</span><span class="sxs-lookup"><span data-stu-id="a4df1-123">To verify that the credentials supplied in this sample work, the Northwind data service must use an authentication scheme other than anonymous access.</span></span> <span data-ttu-id="a4df1-124">De lo contrario, el sitio web que hospede el servicio de datos no solicitará las credenciales.</span><span class="sxs-lookup"><span data-stu-id="a4df1-124">Otherwise, the Web site hosting the data service will not request credentials.</span></span>  
  
- <span data-ttu-id="a4df1-125">Las credenciales de usuario solo se deben solicitar durante la ejecución y no se deben almacenar en memoria caché.</span><span class="sxs-lookup"><span data-stu-id="a4df1-125">User credentials should only be requested during execution and should not be cached.</span></span> <span data-ttu-id="a4df1-126">Las credenciales se deben almacenar siempre de forma segura.</span><span class="sxs-lookup"><span data-stu-id="a4df1-126">Credentials must always be stored securely.</span></span>  
  
- <span data-ttu-id="a4df1-127">Los datos enviados con la autenticación básica e implícita no se cifran. Por tanto, los puede ver un adversario.</span><span class="sxs-lookup"><span data-stu-id="a4df1-127">Data sent with Basic and Digest Authentication is not encrypted, so the data can be seen by an adversary.</span></span> <span data-ttu-id="a4df1-128">Además, se envían credenciales de autenticación básica (nombre de usuario y contraseña) en texto no cifrado y se pueden interceptar.</span><span class="sxs-lookup"><span data-stu-id="a4df1-128">Additionally, basic authentication credentials (user name and password) are sent in cleartext and can be intercepted.</span></span>  
  
 <span data-ttu-id="a4df1-129">Para obtener más información, consulta [Securing WCF Data Services](securing-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="a4df1-129">For more information, see [Securing WCF Data Services](securing-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a4df1-130">Vea también</span><span class="sxs-lookup"><span data-stu-id="a4df1-130">See also</span></span>

- [<span data-ttu-id="a4df1-131">Proteger WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="a4df1-131">Securing WCF Data Services</span></span>](securing-wcf-data-services.md)
- [<span data-ttu-id="a4df1-132">Biblioteca cliente de Data Services de WCF</span><span class="sxs-lookup"><span data-stu-id="a4df1-132">WCF Data Services Client Library</span></span>](wcf-data-services-client-library.md)
