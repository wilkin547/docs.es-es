---
title: SignTool.exe (Herramienta de firma)
description: Aprenda sobre SignTool.exe, la Herramienta de firma. Esta herramienta de línea de comandos firma los archivos digitalmente, comprueba sus firmas y les aplica marcas de tiempo.
ms.date: 03/30/2017
helpviewer_keywords:
- Sign tool
- SignTool.exe
ms.assetid: 0c25ff6c-bff3-422e-b017-146a3ee86cb9
ms.openlocfilehash: 46a7453ff7de0329d9cd7f671dcaa0a3e3e0e54c
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96238475"
---
# <a name="signtoolexe-sign-tool"></a><span data-ttu-id="2e0c0-104">SignTool.exe (Herramienta de firma)</span><span class="sxs-lookup"><span data-stu-id="2e0c0-104">SignTool.exe (Sign Tool)</span></span>

<span data-ttu-id="2e0c0-105">La herramienta Firmar es una herramienta de la línea de comandos que firma archivos digitalmente, comprueba firmas en archivos o archivos con marcas de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-105">Sign Tool is a command-line tool that digitally signs files, verifies signatures in files, and time-stamps files.</span></span>  
  
 <span data-ttu-id="2e0c0-106">Esta herramienta se instala automáticamente con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-106">This tool is automatically installed with Visual Studio.</span></span> <span data-ttu-id="2e0c0-107">Para ejecutar la herramienta, use Símbolo del sistema para desarrolladores de Visual Studio (o Símbolo del sistema de Visual Studio en Windows 7).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-107">To run the tool, use the Developer Command Prompt for Visual Studio (or the Visual Studio Command Prompt in Windows 7).</span></span> <span data-ttu-id="2e0c0-108">Para más información, consulte [Símbolos del sistema](developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-108">For more information, see [Command Prompts](developer-command-prompt-for-vs.md).</span></span>

> [!Note]  
> <span data-ttu-id="2e0c0-109">Las **compilaciones 20236 y posteriores** del SDK de Windows 10, Windows 10 HLK, Windows 10 WDK y Windows 10 ADK requieren especificar el algoritmo de resumen.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-109">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and later** require specifying the digest algorithm.</span></span> <span data-ttu-id="2e0c0-110">El comando `sign` de SignTool requiere que el **algoritmo de resumen de archivo** `/fd` y la opción **algoritmo de resumen de marca de tiempo** `/td` se especifiquen durante la firma y la marca de tiempo, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-110">The SignTool `sign` command requires the `/fd` **file digest algorithm** and the `/td` **timestamp digest algorithm** option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="2e0c0-111">Se generará una advertencia (inicialmente, código de error 0) si `/fd` no se especifica durante la firma y si `/td` no se especifica durante la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-111">A warning (error code 0, initially) will be thrown if `/fd` is not specified during signing and if `/td` is not specified during timestamping.</span></span> <span data-ttu-id="2e0c0-112">En versiones posteriores de SignTool, la advertencia se convertirá en un error.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-112">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="2e0c0-113">Se recomienda SHA256, el que el sector considera más seguro que SHA1.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-113">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  
  
 <span data-ttu-id="2e0c0-114">En el símbolo del sistema, escriba lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2e0c0-114">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="2e0c0-115">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="2e0c0-115">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  
  
## <a name="parameters"></a><span data-ttu-id="2e0c0-116">Parámetros</span><span class="sxs-lookup"><span data-stu-id="2e0c0-116">Parameters</span></span>  
  
|<span data-ttu-id="2e0c0-117">Argumento</span><span class="sxs-lookup"><span data-stu-id="2e0c0-117">Argument</span></span>|<span data-ttu-id="2e0c0-118">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-118">Description</span></span>|  
|--------------|-----------------|  
|`command`|<span data-ttu-id="2e0c0-119">Uno de los cuatro comandos (`catdb`, `sign`, `Timestamp` o `Verify`) que especifica una operación para realizar en un archivo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-119">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="2e0c0-120">Para obtener una descripción de cada comando, vea la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-120">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="2e0c0-121">Una opción que modifica un comando.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-121">An option that modifies a command.</span></span> <span data-ttu-id="2e0c0-122">Además de las opciones globales `/q` y `/v`, cada comando admite un conjunto único de opciones.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-122">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="2e0c0-123">Ruta de acceso a un archivo que se va a firmar.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-123">The path to a file to sign.</span></span>|  
  
 <span data-ttu-id="2e0c0-124">La herramienta Firmar admite los siguientes comandos.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-124">The following commands are supported by Sign Tool.</span></span> <span data-ttu-id="2e0c0-125">Cada comando se utiliza con conjuntos distintos de opciones, que se enumeran en las secciones respectivas.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-125">Each command is used with distinct sets of options, which are listed in their respective sections.</span></span>  
  
|<span data-ttu-id="2e0c0-126">Get-Help</span><span class="sxs-lookup"><span data-stu-id="2e0c0-126">Command</span></span>|<span data-ttu-id="2e0c0-127">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-127">Description</span></span>|  
|-------------|-----------------|  
|`catdb`|<span data-ttu-id="2e0c0-128">Agrega un archivo de catálogo a una base de datos de catálogo o bien lo quita de esta.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-128">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="2e0c0-129">Las bases de datos de catálogo se utilizan para la búsqueda automática de archivos de catálogo y se identifican mediante un GUID.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-129">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="2e0c0-130">Para obtener una lista de las opciones admitidas por el comando `catdb`, vea [Opciones del comando catdb](signtool-exe.md#catdb).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-130">For a list of the options supported by the `catdb` command, see [catdb Command Options](signtool-exe.md#catdb).</span></span>|  
|`sign`|<span data-ttu-id="2e0c0-131">Firma archivos digitalmente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-131">Digitally signs files.</span></span> <span data-ttu-id="2e0c0-132">Las signaturas digitales protegen los archivos contra la manipulación y permiten a los usuarios comprobar el firmante en función de un certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-132">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="2e0c0-133">Para obtener una lista de las opciones admitidas por el comando `sign`, vea [Opciones del comando sign](signtool-exe.md#sign).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-133">For a list of the options supported by the `sign` command, see [sign Command Options](signtool-exe.md#sign).</span></span>|  
|`Timestamp`|<span data-ttu-id="2e0c0-134">Asigna marcas de tiempo a archivos.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-134">Time-stamps files.</span></span> <span data-ttu-id="2e0c0-135">Para obtener una lista de las opciones admitidas por el comando `TimeStamp`, vea [Opciones del comando TimeStamp](signtool-exe.md#TimeStamp).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-135">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](signtool-exe.md#TimeStamp).</span></span>|  
|`Verify`|<span data-ttu-id="2e0c0-136">Comprueba la signatura digital de los archivos; para ello, determina si una autoridad de confianza ha emitido el certificado de firma, si se ha revocado y, opcionalmente, si es válido para una directiva determinada.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-136">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="2e0c0-137">Para obtener una lista de las opciones admitidas por el comando `Verify`, vea [Opciones del comando Verify](signtool-exe.md#Verify).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-137">For a list of the options supported by the `Verify` command, see [Verify Command Options](signtool-exe.md#Verify).</span></span>|  
  
 <span data-ttu-id="2e0c0-138">Las opciones siguientes se aplican a todos los comandos de la herramienta Firmar.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-138">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="2e0c0-139">Opción global</span><span class="sxs-lookup"><span data-stu-id="2e0c0-139">Global option</span></span>|<span data-ttu-id="2e0c0-140">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-140">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="2e0c0-141">**/q**</span><span class="sxs-lookup"><span data-stu-id="2e0c0-141">**/q**</span></span>|<span data-ttu-id="2e0c0-142">No muestra ninguna salida si el comando se ejecuta correctamente y muestra el resultado mínimo si se produce un error en el comando.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-142">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="2e0c0-143">**/v**</span><span class="sxs-lookup"><span data-stu-id="2e0c0-143">**/v**</span></span>|<span data-ttu-id="2e0c0-144">Muestra resultados detallados independientemente de si el comando se ejecuta correctamente o no y muestra mensajes de advertencia.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-144">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="2e0c0-145">**/debug**</span><span class="sxs-lookup"><span data-stu-id="2e0c0-145">**/debug**</span></span>|<span data-ttu-id="2e0c0-146">Muestra información de depuración.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-146">Displays debugging information.</span></span>|  
  
<a name="catdb"></a>

## <a name="catdb-command-options"></a><span data-ttu-id="2e0c0-147">Opciones del comando catdb</span><span class="sxs-lookup"><span data-stu-id="2e0c0-147">catdb Command Options</span></span>  

 <span data-ttu-id="2e0c0-148">En la tabla siguiente se enumeran las opciones que se pueden utilizar con el comando `catdb`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-148">The following table lists the options that can be used with the `catdb` command.</span></span>  
  
|<span data-ttu-id="2e0c0-149">Opción de catdb</span><span class="sxs-lookup"><span data-stu-id="2e0c0-149">Catdb option</span></span>|<span data-ttu-id="2e0c0-150">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-150">Description</span></span>|  
|------------------|-----------------|  
|`/d`|<span data-ttu-id="2e0c0-151">Especifica que se actualiza la base de datos de catálogo predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-151">Specifies that the default catalog database is updated.</span></span> <span data-ttu-id="2e0c0-152">Si no se utiliza la opción `/d` ni la opción `/g`, la herramienta Firmar actualiza el componente del sistema y la base de datos del controlador.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-152">If neither the `/d` nor the `/g` option is used, Sign Tool updates the system component and driver database.</span></span>|  
|<span data-ttu-id="2e0c0-153">`/g` *GUID*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-153">`/g` *GUID*</span></span>|<span data-ttu-id="2e0c0-154">Especifica que se actualiza la base de datos de catálogo identificada por el identificador único global *GUID*.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-154">Specifies that the catalog database identified by the globally unique identifier *GUID* is updated.</span></span>|  
|`/r`|<span data-ttu-id="2e0c0-155">Quita los catálogos especificados de la base de datos de catálogo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-155">Removes the specified catalogs from the catalog database.</span></span> <span data-ttu-id="2e0c0-156">Si no se especifica esta opción, la herramienta Firmar agrega los catálogos especificados a la base de datos de catálogo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-156">If this option is not specified, Sign Tool adds the specified catalogs to the catalog database.</span></span>|  
|`/u`|<span data-ttu-id="2e0c0-157">Especifica que se genera un nombre único automáticamente para los archivos de catálogo agregados.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-157">Specifies that a unique name is automatically generated for the added catalog files.</span></span> <span data-ttu-id="2e0c0-158">Si es necesario, a los archivos de catálogo se les cambia el nombre para evitar que se produzcan conflictos de nombre con archivos de catálogo existentes.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="2e0c0-159">Si no se especifica esta opción, la herramienta Firmar sobrescribe cualquier catálogo existente que tenga el mismo nombre que el catálogo que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-159">If this option is not specified, Sign Tool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|  
  
<a name="sign"></a>

## <a name="sign-command-options"></a><span data-ttu-id="2e0c0-160">Opciones del comando sign</span><span class="sxs-lookup"><span data-stu-id="2e0c0-160">sign Command Options</span></span>  

 <span data-ttu-id="2e0c0-161">En la tabla siguiente se enumeran las opciones que se pueden utilizar con el comando `sign`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-161">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="2e0c0-162">Opción del comando sign</span><span class="sxs-lookup"><span data-stu-id="2e0c0-162">Sign command option</span></span>|<span data-ttu-id="2e0c0-163">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-163">Description</span></span>|  
|-------------------------|-----------------|  
|`/a`|<span data-ttu-id="2e0c0-164">Selecciona automáticamente el mejor certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-164">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="2e0c0-165">La herramienta Firmar encuentra todos los certificados válidos que cumplan todas las condiciones especificadas y selecciona el que sea válido durante más tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-165">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="2e0c0-166">Si esta opción no está presente, la herramienta Firmar solo espera encontrar un certificado de firma válido.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-166">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="2e0c0-167">`/ac`  *file*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-167">`/ac`  *file*</span></span>|<span data-ttu-id="2e0c0-168">Agrega un certificado adicional desde *file* al bloque de signatura.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-168">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="2e0c0-169">Anexa esta signatura.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-169">Appends this signature.</span></span> <span data-ttu-id="2e0c0-170">Si no hay ninguna signatura principal presente, esta signatura se convierte en la principal.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-170">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="2e0c0-171">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-171">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="2e0c0-172">Especifica el nombre de plantilla de certificado (una extensión de Microsoft) para el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-172">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="2e0c0-173">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-173">`/csp`  *CSPName*</span></span>|<span data-ttu-id="2e0c0-174">Especifica el proveedor de servicios criptográficos (CSP) que contiene el contenedor de claves privadas.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-174">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="2e0c0-175">`/d`  *Desc*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-175">`/d`  *Desc*</span></span>|<span data-ttu-id="2e0c0-176">Especifica una descripción del contenido firmado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-176">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="2e0c0-177">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-177">`/du`  *URL*</span></span>|<span data-ttu-id="2e0c0-178">Especifica el localizador uniforme de recursos (URL) de la descripción ampliada del contenido firmado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-178">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|<span data-ttu-id="2e0c0-179">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-179">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="2e0c0-180">Especifica el certificado de firma en un archivo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-180">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="2e0c0-181">Si el archivo está en formato de intercambio de información personal (PFX) y protegido por una contraseña, utilice la opción `/p` para especificar la contraseña.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-181">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="2e0c0-182">Si el archivo no contiene claves privadas, utilice las opciones `/csp` y `/kc` para especificar el CSP y el nombre de contenedor de claves privadas, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-182">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|`/fd`|<span data-ttu-id="2e0c0-183">Especifica el algoritmo de resumen de archivo que se va a usar para crear signaturas de archivo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-183">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="2e0c0-184">**Nota:** Se genera una advertencia si el modificador `/fd` no se proporciona durante la firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-184">**Note:** A warning is generated if the`/fd` switch is not provided while signing.</span></span> <span data-ttu-id="2e0c0-185">El algoritmo predeterminado es SHA1, pero se recomienda SHA256.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-185">The default algorithm is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="2e0c0-186">`/fd`  *certHash*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-186">`/fd`  *certHash*</span></span>|<span data-ttu-id="2e0c0-187">Si se especifica la cadena *certHash*, se establecerá de manera predeterminada en el algoritmo que se usa en el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-187">Specifying the string *certHash* will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="2e0c0-188">**Nota:** Solo está disponible en las compilaciones 20236 y posteriores del kit de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-188">**Note:** Only available in Windows 10 kit builds 20236 and later.</span></span>|  
|<span data-ttu-id="2e0c0-189">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-189">`/i`  *IssuerName*</span></span>|<span data-ttu-id="2e0c0-190">Especifica el nombre del emisor del certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-190">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="2e0c0-191">Este valor puede corresponder a una subcadena del nombre del emisor completo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-191">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="2e0c0-192">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-192">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="2e0c0-193">Especifica el nombre del contenedor de claves privadas.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-193">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="2e0c0-194">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-194">`/n`  *SubjectName*</span></span>|<span data-ttu-id="2e0c0-195">Especifica el nombre del sujeto del certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-195">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="2e0c0-196">Este valor puede corresponder a una subcadena del nombre del sujeto completo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-196">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="2e0c0-197">Si se admite, suprime los hash de página para los archivos ejecutables.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-197">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="2e0c0-198">La variable de entorno SIGNTOOL_PAGE_HASHES y la versión de wintrust.dll determinan el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-198">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="2e0c0-199">Esta opción se omite para los archivos sin PE.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-199">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="2e0c0-200">`/p`  *Password*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-200">`/p`  *Password*</span></span>|<span data-ttu-id="2e0c0-201">Especifica la contraseña que se debe utilizar al abrir un archivo PFX.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-201">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="2e0c0-202">(Utilice la opción `/f` para especificar un archivo PFX).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-202">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="2e0c0-203">`/p7` *Ruta de acceso*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-203">`/p7` *Path*</span></span>|<span data-ttu-id="2e0c0-204">Especifica que se genera un archivo PKCS (Estándares de criptografía de clave pública) #7 para cada archivo de contenido especificado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-204">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="2e0c0-205">Los archivos PKCS #7 se denominan *path*\\*filename*.p7.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-205">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="2e0c0-206">`/p7ce` *Value*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-206">`/p7ce` *Value*</span></span>|<span data-ttu-id="2e0c0-207">Especifica opciones para el contenido PKCS #7 firmado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-207">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="2e0c0-208">Establezca *Value* en "Embedded" para insertar el contenido firmado en el archivo PKCS #7 o en "DetachedSignedData" para mostrar la parte de datos firmados de un archivo PKCS #7 desasociado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-208">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="2e0c0-209">Si no se utiliza la opción `/p7ce`, el contenido firmado se incrusta de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-209">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="2e0c0-210">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-210">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="2e0c0-211">Especifica el identificador de objeto (OID) que identifica el contenido PKCS #7 firmado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-211">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="2e0c0-212">Si se admite, genera los hash de página para los archivos ejecutables.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-212">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="2e0c0-213">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-213">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="2e0c0-214">Especifica el nombre del sujeto del certificado raíz al que el certificado de firma debe encadenarse.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-214">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="2e0c0-215">Este valor puede corresponder a una subcadena del nombre de sujeto completo del certificado raíz.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-215">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="2e0c0-216">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-216">`/s`  *StoreName*</span></span>|<span data-ttu-id="2e0c0-217">Especifica el almacén que se va a abrir al buscar el certificado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-217">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="2e0c0-218">Si no se especifica esta opción, se abre el almacén `My`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-218">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="2e0c0-219">`/sha1`  *Hash*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-219">`/sha1`  *Hash*</span></span>|<span data-ttu-id="2e0c0-220">Especifica el hash SHA1 del certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-220">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="2e0c0-221">El hash SHA1 se especifica normalmente cuando varios certificados cumplen los criterios especificados por los modificadores restantes.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-221">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="2e0c0-222">Especifica que se utiliza un almacén de equipo, en lugar de un almacén de usuario.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-222">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="2e0c0-223">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-223">`/t`  *URL*</span></span>|<span data-ttu-id="2e0c0-224">Especifica la dirección URL del servidor con marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-224">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="2e0c0-225">Si esta opción (o `/tr`) no está presente, el archivo firmado no tendrá marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-225">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="2e0c0-226">Se genera una advertencia si se produce algún error relacionado con la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-226">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="2e0c0-227">Esta opción no se puede combinar con la opción `/tr`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-227">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="2e0c0-228">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-228">`/td`  *alg*</span></span>|<span data-ttu-id="2e0c0-229">Se utiliza con la opción `/tr` para solicitar un algoritmo de resumen utilizado por el servidor de marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-229">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="2e0c0-230">**Nota:** Se genera una advertencia si el modificador `/td` no se proporciona durante la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-230">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="2e0c0-231">El algoritmo predeterminado es SHA1, pero se recomienda SHA256.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-231">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="2e0c0-232">El modificador `/td` se debe declarar después del modificador `/tr`, no antes.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-232">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="2e0c0-233">Si el modificador `/td` se declara antes del modificador `/tr`, la marca de tiempo que se devuelve procede del algoritmo SHA1 en lugar del algoritmo SHA256 previsto.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-233">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="2e0c0-234">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-234">`/tr`  *URL*</span></span>|<span data-ttu-id="2e0c0-235">Especifica la dirección URL del servidor con marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-235">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="2e0c0-236">Si esta opción (o `/t`) no está presente, el archivo firmado no tendrá marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-236">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="2e0c0-237">Se genera una advertencia si se produce algún error relacionado con la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-237">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="2e0c0-238">Esta opción no se puede combinar con la opción `/t`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-238">This option cannot be used with the `/t` option.</span></span>|
|<span data-ttu-id="2e0c0-239">`/u`  *Usage*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-239">`/u`  *Usage*</span></span>|<span data-ttu-id="2e0c0-240">Especifica el uso mejorado de clave (EKU) que debe encontrarse en el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-240">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="2e0c0-241">El valor de uso se puede especificar mediante un identificador de objetos (OID) o una cadena.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-241">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="2e0c0-242">El uso predeterminado es "Firma de código" (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-242">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="2e0c0-243">Especifica el uso de "Comprobación de componentes del sistema de Windows" (1.3.6.1.4.1.311.10.3.6).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-243">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="2e0c0-244">Para obtener ejemplos de uso, vea [Using SignTool to Sign a File](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file) (Usar SignTool para firmar un archivo).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-244">For usage examples, see [Using SignTool to Sign a File](/windows/desktop/SecCrypto/using-signtool-to-sign-a-file).</span></span>  
  
<a name="TimeStamp"></a>

## <a name="timestamp-command-options"></a><span data-ttu-id="2e0c0-245">Opciones del comando TimeStamp</span><span class="sxs-lookup"><span data-stu-id="2e0c0-245">TimeStamp Command Options</span></span>  

 <span data-ttu-id="2e0c0-246">En la tabla siguiente se enumeran las opciones que se pueden utilizar con el comando `TimeStamp`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-246">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="2e0c0-247">Opción de TimeStamp</span><span class="sxs-lookup"><span data-stu-id="2e0c0-247">TimeStamp option</span></span>|<span data-ttu-id="2e0c0-248">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-248">Description</span></span>|  
|----------------------|-----------------|  
|`/p7`|<span data-ttu-id="2e0c0-249">Agrega marcas de tiempo a archivos PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-249">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="2e0c0-250">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-250">`/t`  *URL*</span></span>|<span data-ttu-id="2e0c0-251">Especifica la dirección URL del servidor con marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-251">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="2e0c0-252">El archivo al que se va a agregar la marca de tiempo se debe haber firmado previamente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-252">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="2e0c0-253">Se requiere la opción `/t` o `/tr`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-253">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="2e0c0-254">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-254">`/td`  *alg*</span></span>|<span data-ttu-id="2e0c0-255">Se utiliza con la opción `/tr` para solicitar un algoritmo de resumen utilizado por el servidor de marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-255">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="2e0c0-256">**Nota:** Se genera una advertencia si el modificador `/td` no se proporciona durante la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-256">**Note:** A warning is generated if the `/td` switch is not provided while timestamping.</span></span> <span data-ttu-id="2e0c0-257">El algoritmo predeterminado es SHA1, pero se recomienda SHA256.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-257">The default algorithm is SHA1, but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="2e0c0-258">El modificador `/td` se debe declarar después del modificador `/tr`, no antes.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-258">The `/td` switch must be declared after the `/tr` switch, not before.</span></span> <span data-ttu-id="2e0c0-259">Si el modificador `/td` se declara antes del modificador `/tr`, la marca de tiempo que se devuelve procede del algoritmo SHA1 en lugar del algoritmo SHA256 previsto.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-259">If the `/td` switch is declared before the `/tr` switch, the timestamp that is returned is from the SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="2e0c0-260">`/tp` *index*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-260">`/tp` *index*</span></span>|<span data-ttu-id="2e0c0-261">Agrega una marca de tiempo a la signatura en *index*.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-261">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="2e0c0-262">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-262">`/tr`  *URL*</span></span>|<span data-ttu-id="2e0c0-263">Especifica la dirección URL del servidor con marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-263">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="2e0c0-264">El archivo al que se va a agregar la marca de tiempo se debe haber firmado previamente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-264">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="2e0c0-265">Se requiere la opción `/tr` o `/t`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-265">Either the `/tr` or the `/t` option is required.</span></span>|  
  
 <span data-ttu-id="2e0c0-266">Para obtener un ejemplo de uso, vea [Adding Time Stamps to Previously Signed Files](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files) (Agregar marcas de tiempo a archivos ya firmados).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-266">For a usage example, see [Adding Time Stamps to Previously Signed Files](/windows/desktop/SecCrypto/adding-time-stamps-to-previously-signed-files).</span></span>  
  
<a name="Verify"></a>

## <a name="verify-command-options"></a><span data-ttu-id="2e0c0-267">Opciones del comando Verify</span><span class="sxs-lookup"><span data-stu-id="2e0c0-267">Verify Command Options</span></span>  
  
|<span data-ttu-id="2e0c0-268">Opción de Verify</span><span class="sxs-lookup"><span data-stu-id="2e0c0-268">Verify option</span></span>|<span data-ttu-id="2e0c0-269">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-269">Description</span></span>|  
|-------------------|-----------------|  
|`/a`|<span data-ttu-id="2e0c0-270">Especifica que todos los métodos se puedan utilizar para comprobar el archivo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-270">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="2e0c0-271">Primero, se buscan las bases de datos de catálogo para determinar si el archivo se firma en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-271">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="2e0c0-272">Si el archivo no se firma en un catálogo, la herramienta Firmar intenta comprobar la signatura incrustada del archivo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-272">If the file is not signed in any catalog, Sign Tool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="2e0c0-273">Se recomienda esta opción a la hora de comprobar si se pueden firmar o no archivos en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-273">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="2e0c0-274">Algunos ejemplos de estos archivos son los archivos o controladores de Windows.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-274">Examples of these files include Windows files or drivers.</span></span>|  
|`/ad`|<span data-ttu-id="2e0c0-275">Busca el catálogo utilizando la base de datos de catálogo predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-275">Finds the catalog by using the default catalog database.</span></span>|  
|<span data-ttu-id="2e0c0-276">`/ag` *CatDBGUID*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-276">`/ag` *CatDBGUID*</span></span>|<span data-ttu-id="2e0c0-277">Busca el catálogo en la base de datos de catálogos identificada por *CatDBGUID*.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-277">Finds the catalog in the catalog database that is identified by the *CatDBGUID*.</span></span>|  
|`/all`|<span data-ttu-id="2e0c0-278">Comprueba todas las signaturas de un archivo que incluye varias signaturas.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-278">Verifies all signatures in a file that includes multiple signatures.</span></span>|  
|`/as`|<span data-ttu-id="2e0c0-279">Busca el catálogo utilizando la base de datos de catálogo de componentes del sistema (controlador).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-279">Finds the catalog by using the system component (driver) catalog database.</span></span>|  
|<span data-ttu-id="2e0c0-280">`/c` *CatFile*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-280">`/c` *CatFile*</span></span>|<span data-ttu-id="2e0c0-281">Especifica el archivo de catálogo por nombre.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-281">Specifies the catalog file by name.</span></span>|  
|`/d`|<span data-ttu-id="2e0c0-282">Especifica que la herramienta Firmar debe imprimir la descripción y la dirección URL de esta.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-282">Specifies that Sign Tool should print the description and the description URL.</span></span>|  
|<span data-ttu-id="2e0c0-283">`/ds`  *Index*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-283">`/ds`  *Index*</span></span>|<span data-ttu-id="2e0c0-284">Comprueba la signatura en una posición especificada.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-284">Verifies the signature at a specified position.</span></span>|  
|<span data-ttu-id="2e0c0-285">`/hash` (`SHA1`&#124;`SHA256`)</span><span class="sxs-lookup"><span data-stu-id="2e0c0-285">`/hash` (`SHA1`&#124;`SHA256`)</span></span>|<span data-ttu-id="2e0c0-286">Especifica un algoritmo hash opcional que se usará al buscar un archivo en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-286">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span>|  
|`/kp`|<span data-ttu-id="2e0c0-287">Especifica que la comprobación debe realizarse con la directiva de firma de controladores en modo kernel.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-287">Specifies that verification should be performed with the kernel-mode driver signing policy.</span></span>|  
|`/ms`|<span data-ttu-id="2e0c0-288">Utiliza la semántica de comprobación múltiple.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-288">Uses multiple verification semantics.</span></span> <span data-ttu-id="2e0c0-289">Este es el comportamiento predeterminado de una llamada [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) en Windows 8 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-289">This is the default behavior of a [WinVerifyTrust](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust) call on Windows 8 and above.</span></span>|  
|<span data-ttu-id="2e0c0-290">`/o` *Version*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-290">`/o` *Version*</span></span>|<span data-ttu-id="2e0c0-291">Comprueba el archivo por versión del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-291">Verifies the file by operating system version.</span></span> <span data-ttu-id="2e0c0-292">*Version* tiene el formato siguiente: *PlatformID*:*VerMajor*.*VerMinor*.*BuildNumber*.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-292">*Version* has the following form: *PlatformID*:*VerMajor*.*VerMinor*.*BuildNumber*.</span></span> <span data-ttu-id="2e0c0-293">*PlatformID* representa el valor subyacente de un miembro de enumeración <xref:System.PlatformID>.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-293">*PlatformID* represents the underlying value of a <xref:System.PlatformID> enumeration member.</span></span> <span data-ttu-id="2e0c0-294">**Importante:**  Se recomienda el uso del modificador `/o`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-294">**Important:**  The use of the `/o` switch is recommended.</span></span> <span data-ttu-id="2e0c0-295">Si no se especifica `/o`, SignTool.exe puede devolver resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-295">If `/o` is not specified, SignTool.exe may return unexpected results.</span></span> <span data-ttu-id="2e0c0-296">Por ejemplo, si no incluye el modificador `/o`, los catálogos del sistema que se validan correctamente en un sistema operativo anterior pueden no validarse correctamente en un sistema operativo más reciente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-296">For example, if you do not include the `/o` switch, system catalogs that validate correctly on an older operating system may not validate correctly on a newer operating system.</span></span>|  
|`/p7`|<span data-ttu-id="2e0c0-297">Comprueba los archivos PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-297">Verifies PKCS #7 files.</span></span> <span data-ttu-id="2e0c0-298">No se usa ninguna directiva existente para la validación de PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-298">No existing policies are used for PKCS #7 validation.</span></span> <span data-ttu-id="2e0c0-299">Se comprueba la signatura y se genera una cadena para el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-299">The signature is checked and a chain is built for the signing certificate.</span></span>|  
|`/pa`|<span data-ttu-id="2e0c0-300">Especifica que se debe usar la directiva de comprobación de Authenticode predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-300">Specifies that the Default Authenticode Verification Policy should be used.</span></span> <span data-ttu-id="2e0c0-301">Si no se especifica la opción `/pa`, la herramienta Firmar utiliza la directiva de comprobación de controladores de Windows.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-301">If the `/pa` option is not specified, Sign Tool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="2e0c0-302">Esta opción no se puede combinar con la opción `catdb`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-302">This option cannot be used with the `catdb` options.</span></span>|  
|<span data-ttu-id="2e0c0-303">`/pg` *PolicyGUID*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-303">`/pg` *PolicyGUID*</span></span>|<span data-ttu-id="2e0c0-304">Especifica una directiva de comprobación por GUID.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-304">Specifies a verification policy by GUID.</span></span> <span data-ttu-id="2e0c0-305">*PolicyGUID* corresponde a la propiedad ActionID de la directiva de comprobación.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-305">The *PolicyGUID* corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="2e0c0-306">Esta opción no se puede combinar con la opción `catdb`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-306">This option cannot be used with the `catdb` options.</span></span>|  
|`/ph`|<span data-ttu-id="2e0c0-307">Especifica que la herramienta Firmar debe imprimir y comprobar los valores hash de la página.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-307">Specifies that Sign Tool should print and verify page hash values.</span></span>|  
|<span data-ttu-id="2e0c0-308">`/r` *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="2e0c0-308">`/r` *RootSubjectName*</span></span>|<span data-ttu-id="2e0c0-309">Especifica el nombre del sujeto del certificado raíz al que el certificado de firma debe encadenarse.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-309">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="2e0c0-310">Este valor puede corresponder a una subcadena del nombre del sujeto completo del certificado raíz.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-310">This value can be a substring of the entire subject name of the root certificate.</span></span>|  
|`/tw`|<span data-ttu-id="2e0c0-311">Especifica que se debe generar una advertencia si la signatura no tiene marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-311">Specifies that a warning should be generated if the signature is not time stamped.</span></span>|  
  
 <span data-ttu-id="2e0c0-312">Para obtener ejemplos de uso, vea [Using SignTool to Verify a File Signature](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature) (Usar SignTool para comprobar una firma de archivo).</span><span class="sxs-lookup"><span data-stu-id="2e0c0-312">For usage examples, see [Using SignTool to Verify a File Signature](/windows/desktop/SecCrypto/using-signtool-to-verify-a-file-signature).</span></span>  
  
## <a name="return-value"></a><span data-ttu-id="2e0c0-313">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="2e0c0-313">Return Value</span></span>  

 <span data-ttu-id="2e0c0-314">La herramienta Firmar devuelve uno de los siguientes códigos de salida al finalizar.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-314">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="2e0c0-315">Código de salida</span><span class="sxs-lookup"><span data-stu-id="2e0c0-315">Exit code</span></span>|<span data-ttu-id="2e0c0-316">Descripción</span><span class="sxs-lookup"><span data-stu-id="2e0c0-316">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="2e0c0-317">0</span><span class="sxs-lookup"><span data-stu-id="2e0c0-317">0</span></span>|<span data-ttu-id="2e0c0-318">La ejecución se realizó correctamente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-318">Execution was successful.</span></span>|  
|<span data-ttu-id="2e0c0-319">1</span><span class="sxs-lookup"><span data-stu-id="2e0c0-319">1</span></span>|<span data-ttu-id="2e0c0-320">Error en la ejecución.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-320">Execution has failed.</span></span>|  
|<span data-ttu-id="2e0c0-321">2</span><span class="sxs-lookup"><span data-stu-id="2e0c0-321">2</span></span>|<span data-ttu-id="2e0c0-322">La ejecución ha finalizado con advertencias.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-322">Execution has completed with warnings.</span></span>|  

## <a name="examples"></a><span data-ttu-id="2e0c0-323">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="2e0c0-323">Examples</span></span>  

 <span data-ttu-id="2e0c0-324">El comando siguiente agrega el archivo de catálogo MyCatalogFileName.cat al componente del sistema y la base de datos del controlador.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-324">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="2e0c0-325">La opción `/u` genera un nombre único si es necesario para impedir que se reemplace un archivo de catálogo existente denominado `MyCatalogFileName.cat`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-325">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="2e0c0-326">El comando siguiente firma un archivo automáticamente y para ello usa el mejor certificado.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-326">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console
signtool sign /a /fd SHA256 MyFile.exe
```

 <span data-ttu-id="2e0c0-327">El comando siguiente firma un archivo digitalmente con un certificado almacenado en un archivo PFX protegido por contraseña.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-327">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="2e0c0-328">El comando siguiente firma digitalmente un archivo y le agrega una marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-328">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="2e0c0-329">El certificado utilizado para firmar el archivo se almacena en un archivo PFX.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-329">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="2e0c0-330">El comando siguiente firma un archivo con un certificado ubicado en el almacén `My` cuyo nombre de sujeto sea `My Company Certificate`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-330">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe
```  
  
 <span data-ttu-id="2e0c0-331">El comando siguiente firma un control ActiveX y proporciona información que Internet Explorer muestra cuando se le pide al usuario que instale el control.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-331">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe
```  
  
 <span data-ttu-id="2e0c0-332">El comando siguiente agrega una marca de tiempo a un archivo que ya se ha firmado digitalmente.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-332">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="2e0c0-333">El comando siguiente agrega una marca de tiempo a un archivo mediante un servidor de marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-333">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="2e0c0-334">El comando siguiente comprueba que se ha firmado un archivo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-334">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="2e0c0-335">El comando siguiente comprueba si un archivo del sistema puede estar firmado en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-335">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="2e0c0-336">El comando siguiente comprueba un archivo del sistema firmado en un catálogo denominado `MyCatalog.cat`.</span><span class="sxs-lookup"><span data-stu-id="2e0c0-336">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
  
## <a name="see-also"></a><span data-ttu-id="2e0c0-337">Vea también</span><span class="sxs-lookup"><span data-stu-id="2e0c0-337">See also</span></span>

- [<span data-ttu-id="2e0c0-338">Herramientas</span><span class="sxs-lookup"><span data-stu-id="2e0c0-338">Tools</span></span>](index.md)
- [<span data-ttu-id="2e0c0-339">Símbolos del sistema</span><span class="sxs-lookup"><span data-stu-id="2e0c0-339">Command Prompts</span></span>](developer-command-prompt-for-vs.md)
