---
title: Caspol.exe (Herramienta de la directiva de seguridad de acceso del código)
description: Revise Caspol.exe, la Herramienta de la directiva de seguridad de acceso del código (CAS). Esta herramienta permite a los usuarios y administradores modificar la directiva de seguridad de diferentes niveles de directiva.
ms.date: 03/30/2017
helpviewer_keywords:
- permission sets, modifying security policy
- security policy [.NET Framework], Code Access Security Policy tool
- enterprise security policy
- referencing code groups and permission sets
- user security policy
- Caspol.exe
- Code Access Security Policy tool
- code groups, modifying security policy
- application development [.NET Framework], security
- machine security policy
- security policy [.NET Framework], modifying
- manually editing security configuration files
ms.assetid: d2bf6123-7b0c-4e60-87ad-a39a1c3eb2e0
ms.openlocfilehash: d26443d07dd76d8d18e0d21112d1e40de5b83c83
ms.sourcegitcommit: 9c589b25b005b9a7f87327646020eb85c3b6306f
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2021
ms.locfileid: "102258289"
---
# <a name="caspolexe-code-access-security-policy-tool"></a><span data-ttu-id="c761a-104">Caspol.exe (Herramienta de la directiva de seguridad de acceso del código)</span><span class="sxs-lookup"><span data-stu-id="c761a-104">Caspol.exe (Code Access Security Policy Tool)</span></span>

<span data-ttu-id="c761a-105">La herramienta de la directiva de seguridad de acceso del código (CAS), o herramienta Caspol.exe, permite a los usuarios y administradores modificar las directivas de seguridad correspondientes a los niveles de equipo, usuario y empresa.</span><span class="sxs-lookup"><span data-stu-id="c761a-105">The Code Access Security (CAS) Policy tool (Caspol.exe) enables users and administrators to modify security policy for the machine policy level, the user policy level, and the enterprise policy level.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="c761a-106">A partir de .NET Framework 4, Caspol.exe no afecta a la directiva CAS, a menos que el [\<legacyCasPolicy> elemento](../configure-apps/file-schema/runtime/netfx40-legacysecuritypolicy-element.md) se establezca en `true`.</span><span class="sxs-lookup"><span data-stu-id="c761a-106">Starting with the .NET Framework 4, Caspol.exe does not affect CAS policy unless the [\<legacyCasPolicy> element](../configure-apps/file-schema/runtime/netfx40-legacysecuritypolicy-element.md) is set to `true`.</span></span> <span data-ttu-id="c761a-107">Las configuraciones mostradas o modificadas por CasPol.exe solo afectarán a las aplicaciones que opten por usar la directiva CAS.</span><span class="sxs-lookup"><span data-stu-id="c761a-107">Any settings shown or modified by CasPol.exe will only affect applications that opt into using CAS policy.</span></span> <span data-ttu-id="c761a-108">Para más información, consulte [Cambios de seguridad](/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="c761a-108">For more information, see [Security Changes](/previous-versions/dotnet/framework/security/security-changes).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="c761a-109">Los equipos de 64 bits incluyen las versiones de 64 bits y de 32 bits de la directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-109">64-bit computers include both 64-bit and 32-bit versions of security policy.</span></span> <span data-ttu-id="c761a-110">Para asegurarse de que los cambios en la directiva se aplican a las aplicaciones de 32 bits y 64 bits, ejecute las dos versiones de Caspol.exe, la 32 bits y la de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c761a-110">To ensure that your policy changes apply to both 32-bit and 64-bit applications, run both the 32-bit and 64-bit versions of Caspol.exe.</span></span>  
  
 <span data-ttu-id="c761a-111">La herramienta de la directiva de seguridad de acceso del código se instala automáticamente con .NET Framework y con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c761a-111">The Code Access Security Policy tool is automatically installed with .NET Framework and with Visual Studio.</span></span> <span data-ttu-id="c761a-112">Puede encontrar Caspol.exe en %windir%\Microsoft.NET\Framework\\*versión* en los sistemas de 32 bits o en %windir%\Microsoft.NET\Framework64\\*versión* en los sistemas de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c761a-112">You can find Caspol.exe in %windir%\Microsoft.NET\Framework\\*version* on 32-bit systems or %windir%\Microsoft.NET\Framework64\\*version* on 64-bit systems.</span></span> <span data-ttu-id="c761a-113">(Por ejemplo, la ubicación es %windir%\Microsoft.NET\Framework64\v4.030319\caspol.exe para .NET Framework 4 en un sistema de 64 bits). Si en el equipo se ejecutan varias versiones de .NET Framework en paralelo, es posible que haya varias versiones de la herramienta instaladas.</span><span class="sxs-lookup"><span data-stu-id="c761a-113">(For example, the location is %windir%\Microsoft.NET\Framework64\v4.030319\caspol.exe for .NET Framework 4 on a 64-bit system.) Multiple versions of the tool might be installed if your computer is running multiple versions of .NET Framework side by side.</span></span> <span data-ttu-id="c761a-114">Puede ejecutar la herramienta desde el directorio de instalación.</span><span class="sxs-lookup"><span data-stu-id="c761a-114">You can run the tool from the installation directory.</span></span> <span data-ttu-id="c761a-115">Sin embargo, se recomienda usar un [shell de línea de comandos para desarrolladores](/visualstudio/ide/reference/command-prompt-powershell), que no requiere navegar hasta la carpeta de instalación.</span><span class="sxs-lookup"><span data-stu-id="c761a-115">However, we recommend that you use a [command-line shell for developers](/visualstudio/ide/reference/command-prompt-powershell), which does not require you to navigate to the installation folder.</span></span>  
  
 <span data-ttu-id="c761a-116">En el símbolo del sistema, escriba lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c761a-116">At the command prompt, type the following:</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="c761a-117">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="c761a-117">Syntax</span></span>  
  
```console
caspol [options]  
```  
  
## <a name="parameters"></a><span data-ttu-id="c761a-118">Parámetros</span><span class="sxs-lookup"><span data-stu-id="c761a-118">Parameters</span></span>  
  
|<span data-ttu-id="c761a-119">Opción</span><span class="sxs-lookup"><span data-stu-id="c761a-119">Option</span></span>|<span data-ttu-id="c761a-120">Descripción</span><span class="sxs-lookup"><span data-stu-id="c761a-120">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="c761a-121">**-addfulltrust** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-121">**-addfulltrust** *assembly_file*</span></span><br /><br /> <span data-ttu-id="c761a-122">o</span><span class="sxs-lookup"><span data-stu-id="c761a-122">or</span></span><br /><br /> <span data-ttu-id="c761a-123">**-af** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-123">**-af** *assembly_file*</span></span>|<span data-ttu-id="c761a-124">Agrega un ensamblado que implementa un objeto de seguridad personalizado (como un permiso personalizado o una condición de pertenencia personalizada) a la lista de ensamblados de plena confianza para un nivel de directiva específico.</span><span class="sxs-lookup"><span data-stu-id="c761a-124">Adds an assembly that implements a custom security object (such as a custom permission or a custom membership condition) to the full trust assembly list for a specific policy level.</span></span> <span data-ttu-id="c761a-125">El argumento *archivo_ensamblado* especifica el ensamblado que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="c761a-125">The *assembly_file* argument specifies the assembly to add.</span></span> <span data-ttu-id="c761a-126">Este archivo debe estar firmado con un [nombre seguro](../../standard/assembly/strong-named.md).</span><span class="sxs-lookup"><span data-stu-id="c761a-126">This file must be signed with a [strong name](../../standard/assembly/strong-named.md).</span></span> <span data-ttu-id="c761a-127">Puede firmar un ensamblado con un nombre seguro mediante la herramienta [Nombre seguro (Sn.exe)](sn-exe-strong-name-tool.md).</span><span class="sxs-lookup"><span data-stu-id="c761a-127">You can sign an assembly with a strong name using the [Strong Name Tool (Sn.exe)](sn-exe-strong-name-tool.md).</span></span><br /><br /> <span data-ttu-id="c761a-128">Cada vez que se agrega a la directiva un conjunto de permisos que contiene un permiso personalizado, se debe agregar el ensamblado que implementa el permiso personalizado a la lista de plena confianza para dicho nivel de directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-128">Whenever a permission set containing a custom permission is added to policy, the assembly implementing the custom permission must be added to the full trust list for that policy level.</span></span> <span data-ttu-id="c761a-129">Los ensamblados que implementan objetos de seguridad personalizados (como grupos de código personalizados o condiciones de pertenencia personalizadas) que se utilizan en una directiva de seguridad (como la directiva de equipo) siempre deben agregarse a la lista de ensamblados de plena confianza.</span><span class="sxs-lookup"><span data-stu-id="c761a-129">Assemblies that implement custom security objects (such as custom code groups or membership conditions) used in a security policy (such as the machine policy) should always be added to the full trust assembly list.</span></span> <span data-ttu-id="c761a-130">**Precaución:** Si el ensamblado que implementa el objeto de seguridad personalizado hace referencia a otros ensamblados, debe agregar primero los ensamblados a los que se hace referencia a la lista de ensamblados de plena confianza.</span><span class="sxs-lookup"><span data-stu-id="c761a-130">**Caution:**  If the assembly implementing the custom security object references other assemblies, you must first add the referenced assemblies to the full trust assembly list.</span></span> <span data-ttu-id="c761a-131">Los objetos de seguridad personalizados creados con Visual Basic, C++ y JScript hacen referencia a Microsoft.VisualBasic.dll, Microsoft.VisualC.dll o Microsoft.JScript.dll, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="c761a-131">Custom security objects created using Visual Basic, C++, and JScript reference either Microsoft.VisualBasic.dll, Microsoft.VisualC.dll, or Microsoft.JScript.dll, respectively.</span></span> <span data-ttu-id="c761a-132">Estos ensamblados no se encuentran en la lista de ensamblados de plena confianza de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c761a-132">These assemblies are not in the full trust assembly list by default.</span></span> <span data-ttu-id="c761a-133">Debe agregar el ensamblado adecuado a la lista de plena confianza antes de agregar un objeto de seguridad personalizado.</span><span class="sxs-lookup"><span data-stu-id="c761a-133">You must add the appropriate assembly to the full trust list before you add a custom security object.</span></span> <span data-ttu-id="c761a-134">Si se produce un error al realizar esta operación, el sistema de seguridad se interrumpirá y los ensamblados no se cargarán.</span><span class="sxs-lookup"><span data-stu-id="c761a-134">Failure to do so will break the security system, causing all assemblies to fail to load.</span></span> <span data-ttu-id="c761a-135">En caso de que se produzca esta situación, la opción **-all -reset** de la herramienta Caspol.exe no reparará la seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-135">In this situation, the Caspol.exe **-all -reset** option will not repair security.</span></span> <span data-ttu-id="c761a-136">Para reparar la seguridad, debe editar manualmente los archivos de seguridad a fin de quitar el objeto de seguridad personalizado.</span><span class="sxs-lookup"><span data-stu-id="c761a-136">To repair security, you must manually edit the security files to remove the custom security object.</span></span>|  
|<span data-ttu-id="c761a-137">**-addgroup** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span><span class="sxs-lookup"><span data-stu-id="c761a-137">**-addgroup** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span></span><br /><br /> <span data-ttu-id="c761a-138">o</span><span class="sxs-lookup"><span data-stu-id="c761a-138">or</span></span><br /><br /> <span data-ttu-id="c761a-139">**-ag** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span><span class="sxs-lookup"><span data-stu-id="c761a-139">**-ag** {*parent_label &#124; parent_name*} *mship pset_name* [*flags*]</span></span>|<span data-ttu-id="c761a-140">Agrega un grupo de código nuevo a la jerarquía de grupos de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-140">Adds a new code group to the code group hierarchy.</span></span> <span data-ttu-id="c761a-141">Puede especificar el argumento *parent_label* o el argumento *parent_name*.</span><span class="sxs-lookup"><span data-stu-id="c761a-141">You can specify either the *parent_label* or *parent_name*.</span></span> <span data-ttu-id="c761a-142">El argumento *parent_label* especifica la etiqueta (como 1.</span><span class="sxs-lookup"><span data-stu-id="c761a-142">The *parent_label* argument specifies the label (such as 1.</span></span> <span data-ttu-id="c761a-143">o 1.1) del nombre del grupo de código que es el elemento primario del grupo de código que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="c761a-143">or 1.1.) of the code group that is the parent of the code group being added.</span></span> <span data-ttu-id="c761a-144">El argumento *parent_name* especifica el nombre del grupo de código que es el elemento primario del grupo de código que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="c761a-144">The *parent_name* argument specifies the name of the code group that is the parent of the code group being added.</span></span> <span data-ttu-id="c761a-145">Dado que los argumentos *parent_label* y *parent_name* se pueden usar indistintamente, Caspol.exe debe poder distinguir entre ellos.</span><span class="sxs-lookup"><span data-stu-id="c761a-145">Because *parent_label* and *parent_name* can be used interchangeably, Caspol.exe must be able to distinguish between them.</span></span> <span data-ttu-id="c761a-146">Por tanto, el argumento *parent_name* no puede empezar con un número.</span><span class="sxs-lookup"><span data-stu-id="c761a-146">Therefore, *parent_name* cannot begin with a number.</span></span> <span data-ttu-id="c761a-147">Además, *parent_name* solo puede contener caracteres de A a Z, de 0 a 9 y de subrayado.</span><span class="sxs-lookup"><span data-stu-id="c761a-147">Additionally, *parent_name* can only contain A-Z, 0-9 and the underscore character.</span></span><br /><br /> <span data-ttu-id="c761a-148">El argumento *mship* especifica la condición de pertenencia para el nuevo grupo de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-148">The *mship* argument specifies the membership condition for the new code group.</span></span> <span data-ttu-id="c761a-149">Para más información, consulte la tabla de los argumentos *mship* más adelante en esta sección.</span><span class="sxs-lookup"><span data-stu-id="c761a-149">For more information, see the table of *mship* arguments later in this section.</span></span><br /><br /> <span data-ttu-id="c761a-150">El argumento *pset_name* es el nombre del conjunto de permisos que se asociará al grupo de código nuevo.</span><span class="sxs-lookup"><span data-stu-id="c761a-150">The *pset_name* argument is the name of the permission set that will be associated with the new code group.</span></span> <span data-ttu-id="c761a-151">También se pueden establecer uno o varios argumentos *flags* para el nuevo grupo.</span><span class="sxs-lookup"><span data-stu-id="c761a-151">You can also set one or more *flags* for the new group.</span></span> <span data-ttu-id="c761a-152">Para más información, consulte la tabla de argumentos *flags* más adelante en esta sección.</span><span class="sxs-lookup"><span data-stu-id="c761a-152">For more information, see the table of *flags* arguments later in this section.</span></span>|  
|<span data-ttu-id="c761a-153">**-addpset** {*psfile* &#124; *psfile* p *set_name*}</span><span class="sxs-lookup"><span data-stu-id="c761a-153">**-addpset** {*psfile* &#124; *psfile* p *set_name*}</span></span><br /><br /> <span data-ttu-id="c761a-154">o</span><span class="sxs-lookup"><span data-stu-id="c761a-154">or</span></span><br /><br /> <span data-ttu-id="c761a-155">**-ap** {*named* _ *psfile* &#124; *psfile* *pset_name*}</span><span class="sxs-lookup"><span data-stu-id="c761a-155">**-ap** {*named* _ *psfile* &#124; *psfile* *pset_name*}</span></span>|<span data-ttu-id="c761a-156">Agrega un nuevo conjunto de permisos con nombre a la directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-156">Adds a new named permission set to policy.</span></span> <span data-ttu-id="c761a-157">El conjunto de permisos se debe crear en XML y almacenar en un archivo .xml.</span><span class="sxs-lookup"><span data-stu-id="c761a-157">The permission set must be authored in XML and stored in an .xml file.</span></span> <span data-ttu-id="c761a-158">Si el archivo XML contiene el nombre del conjunto de permisos, solo se especifica dicho archivo (*psfile*).</span><span class="sxs-lookup"><span data-stu-id="c761a-158">If the XML file contains the name of the permission set, only that file (*psfile*) is specified.</span></span> <span data-ttu-id="c761a-159">Si el archivo XML no contiene el nombre del conjunto de permisos, se debe especificar tanto el nombre del archivo XML (*psfile*) como el nombre del conjunto de permisos (*pset_name*).</span><span class="sxs-lookup"><span data-stu-id="c761a-159">If the XML file does not contain the permission set name, you must specify both the XML file name (*psfile*) and the permission set name (*pset_name*).</span></span><br /><br /> <span data-ttu-id="c761a-160">Tenga en cuenta que todos los permisos usados en un conjunto de permisos se deben definir en ensamblados incluidos en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="c761a-160">Note that all permissions used in a permission set must be defined in assemblies contained in the global assembly cache.</span></span>|  
|<span data-ttu-id="c761a-161">**-a**[**ll**]</span><span class="sxs-lookup"><span data-stu-id="c761a-161">**-a**[**ll**]</span></span>|<span data-ttu-id="c761a-162">Indica que todas las opciones que siguen a esta se aplican a las directivas de equipo, usuario y empresa.</span><span class="sxs-lookup"><span data-stu-id="c761a-162">Indicates that all options following this one apply to the machine, user, and enterprise policies.</span></span> <span data-ttu-id="c761a-163">La opción **-all** siempre hace referencia a la directiva del usuario actual que tiene iniciada una sesión actualmente.</span><span class="sxs-lookup"><span data-stu-id="c761a-163">The **-all** option always refers to the policy of the currently logged-on user.</span></span> <span data-ttu-id="c761a-164">Consulte la opción **-customall** para hacer referencia a la directiva de un usuario distinto del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="c761a-164">See the **-customall** option to refer to the user policy of a user other than the current user.</span></span>|  
|<span data-ttu-id="c761a-165">**-chggroup** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span><span class="sxs-lookup"><span data-stu-id="c761a-165">**-chggroup** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span></span><br /><br /> <span data-ttu-id="c761a-166">*flags* `}`</span><span class="sxs-lookup"><span data-stu-id="c761a-166">*flags* `}`</span></span><br /><br /> <span data-ttu-id="c761a-167">o</span><span class="sxs-lookup"><span data-stu-id="c761a-167">or</span></span><br /><br /> <span data-ttu-id="c761a-168">**-cg** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span><span class="sxs-lookup"><span data-stu-id="c761a-168">**-cg** {*label &#124;name*} {*mship* &#124; *pset_name* &#124;</span></span><br /><br /> <span data-ttu-id="c761a-169">*flags* `}`</span><span class="sxs-lookup"><span data-stu-id="c761a-169">*flags* `}`</span></span>|<span data-ttu-id="c761a-170">Cambia en un grupo de código la condición de pertenencia, el conjunto de permisos o la configuración de las marcas **exclusive**, **levelfinal**, **name** o **description**.</span><span class="sxs-lookup"><span data-stu-id="c761a-170">Changes a code group's membership condition, permission set, or the settings of the **exclusive**, **levelfinal**, **name**, or **description** flags.</span></span> <span data-ttu-id="c761a-171">Puede especificar el argumento *label* o *name*.</span><span class="sxs-lookup"><span data-stu-id="c761a-171">You can specify either the *label* or *name*.</span></span> <span data-ttu-id="c761a-172">El argumento *label* especifica la etiqueta (como 1.</span><span class="sxs-lookup"><span data-stu-id="c761a-172">The *label* argument specifies the label (such as 1.</span></span> <span data-ttu-id="c761a-173">o 1.1) del grupo de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-173">or 1.1.) of the code group.</span></span> <span data-ttu-id="c761a-174">El argumento *name* especifica el nombre del grupo de código que se va a cambiar.</span><span class="sxs-lookup"><span data-stu-id="c761a-174">The *name* argument specifies the name of the code group to change.</span></span> <span data-ttu-id="c761a-175">Dado que los argumentos *label* y *name* se pueden usar indistintamente, Caspol.exe debe poder distinguir entre ellos.</span><span class="sxs-lookup"><span data-stu-id="c761a-175">Because *label* and *name* can be used interchangeably, Caspol.exe must be able to distinguish between them.</span></span> <span data-ttu-id="c761a-176">Por tanto, el argumento *name* no puede empezar con un número.</span><span class="sxs-lookup"><span data-stu-id="c761a-176">Therefore, *name* cannot begin with a number.</span></span> <span data-ttu-id="c761a-177">Además, *name* solo puede contener caracteres de A a Z, de 0 a 9 y de subrayado.</span><span class="sxs-lookup"><span data-stu-id="c761a-177">Additionally, *name* can only contain A-Z, 0-9 and the underscore character.</span></span><br /><br /> <span data-ttu-id="c761a-178">El argumento *pset_name* especifica el nombre del conjunto de permisos que se va a asociar al nuevo grupo de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-178">The *pset_name* argument specifies the name of the permission set to associate with the code group.</span></span> <span data-ttu-id="c761a-179">Consulte las tablas que aparecen más adelante en esta sección para obtener información sobre los argumentos *mship* y *flags*.</span><span class="sxs-lookup"><span data-stu-id="c761a-179">See the tables later in this section for information on the *mship* and *flags* arguments.</span></span>|  
|<span data-ttu-id="c761a-180">**-chgpset**  *psfile pset_name*</span><span class="sxs-lookup"><span data-stu-id="c761a-180">**-chgpset**  *psfile pset_name*</span></span><br /><br /> <span data-ttu-id="c761a-181">o</span><span class="sxs-lookup"><span data-stu-id="c761a-181">or</span></span><br /><br /> <span data-ttu-id="c761a-182">**-cp** *psfile pset_name*</span><span class="sxs-lookup"><span data-stu-id="c761a-182">**-cp** *psfile pset_name*</span></span>|<span data-ttu-id="c761a-183">Cambia un conjunto de permisos con nombre.</span><span class="sxs-lookup"><span data-stu-id="c761a-183">Changes a named permission set.</span></span> <span data-ttu-id="c761a-184">El argumento *psfile* proporciona la nueva definición para el conjunto de permisos; es un archivo serializado de conjunto de permisos en formato XML.</span><span class="sxs-lookup"><span data-stu-id="c761a-184">The *psfile* argument supplies the new definition for the permission set; it is a serialized permission set file in XML format.</span></span> <span data-ttu-id="c761a-185">El argumento *pset_name* especifica el nombre del conjunto de permisos que se desea cambiar.</span><span class="sxs-lookup"><span data-stu-id="c761a-185">The *pset_name* argument specifies the name of the permission set you want to change.</span></span>|  
|<span data-ttu-id="c761a-186">**-customall**  *path*</span><span class="sxs-lookup"><span data-stu-id="c761a-186">**-customall**  *path*</span></span><br /><br /> <span data-ttu-id="c761a-187">o</span><span class="sxs-lookup"><span data-stu-id="c761a-187">or</span></span><br /><br /> <span data-ttu-id="c761a-188">**-ca**  *path*</span><span class="sxs-lookup"><span data-stu-id="c761a-188">**-ca**  *path*</span></span>|<span data-ttu-id="c761a-189">Indica que todas las opciones que siguen a esta se aplican a las directivas de equipo, empresa y usuario personalizado especificado.</span><span class="sxs-lookup"><span data-stu-id="c761a-189">Indicates that all options following this one apply to the machine, enterprise, and the specified custom user policies.</span></span> <span data-ttu-id="c761a-190">Debe especificar la ubicación del archivo de configuración de seguridad del usuario personalizado con el argumento *path*.</span><span class="sxs-lookup"><span data-stu-id="c761a-190">You must specify the location of the custom user's security configuration file with the *path* argument.</span></span>|  
|<span data-ttu-id="c761a-191">**-cu**[**stomuser**] *path*</span><span class="sxs-lookup"><span data-stu-id="c761a-191">**-cu**[**stomuser**] *path*</span></span>|<span data-ttu-id="c761a-192">Permite la administración de una directiva de usuario personalizado que no pertenece al usuario en cuyo nombre se está ejecutando actualmente la herramienta Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-192">Allows the administration of a custom user policy that does not belong to the user on whose behalf Caspol.exe is currently running.</span></span> <span data-ttu-id="c761a-193">Debe especificar la ubicación del archivo de configuración de seguridad del usuario personalizado con el argumento *path*.</span><span class="sxs-lookup"><span data-stu-id="c761a-193">You must specify the location of the custom user's security configuration file with the *path* argument.</span></span>|  
|<span data-ttu-id="c761a-194">**-enterprise**</span><span class="sxs-lookup"><span data-stu-id="c761a-194">**-enterprise**</span></span><br /><br /> <span data-ttu-id="c761a-195">o</span><span class="sxs-lookup"><span data-stu-id="c761a-195">or</span></span><br /><br /> <span data-ttu-id="c761a-196">**-en**</span><span class="sxs-lookup"><span data-stu-id="c761a-196">**-en**</span></span>|<span data-ttu-id="c761a-197">Indica que todas las opciones que siguen a esta se aplican a la directiva de nivel de empresa.</span><span class="sxs-lookup"><span data-stu-id="c761a-197">Indicates that all options following this one apply to the enterprise level policy.</span></span> <span data-ttu-id="c761a-198">Los usuarios que no son administradores de empresa no tienen derechos suficientes para modificar la directiva de empresa, aunque pueden verla.</span><span class="sxs-lookup"><span data-stu-id="c761a-198">Users who are not enterprise administrators do not have sufficient rights to modify the enterprise policy, although they can view it.</span></span> <span data-ttu-id="c761a-199">En escenarios distintos del de empresa, la opción predeterminada es que esta directiva no interfiera con las directivas de equipo y de usuario.</span><span class="sxs-lookup"><span data-stu-id="c761a-199">In nonenterprise scenarios, this policy, by default, does not interfere with machine and user policy.</span></span>|  
|<span data-ttu-id="c761a-200">**-e**[**xecution**] {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="c761a-200">**-e**[**xecution**] {**on** &#124; **off**}</span></span>|<span data-ttu-id="c761a-201">Activa o desactiva el mecanismo que comprueba que el permiso se ejecuta antes de iniciarse la ejecución del código.</span><span class="sxs-lookup"><span data-stu-id="c761a-201">Turns on or off the mechanism that checks for the permission to run before code starts to execute.</span></span> <span data-ttu-id="c761a-202">**Nota:**  Este modificador ya no existe en .NET Framework 4 ni en las versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="c761a-202">**Note:**  This switch is removed in the .NET Framework 4 and later versions.</span></span> <span data-ttu-id="c761a-203">Para más información, consulte [Cambios de seguridad](/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="c761a-203">For more information, see [Security Changes](/previous-versions/dotnet/framework/security/security-changes).</span></span>|  
|<span data-ttu-id="c761a-204">**-f**[**orce**]</span><span class="sxs-lookup"><span data-stu-id="c761a-204">**-f**[**orce**]</span></span>|<span data-ttu-id="c761a-205">Suprime la prueba de autodestrucción de la herramienta y cambia la directiva de acuerdo con lo especificado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="c761a-205">Suppresses the tool's self-destruct test and changes the policy as specified by the user.</span></span> <span data-ttu-id="c761a-206">Normalmente, Caspol.exe comprueba si los cambios efectuados en una directiva impedirían el correcto funcionamiento de la herramienta; si es el caso, Caspol.exe no guarda el cambio de la directiva e imprime un mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="c761a-206">Normally, Caspol.exe checks whether any policy changes would prevent Caspol.exe itself from running properly; if so, Caspol.exe does not save the policy change and prints an error message.</span></span> <span data-ttu-id="c761a-207">Para forzar a Caspol.exe a cambiar la directiva aunque esto impida su ejecución, use la opción **–force**.</span><span class="sxs-lookup"><span data-stu-id="c761a-207">To force Caspol.exe to change policy even if this prevents Caspol.exe itself from running, use the **–force** option.</span></span>|  
|<span data-ttu-id="c761a-208">**-h**[**elp**]</span><span class="sxs-lookup"><span data-stu-id="c761a-208">**-h**[**elp**]</span></span>|<span data-ttu-id="c761a-209">Muestra las opciones y la sintaxis de los comandos de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-209">Displays command syntax and options for Caspol.exe.</span></span>|  
|<span data-ttu-id="c761a-210">**-l**[**ist**]</span><span class="sxs-lookup"><span data-stu-id="c761a-210">**-l**[**ist**]</span></span>|<span data-ttu-id="c761a-211">Enumera la jerarquía de grupos de código y los conjuntos de permisos para el nivel de directiva especificado (equipo, usuario o empresa) o para todos los niveles de directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-211">Lists the code group hierarchy and the permission sets for the specified machine, user, enterprise, or all policy levels.</span></span> <span data-ttu-id="c761a-212">Caspol.exe muestra primero la etiqueta del grupo de código, seguida del nombre, si el valor no es nulo.</span><span class="sxs-lookup"><span data-stu-id="c761a-212">Caspol.exe displays the code group's label first, followed by the name, if it is not null.</span></span>|  
|<span data-ttu-id="c761a-213">**-listdescription**</span><span class="sxs-lookup"><span data-stu-id="c761a-213">**-listdescription**</span></span><br /><br /> <span data-ttu-id="c761a-214">o</span><span class="sxs-lookup"><span data-stu-id="c761a-214">or</span></span><br /><br /> <span data-ttu-id="c761a-215">**-ld**</span><span class="sxs-lookup"><span data-stu-id="c761a-215">**-ld**</span></span>|<span data-ttu-id="c761a-216">Enumera todas las descripciones de grupos de código para el nivel de directiva especificado.</span><span class="sxs-lookup"><span data-stu-id="c761a-216">Lists all code group descriptions for the specified policy level.</span></span>|  
|<span data-ttu-id="c761a-217">**-listfulltrust**</span><span class="sxs-lookup"><span data-stu-id="c761a-217">**-listfulltrust**</span></span><br /><br /> <span data-ttu-id="c761a-218">o</span><span class="sxs-lookup"><span data-stu-id="c761a-218">or</span></span><br /><br /> <span data-ttu-id="c761a-219">**-lf**</span><span class="sxs-lookup"><span data-stu-id="c761a-219">**-lf**</span></span>|<span data-ttu-id="c761a-220">Enumera el contenido de la lista de ensamblados de plena confianza para el nivel de directiva especificado.</span><span class="sxs-lookup"><span data-stu-id="c761a-220">Lists the contents of the full trust assembly list for the specified policy level.</span></span>|  
|<span data-ttu-id="c761a-221">**-listgroups**</span><span class="sxs-lookup"><span data-stu-id="c761a-221">**-listgroups**</span></span><br /><br /> <span data-ttu-id="c761a-222">o</span><span class="sxs-lookup"><span data-stu-id="c761a-222">or</span></span><br /><br /> <span data-ttu-id="c761a-223">**-lg**</span><span class="sxs-lookup"><span data-stu-id="c761a-223">**-lg**</span></span>|<span data-ttu-id="c761a-224">Muestra los grupos de código para el nivel de directiva especificado o para todos los niveles de directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-224">Displays the code groups of the specified policy level or all policy levels.</span></span> <span data-ttu-id="c761a-225">Caspol.exe muestra primero la etiqueta del grupo de código, seguida del nombre, si el valor no es nulo.</span><span class="sxs-lookup"><span data-stu-id="c761a-225">Caspol.exe displays the code group's label first, followed by the name, if it is not null.</span></span>|  
|<span data-ttu-id="c761a-226">**-listpset** or **-lp**</span><span class="sxs-lookup"><span data-stu-id="c761a-226">**-listpset** or **-lp**</span></span>|<span data-ttu-id="c761a-227">Muestra los conjuntos de permisos para el nivel de directiva especificado o para todos los niveles de directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-227">Displays the permission sets for the specified policy level or all policy levels.</span></span>|  
|<span data-ttu-id="c761a-228">**-m**[**achine**]</span><span class="sxs-lookup"><span data-stu-id="c761a-228">**-m**[**achine**]</span></span>|<span data-ttu-id="c761a-229">Indica que todas las opciones que siguen a esta se aplican a la directiva de nivel de equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-229">Indicates that all options following this one apply to the machine level policy.</span></span> <span data-ttu-id="c761a-230">Los usuarios que no son administradores no tienen derechos suficientes para modificar la directiva de equipo, aunque pueden verla.</span><span class="sxs-lookup"><span data-stu-id="c761a-230">Users who are not administrators do not have sufficient rights to modify the machine policy, although they can view it.</span></span> <span data-ttu-id="c761a-231">Para los administradores, **-machine** es la opción predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c761a-231">For administrators, **-machine** is the default.</span></span>|  
|<span data-ttu-id="c761a-232">**-polchgprompt** {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="c761a-232">**-polchgprompt** {**on** &#124; **off**}</span></span><br /><br /> <span data-ttu-id="c761a-233">o</span><span class="sxs-lookup"><span data-stu-id="c761a-233">or</span></span><br /><br /> <span data-ttu-id="c761a-234">**-pp** {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="c761a-234">**-pp** {**on** &#124; **off**}</span></span>|<span data-ttu-id="c761a-235">Habilita o deshabilita el mensaje que se muestra cada vez que Caspol.exe se ejecuta con una opción que provoca cambios en la directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-235">Enables or disables the prompt that is displayed whenever Caspol.exe is run using an option that would cause policy changes.</span></span>|  
|<span data-ttu-id="c761a-236">**-quiet**</span><span class="sxs-lookup"><span data-stu-id="c761a-236">**-quiet**</span></span><br /><br /> <span data-ttu-id="c761a-237">o</span><span class="sxs-lookup"><span data-stu-id="c761a-237">or</span></span><br /><br /> <span data-ttu-id="c761a-238">**-q**</span><span class="sxs-lookup"><span data-stu-id="c761a-238">**-q**</span></span>|<span data-ttu-id="c761a-239">Deshabilita temporalmente el mensaje que se muestra normalmente para una opción que ocasiona cambios en la directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-239">Temporarily disables the prompt that is normally displayed for an option that causes policy changes.</span></span> <span data-ttu-id="c761a-240">No cambia la configuración global del mensaje.</span><span class="sxs-lookup"><span data-stu-id="c761a-240">The global change prompt setting does not change.</span></span> <span data-ttu-id="c761a-241">Use la opción únicamente en comandos individuales para evitar que el mensaje se deshabilite para todos los comandos de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-241">Use the option only on a single command basis to avoid disabling the prompt for all Caspol.exe commands.</span></span>|  
|<span data-ttu-id="c761a-242">**-r**[**ecover**]</span><span class="sxs-lookup"><span data-stu-id="c761a-242">**-r**[**ecover**]</span></span>|<span data-ttu-id="c761a-243">Recupera la directiva de un archivo de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-243">Recovers policy from a backup file.</span></span> <span data-ttu-id="c761a-244">Cada vez que se efectúa un cambio en una directiva, Caspol.exe almacena la directiva antigua en un archivo de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-244">Whenever a policy change is made, Caspol.exe stores the old policy in a backup file.</span></span>|  
|<span data-ttu-id="c761a-245">**-remfulltrust** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-245">**-remfulltrust** *assembly_file*</span></span><br /><br /> <span data-ttu-id="c761a-246">o</span><span class="sxs-lookup"><span data-stu-id="c761a-246">or</span></span><br /><br /> <span data-ttu-id="c761a-247">**-rf**  *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-247">**-rf**  *assembly_file*</span></span>|<span data-ttu-id="c761a-248">Quita un ensamblado de la lista de plena confianza de un nivel de directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-248">Removes an assembly from the full trust list of a policy level.</span></span> <span data-ttu-id="c761a-249">Realice esta operación si la directiva deja de usar un conjunto de permisos que contiene un permiso personalizado.</span><span class="sxs-lookup"><span data-stu-id="c761a-249">This operation should be performed if a permission set that contains a custom permission is no longer used by policy.</span></span> <span data-ttu-id="c761a-250">No obstante, solo debe quitar de la lista de plena confianza un ensamblado que implementa un permiso personalizado si el ensamblado no implementa ningún otro permiso personalizado que se esté usando todavía.</span><span class="sxs-lookup"><span data-stu-id="c761a-250">However, you should remove an assembly that implements a custom permission from the full trust list only if the assembly does not implement any other custom permissions that are still being used.</span></span> <span data-ttu-id="c761a-251">Cuando se quita un ensamblado de la lista, también se deben quitar los ensamblados de los que depende.</span><span class="sxs-lookup"><span data-stu-id="c761a-251">When you remove an assembly from the list, you should also remove any other assemblies that it depends on.</span></span>|  
|<span data-ttu-id="c761a-252">**-remgroup** {*label &#124;name*}</span><span class="sxs-lookup"><span data-stu-id="c761a-252">**-remgroup** {*label &#124;name*}</span></span><br /><br /> <span data-ttu-id="c761a-253">o</span><span class="sxs-lookup"><span data-stu-id="c761a-253">or</span></span><br /><br /> <span data-ttu-id="c761a-254">**-rg** {l *abel &#124; name*}</span><span class="sxs-lookup"><span data-stu-id="c761a-254">**-rg** {l *abel &#124; name*}</span></span>|<span data-ttu-id="c761a-255">Quita el grupo de código especificado mediante su etiqueta o su nombre.</span><span class="sxs-lookup"><span data-stu-id="c761a-255">Removes the code group specified by either its label or name.</span></span> <span data-ttu-id="c761a-256">Si el grupo de código especificado tiene grupos de código secundarios, Caspol.exe también los quita.</span><span class="sxs-lookup"><span data-stu-id="c761a-256">If the specified code group has child code groups, Caspol.exe also removes all the child code groups.</span></span>|  
|<span data-ttu-id="c761a-257">**-rempset** *pset_name*</span><span class="sxs-lookup"><span data-stu-id="c761a-257">**-rempset** *pset_name*</span></span><br /><br /> <span data-ttu-id="c761a-258">o</span><span class="sxs-lookup"><span data-stu-id="c761a-258">or</span></span><br /><br /> <span data-ttu-id="c761a-259">**-rp** *pset_name*</span><span class="sxs-lookup"><span data-stu-id="c761a-259">**-rp** *pset_name*</span></span>|<span data-ttu-id="c761a-260">Quita de la directiva el conjunto de permisos especificado.</span><span class="sxs-lookup"><span data-stu-id="c761a-260">Removes the specified permission set from policy.</span></span> <span data-ttu-id="c761a-261">El argumento *pset_name* indica el conjunto de permisos que se va a quitar.</span><span class="sxs-lookup"><span data-stu-id="c761a-261">The *pset_name* argument indicates which permission set to remove.</span></span> <span data-ttu-id="c761a-262">Caspol.exe quita el conjunto de permisos solo si no está asociado a ningún grupo de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-262">Caspol.exe removes the permission set only if it is not associated with any code group.</span></span> <span data-ttu-id="c761a-263">Los conjuntos de permisos predeterminados (integrados) no se pueden quitar.</span><span class="sxs-lookup"><span data-stu-id="c761a-263">The default (built-in) permission sets cannot be removed.</span></span>|  
|<span data-ttu-id="c761a-264">**-reset**</span><span class="sxs-lookup"><span data-stu-id="c761a-264">**-reset**</span></span><br /><br /> <span data-ttu-id="c761a-265">o</span><span class="sxs-lookup"><span data-stu-id="c761a-265">or</span></span><br /><br /> <span data-ttu-id="c761a-266">**-rs**</span><span class="sxs-lookup"><span data-stu-id="c761a-266">**-rs**</span></span>|<span data-ttu-id="c761a-267">Devuelve la directiva a su estado predeterminado y la guarda en el disco.</span><span class="sxs-lookup"><span data-stu-id="c761a-267">Returns policy to its default state and persists it to disk.</span></span> <span data-ttu-id="c761a-268">Esta opción es resulta de gran utilidad si se sospecha que una directiva modificada ya no se puede reparar y se desea empezar de nuevo con los valores predeterminados de instalación.</span><span class="sxs-lookup"><span data-stu-id="c761a-268">This is useful whenever a changed policy seems to be beyond repair and you want to start over with the installation defaults.</span></span> <span data-ttu-id="c761a-269">El restablecimiento de los valores predeterminados también puede resultar conveniente si se desea usar la directiva predeterminada como punto de partida para realizar modificaciones en archivos de configuración de seguridad específicos.</span><span class="sxs-lookup"><span data-stu-id="c761a-269">Resetting can also be convenient when you want to use the default policy as a starting point for modifications to specific security configuration files.</span></span> <span data-ttu-id="c761a-270">Para más información, consulte [Editar manualmente archivos de configuración de seguridad](#cpgrfcodeaccesssecuritypolicyutilitycaspolexeanchor1).</span><span class="sxs-lookup"><span data-stu-id="c761a-270">For more information, see [Manually Editing the Security Configuration Files](#cpgrfcodeaccesssecuritypolicyutilitycaspolexeanchor1).</span></span>|  
|<span data-ttu-id="c761a-271">**-resetlockdown**</span><span class="sxs-lookup"><span data-stu-id="c761a-271">**-resetlockdown**</span></span><br /><br /> <span data-ttu-id="c761a-272">o</span><span class="sxs-lookup"><span data-stu-id="c761a-272">or</span></span><br /><br /> <span data-ttu-id="c761a-273">**-rsld**</span><span class="sxs-lookup"><span data-stu-id="c761a-273">**-rsld**</span></span>|<span data-ttu-id="c761a-274">Devuelve la directiva a una versión más restrictiva del estado predeterminado y la guarda en el disco; crea una copia de seguridad de la directiva de equipo anterior y la guarda en un archivo denominado `security.config.bac`.</span><span class="sxs-lookup"><span data-stu-id="c761a-274">Returns policy to a more restrictive version of the default state and persists it to disk; creates a backup of the previous machine policy and persists it to a file called `security.config.bac`.</span></span>  <span data-ttu-id="c761a-275">La directiva bloqueada se parece a la predeterminada, salvo en que no otorga permisos al código de las zonas `Local Intranet`, `Trusted Sites` e `Internet`, y los grupos de códigos correspondientes no tienen grupos de códigos secundarios.</span><span class="sxs-lookup"><span data-stu-id="c761a-275">The locked down policy is similar to the default policy, except that the policy grants no permission to code from the `Local Intranet`, `Trusted Sites`, and `Internet` zones and the corresponding code groups have no child code groups.</span></span>|  
|<span data-ttu-id="c761a-276">**-resolvegroup** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-276">**-resolvegroup** *assembly_file*</span></span><br /><br /> <span data-ttu-id="c761a-277">o</span><span class="sxs-lookup"><span data-stu-id="c761a-277">or</span></span><br /><br /> <span data-ttu-id="c761a-278">**-rsg**  *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-278">**-rsg**  *assembly_file*</span></span>|<span data-ttu-id="c761a-279">Muestra los grupos de código a los que pertenece un ensamblado específico (*archivo_ensamblado*).</span><span class="sxs-lookup"><span data-stu-id="c761a-279">Shows the code groups that a specific assembly (*assembly_file*) belongs to.</span></span> <span data-ttu-id="c761a-280">De forma predeterminada, esta opción muestra los niveles de directiva de equipo, usuario y empresa a los que pertenece el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="c761a-280">By default, this option displays the machine, user, and enterprise policy levels to which the assembly belongs.</span></span> <span data-ttu-id="c761a-281">Para ver solo un nivel de directiva, use esta opción con la opción **-machine**, **-user** o **-enterprise**.</span><span class="sxs-lookup"><span data-stu-id="c761a-281">To view only one policy level, use this option with either the **-machine**, **-user**, or **-enterprise** option.</span></span>|  
|<span data-ttu-id="c761a-282">**-resolveperm** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-282">**-resolveperm** *assembly_file*</span></span><br /><br /> <span data-ttu-id="c761a-283">o</span><span class="sxs-lookup"><span data-stu-id="c761a-283">or</span></span><br /><br /> <span data-ttu-id="c761a-284">**-rsp** *assembly_file*</span><span class="sxs-lookup"><span data-stu-id="c761a-284">**-rsp** *assembly_file*</span></span>|<span data-ttu-id="c761a-285">Muestra todos los permisos que el nivel especificado (o el predeterminado) de directiva de seguridad concedería al ensamblado si tuviera permiso para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="c761a-285">Displays all permissions that the specified (or default) level of security policy would grant the assembly if the assembly were allowed to run.</span></span> <span data-ttu-id="c761a-286">El argumento *archivo_ensamblado* especifica el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="c761a-286">The *assembly_file* argument specifies the assembly.</span></span> <span data-ttu-id="c761a-287">Si especifica la opción **-all**, Caspol.exe calcula los permisos para el ensamblado basándose en la directivas de usuario, equipo y empresa; de lo contrario, se aplican las reglas de comportamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="c761a-287">If you specify the **-all** option, Caspol.exe calculates the permissions for the assembly based on user, machine, and enterprise policy; otherwise, default behavior rules apply.</span></span>|  
|<span data-ttu-id="c761a-288">**-s**[**ecurity**] {**on** &#124; **off**}</span><span class="sxs-lookup"><span data-stu-id="c761a-288">**-s**[**ecurity**] {**on** &#124; **off**}</span></span>|<span data-ttu-id="c761a-289">Activa o desactiva la seguridad de acceso del código.</span><span class="sxs-lookup"><span data-stu-id="c761a-289">Turns code access security on or off.</span></span> <span data-ttu-id="c761a-290">Si se especifica la opción **-s off**, la seguridad basada en roles no se deshabilita.</span><span class="sxs-lookup"><span data-stu-id="c761a-290">Specifying the **-s off** option does not disable role-based security.</span></span> <span data-ttu-id="c761a-291">**Nota:**  Este modificador ya no existe en .NET Framework 4 ni en las versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="c761a-291">**Note:**  This switch is removed in the .NET Framework 4 and later versions.</span></span> <span data-ttu-id="c761a-292">Para más información, consulte [Cambios de seguridad](/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="c761a-292">For more information, see [Security Changes](/previous-versions/dotnet/framework/security/security-changes).</span></span> <span data-ttu-id="c761a-293">**Advertencia:**  Cuando la seguridad de acceso del código está deshabilitada, todas las peticiones de acceso al código se realizan correctamente.</span><span class="sxs-lookup"><span data-stu-id="c761a-293">**Caution:**  When code access security is disabled, all code access demands succeed.</span></span> <span data-ttu-id="c761a-294">El hecho de deshabilitar la seguridad de acceso del código hace que el sistema sea vulnerable a ataques por parte de código malintencionado, como virus y gusanos.</span><span class="sxs-lookup"><span data-stu-id="c761a-294">Disabling code access security makes the system vulnerable to attacks by malicious code such as viruses and worms.</span></span> <span data-ttu-id="c761a-295">Cuando se desactiva la seguridad, aumenta el rendimiento, pero esta operación solo debe realizarse si se han adoptado otras medidas para evitar poner en peligro la seguridad global del sistema.</span><span class="sxs-lookup"><span data-stu-id="c761a-295">Turning off security gains some extra performance but should only be done when other security measures have been taken to help make sure overall system security is not breached.</span></span> <span data-ttu-id="c761a-296">Desconectarse de las redes públicas, proteger los equipos físicamente, etc. constituyen otros ejemplos de precauciones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-296">Examples of other security precautions include disconnecting from public networks, physically securing computers, and so on.</span></span>|  
|<span data-ttu-id="c761a-297">**-u**[**ser**]</span><span class="sxs-lookup"><span data-stu-id="c761a-297">**-u**[**ser**]</span></span>|<span data-ttu-id="c761a-298">Indica que todas las opciones que siguen a esta se aplican a la directiva de nivel de usuario correspondiente al usuario en cuyo nombre se ejecuta Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-298">Indicates that all options following this one apply to the user level policy for the user on whose behalf Caspol.exe is running.</span></span> <span data-ttu-id="c761a-299">Para usuarios no administradores, **-user** es la opción predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c761a-299">For nonadministrative users, **-user** is the default.</span></span>|  
|<span data-ttu-id="c761a-300">**-?**</span><span class="sxs-lookup"><span data-stu-id="c761a-300">**-?**</span></span>|<span data-ttu-id="c761a-301">Muestra las opciones y la sintaxis de los comandos de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-301">Displays command syntax and options for Caspol.exe.</span></span>|  
  
 <span data-ttu-id="c761a-302">El argumento *mship*, que especifica la condición de pertenencia de un grupo de código, se puede usar con las opciones **-addgroup** y **-chggroup**.</span><span class="sxs-lookup"><span data-stu-id="c761a-302">The *mship* argument, which specifies the membership condition for a code group, can be used with the **-addgroup** and **-chggroup** options.</span></span> <span data-ttu-id="c761a-303">Cada argumento *mship* se implementa como una clase de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c761a-303">Each *mship* argument is implemented as a .NET Framework class.</span></span> <span data-ttu-id="c761a-304">Para especificar el argumento *mship*, use uno de los argumentos siguientes.</span><span class="sxs-lookup"><span data-stu-id="c761a-304">To specify *mship,* use one of the following.</span></span>  
  
|<span data-ttu-id="c761a-305">Argumento</span><span class="sxs-lookup"><span data-stu-id="c761a-305">Argument</span></span>|<span data-ttu-id="c761a-306">Descripción</span><span class="sxs-lookup"><span data-stu-id="c761a-306">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="c761a-307">**-allcode**</span><span class="sxs-lookup"><span data-stu-id="c761a-307">**-allcode**</span></span>|<span data-ttu-id="c761a-308">Especifica todo el código.</span><span class="sxs-lookup"><span data-stu-id="c761a-308">Specifies all code.</span></span> <span data-ttu-id="c761a-309">Para obtener más información sobre esta condición de pertenencia, vea <xref:System.Security.Policy.AllMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c761a-309">For more information about this membership condition, see <xref:System.Security.Policy.AllMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="c761a-310">**-appdir**</span><span class="sxs-lookup"><span data-stu-id="c761a-310">**-appdir**</span></span>|<span data-ttu-id="c761a-311">Especifica el directorio de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c761a-311">Specifies the application directory.</span></span> <span data-ttu-id="c761a-312">Si especifica **–appdir** como condición de pertenencia, la evidencia de dirección URL del código se compara con la evidencia de directorio de aplicación de dicho código.</span><span class="sxs-lookup"><span data-stu-id="c761a-312">If you specify **–appdir** as the membership condition, the URL evidence of code is compared with the application directory evidence of that code.</span></span> <span data-ttu-id="c761a-313">Si ambos valores de evidencia coinciden, se cumple la condición de pertenencia.</span><span class="sxs-lookup"><span data-stu-id="c761a-313">If both evidence values are the same, this membership condition is satisfied.</span></span> <span data-ttu-id="c761a-314">Para obtener más información sobre esta condición de pertenencia, vea <xref:System.Security.Policy.ApplicationDirectoryMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c761a-314">For more information about this membership condition, see <xref:System.Security.Policy.ApplicationDirectoryMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="c761a-315">**-custom**  *xmlfile*</span><span class="sxs-lookup"><span data-stu-id="c761a-315">**-custom**  *xmlfile*</span></span>|<span data-ttu-id="c761a-316">Agrega una condición de pertenencia personalizada.</span><span class="sxs-lookup"><span data-stu-id="c761a-316">Adds a custom membership condition.</span></span> <span data-ttu-id="c761a-317">El argumento *xmlfile* obligatorio especifica el archivo .xml que contiene la serialización en formato XML de la condición de pertenencia personalizada.</span><span class="sxs-lookup"><span data-stu-id="c761a-317">The mandatory *xmlfile* argument specifies the .xml file that contains XML serialization of the custom membership condition.</span></span>|  
|<span data-ttu-id="c761a-318">**-hash** *hashAlg* { **-hex** *hashValue* &#124; **-file** *assembly_file* }</span><span class="sxs-lookup"><span data-stu-id="c761a-318">**-hash** *hashAlg* {**-hex** *hashValue* &#124; **-file** *assembly_file* }</span></span>|<span data-ttu-id="c761a-319">Especifica el código que tiene el hash de ensamblado especificado.</span><span class="sxs-lookup"><span data-stu-id="c761a-319">Specifies code that has the given assembly hash.</span></span> <span data-ttu-id="c761a-320">Para usar un hash como condición de pertenencia de grupo de código, debe especificar el valor hash o el archivo de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="c761a-320">To use a hash as a code group membership condition, you must specify either the hash value or the assembly file.</span></span> <span data-ttu-id="c761a-321">Para obtener más información sobre esta condición de pertenencia, vea <xref:System.Security.Policy.HashMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c761a-321">For more information about this membership condition, see <xref:System.Security.Policy.HashMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="c761a-322">**-pub** { **-cert** *cert_file_name* &#124;</span><span class="sxs-lookup"><span data-stu-id="c761a-322">**-pub** { **-cert** *cert_file_name* &#124;</span></span><br /><br /> <span data-ttu-id="c761a-323">**-file** *signed_file_name* &#124; **-hex**  *hex_string* }</span><span class="sxs-lookup"><span data-stu-id="c761a-323">**-file** *signed_file_name* &#124; **-hex**  *hex_string* }</span></span>|<span data-ttu-id="c761a-324">Especifica el código que tiene el editor de software especificado, indicado por un archivo de certificado, una firma en un archivo o la representación hexadecimal de un certificado X509.</span><span class="sxs-lookup"><span data-stu-id="c761a-324">Specifies code that has the given software publisher, as denoted by a certificate file, a signature on a file, or the hexadecimal representation of an X509 certificate.</span></span> <span data-ttu-id="c761a-325">Para obtener más información sobre esta condición de pertenencia, vea <xref:System.Security.Policy.PublisherMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c761a-325">For more information about this membership condition, see <xref:System.Security.Policy.PublisherMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="c761a-326">**-site** *website*</span><span class="sxs-lookup"><span data-stu-id="c761a-326">**-site** *website*</span></span>|<span data-ttu-id="c761a-327">Especifica el código que tiene el sitio de origen especificado.</span><span class="sxs-lookup"><span data-stu-id="c761a-327">Specifies code that has the given site of origin.</span></span> <span data-ttu-id="c761a-328">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c761a-328">For example:</span></span><br /><br /> `-site** www.proseware.com`<br /><br /> <span data-ttu-id="c761a-329">Para obtener más información sobre esta condición de pertenencia, vea <xref:System.Security.Policy.SiteMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c761a-329">For more information about this membership condition, see <xref:System.Security.Policy.SiteMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="c761a-330">**-strong -file** *file_name* {*name* &#124; **-noname**} {*version* &#124; **-noversion**}</span><span class="sxs-lookup"><span data-stu-id="c761a-330">**-strong -file** *file_name* {*name* &#124; **-noname**} {*version* &#124; **-noversion**}</span></span>|<span data-ttu-id="c761a-331">Especifica el código que tiene un nombre seguro determinado, que se indica por el nombre de archivo, el nombre de ensamblado en forma de cadena y la versión del ensamblado con el formato *major*.*minor*.*build*.*revision*.</span><span class="sxs-lookup"><span data-stu-id="c761a-331">Specifies code that has a specific strong name, as designated by the file name, the assembly name as a string, and the assembly version in the format *major*.*minor*.*build*.*revision*.</span></span> <span data-ttu-id="c761a-332">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="c761a-332">For example:</span></span><br /><br /> <span data-ttu-id="c761a-333">**-strong -file** myAssembly.exe myAssembly 1.2.3.4</span><span class="sxs-lookup"><span data-stu-id="c761a-333">**-strong -file** myAssembly.exe myAssembly 1.2.3.4</span></span><br /><br /> <span data-ttu-id="c761a-334">Para obtener más información sobre esta condición de pertenencia, vea <xref:System.Security.Policy.StrongNameMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c761a-334">For more information about this membership condition, see <xref:System.Security.Policy.StrongNameMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="c761a-335">**-url** *URL*</span><span class="sxs-lookup"><span data-stu-id="c761a-335">**-url** *URL*</span></span>|<span data-ttu-id="c761a-336">Especifica el código que se origina en la dirección URL especificada.</span><span class="sxs-lookup"><span data-stu-id="c761a-336">Specifies code that originates from the given URL.</span></span> <span data-ttu-id="c761a-337">La dirección URL debe incluir un protocolo, como `http://` o `ftp://`.</span><span class="sxs-lookup"><span data-stu-id="c761a-337">The URL must include a protocol, such as `http://` or `ftp://`.</span></span> <span data-ttu-id="c761a-338">Además, puede utilizarse un carácter comodín (\*) para especificar varios ensamblados desde una dirección URL en particular.</span><span class="sxs-lookup"><span data-stu-id="c761a-338">Additionally, a wildcard character (\*) can be used to specify multiple assemblies from a particular URL.</span></span> <span data-ttu-id="c761a-339">**Nota**: Dado que una dirección URL puede identificarse mediante el uso de varios nombres, el uso de una dirección URL como condición de pertenencia no es una forma segura de confirmar la identidad del código.</span><span class="sxs-lookup"><span data-stu-id="c761a-339">**Note:**  Because a URL can be identified using multiple names, using a URL as a membership condition is not a safe way to ascertain the identity of code.</span></span> <span data-ttu-id="c761a-340">Siempre que pueda, utilice una condición de pertenencia consistente en un nombre seguro, en una compañía de software o en un hash.</span><span class="sxs-lookup"><span data-stu-id="c761a-340">Where possible, use a strong name membership condition, a publisher membership condition, or the hash membership condition.</span></span> <br /><br /> <span data-ttu-id="c761a-341">Para obtener más información sobre esta condición de pertenencia, vea <xref:System.Security.Policy.UrlMembershipCondition?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c761a-341">For more information about this membership condition, see <xref:System.Security.Policy.UrlMembershipCondition?displayProperty=nameWithType>.</span></span>|  
|<span data-ttu-id="c761a-342">**-zone** *zonename*</span><span class="sxs-lookup"><span data-stu-id="c761a-342">**-zone** *zonename*</span></span>|<span data-ttu-id="c761a-343">Especifica el código que tiene la zona de origen especificada.</span><span class="sxs-lookup"><span data-stu-id="c761a-343">Specifies code with the given zone of origin.</span></span> <span data-ttu-id="c761a-344">El argumento *nombreDeZona* puede ser cualquiera de los valores siguientes: **MyComputer**, **Intranet**, **Trusted**, **Internet** o **Untrusted**.</span><span class="sxs-lookup"><span data-stu-id="c761a-344">The *zonename* argument can be one of the following values: **MyComputer**, **Intranet**, **Trusted**, **Internet**, or **Untrusted**.</span></span> <span data-ttu-id="c761a-345">Para obtener más información sobre esta condición de pertenencia, vea la clase <xref:System.Security.Policy.ZoneMembershipCondition>.</span><span class="sxs-lookup"><span data-stu-id="c761a-345">For more information about this membership condition, see the <xref:System.Security.Policy.ZoneMembershipCondition> Class.</span></span>|  
  
 <span data-ttu-id="c761a-346">El argumento *flags*, que se puede usar con las opciones **–addgroup** y **–chggroup**, se especifica mediante uno de los argumentos siguientes.</span><span class="sxs-lookup"><span data-stu-id="c761a-346">The *flags* argument, which can be used with the **–addgroup** and **–chggroup** options, is specified using one of the following.</span></span>  
  
|<span data-ttu-id="c761a-347">Argumento</span><span class="sxs-lookup"><span data-stu-id="c761a-347">Argument</span></span>|<span data-ttu-id="c761a-348">Descripción</span><span class="sxs-lookup"><span data-stu-id="c761a-348">Description</span></span>|  
|--------------|-----------------|  
|<span data-ttu-id="c761a-349">**-description** "*descripción*"</span><span class="sxs-lookup"><span data-stu-id="c761a-349">**-description** "*description*"</span></span>|<span data-ttu-id="c761a-350">Si se usa con la opción **–addgroup**, especifica la descripción del grupo de código que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="c761a-350">If used with the **–addgroup** option, specifies the description for a code group to add.</span></span> <span data-ttu-id="c761a-351">Si se usa con la opción **–chggroup**, especifica la descripción del grupo de código que se va a modificar.</span><span class="sxs-lookup"><span data-stu-id="c761a-351">If used with the **–chggroup** option, specifies the description for a code group to edit.</span></span> <span data-ttu-id="c761a-352">El argumento *descripción* debe ir entre comillas dobles.</span><span class="sxs-lookup"><span data-stu-id="c761a-352">The *description* argument must be enclosed in double quotes.</span></span>|  
|<span data-ttu-id="c761a-353">**-exclusive** {**on**&#124;**off**}</span><span class="sxs-lookup"><span data-stu-id="c761a-353">**-exclusive** {**on**&#124;**off**}</span></span>|<span data-ttu-id="c761a-354">Cuando esta opción se establece en **on**, indica que solo se tiene en cuenta el conjunto de permisos asociado al grupo de código que se va a agregar o a modificar cuando parte del código satisface la condición de pertenencia del grupo de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-354">When set to **on**, indicates that only the permission set associated with the code group you are adding or modifying is considered when some code fits the membership condition of the code group.</span></span> <span data-ttu-id="c761a-355">Cuando esta opción se establece en **off**, Caspol.exe tiene en cuenta los conjuntos de permisos de todos los grupos de código coincidentes en el nivel de directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-355">When this option is set to **off**, Caspol.exe considers the permission sets of all matching code groups in the policy level.</span></span>|  
|<span data-ttu-id="c761a-356">**-levelfinal** {**on**&#124;**off**}</span><span class="sxs-lookup"><span data-stu-id="c761a-356">**-levelfinal** {**on**&#124;**off**}</span></span>|<span data-ttu-id="c761a-357">Cuando esta opción se establece en **on**, indica que no se tiene en cuenta ningún nivel de directiva por debajo del nivel en el que se encuentra el grupo de código agregado o modificado.</span><span class="sxs-lookup"><span data-stu-id="c761a-357">When set to **on**, indicates that no policy level below the level in which the added or modified code group occurs is considered.</span></span> <span data-ttu-id="c761a-358">Esta opción se usa normalmente en el nivel de directiva de equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-358">This option is typically used at the machine policy level.</span></span> <span data-ttu-id="c761a-359">Por ejemplo, si establece esta marca para un grupo de código en el nivel de equipo y una parte de código cumple la condición de pertenencia de este grupo de código, Caspol.exe no calcula ni aplica la directiva de nivel de usuario para este código.</span><span class="sxs-lookup"><span data-stu-id="c761a-359">For example, if you set this flag for a code group at the machine level and some code matches this code group's membership condition, Caspol.exe does not calculate or apply the user level policy for this code.</span></span>|  
|<span data-ttu-id="c761a-360">**-name** "*nombre*"</span><span class="sxs-lookup"><span data-stu-id="c761a-360">**-name** "*name*"</span></span>|<span data-ttu-id="c761a-361">Si se usa con la opción **–addgroup**, especifica el nombre de scripting del grupo de código que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="c761a-361">If used with the **–addgroup** option, specifies the scripting name for a code group to add.</span></span> <span data-ttu-id="c761a-362">Si se usa con la opción **-chggroup**, especifica el nombre de scripting del grupo de código que se va a modificar.</span><span class="sxs-lookup"><span data-stu-id="c761a-362">If used with the **-chggroup** option, specifies the scripting name for a code group to edit.</span></span> <span data-ttu-id="c761a-363">El argumento *nombre* debe ir entre comillas dobles.</span><span class="sxs-lookup"><span data-stu-id="c761a-363">The *name* argument must be enclosed in double quotes.</span></span> <span data-ttu-id="c761a-364">El argumento *nombre* no puede empezar con un número y solo puede contener caracteres de A a Z, de 0 a 9 y de subrayado.</span><span class="sxs-lookup"><span data-stu-id="c761a-364">The *name* argument cannot begin with a number, and can only contain A-Z, 0-9, and the underscore character.</span></span> <span data-ttu-id="c761a-365">Se puede hacer referencia a los grupos de código mediante el argumento *nombre* en lugar de usar su etiqueta numérica.</span><span class="sxs-lookup"><span data-stu-id="c761a-365">Code groups can be referred to by this *name* instead of by their numeric label.</span></span> <span data-ttu-id="c761a-366">El argumento *nombre* también es muy útil en materia de scripting.</span><span class="sxs-lookup"><span data-stu-id="c761a-366">The *name* is also highly useful for scripting purposes.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="c761a-367">Comentarios</span><span class="sxs-lookup"><span data-stu-id="c761a-367">Remarks</span></span>  

 <span data-ttu-id="c761a-368">La directiva de seguridad se expresa mediante tres niveles: equipo, usuario y empresa.</span><span class="sxs-lookup"><span data-stu-id="c761a-368">Security policy is expressed using three policy levels: machine policy, user policy, and enterprise policy.</span></span> <span data-ttu-id="c761a-369">El conjunto de permisos que recibe un ensamblado viene determinado por la intersección de los conjuntos de permisos permitidos por estos tres niveles de directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-369">The set of permissions that an assembly receives is determined by the intersection of the permission sets allowed by these three policy levels.</span></span> <span data-ttu-id="c761a-370">Cada nivel está representado por una estructura jerárquica de grupos de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-370">Each policy level is represented by a hierarchical structure of code groups.</span></span> <span data-ttu-id="c761a-371">Cada grupo de código tiene una condición de pertenencia que determina qué código es miembro de ese grupo.</span><span class="sxs-lookup"><span data-stu-id="c761a-371">Every code group has a membership condition that determines which code is a member of that group.</span></span> <span data-ttu-id="c761a-372">Asimismo, cada grupo de código tiene asociado un conjunto de permisos con nombre.</span><span class="sxs-lookup"><span data-stu-id="c761a-372">A named permission set is also associated with each code group.</span></span> <span data-ttu-id="c761a-373">Este conjunto de permisos especifica los permisos que el runtime permite que tenga el código que satisface la condición de pertenencia.</span><span class="sxs-lookup"><span data-stu-id="c761a-373">This permission set specifies the permissions the runtime allows code that satisfies the membership condition to have.</span></span> <span data-ttu-id="c761a-374">Una jerarquía de grupos de código, junto con sus conjuntos de permisos con nombre asociados, define y conserva cada nivel de directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-374">A code group hierarchy, along with its associated named permission sets, defines and maintains each level of security policy.</span></span> <span data-ttu-id="c761a-375">Puede usar las opciones **–user**, **-customuser**, **–machine** y **-enterprise** para establecer el nivel de la directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-375">You can use the **–user**, **-customuser**, **–machine** and **-enterprise** options to set the level of security policy.</span></span>  
  
 <span data-ttu-id="c761a-376">Para más información sobre la directiva de seguridad y el modo en que el runtime determina qué permisos se conceden al código, consulte [Administración de directivas de seguridad](/previous-versions/dotnet/netframework-4.0/c1k0eed6(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="c761a-376">For more information about security policy and how the runtime determines which permissions to grant to code, see [Security Policy Management](/previous-versions/dotnet/netframework-4.0/c1k0eed6(v=vs.100)).</span></span>  
  
## <a name="referencing-code-groups-and-permission-sets"></a><span data-ttu-id="c761a-377">Hacer referencia a grupos de código y conjuntos de permisos</span><span class="sxs-lookup"><span data-stu-id="c761a-377">Referencing Code Groups and Permission Sets</span></span>  

 <span data-ttu-id="c761a-378">Para facilitar las referencias a grupos de código en una jerarquía, la opción **-list** muestra una lista de grupos de código con sangría junto con sus etiquetas numéricas (1, 1.1, 1.1.1, etc.).</span><span class="sxs-lookup"><span data-stu-id="c761a-378">To facilitate references to code groups in a hierarchy, the **-list** option displays an indented list of code groups along with their numerical labels (1, 1.1, 1.1.1, and so on).</span></span> <span data-ttu-id="c761a-379">Las demás operaciones de línea de comandos cuyo destino son los grupos de código también usan etiquetas numéricas para hacer referencia a grupos de código específicos.</span><span class="sxs-lookup"><span data-stu-id="c761a-379">The other command-line operations that target code groups also use the numerical labels to refer to specific code groups.</span></span>  
  
 <span data-ttu-id="c761a-380">Para hacer referencia a los conjuntos de permisos con nombre, se usan sus nombres.</span><span class="sxs-lookup"><span data-stu-id="c761a-380">Named permission sets are referenced by their names.</span></span> <span data-ttu-id="c761a-381">La opción **–list** muestra la lista de grupos de código seguida de una lista de conjuntos de permisos con nombre disponibles en esa directiva.</span><span class="sxs-lookup"><span data-stu-id="c761a-381">The **–list** option displays the list of code groups followed by a list of named permission sets available in that policy.</span></span>  
  
## <a name="caspolexe-behavior"></a><span data-ttu-id="c761a-382">Comportamiento de Caspol.exe</span><span class="sxs-lookup"><span data-stu-id="c761a-382">Caspol.exe Behavior</span></span>  

 <span data-ttu-id="c761a-383">Todas las opciones excepto **-s**[**ecurity**] {**on** &#124; **off**} usan la versión de .NET Framework con la que se instaló Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-383">All options except **-s**[**ecurity**] {**on** &#124; **off**} use the version of the .NET Framework that Caspol.exe was installed with.</span></span> <span data-ttu-id="c761a-384">Si ejecuta la herramienta Caspol.exe que se instaló con la versión *X* del runtime, los cambios solo afectan a dicha versión.</span><span class="sxs-lookup"><span data-stu-id="c761a-384">If you run the Caspol.exe that was installed with version *X* of the runtime, the changes apply only to that version.</span></span> <span data-ttu-id="c761a-385">Si hay otras instalaciones en paralelo del runtime, no se ven afectadas.</span><span class="sxs-lookup"><span data-stu-id="c761a-385">Other side-by-side installations of the runtime, if any, are not affected.</span></span> <span data-ttu-id="c761a-386">Si ejecuta Caspol.exe desde la línea de comandos sin estar en un directorio de una versión del runtime específica, la herramienta se ejecuta desde el primer directorio de la versión del runtime existente en la ruta de acceso (normalmente la última versión instalada del runtime).</span><span class="sxs-lookup"><span data-stu-id="c761a-386">If you run Caspol.exe from the command line without being in a directory for a specific runtime version, the tool is executed from the first runtime version directory in the path (usually the most recent runtime version installed).</span></span>  
  
 <span data-ttu-id="c761a-387">La opción **-s**[**ecurity**] {**on** &#124; **off**} es una operación que afecta a todo el equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-387">The **-s**[**ecurity**] {**on** &#124; **off**} option is a computer-wide operation.</span></span> <span data-ttu-id="c761a-388">Cuando se desactiva la seguridad de acceso del código se pone fin a las comprobaciones de seguridad de todo el código administrado y de todos los usuarios del equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-388">Turning off code access security terminates security checks for all managed code and for all users on the computer.</span></span> <span data-ttu-id="c761a-389">Si se instalan en paralelo varias versiones de .NET Framework, este comando desactiva la seguridad de todas las versiones instaladas en el equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-389">If side-by-side versions of the .NET Framework are installed, this command turns off security for every version installed on the computer.</span></span> <span data-ttu-id="c761a-390">Aunque la opción **-list** muestra que la seguridad está desactivada, no hay ningún otro indicio que indique claramente este hecho a los demás usuarios.</span><span class="sxs-lookup"><span data-stu-id="c761a-390">Although the **-list** option shows that security is turned off, nothing else clearly indicates for other users that security has been turned off.</span></span>  
  
 <span data-ttu-id="c761a-391">Cuando un usuario sin derechos administrativos ejecuta Caspol.exe, todas las opciones hacen referencia a la directiva de nivel de usuario, salvo que se especifique la opción **–machine**.</span><span class="sxs-lookup"><span data-stu-id="c761a-391">When a user without administrative rights runs Caspol.exe, all options refer to the user level policy unless the **–machine** option is specified.</span></span> <span data-ttu-id="c761a-392">Cuando un administrador ejecuta Caspol.exe, todas las opciones hacen referencia a la directiva de equipo, salvo que se especifique la opción **–user**.</span><span class="sxs-lookup"><span data-stu-id="c761a-392">When an administrator runs Caspol.exe, all options refer to the machine policy unless the **–user** option is specified.</span></span>  
  
 <span data-ttu-id="c761a-393">Para que Caspol.exe funcione, debe tener concedido el equivalente al conjunto de permisos **Everything**.</span><span class="sxs-lookup"><span data-stu-id="c761a-393">Caspol.exe must be granted the equivalent of the **Everything** permission set to function.</span></span> <span data-ttu-id="c761a-394">La herramienta dispone de un mecanismo de protección que evita que la directiva se modifique con el objeto de impedir la concesión a Caspol.exe de los permisos que necesita para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="c761a-394">The tool has a protective mechanism that prevents policy from being modified in ways that would prevent Caspol.exe from being granted the permissions it needs to run.</span></span> <span data-ttu-id="c761a-395">Cuando se intenta realizar algún cambio de ese tipo en la directiva, Caspol.exe informa de que dicho cambio bloqueará la herramienta y lo rechaza.</span><span class="sxs-lookup"><span data-stu-id="c761a-395">If you try to make such changes, Caspol.exe notifies you that the requested policy change will break the tool, and the policy change is rejected.</span></span> <span data-ttu-id="c761a-396">Este mecanismo de protección se puede desactivar para un comando determinado mediante la opción **–force**.</span><span class="sxs-lookup"><span data-stu-id="c761a-396">You can turn this protective mechanism off for a given command by using the **–force** option.</span></span>  
  
<a name="cpgrfcodeaccesssecuritypolicyutilitycaspolexeanchor1"></a>

## <a name="manually-editing-the-security-configuration-files"></a><span data-ttu-id="c761a-397">Editar manualmente archivos de configuración de seguridad</span><span class="sxs-lookup"><span data-stu-id="c761a-397">Manually Editing the Security Configuration Files</span></span>  

 <span data-ttu-id="c761a-398">Existen tres archivos de configuración de seguridad que se corresponden con los tres niveles de directiva admitidos por Caspol.exe: uno para la directiva de equipo, otro para la directiva del usuario especificado, y un tercero para la directiva de empresa.</span><span class="sxs-lookup"><span data-stu-id="c761a-398">Three security configuration files correspond to the three policy levels supported by Caspol.exe: one for the machine policy, one for a given user's policy, and one for the enterprise policy.</span></span> <span data-ttu-id="c761a-399">Estos archivos se crean únicamente en el disco cuando se modifica la directiva de equipo, usuario o empresa mediante Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-399">These files are created on disk only when machine, user, or enterprise policy is changed using Caspol.exe.</span></span> <span data-ttu-id="c761a-400">Puede usar la opción **–reset** de Caspol.exe para guardar la directiva de seguridad predeterminada en el disco si fuera necesario.</span><span class="sxs-lookup"><span data-stu-id="c761a-400">You can use the **–reset** option in Caspol.exe to save the default security policy to disk, if needed.</span></span>  
  
 <span data-ttu-id="c761a-401">En la mayoría de los casos, no es recomendable editar manualmente los archivos de configuración de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c761a-401">In most cases, manually editing the security configuration files is not recommended.</span></span> <span data-ttu-id="c761a-402">Pero puede haber escenarios en los que sea necesario modificar estos archivos, como cuando un administrador desea editar la configuración de seguridad para un usuario concreto.</span><span class="sxs-lookup"><span data-stu-id="c761a-402">But there might be scenarios in which modifying these files becomes necessary, such as when an administrator wants to edit the security configuration for a particular user.</span></span>  
  
## <a name="examples"></a><span data-ttu-id="c761a-403">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="c761a-403">Examples</span></span>  

 <span data-ttu-id="c761a-404">**-addfulltrust**</span><span class="sxs-lookup"><span data-stu-id="c761a-404">**-addfulltrust**</span></span>  
  
 <span data-ttu-id="c761a-405">Suponga que se ha agregado a la directiva de equipo un conjunto de permisos que contiene un permiso personalizado.</span><span class="sxs-lookup"><span data-stu-id="c761a-405">Assume that a permission set containing a custom permission has been added to machine policy.</span></span> <span data-ttu-id="c761a-406">Este permiso personalizado se implementa en `MyPerm.exe` y `MyPerm.exe` hace referencia a clases de `MyOther.exe`.</span><span class="sxs-lookup"><span data-stu-id="c761a-406">This custom permission is implemented in `MyPerm.exe`, and `MyPerm.exe` references classes in `MyOther.exe`.</span></span> <span data-ttu-id="c761a-407">Ambos ensamblados de deben agregar a la lista de ensamblados de plena confianza.</span><span class="sxs-lookup"><span data-stu-id="c761a-407">Both assemblies must be added to the full trust assembly list.</span></span> <span data-ttu-id="c761a-408">El comando siguiente agrega el ensamblado `MyPerm.exe` a la lista de plena confianza de la directiva de equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-408">The following command adds the `MyPerm.exe` assembly to the full trust list for the machine policy.</span></span>  
  
```console  
caspol -machine -addfulltrust MyPerm.exe  
```  
  
 <span data-ttu-id="c761a-409">El comando siguiente agrega el ensamblado `MyOther.exe` a la lista de plena confianza de la directiva de equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-409">The following command adds the `MyOther.exe` assembly to the full trust list for the machine policy.</span></span>  
  
```console  
caspol -machine -addfulltrust MyOther.exe  
```  
  
 <span data-ttu-id="c761a-410">**-addgroup**</span><span class="sxs-lookup"><span data-stu-id="c761a-410">**-addgroup**</span></span>  
  
 <span data-ttu-id="c761a-411">El comando siguiente agrega un grupo de código secundario a la raíz de la jerarquía de grupos de código de la directiva de equipo.</span><span class="sxs-lookup"><span data-stu-id="c761a-411">The following command adds a child code group to the root of the machine policy code group hierarchy.</span></span> <span data-ttu-id="c761a-412">El nuevo grupo de código es miembro de la zona **Internet** y está asociado al conjunto de permisos **Execution**.</span><span class="sxs-lookup"><span data-stu-id="c761a-412">The new code group is a member of the **Internet** zone and is associated with the **Execution** permission set.</span></span>  
  
```console  
caspol -machine -addgroup 1.  -zone Internet Execution  
```  
  
 <span data-ttu-id="c761a-413">El siguiente comando agrega un grupo de código secundario que concede permisos de intranet local al recurso compartido \\\netserver\netshare.</span><span class="sxs-lookup"><span data-stu-id="c761a-413">The following command adds a child code group that gives the share \\\netserver\netshare local intranet permissions.</span></span>  
  
```console  
caspol -machine -addgroup 1. -url \\netserver\netshare\* LocalIntranet  
```  
  
 <span data-ttu-id="c761a-414">**-addpset**</span><span class="sxs-lookup"><span data-stu-id="c761a-414">**-addpset**</span></span>  
  
 <span data-ttu-id="c761a-415">El comando siguiente agrega el conjunto de permisos `Mypset` a la directiva de usuario.</span><span class="sxs-lookup"><span data-stu-id="c761a-415">The following command adds the `Mypset` permission set to the user policy.</span></span>  
  
```console  
caspol -user -addpset Mypset.xml Mypset  
```  
  
 <span data-ttu-id="c761a-416">**-chggroup**</span><span class="sxs-lookup"><span data-stu-id="c761a-416">**-chggroup**</span></span>  
  
 <span data-ttu-id="c761a-417">El comando siguiente cambia el conjunto de permisos de la directiva de usuario del grupo de código cuya etiqueta es 1.2.</span><span class="sxs-lookup"><span data-stu-id="c761a-417">The following command changes the permission set in the user policy of the code group labeled 1.2.</span></span> <span data-ttu-id="c761a-418">para el conjunto de permisos **Execution**.</span><span class="sxs-lookup"><span data-stu-id="c761a-418">to the **Execution** permission set.</span></span>  
  
```console  
caspol -user -chggroup 1.2. Execution  
```  
  
 <span data-ttu-id="c761a-419">El comando siguiente cambia la condición de pertenencia de la directiva predeterminada del grupo de código cuya etiqueta es 1.2.1.</span><span class="sxs-lookup"><span data-stu-id="c761a-419">The following command changes the membership condition in the default policy of the code group labeled 1.2.1.</span></span> <span data-ttu-id="c761a-420">y cambia el valor de la marca **exclusive**.</span><span class="sxs-lookup"><span data-stu-id="c761a-420">and changes the setting of the **exclusive** flag.</span></span> <span data-ttu-id="c761a-421">La condición de pertenencia se define como código que se origina en la zona **Internet** y se activa la marca **exclusive**.</span><span class="sxs-lookup"><span data-stu-id="c761a-421">The membership condition is defined to be code that originates from the **Internet** zone and the **exclusive** flag is switched on.</span></span>  
  
```console  
caspol -chggroup 1.2.1. -zone Internet -exclusive on  
```  
  
 <span data-ttu-id="c761a-422">**-chgpset**</span><span class="sxs-lookup"><span data-stu-id="c761a-422">**-chgpset**</span></span>  
  
 <span data-ttu-id="c761a-423">El comando siguiente cambia el conjunto de permisos denominado `Mypset` por el conjunto de permisos contenido en `newpset.xml`.</span><span class="sxs-lookup"><span data-stu-id="c761a-423">The following command changes the permission set with name `Mypset` to the permission set contained in `newpset.xml`.</span></span> <span data-ttu-id="c761a-424">Tenga en cuenta que la versión actual no permite cambiar conjuntos de permisos que se estén usando en la jerarquía de grupos de código.</span><span class="sxs-lookup"><span data-stu-id="c761a-424">Note that the current release does not support changing permission sets that are being used by the code group hierarchy.</span></span>  
  
```console  
caspol -chgpset Mypset newpset.xml  
```  
  
 <span data-ttu-id="c761a-425">**-force**</span><span class="sxs-lookup"><span data-stu-id="c761a-425">**-force**</span></span>  
  
 <span data-ttu-id="c761a-426">El comando siguiente hace que el grupo de código raíz de la directiva de usuario (con la etiqueta numérica 1) se asocie al conjunto de permisos denominado **Nothing**.</span><span class="sxs-lookup"><span data-stu-id="c761a-426">The following command causes the user policy's root code group (labeled 1) to be associated with the **Nothing** named permission set.</span></span> <span data-ttu-id="c761a-427">Esto impide la ejecución de Caspol.exe.</span><span class="sxs-lookup"><span data-stu-id="c761a-427">This prevents Caspol.exe from running.</span></span>  
  
```console  
caspol -force -user -chggroup 1 Nothing  
```  
  
 <span data-ttu-id="c761a-428">**-recover**</span><span class="sxs-lookup"><span data-stu-id="c761a-428">**-recover**</span></span>  
  
 <span data-ttu-id="c761a-429">El comando siguiente recupera la última directiva de equipo guardada.</span><span class="sxs-lookup"><span data-stu-id="c761a-429">The following command recovers the most recently saved machine policy.</span></span>  
  
```console  
caspol -machine -recover  
```  
  
 <span data-ttu-id="c761a-430">**-remgroup**</span><span class="sxs-lookup"><span data-stu-id="c761a-430">**-remgroup**</span></span>  
  
 <span data-ttu-id="c761a-431">El comando siguiente quita el grupo de código con la etiqueta numérica 1.1.</span><span class="sxs-lookup"><span data-stu-id="c761a-431">The following command removes the code group labeled 1.1.</span></span> <span data-ttu-id="c761a-432">Si este grupo de código tiene grupos de código secundarios, estos también se eliminan.</span><span class="sxs-lookup"><span data-stu-id="c761a-432">If this code group has any child code groups, those groups are also deleted.</span></span>  
  
```console  
caspol -remgroup 1.1.  
```  
  
 <span data-ttu-id="c761a-433">**-rempset**</span><span class="sxs-lookup"><span data-stu-id="c761a-433">**-rempset**</span></span>  
  
 <span data-ttu-id="c761a-434">El comando siguiente quita el conjunto de permisos **Execution** de la directiva de usuario.</span><span class="sxs-lookup"><span data-stu-id="c761a-434">The following command removes the **Execution** permission set from the user policy.</span></span>  
  
```console  
caspol -user -rempset Execution  
```  
  
 <span data-ttu-id="c761a-435">El comando siguiente quita `Mypset` del nivel de directiva de usuario.</span><span class="sxs-lookup"><span data-stu-id="c761a-435">The following command removes `Mypset` from the user policy level.</span></span>  
  
```console  
caspol -rempset MyPset  
```  
  
 <span data-ttu-id="c761a-436">**-resolvegroup**</span><span class="sxs-lookup"><span data-stu-id="c761a-436">**-resolvegroup**</span></span>  
  
 <span data-ttu-id="c761a-437">El comando siguiente muestra todos los grupos de código de la directiva de equipo a la que pertenece `myassembly`.</span><span class="sxs-lookup"><span data-stu-id="c761a-437">The following command shows all code groups of the machine policy that `myassembly` belongs to.</span></span>  
  
```console  
caspol -machine -resolvegroup myassembly  
```  
  
 <span data-ttu-id="c761a-438">El comando siguiente muestra todos los grupos de código de las directivas de equipo, empresa y usuario personalizado especificado a las que pertenece `myassembly`.</span><span class="sxs-lookup"><span data-stu-id="c761a-438">The following command shows all code groups of the machine, enterprise, and specified custom user policy that `myassembly` belongs to.</span></span>  
  
```console  
caspol -customall "c:\config_test\security.config" -resolvegroup myassembly  
```  
  
 <span data-ttu-id="c761a-439">**-resolveperm**</span><span class="sxs-lookup"><span data-stu-id="c761a-439">**-resolveperm**</span></span>  
  
 <span data-ttu-id="c761a-440">El comando siguiente calcula los permisos correspondientes a `testassembly` basándose en los niveles de directiva de equipo y usuario.</span><span class="sxs-lookup"><span data-stu-id="c761a-440">The following command calculates the permissions for `testassembly` based on the machine and user policy levels.</span></span>  
  
```console  
caspol -all -resolveperm testassembly  
```  
  
## <a name="see-also"></a><span data-ttu-id="c761a-441">Vea también</span><span class="sxs-lookup"><span data-stu-id="c761a-441">See also</span></span>

- [<span data-ttu-id="c761a-442">Herramientas</span><span class="sxs-lookup"><span data-stu-id="c761a-442">Tools</span></span>](index.md)
- [<span data-ttu-id="c761a-443">Shells de línea de comandos para desarrolladores</span><span class="sxs-lookup"><span data-stu-id="c761a-443">Developer command-line shells</span></span>](/visualstudio/ide/reference/command-prompt-powershell)
