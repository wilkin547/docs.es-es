---
title: Personalizar la apariencia de un control existente creando una clase ControlTemplate
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- control contract [WPF]
- controls [WPF], visual structure changes
- ControlTemplate [WPF], customizing for existing controls
- skinning controls [WPF]
- controls [WPF], appearance specified by state
- templates [WPF], custom for existing controls
ms.assetid: 678dd116-43a2-4b8c-82b5-6b826f126e31
ms.openlocfilehash: bbdc79fabf8dbe344baae66d718d79ac6375db7e
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/04/2018
ms.locfileid: "33558062"
---
# <a name="customizing-the-appearance-of-an-existing-control-by-creating-a-controltemplate"></a><span data-ttu-id="1e9ab-102">Personalizar la apariencia de un control existente creando una clase ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="1e9ab-102">Customizing the Appearance of an Existing Control by Creating a ControlTemplate</span></span>
<a name="introduction"></a> <span data-ttu-id="1e9ab-103">A <xref:System.Windows.Controls.ControlTemplate> especifica la estructura visual y el comportamiento visual de un control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-103">A <xref:System.Windows.Controls.ControlTemplate> specifies the visual structure and visual behavior of a control.</span></span> <span data-ttu-id="1e9ab-104">Puede personalizar la apariencia de un control dando a TI un nuevo <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-104">You can customize the appearance of a control by giving it a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="1e9ab-105">Cuando se crea un <xref:System.Windows.Controls.ControlTemplate>, reemplace la apariencia de un control existente sin cambiar su funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-105">When you create a <xref:System.Windows.Controls.ControlTemplate>, you replace the appearance of an existing control without changing its functionality.</span></span> <span data-ttu-id="1e9ab-106">Por ejemplo, puede que los botones de la aplicación redondeado en lugar de la forma de cuadrado de forma predeterminada, pero el botón seguirá generando el <xref:System.Windows.Controls.Primitives.ButtonBase.Click> eventos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-106">For example, you can make the buttons in your application round instead of the default square shape, but the button will still raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
 <span data-ttu-id="1e9ab-107">Este tema explica las distintas partes de un <xref:System.Windows.Controls.ControlTemplate>, se muestra cómo crear un sencillo <xref:System.Windows.Controls.ControlTemplate> para un <xref:System.Windows.Controls.Button>y se explica cómo entender el contrato de un control para que puedan personalizar su apariencia.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-107">This topic explains the various parts of a <xref:System.Windows.Controls.ControlTemplate>, demonstrates creating a simple <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>, and explains how to understand the control contract of a control so that you can customize its appearance.</span></span> <span data-ttu-id="1e9ab-108">Ya que usted crea un <xref:System.Windows.Controls.ControlTemplate> en [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], puede cambiar el aspecto de un control sin escribir ningún código.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-108">Because you create a <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can change a control's appearance without writing any code.</span></span> <span data-ttu-id="1e9ab-109">También puede usar un diseñador, como Microsoft Expression Blend, para crear plantillas de control personalizado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-109">You can also use a designer, such as Microsoft Expression Blend, to create custom control templates.</span></span> <span data-ttu-id="1e9ab-110">En este tema se muestra ejemplos en los [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] que personalizar la apariencia de un <xref:System.Windows.Controls.Button> y muestra el ejemplo completo al final del tema.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-110">This topic shows examples in the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that customize the appearance of a <xref:System.Windows.Controls.Button> and lists the complete example at the end of the topic.</span></span> <span data-ttu-id="1e9ab-111">Para más información acerca del uso de Expression Blend, consulte [Aplicar estilos a un control que admite plantillas](http://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="1e9ab-111">For more information about using Expression Blend, see [Styling a control that supports templates](http://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
 <span data-ttu-id="1e9ab-112">El siguientes ilustraciones se muestra un <xref:System.Windows.Controls.Button> que usa el <xref:System.Windows.Controls.ControlTemplate> que se crea en este tema.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-112">The following illustrations show a <xref:System.Windows.Controls.Button> that uses the <xref:System.Windows.Controls.ControlTemplate> that is created in this topic.</span></span>  
  
 <span data-ttu-id="1e9ab-113">![Botón con una plantilla de control personalizada. ] (../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-113">![A button with a custom control template.](../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="1e9ab-114">Un botón que usa una plantilla de control personalizado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-114">A button that uses a custom control template</span></span>  
  
 <span data-ttu-id="1e9ab-115">![Un botón con un borde rojo. ] (../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-115">![A button with a red border.](../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="1e9ab-116">Un botón que usa una plantilla de control personalizado y tiene el puntero del mouse sobre él.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-116">A button that uses a custom control template and has the mouse pointer over it</span></span>  
  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="1e9ab-117">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="1e9ab-117">Prerequisites</span></span>  
 <span data-ttu-id="1e9ab-118">En este tema se supone que sabe cómo crear y usar controles y estilos, como se describe en [Controls](../../../../docs/framework/wpf/controls/index.md) (Controles).</span><span class="sxs-lookup"><span data-stu-id="1e9ab-118">This topic assumes that you understand how to create and use controls and styles as discussed in [Controls](../../../../docs/framework/wpf/controls/index.md).</span></span> <span data-ttu-id="1e9ab-119">Los conceptos tratados en este tema se aplican a los elementos que heredan de la <xref:System.Windows.Controls.Control> (clase), excepto para el <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-119">The concepts discussed in this topic apply to elements that inherit from the <xref:System.Windows.Controls.Control> class, except for the <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="1e9ab-120">No se puede aplicar un <xref:System.Windows.Controls.ControlTemplate> a una <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-120">You cannot apply a <xref:System.Windows.Controls.ControlTemplate> to a <xref:System.Windows.Controls.UserControl>.</span></span>  
  
<a name="when_you_should_create_a_controltemplate"></a>   
## <a name="when-you-should-create-a-controltemplate"></a><span data-ttu-id="1e9ab-121">Cuándo se debe crear un control ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="1e9ab-121">When You Should Create a ControlTemplate</span></span>  
 <span data-ttu-id="1e9ab-122">Los controles tienen muchas propiedades, como <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, y <xref:System.Windows.Controls.Control.FontFamily%2A>, que puede establecer para especificar distintos aspectos de la apariencia del control, pero los cambios que se pueden hacer estableciendo estas propiedades son limitados.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-122">Controls have many properties, such as <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontFamily%2A>, that you can set to specify different aspects of the control's appearance, but the changes that you can make by setting these properties are limited.</span></span> <span data-ttu-id="1e9ab-123">Por ejemplo, puede establecer la <xref:System.Windows.Controls.Control.Foreground%2A> propiedad a azul y <xref:System.Windows.Controls.Control.FontStyle%2A> en cursiva en un <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-123">For example, you can set the <xref:System.Windows.Controls.Control.Foreground%2A> property to blue and <xref:System.Windows.Controls.Control.FontStyle%2A> to italic on a <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="1e9ab-124">Sin la capacidad para crear un nuevo <xref:System.Windows.Controls.ControlTemplate> para los controles, todos los controles en cada [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-aplicación basada en tendría el mismo aspecto general, lo que limitaría la capacidad para crear una aplicación con una apariencia personalizada.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-124">Without the ability to create a new <xref:System.Windows.Controls.ControlTemplate> for controls, all controls in every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-based application would have the same general appearance, which would limit the ability to create an application with a custom look and feel.</span></span> <span data-ttu-id="1e9ab-125">De forma predeterminada, cada <xref:System.Windows.Controls.CheckBox> tiene características similares.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-125">By default, every <xref:System.Windows.Controls.CheckBox> has similar characteristics.</span></span> <span data-ttu-id="1e9ab-126">Por ejemplo, el contenido de la <xref:System.Windows.Controls.CheckBox> siempre está a la derecha del indicador de selección, y siempre se utiliza la marca de verificación para indicar que el <xref:System.Windows.Controls.CheckBox> está seleccionada.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-126">For example, the content of the <xref:System.Windows.Controls.CheckBox> is always to the right of the selection indicator, and the check mark is always used to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="1e9ab-127">Crear un <xref:System.Windows.Controls.ControlTemplate> cuando desee personalizar la apariencia del control más allá de qué establecer otras propiedades en el control llevará a cabo.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-127">You create a <xref:System.Windows.Controls.ControlTemplate> when you want to customize the control's appearance beyond what setting the other properties on the control will do.</span></span> <span data-ttu-id="1e9ab-128">En el ejemplo de la <xref:System.Windows.Controls.CheckBox>, suponga que desea que el contenido de la casilla de verificación por encima del indicador de selección y que aparezca una X para indicar que el <xref:System.Windows.Controls.CheckBox> está seleccionada.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-128">In the example of the <xref:System.Windows.Controls.CheckBox>, suppose that you want the content of the check box to be above the selection indicator and you want an X to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span> <span data-ttu-id="1e9ab-129">Especifique estos cambios en el <xref:System.Windows.Controls.ControlTemplate> de la <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-129">You specify these changes in the <xref:System.Windows.Controls.ControlTemplate> of the <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="1e9ab-130">La siguiente ilustración muestra un <xref:System.Windows.Controls.CheckBox> que utiliza el valor predeterminado es <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-130">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a default <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="1e9ab-131">![Casilla con la plantilla de control predeterminada. ] (../../../../docs/framework/wpf/controls/media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-131">![A checkbox with the default control template.](../../../../docs/framework/wpf/controls/media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span></span>  
<span data-ttu-id="1e9ab-132">Un control CheckBox que usa la plantilla de control predeterminada</span><span class="sxs-lookup"><span data-stu-id="1e9ab-132">A CheckBox that uses the default control template</span></span>  
  
 <span data-ttu-id="1e9ab-133">La siguiente ilustración muestra un <xref:System.Windows.Controls.CheckBox> que usa un personalizado <xref:System.Windows.Controls.ControlTemplate> para colocar el contenido de la <xref:System.Windows.Controls.CheckBox> encima de los indicadores de selección y muestra una X cuando el <xref:System.Windows.Controls.CheckBox> está seleccionada.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-133">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a custom <xref:System.Windows.Controls.ControlTemplate> to place the content of the <xref:System.Windows.Controls.CheckBox> above the selection indicator and displays an X when the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="1e9ab-134">![Casilla con una plantilla de control personalizada. ] (../../../../docs/framework/wpf/controls/media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-134">![A checkbox with a custom control template.](../../../../docs/framework/wpf/controls/media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span></span>  
<span data-ttu-id="1e9ab-135">Un control CheckBox que usa una plantilla de control personalizado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-135">A CheckBox that uses a custom control template</span></span>  
  
 <span data-ttu-id="1e9ab-136">El <xref:System.Windows.Controls.ControlTemplate> para el <xref:System.Windows.Controls.CheckBox> en este ejemplo es relativamente compleja, por lo que este tema utiliza un ejemplo más sencillo de creación de un <xref:System.Windows.Controls.ControlTemplate> para un <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-136">The <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.CheckBox> in this sample is relatively complex, so this topic uses a simpler example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>.</span></span>  
  
<a name="changing_the_visual_structure_of_a_control"></a>   
## <a name="changing-the-visual-structure-of-a-control"></a><span data-ttu-id="1e9ab-137">Cambio de la estructura visual de un control</span><span class="sxs-lookup"><span data-stu-id="1e9ab-137">Changing the Visual Structure of a Control</span></span>  
 <span data-ttu-id="1e9ab-138">En [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], un control a menudo es una composición <xref:System.Windows.FrameworkElement> objetos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a control is often a composite <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="1e9ab-139">Cuando se crea un <xref:System.Windows.Controls.ControlTemplate>, se combinan <xref:System.Windows.FrameworkElement> objetos que se va a crear un control único.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-139">When you create a <xref:System.Windows.Controls.ControlTemplate>, you combine <xref:System.Windows.FrameworkElement> objects to build a single control.</span></span> <span data-ttu-id="1e9ab-140">A <xref:System.Windows.Controls.ControlTemplate> sólo puede tener una <xref:System.Windows.FrameworkElement> como elemento raíz.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-140">A <xref:System.Windows.Controls.ControlTemplate> must have only one <xref:System.Windows.FrameworkElement> as its root element.</span></span> <span data-ttu-id="1e9ab-141">El elemento raíz normalmente contiene otros <xref:System.Windows.FrameworkElement> objetos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-141">The root element usually contains other <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="1e9ab-142">La combinación de objetos constituye la estructura visual del control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-142">The combination of objects makes up the control's visual structure.</span></span>  
  
 <span data-ttu-id="1e9ab-143">En el ejemplo siguiente se crea un personalizado <xref:System.Windows.Controls.ControlTemplate> para el <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-143">The following example creates a custom <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="1e9ab-144">El <xref:System.Windows.Controls.ControlTemplate> crea la estructura visual de la <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-144">The <xref:System.Windows.Controls.ControlTemplate> creates the visual structure of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="1e9ab-145">En este ejemplo no cambia la apariencia del botón al mover el puntero del mouse sobre él o hacer clic en él.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-145">This example does not change the button's appearance when you move the mouse pointer over it or click it.</span></span> <span data-ttu-id="1e9ab-146">El cambio de la apariencia del botón cuando se encuentra en un estado diferente se explica más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-146">Changing the button's appearance when it is in a different state is discussed later in this topic.</span></span>  
  
 <span data-ttu-id="1e9ab-147">En este ejemplo, la estructura visual consta de las siguientes partes:</span><span class="sxs-lookup"><span data-stu-id="1e9ab-147">In this example, the visual structure consists of the following parts:</span></span>  
  
-   <span data-ttu-id="1e9ab-148">A <xref:System.Windows.Controls.Border> denominado `RootElement` que sirve como raíz de la plantilla <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-148">A <xref:System.Windows.Controls.Border> named `RootElement` that serves as the template's root <xref:System.Windows.FrameworkElement>.</span></span>  
  
-   <span data-ttu-id="1e9ab-149">A <xref:System.Windows.Controls.Grid> que es un elemento secundario de `RootElement`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-149">A <xref:System.Windows.Controls.Grid> that is a child of `RootElement`.</span></span>  
  
-   <span data-ttu-id="1e9ab-150">Un <xref:System.Windows.Controls.ContentPresenter> que muestra el contenido del botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-150">A <xref:System.Windows.Controls.ContentPresenter> that displays the button's content.</span></span> <span data-ttu-id="1e9ab-151">El <xref:System.Windows.Controls.ContentPresenter> permite cualquier tipo de objeto que se mostrará.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-151">The <xref:System.Windows.Controls.ContentPresenter> enables any type of object to be displayed.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#BasicTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#basictemplate)]  
  
### <a name="preserving-the-functionality-of-a-controls-properties-by-using-templatebinding"></a><span data-ttu-id="1e9ab-152">Conservación de la funcionalidad de las propiedades de un control mediante TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="1e9ab-152">Preserving the Functionality of a Control's Properties by Using TemplateBinding</span></span>  
 <span data-ttu-id="1e9ab-153">Cuando se crea un nuevo <xref:System.Windows.Controls.ControlTemplate>, todavía puede usar las propiedades públicas para cambiar la apariencia del control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-153">When you create a new <xref:System.Windows.Controls.ControlTemplate>, you still might want to use the public properties to change the control's appearance.</span></span> <span data-ttu-id="1e9ab-154">El [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) extensión de marcado enlaza una propiedad de un elemento que se encuentra en la <xref:System.Windows.Controls.ControlTemplate> a una propiedad pública definida por el control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-154">The [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) markup extension binds a property of an element that is in the <xref:System.Windows.Controls.ControlTemplate> to a public property that is defined by the control.</span></span> <span data-ttu-id="1e9ab-155">Cuando se usa [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md), se habilitan propiedades en el control que actúan como parámetros de la plantilla.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-155">When you use [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md), you enable properties on the control to act as parameters to the template.</span></span> <span data-ttu-id="1e9ab-156">Es decir, cuando se establece una propiedad de un control, ese valor se pasa al elemento que tiene la extensión [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="1e9ab-156">That is, when a property on a control is set, that value is passed on to the element that has the [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) on it.</span></span>  
  
 <span data-ttu-id="1e9ab-157">En el ejemplo siguiente se repite la parte del ejemplo anterior que usa el [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) extensión de marcado para enlazar propiedades de elementos que se encuentran en el <xref:System.Windows.Controls.ControlTemplate> a las propiedades públicas que están definidas en el botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-157">The following example repeats the part of the preceding example that uses the [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the button.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#TemplateBinding](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#templatebinding)]  
  
 <span data-ttu-id="1e9ab-158">En este ejemplo, el <xref:System.Windows.Controls.Grid> tiene su <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> propiedad plantilla enlaza a <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-158">In this example, the <xref:System.Windows.Controls.Grid> has its <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> property template bound to <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="1e9ab-159">Dado que <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> está enlazado a la plantilla, puede crear varios botones que utilizan el mismo <xref:System.Windows.Controls.ControlTemplate> y establezca el <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> en valores distintos en cada botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-159">Because <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> is template bound, you can create multiple buttons that use the same <xref:System.Windows.Controls.ControlTemplate> and set the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> to different values on each button.</span></span> <span data-ttu-id="1e9ab-160">Si <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> plantilla no se enlazó a una propiedad de un elemento en el <xref:System.Windows.Controls.ControlTemplate>, y establece el <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> de un botón no tendría ningún efecto en la apariencia del botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-160">If <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> was not template bound to a property of an element in the <xref:System.Windows.Controls.ControlTemplate>, setting the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> of a button would have no impact on the button's appearance.</span></span>  
  
 <span data-ttu-id="1e9ab-161">Tenga en cuenta que los nombres de las dos propiedades no tienen que ser idénticos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-161">Note that the names of the two properties do not need to be identical.</span></span> <span data-ttu-id="1e9ab-162">En el ejemplo anterior, el <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> propiedad de la <xref:System.Windows.Controls.Button> plantilla depende de la <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> propiedad de la <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-162">In the preceding example, the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.Button> is template bound to the <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.ContentPresenter>.</span></span> <span data-ttu-id="1e9ab-163">Esto permite que el contenido del botón se sitúe horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-163">This enables the content of the button to be positioned horizontally.</span></span> <span data-ttu-id="1e9ab-164"><xref:System.Windows.Controls.ContentPresenter> no tiene una propiedad denominada `HorizontalContentAlignment`, pero <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> pueden estar limitados por <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-164"><xref:System.Windows.Controls.ContentPresenter> does not have a property named `HorizontalContentAlignment`, but <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> can be bound to <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="1e9ab-165">Cuando la plantilla enlaza una propiedad, asegúrese de que las propiedades de origen y de destino sean del mismo tipo.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-165">When you template bind a property, be sure that the target and source properties are the same type.</span></span>  
  
 <span data-ttu-id="1e9ab-166">La <xref:System.Windows.Controls.Control> clase define varias propiedades que se deben utilizar la plantilla de control que tengan un efecto en el control cuando se establecen.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-166">The <xref:System.Windows.Controls.Control> class defines several properties that must be used by the control template to have an effect on the control when they are set.</span></span> <span data-ttu-id="1e9ab-167">El modo <xref:System.Windows.Controls.ControlTemplate> usa la propiedad depende de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-167">How the <xref:System.Windows.Controls.ControlTemplate> uses the property depends on the property.</span></span> <span data-ttu-id="1e9ab-168">El <xref:System.Windows.Controls.ControlTemplate> debe utilizar la propiedad de una de las maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="1e9ab-168">The <xref:System.Windows.Controls.ControlTemplate> must use the property in one of the following ways:</span></span>  
  
-   <span data-ttu-id="1e9ab-169">Un elemento en el <xref:System.Windows.Controls.ControlTemplate> plantilla se enlaza a la propiedad.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-169">An element in the <xref:System.Windows.Controls.ControlTemplate> template binds to the property.</span></span>  
  
-   <span data-ttu-id="1e9ab-170">Un elemento en el <xref:System.Windows.Controls.ControlTemplate> hereda la propiedad de un elemento primario <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-170">An element in the <xref:System.Windows.Controls.ControlTemplate> inherits the property from a parent <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="1e9ab-171">En la tabla siguiente se enumera las propiedades visuales heredadas por un control desde el <xref:System.Windows.Controls.Control> clase.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-171">The following table lists the visual properties inherited by a control from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="1e9ab-172">También se indica si la plantilla de control predeterminado de un control usa el valor de propiedad heredado o si debe estar enlazado a plantilla.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-172">It also indicates whether the default control template of a control uses the inherited property value or if it must be template bound.</span></span>  
  
|<span data-ttu-id="1e9ab-173">Property</span><span class="sxs-lookup"><span data-stu-id="1e9ab-173">Property</span></span>|<span data-ttu-id="1e9ab-174">Método de uso</span><span class="sxs-lookup"><span data-stu-id="1e9ab-174">Usage method</span></span>|  
|--------------|------------------|  
|<xref:System.Windows.Controls.Control.Background%2A>|<span data-ttu-id="1e9ab-175">Enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-175">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderThickness%2A>|<span data-ttu-id="1e9ab-176">Enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-176">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderBrush%2A>|<span data-ttu-id="1e9ab-177">Enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-177">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontFamily%2A>|<span data-ttu-id="1e9ab-178">Herencia de propiedad o enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-178">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontSize%2A>|<span data-ttu-id="1e9ab-179">Herencia de propiedad o enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-179">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontStretch%2A>|<span data-ttu-id="1e9ab-180">Herencia de propiedad o enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-180">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontWeight%2A>|<span data-ttu-id="1e9ab-181">Herencia de propiedad o enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-181">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Foreground%2A>|<span data-ttu-id="1e9ab-182">Herencia de propiedad o enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-182">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A>|<span data-ttu-id="1e9ab-183">Enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-183">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Padding%2A>|<span data-ttu-id="1e9ab-184">Enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-184">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.VerticalContentAlignment%2A>|<span data-ttu-id="1e9ab-185">Enlace a plantilla</span><span class="sxs-lookup"><span data-stu-id="1e9ab-185">Template binding</span></span>|  
  
 <span data-ttu-id="1e9ab-186">La tabla enumeran las propiedades visuales se hereda de la <xref:System.Windows.Controls.Control> clase.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-186">The table lists only the visual properties inherited from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="1e9ab-187">Además de las propiedades enumeradas en la tabla, un control también puede heredar el <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, y <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> propiedades del elemento de marco de trabajo primario.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-187">Apart from the properties listed in the table, a control may also inherit the <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, and <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> properties from the parent framework element.</span></span>  
  
 <span data-ttu-id="1e9ab-188">Además, si la <xref:System.Windows.Controls.ContentPresenter> está en el <xref:System.Windows.Controls.ControlTemplate> de un <xref:System.Windows.Controls.ContentControl>, el <xref:System.Windows.Controls.ContentPresenter> se enlazará automáticamente a la <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> y <xref:System.Windows.Controls.ContentControl.Content%2A> propiedades.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-188">Also, if the <xref:System.Windows.Controls.ContentPresenter> is in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="1e9ab-189">Del mismo modo, un <xref:System.Windows.Controls.ItemsPresenter> que se encuentra en la <xref:System.Windows.Controls.ControlTemplate> de un <xref:System.Windows.Controls.ItemsControl> se enlazará automáticamente a la <xref:System.Windows.Controls.ItemsControl.Items%2A> y <xref:System.Windows.Controls.ItemsPresenter> propiedades.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-189">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.Items%2A> and <xref:System.Windows.Controls.ItemsPresenter> properties.</span></span>  
  
 <span data-ttu-id="1e9ab-190">En el ejemplo siguiente se crea dos botones que utilizan el <xref:System.Windows.Controls.ControlTemplate> definido en el ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-190">The following example creates two buttons that use the <xref:System.Windows.Controls.ControlTemplate> defined in the preceding example.</span></span> <span data-ttu-id="1e9ab-191">El ejemplo se establece la <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, y <xref:System.Windows.Controls.Control.FontSize%2A> propiedades en cada botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-191">The example sets the <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontSize%2A> properties on each button.</span></span> <span data-ttu-id="1e9ab-192">Establecer el <xref:System.Windows.Controls.Control.Background%2A> propiedad tiene un efecto porque está enlazada a plantilla en la <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-192">Setting the <xref:System.Windows.Controls.Control.Background%2A> property has an effect because it is template bound in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="1e9ab-193">Aunque la <xref:System.Windows.Controls.Control.Foreground%2A> y <xref:System.Windows.Controls.Control.FontSize%2A> propiedades no están enlazado a la plantilla, establecerlas surte efecto, porque sus valores se heredan.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-193">Even though the <xref:System.Windows.Controls.Control.Foreground%2A> and <xref:System.Windows.Controls.Control.FontSize%2A> properties are not template bound, setting them has an effect because their values are inherited.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ButtonDeclaration](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#buttondeclaration)]  
  
 <span data-ttu-id="1e9ab-194">El ejemplo anterior genera un resultado similar a la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-194">The preceding example produces output that is similar to the following illustration.</span></span>  
  
 <span data-ttu-id="1e9ab-195">![Dos botones, uno azul y otro púrpura. ] (../../../../docs/framework/wpf/controls/media/ndp-buttontwo.png "NDP_ButtonTwo")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-195">![Two buttons, one blue and one purple.](../../../../docs/framework/wpf/controls/media/ndp-buttontwo.png "NDP_ButtonTwo")</span></span>  
<span data-ttu-id="1e9ab-196">Dos botones con diferentes colores de fondo</span><span class="sxs-lookup"><span data-stu-id="1e9ab-196">Two buttons with different background colors</span></span>  
  
<a name="changing_the_appearance_of_a_control_depending_on_its_state"></a>   
## <a name="changing-the-appearance-of-a-control-depending-on-its-state"></a><span data-ttu-id="1e9ab-197">Cambio de la apariencia de un control según su estado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-197">Changing the Appearance of a Control Depending on Its State</span></span>  
 <span data-ttu-id="1e9ab-198">La diferencia entre un botón con su apariencia predeterminada y el botón del ejemplo anterior es que el botón predeterminado cambia sutilmente cuando se encuentra en estados diferentes.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-198">The difference between a button with its default appearance and the button in the preceding example is that the default button subtly changes when it is in different states.</span></span> <span data-ttu-id="1e9ab-199">Por ejemplo, la apariencia del botón predeterminado cambia cuando se presiona el botón o cuando se sitúa el puntero del mouse sobre él.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-199">For example, the default button's appearance changes when the button is pressed, or when the mouse pointer is over the button.</span></span> <span data-ttu-id="1e9ab-200">Aunque el <xref:System.Windows.Controls.ControlTemplate> no cambia la funcionalidad de un control, cambia el comportamiento del control visual.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-200">Although the <xref:System.Windows.Controls.ControlTemplate> does not change the functionality of a control, it does change the control's visual behavior.</span></span> <span data-ttu-id="1e9ab-201">Un comportamiento visual describe la apariencia del control cuando se encuentra en un estado determinado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-201">A visual behavior describes the control appearance when it is in a certain state.</span></span> <span data-ttu-id="1e9ab-202">Para comprender la diferencia entre la funcionalidad y el comportamiento visual de un control, considere el ejemplo del botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-202">To understand the difference between the functionality and visual behavior of a control, consider the button example.</span></span> <span data-ttu-id="1e9ab-203">La funcionalidad del botón consiste en generar el <xref:System.Windows.Controls.Primitives.ButtonBase.Click> eventos cuando se hace clic en, pero el comportamiento del botón visual consiste en cambiar su apariencia cuando se señala o presiona.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-203">The button's functionality is to raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event when it is clicked, but the button's visual behavior is to change its appearance when it is pointed to or pressed.</span></span>  
  
 <span data-ttu-id="1e9ab-204">Usa <xref:System.Windows.VisualState> objetos para especificar la apariencia de un control cuando se encuentra en un estado determinado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-204">You use <xref:System.Windows.VisualState> objects to specify the appearance of a control when it is in a certain state.</span></span> <span data-ttu-id="1e9ab-205">A <xref:System.Windows.VisualState> contiene un <xref:System.Windows.Media.Animation.Storyboard> que cambia la apariencia de los elementos que se encuentran en el <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-205">A <xref:System.Windows.VisualState> contains a <xref:System.Windows.Media.Animation.Storyboard> that changes the appearance of the elements that are in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="1e9ab-206">No es necesario escribir ningún código para que esto suceda, porque la lógica del control cambia de estado mediante el <xref:System.Windows.VisualStateManager>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-206">You do not have to write any code to make this occur because the control's logic changes state by using the <xref:System.Windows.VisualStateManager>.</span></span> <span data-ttu-id="1e9ab-207">Cuando el control entra en el estado especificado por la <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> propiedad, el <xref:System.Windows.Media.Animation.Storyboard> comienza.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-207">When the control enters the state that is specified by the <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> property, the <xref:System.Windows.Media.Animation.Storyboard> begins.</span></span> <span data-ttu-id="1e9ab-208">Cuando el control sale del estado, el <xref:System.Windows.Media.Animation.Storyboard> se detiene.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-208">When the control exits the state, the <xref:System.Windows.Media.Animation.Storyboard> stops.</span></span>  
  
 <span data-ttu-id="1e9ab-209">El siguiente ejemplo se muestra la <xref:System.Windows.VisualState> que cambia la apariencia de un <xref:System.Windows.Controls.Button> cuando el puntero del mouse está sobre él.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-209">The following example shows the <xref:System.Windows.VisualState> that changes the appearance of a <xref:System.Windows.Controls.Button> when the mouse pointer is over it.</span></span> <span data-ttu-id="1e9ab-210">El <xref:System.Windows.Media.Animation.Storyboard> cambia el color del borde del botón cambiando el color de la `BorderBrush`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-210">The <xref:System.Windows.Media.Animation.Storyboard> changes the button's border color by changing the color of the `BorderBrush`.</span></span> <span data-ttu-id="1e9ab-211">Si se hace referencia a la <xref:System.Windows.Controls.ControlTemplate> ejemplo al principio de este tema, recordará que `BorderBrush` es el nombre de la <xref:System.Windows.Media.SolidColorBrush> que se asigna a la <xref:System.Windows.Controls.Border.Background%2A> de la <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-211">If you refer to the <xref:System.Windows.Controls.ControlTemplate> example at the beginning of this topic, you will recall that `BorderBrush` is the name of the <xref:System.Windows.Media.SolidColorBrush> that is assigned to the <xref:System.Windows.Controls.Border.Background%2A> of the <xref:System.Windows.Controls.Border>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#4](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#4)]  
  
 <span data-ttu-id="1e9ab-212">El control es responsable de definir los estados como parte de su contrato de control, que se describe de manera detallada en [Personalización de otros controles mediante la comprensión del contrato de control](#customizing_other_controls_by_understanding_the_control_contract) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-212">The control is responsible for defining the states as part of its control contract, which is discussed in detail in [Customizing Other Controls by Understanding the Control Contract](#customizing_other_controls_by_understanding_the_control_contract) later in this topic.</span></span> <span data-ttu-id="1e9ab-213">En la tabla siguiente enumera los Estados que se especifican para el <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-213">The following table lists the states that are specified for the <xref:System.Windows.Controls.Button>.</span></span>  
  
|<span data-ttu-id="1e9ab-214">Nombre de VisualState</span><span class="sxs-lookup"><span data-stu-id="1e9ab-214">VisualState Name</span></span>|<span data-ttu-id="1e9ab-215">Nombre de VisualStateGroup</span><span class="sxs-lookup"><span data-stu-id="1e9ab-215">VisualStateGroup Name</span></span>|<span data-ttu-id="1e9ab-216">Descripción</span><span class="sxs-lookup"><span data-stu-id="1e9ab-216">Description</span></span>|  
|----------------------|---------------------------|-----------------|  
|<span data-ttu-id="1e9ab-217">Normal</span><span class="sxs-lookup"><span data-stu-id="1e9ab-217">Normal</span></span>|<span data-ttu-id="1e9ab-218">CommonStates</span><span class="sxs-lookup"><span data-stu-id="1e9ab-218">CommonStates</span></span>|<span data-ttu-id="1e9ab-219">El estado predeterminado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-219">The default state.</span></span>|  
|<span data-ttu-id="1e9ab-220">MouseOver</span><span class="sxs-lookup"><span data-stu-id="1e9ab-220">MouseOver</span></span>|<span data-ttu-id="1e9ab-221">CommonStates</span><span class="sxs-lookup"><span data-stu-id="1e9ab-221">CommonStates</span></span>|<span data-ttu-id="1e9ab-222">El puntero del mouse se coloca sobre el control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-222">The mouse pointer is positioned over the control.</span></span>|  
|<span data-ttu-id="1e9ab-223">Presionado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-223">Pressed</span></span>|<span data-ttu-id="1e9ab-224">CommonStates</span><span class="sxs-lookup"><span data-stu-id="1e9ab-224">CommonStates</span></span>|<span data-ttu-id="1e9ab-225">El control está presionado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-225">The control is pressed.</span></span>|  
|<span data-ttu-id="1e9ab-226">Deshabilitado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-226">Disabled</span></span>|<span data-ttu-id="1e9ab-227">CommonStates</span><span class="sxs-lookup"><span data-stu-id="1e9ab-227">CommonStates</span></span>|<span data-ttu-id="1e9ab-228">El control está deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-228">The control is disabled.</span></span>|  
|<span data-ttu-id="1e9ab-229">Con foco</span><span class="sxs-lookup"><span data-stu-id="1e9ab-229">Focused</span></span>|<span data-ttu-id="1e9ab-230">FocusStates</span><span class="sxs-lookup"><span data-stu-id="1e9ab-230">FocusStates</span></span>|<span data-ttu-id="1e9ab-231">El control tiene el foco.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-231">The control has focus.</span></span>|  
|<span data-ttu-id="1e9ab-232">Sin foco</span><span class="sxs-lookup"><span data-stu-id="1e9ab-232">Unfocused</span></span>|<span data-ttu-id="1e9ab-233">FocusStates</span><span class="sxs-lookup"><span data-stu-id="1e9ab-233">FocusStates</span></span>|<span data-ttu-id="1e9ab-234">El control no tiene el foco.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-234">The control does not have focus.</span></span>|  
  
 <span data-ttu-id="1e9ab-235">El <xref:System.Windows.Controls.Button> se definen dos grupos de estado: la `CommonStates` el grupo contiene el `Normal`, `MouseOver`, `Pressed`, y `Disabled` Estados.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-235">The <xref:System.Windows.Controls.Button> defines two state groups: the `CommonStates` group contains the `Normal`, `MouseOver`, `Pressed`, and `Disabled` states.</span></span> <span data-ttu-id="1e9ab-236">El grupo `FocusStates` contiene los estados `Focused` y `Unfocused`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-236">The `FocusStates` group contains the `Focused` and `Unfocused` states.</span></span> <span data-ttu-id="1e9ab-237">Los estados en el mismo grupo de estado son mutuamente excluyentes.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-237">States in the same state group are mutually exclusive.</span></span> <span data-ttu-id="1e9ab-238">El control siempre está exactamente en un estado por grupo.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-238">The control is always in exactly one state per group.</span></span> <span data-ttu-id="1e9ab-239">Por ejemplo, un <xref:System.Windows.Controls.Button> puede tener el enfoque incluso cuando el puntero del mouse no está sobre él, por lo que un <xref:System.Windows.Controls.Button> en el `Focused` estado puede estar en el `MouseOver`, `Pressed`, o `Normal` estado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-239">For example, a <xref:System.Windows.Controls.Button> can have focus even when the mouse pointer is not over it, so a <xref:System.Windows.Controls.Button> in the `Focused` state can be in the `MouseOver`, `Pressed`, or `Normal` state.</span></span>  
  
 <span data-ttu-id="1e9ab-240">Agregar <xref:System.Windows.VisualState> objetos de <xref:System.Windows.VisualStateGroup> objetos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-240">You add <xref:System.Windows.VisualState> objects to <xref:System.Windows.VisualStateGroup> objects.</span></span> <span data-ttu-id="1e9ab-241">Agregar <xref:System.Windows.VisualStateGroup> objetos a la <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> propiedad adjunta.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-241">You add <xref:System.Windows.VisualStateGroup> objects to the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property.</span></span> <span data-ttu-id="1e9ab-242">En el ejemplo siguiente se define la <xref:System.Windows.VisualState> de objetos para el `Normal`, `MouseOver`, y `Pressed` Estados, que están en el `CommonStates` grupo.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-242">The following example defines the <xref:System.Windows.VisualState> objects for the `Normal`, `MouseOver`, and `Pressed` states, which are all in the `CommonStates` group.</span></span> <span data-ttu-id="1e9ab-243">El <xref:System.Windows.VisualState.Name%2A> de cada <xref:System.Windows.VisualState> coincide con el nombre de la tabla anterior.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-243">The <xref:System.Windows.VisualState.Name%2A> of each <xref:System.Windows.VisualState> matches the name in the preceding table.</span></span> <span data-ttu-id="1e9ab-244">El estado `Disabled` y los estados del grupo `FocusStates` se omiten para abreviar el ejemplo, pero se incluyen en el ejemplo completo al final de este tema.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-244">The `Disabled` state and the states in the `FocusStates` group are omitted to keep the example short, but they are included in the entire example at the end of this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1e9ab-245">Asegúrese de establecer el <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> la raíz de la propiedad adjunta <xref:System.Windows.FrameworkElement> de la <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-245">Be sure to set the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property on the root <xref:System.Windows.FrameworkElement> of the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualStates](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualstates)]  
  
 <span data-ttu-id="1e9ab-246">El ejemplo anterior genera un resultado similar a las siguientes ilustraciones.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-246">The preceding example produces output that is similar to the following illustrations.</span></span>  
  
 <span data-ttu-id="1e9ab-247">![Botón con una plantilla de control personalizada. ] (../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-247">![A button with a custom control template.](../../../../docs/framework/wpf/controls/media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="1e9ab-248">Un botón que usa una plantilla de control personalizado en el estado normal</span><span class="sxs-lookup"><span data-stu-id="1e9ab-248">A button that uses a custom control template in the normal state</span></span>  
  
 <span data-ttu-id="1e9ab-249">![Un botón con un borde rojo. ] (../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-249">![A button with a red border.](../../../../docs/framework/wpf/controls/media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="1e9ab-250">Un botón que usa una plantilla de control personalizado en el estado de pasar el mouse</span><span class="sxs-lookup"><span data-stu-id="1e9ab-250">A button that uses a custom control template in the mouse over state</span></span>  
  
 <span data-ttu-id="1e9ab-251">![El borde es transparente en un botón presionado. ] (../../../../docs/framework/wpf/controls/media/ndp-buttonpressed.png "NDP_ButtonPressed")</span><span class="sxs-lookup"><span data-stu-id="1e9ab-251">![The border is transparent on a pressed button.](../../../../docs/framework/wpf/controls/media/ndp-buttonpressed.png "NDP_ButtonPressed")</span></span>  
<span data-ttu-id="1e9ab-252">Un botón que usa una plantilla de control personalizado en el estado presionado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-252">A button that uses a custom control template in the pressed state</span></span>  
  
 <span data-ttu-id="1e9ab-253">Para encontrar los estados visuales de los controles que se incluyen con [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte [Estilos y plantillas de controles](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="1e9ab-253">To find the visual states for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span></span>  
  
<a name="specifying_the_behavior_of_a_control_when_it_transitions_between_states"></a>   
## <a name="specifying-the-behavior-of-a-control-when-it-transitions-between-states"></a><span data-ttu-id="1e9ab-254">Especificación del comportamiento de un control cuando realiza la transición entre estados</span><span class="sxs-lookup"><span data-stu-id="1e9ab-254">Specifying the Behavior of a Control When It Transitions Between States</span></span>  
 <span data-ttu-id="1e9ab-255">En el ejemplo anterior, la apariencia del botón también cambia cuando el usuario hace clic en él, pero a menos que se presione el botón durante un segundo completo, el usuario no verá el efecto.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-255">In the preceding example, the appearance of the button also changes when the user clicks it, but unless the button is pressed for a full second, the user does not see the effect.</span></span> <span data-ttu-id="1e9ab-256">De forma predeterminada, la animación tarda un segundo en producirse.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-256">By default, the animation takes one second to occur.</span></span> <span data-ttu-id="1e9ab-257">Dado que los usuarios suelen hacer clic y suelte un botón en mucho menos tiempo, los comentarios visuales no serán efectivos si deja la <xref:System.Windows.Controls.ControlTemplate> en su estado predeterminado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-257">Because users are likely to click and release a button in much less time, the visual feedback will not be effective if you leave the <xref:System.Windows.Controls.ControlTemplate> in its default state.</span></span>  
  
 <span data-ttu-id="1e9ab-258">Puede especificar la cantidad de tiempo que tarda una animación para la transición sin problemas de un control de un estado a otro mediante la adición de <xref:System.Windows.VisualTransition> objetos a la <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-258">You can specify the amount of time that it takes an animation to occur to smoothly transition a control from one state to another by adding <xref:System.Windows.VisualTransition> objects to the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="1e9ab-259">Cuando se crea un <xref:System.Windows.VisualTransition>, especifique uno o varios de los siguientes:</span><span class="sxs-lookup"><span data-stu-id="1e9ab-259">When you create a <xref:System.Windows.VisualTransition>, you specify one or more of the following:</span></span>  
  
-   <span data-ttu-id="1e9ab-260">El tiempo que tarda en producirse una transición entre estados.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-260">The time it takes for a transition between states to occur.</span></span>  
  
-   <span data-ttu-id="1e9ab-261">Los cambios adicionales en la apariencia del control que se producen en el momento de la transición.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-261">Additional changes in the control's appearance that occur at the time of the transition.</span></span>  
  
-   <span data-ttu-id="1e9ab-262">Qué estados el <xref:System.Windows.VisualTransition> se aplica a.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-262">Which states the <xref:System.Windows.VisualTransition> is applied to.</span></span>  
  
### <a name="specifying-the-duration-of-a-transition"></a><span data-ttu-id="1e9ab-263">Especificación de la duración de una transición</span><span class="sxs-lookup"><span data-stu-id="1e9ab-263">Specifying the Duration of a Transition</span></span>  
 <span data-ttu-id="1e9ab-264">Puede especificar cuánto tiempo tarda una transición estableciendo la <xref:System.Windows.VisualTransition.GeneratedDuration%2A> propiedad.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-264">You can specify how long a transition takes by setting the <xref:System.Windows.VisualTransition.GeneratedDuration%2A> property.</span></span> <span data-ttu-id="1e9ab-265">El ejemplo anterior tiene un <xref:System.Windows.VisualState> que especifica que el borde del botón vuelve transparente cuando se presiona el botón, pero la animación tarda demasiado tiempo y no se aprecia si rápidamente se presionó y se soltó el botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-265">The preceding example has a <xref:System.Windows.VisualState> that specifies that the button's border becomes transparent when the button is pressed, but the animation takes too long to be noticeable if the button is quickly pressed and released.</span></span> <span data-ttu-id="1e9ab-266">Puede usar un <xref:System.Windows.VisualTransition> para especificar la cantidad de tiempo tarda el control en transición al estado presionado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-266">You can use a <xref:System.Windows.VisualTransition> to specify the amount of time it takes the control to transition into the pressed state.</span></span> <span data-ttu-id="1e9ab-267">En el ejemplo siguiente se especifica que el control tarda una centésima de segundo en pasar al estado presionado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-267">The following example specifies that the control takes one hundredth of a second to go into the pressed state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#PressedTransition](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#pressedtransition)]  
  
### <a name="specifying-changes-to-the-controls-appearance-during-a-transition"></a><span data-ttu-id="1e9ab-268">Especificación de cambios en la apariencia del control durante una transición</span><span class="sxs-lookup"><span data-stu-id="1e9ab-268">Specifying Changes to the Control's Appearance During a Transition</span></span>  
 <span data-ttu-id="1e9ab-269">El <xref:System.Windows.VisualTransition> contiene un <xref:System.Windows.Media.Animation.Storyboard> que comienza cuando el control realiza una transición entre Estados.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-269">The <xref:System.Windows.VisualTransition> contains a <xref:System.Windows.Media.Animation.Storyboard> that begins when the control transitions between states.</span></span> <span data-ttu-id="1e9ab-270">Por ejemplo, puede especificar que se produzca una determinada animación cuando el control pase del estado `MouseOver` al estado `Normal`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-270">For example, you can specify that a certain animation occurs when the control transitions from the `MouseOver` state to the `Normal` State.</span></span> <span data-ttu-id="1e9ab-271">En el ejemplo siguiente se crea un <xref:System.Windows.VisualTransition> que especifica que cuando el usuario mueve el puntero del mouse fuera del botón, borde del botón cambia a azul, y, luego a amarillo en negro en 1,5 segundos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-271">The following example creates a <xref:System.Windows.VisualTransition> that specifies that when the user moves the mouse pointer away from the button, the button's border changes to blue, then to yellow, then to black in 1.5 seconds.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#8](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#8)]  
  
### <a name="specifying-when-a-visualtransition-is-applied"></a><span data-ttu-id="1e9ab-272">Especificación de cuándo aplicar un objeto VisualTransition</span><span class="sxs-lookup"><span data-stu-id="1e9ab-272">Specifying When a VisualTransition Is Applied</span></span>  
 <span data-ttu-id="1e9ab-273">Un <xref:System.Windows.VisualTransition> pueden estar restringidas para aplicar solo a ciertos Estados o se puede aplicar las transiciones de control entre Estados en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-273">A <xref:System.Windows.VisualTransition> can be restricted to apply to only certain states, or it can be applied any time the control transitions between states.</span></span> <span data-ttu-id="1e9ab-274">En el ejemplo anterior, el <xref:System.Windows.VisualTransition> se aplica cuando el control pasa de la `MouseOver` estado para la `Normal` estado; en el ejemplo anterior a éste, el <xref:System.Windows.VisualTransition> se aplica cuando el control entra en el `Pressed` estado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-274">In the preceding example, the <xref:System.Windows.VisualTransition> is applied when the control goes from the `MouseOver` state to the `Normal` state; in the example before that, the <xref:System.Windows.VisualTransition> is applied when the control goes into the `Pressed` state.</span></span> <span data-ttu-id="1e9ab-275">Restringir cuándo un <xref:System.Windows.VisualTransition> se aplica estableciendo la <xref:System.Windows.VisualTransition.To%2A> y <xref:System.Windows.VisualTransition.From%2A> propiedades.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-275">You restrict when a <xref:System.Windows.VisualTransition> is applied by setting the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties.</span></span> <span data-ttu-id="1e9ab-276">En la tabla siguiente se describen los niveles de restricción del más al menos restrictivo.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-276">The following table describes the levels of restriction from most restrictive to least restrictive.</span></span>  
  
|<span data-ttu-id="1e9ab-277">Tipo de restricción</span><span class="sxs-lookup"><span data-stu-id="1e9ab-277">Type of restriction</span></span>|<span data-ttu-id="1e9ab-278">Valor de Desde</span><span class="sxs-lookup"><span data-stu-id="1e9ab-278">Value of From</span></span>|<span data-ttu-id="1e9ab-279">Valor de Hasta</span><span class="sxs-lookup"><span data-stu-id="1e9ab-279">Value of To</span></span>|  
|-------------------------|-------------------|-----------------|  
|<span data-ttu-id="1e9ab-280">Desde un estado especificado hasta otro estado especificado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-280">From a specified state to another specified state</span></span>|<span data-ttu-id="1e9ab-281">El nombre de un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="1e9ab-281">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="1e9ab-282">El nombre de un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="1e9ab-282">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="1e9ab-283">Desde cualquier estado hasta un estado especificado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-283">From any state to a specified state</span></span>|<span data-ttu-id="1e9ab-284">Sin establecer</span><span class="sxs-lookup"><span data-stu-id="1e9ab-284">Not set</span></span>|<span data-ttu-id="1e9ab-285">El nombre de un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="1e9ab-285">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="1e9ab-286">Desde un estado especificado hasta cualquier estado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-286">From a specified state to any state</span></span>|<span data-ttu-id="1e9ab-287">El nombre de un <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="1e9ab-287">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="1e9ab-288">Sin establecer</span><span class="sxs-lookup"><span data-stu-id="1e9ab-288">Not set</span></span>|  
|<span data-ttu-id="1e9ab-289">Desde cualquier estado hasta cualquier otro estado</span><span class="sxs-lookup"><span data-stu-id="1e9ab-289">From any state to any other state</span></span>|<span data-ttu-id="1e9ab-290">Sin establecer</span><span class="sxs-lookup"><span data-stu-id="1e9ab-290">Not set</span></span>|<span data-ttu-id="1e9ab-291">Sin establecer</span><span class="sxs-lookup"><span data-stu-id="1e9ab-291">Not set</span></span>|  
  
 <span data-ttu-id="1e9ab-292">Puede tener varias <xref:System.Windows.VisualTransition> objetos en un <xref:System.Windows.VisualStateGroup> que hacen referencia al mismo estado, pero que se usarán en el orden en que se especifica en la tabla anterior.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-292">You can have multiple <xref:System.Windows.VisualTransition> objects in a <xref:System.Windows.VisualStateGroup> that refer to the same state, but they will be used in the order that the previous table specifies.</span></span> <span data-ttu-id="1e9ab-293">En el ejemplo siguiente, hay dos <xref:System.Windows.VisualTransition> objetos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-293">In the following example, there are two <xref:System.Windows.VisualTransition> objects.</span></span> <span data-ttu-id="1e9ab-294">Cuando el control realiza la transición de la `Pressed` estado para la `MouseOver` estado, el <xref:System.Windows.VisualTransition> que tenga a la vez <xref:System.Windows.VisualTransition.From%2A> y <xref:System.Windows.VisualTransition.To%2A> se utiliza el conjunto.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-294">When the control transitions from the `Pressed` state to the `MouseOver` state, the <xref:System.Windows.VisualTransition> that has both <xref:System.Windows.VisualTransition.From%2A> and <xref:System.Windows.VisualTransition.To%2A> set is used.</span></span> <span data-ttu-id="1e9ab-295">Cuando el control realiza la transición de un estado que no es `Pressed` al estado `MouseOver`, se usa el otro estado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-295">When the control transitions from a state that is not `Pressed` to the `MouseOver` state, the other state is used.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#7](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#7)]  
  
 <span data-ttu-id="1e9ab-296">El <xref:System.Windows.VisualStateGroup> tiene un <xref:System.Windows.VisualStateGroup.Transitions%2A> propiedad que contiene el <xref:System.Windows.VisualTransition> objetos que se aplican a la <xref:System.Windows.VisualState> objetos en el <xref:System.Windows.VisualStateGroup>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-296">The <xref:System.Windows.VisualStateGroup> has a <xref:System.Windows.VisualStateGroup.Transitions%2A> property that contains the <xref:System.Windows.VisualTransition> objects that apply to the <xref:System.Windows.VisualState> objects in the <xref:System.Windows.VisualStateGroup>.</span></span> <span data-ttu-id="1e9ab-297">Como el <xref:System.Windows.Controls.ControlTemplate> autor, está disponible incluirlos <xref:System.Windows.VisualTransition> que desee.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-297">As the <xref:System.Windows.Controls.ControlTemplate> author, you are free to include any <xref:System.Windows.VisualTransition> you want.</span></span> <span data-ttu-id="1e9ab-298">Sin embargo, si la <xref:System.Windows.VisualTransition.To%2A> y <xref:System.Windows.VisualTransition.From%2A> propiedades se establecen en los nombres de estado que no están en el <xref:System.Windows.VisualStateGroup>, el <xref:System.Windows.VisualTransition> se omite.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-298">However, if the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties are set to state names that are not in the <xref:System.Windows.VisualStateGroup>, the <xref:System.Windows.VisualTransition> is ignored.</span></span>  
  
 <span data-ttu-id="1e9ab-299">El siguiente ejemplo se muestra la <xref:System.Windows.VisualStateGroup> para el `CommonStates`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-299">The following example shows the <xref:System.Windows.VisualStateGroup> for the `CommonStates`.</span></span> <span data-ttu-id="1e9ab-300">El ejemplo define un <xref:System.Windows.VisualTransition> para cada uno de los siguientes del botón realiza la transición.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-300">The example defines a <xref:System.Windows.VisualTransition> for each of the button's following transitions.</span></span>  
  
-   <span data-ttu-id="1e9ab-301">Al estado `Pressed`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-301">To the `Pressed` state.</span></span>  
  
-   <span data-ttu-id="1e9ab-302">Al estado `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-302">To the `MouseOver` state.</span></span>  
  
-   <span data-ttu-id="1e9ab-303">Desde el estado `Pressed` hasta el estado `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-303">From the `Pressed` state to the `MouseOver` state.</span></span>  
  
-   <span data-ttu-id="1e9ab-304">Desde el estado `MouseOver` hasta el estado `Normal`.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-304">From the `MouseOver` state to the `Normal` state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualTransitions](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualtransitions)]  
  
<a name="customizing_other_controls_by_understanding_the_control_contract"></a>   
## <a name="customizing-other-controls-by-understanding-the-control-contract"></a><span data-ttu-id="1e9ab-305">Personalización de otros controles mediante la comprensión del contrato de control</span><span class="sxs-lookup"><span data-stu-id="1e9ab-305">Customizing Other Controls by Understanding the Control Contract</span></span>  
 <span data-ttu-id="1e9ab-306">Un control que usa un <xref:System.Windows.Controls.ControlTemplate> para especificar su estructura visual (mediante el uso de <xref:System.Windows.FrameworkElement> objetos) y el comportamiento visuales (mediante el uso de <xref:System.Windows.VisualState> objetos) utiliza el modelo de control de elementos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-306">A control that uses a <xref:System.Windows.Controls.ControlTemplate> to specify its visual structure (by using <xref:System.Windows.FrameworkElement> objects) and visual behavior (by using <xref:System.Windows.VisualState> objects) uses the parts control model.</span></span> <span data-ttu-id="1e9ab-307">Muchos de los controles que se incluyen con [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 emplean este modelo.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-307">Many of the controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 use this model.</span></span> <span data-ttu-id="1e9ab-308">Las partes que un <xref:System.Windows.Controls.ControlTemplate> autor debe ser consciente de que se comunica a través del contrato de control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-308">The parts that a <xref:System.Windows.Controls.ControlTemplate> author needs to be aware of are communicated through the control contract.</span></span> <span data-ttu-id="1e9ab-309">Una vez que comprende las partes de un contrato de control, puede personalizar la apariencia de cualquier control que utilice el modelo de control de elementos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-309">When you understand the parts of a control contract, you can customize the appearance of any control that uses the parts control model.</span></span>  
  
 <span data-ttu-id="1e9ab-310">Un contrato de control tiene tres elementos:</span><span class="sxs-lookup"><span data-stu-id="1e9ab-310">A control contract has three elements:</span></span>  
  
-   <span data-ttu-id="1e9ab-311">Los elementos visuales que usa la lógica del control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-311">The visual elements that the control's logic uses.</span></span>  
  
-   <span data-ttu-id="1e9ab-312">Los estados del control y el grupo al que pertenece cada estado.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-312">The states of the control and the group each state belongs to.</span></span>  
  
-   <span data-ttu-id="1e9ab-313">Las propiedades públicas que afectan visualmente al control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-313">The public properties that visually affect the control.</span></span>  
  
### <a name="visual-elements-in-the-control-contract"></a><span data-ttu-id="1e9ab-314">Elementos visuales del contrato de control</span><span class="sxs-lookup"><span data-stu-id="1e9ab-314">Visual Elements in the Control Contract</span></span>  
 <span data-ttu-id="1e9ab-315">A veces, la lógica de un control interactúa con un <xref:System.Windows.FrameworkElement> que se encuentra en la <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-315">Sometimes a control's logic interacts with a <xref:System.Windows.FrameworkElement> that is in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="1e9ab-316">Por ejemplo, el control podría controlar un evento de uno de sus elementos.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-316">For example, the control might handle an event of one of its elements.</span></span> <span data-ttu-id="1e9ab-317">Cuando un control espera encontrar una determinada <xref:System.Windows.FrameworkElement> en el <xref:System.Windows.Controls.ControlTemplate>, debe transmitir esa información a la <xref:System.Windows.Controls.ControlTemplate> autor.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-317">When a control expects to find a particular <xref:System.Windows.FrameworkElement> in the <xref:System.Windows.Controls.ControlTemplate>, it must convey that information to the <xref:System.Windows.Controls.ControlTemplate> author.</span></span> <span data-ttu-id="1e9ab-318">El control usa la <xref:System.Windows.TemplatePartAttribute> para transmitir el tipo de elemento que se espera y cuál debe ser el nombre del elemento.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-318">The control uses the <xref:System.Windows.TemplatePartAttribute> to convey the type of element that is expected, and what the name of the element should be.</span></span> <span data-ttu-id="1e9ab-319">El <xref:System.Windows.Controls.Button> no tiene <xref:System.Windows.FrameworkElement> elementos en su contrato de control, pero otros controles, como el <xref:System.Windows.Controls.ComboBox>, hacer.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-319">The <xref:System.Windows.Controls.Button> does not have <xref:System.Windows.FrameworkElement> parts in its control contract, but other controls, such as the <xref:System.Windows.Controls.ComboBox>, do.</span></span>  
  
 <span data-ttu-id="1e9ab-320">El siguiente ejemplo se muestra la <xref:System.Windows.TemplatePartAttribute> objetos que se especifican en la <xref:System.Windows.Controls.ComboBox> clase.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-320">The following example shows the <xref:System.Windows.TemplatePartAttribute> objects that are specified on the <xref:System.Windows.Controls.ComboBox> class.</span></span> <span data-ttu-id="1e9ab-321">La lógica de <xref:System.Windows.Controls.ComboBox> espera encontrar una <xref:System.Windows.Controls.TextBox> denominado `PART_EditableTextBox` y un <xref:System.Windows.Controls.Primitives.Popup> denominado `PART_Popup` en su <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-321">The logic of <xref:System.Windows.Controls.ComboBox> expects to find a <xref:System.Windows.Controls.TextBox> named `PART_EditableTextBox` and a <xref:System.Windows.Controls.Primitives.Popup> named `PART_Popup` in its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ComboBoxContract](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#comboboxcontract)]
 [!code-vb[VSMButtonTemplate#ComboBoxContract](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#comboboxcontract)]  
  
 <span data-ttu-id="1e9ab-322">En el ejemplo siguiente se muestra una representación simplificada <xref:System.Windows.Controls.ControlTemplate> para el <xref:System.Windows.Controls.ComboBox> que incluye los elementos que se especifican mediante el <xref:System.Windows.TemplatePartAttribute> objetos en la <xref:System.Windows.Controls.ComboBox> clase.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-322">The following example shows a simplified <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.ComboBox> that includes the elements that are specified by the <xref:System.Windows.TemplatePartAttribute> objects on the <xref:System.Windows.Controls.ComboBox> class.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ComboBoxTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/window1.xaml#comboboxtemplate)]  
  
### <a name="states-in-the-control-contract"></a><span data-ttu-id="1e9ab-323">Estados del contrato de control</span><span class="sxs-lookup"><span data-stu-id="1e9ab-323">States in the Control Contract</span></span>  
 <span data-ttu-id="1e9ab-324">Los estados de un control también forman parte del contrato de control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-324">The states of a control are also a part of the control contract.</span></span> <span data-ttu-id="1e9ab-325">El ejemplo de creación de un <xref:System.Windows.Controls.ControlTemplate> para un <xref:System.Windows.Controls.Button> muestra cómo especificar la apariencia de un <xref:System.Windows.Controls.Button> según sus Estados.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-325">The example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button> shows how to specify the appearance of a <xref:System.Windows.Controls.Button> depending on its states.</span></span> <span data-ttu-id="1e9ab-326">Crear un <xref:System.Windows.VisualState> para cada estado especificado y ponga todos los <xref:System.Windows.VisualState> objetos que comparten un <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> en un <xref:System.Windows.VisualStateGroup>, tal y como se describe en [cambiar la apariencia de un Control según su estado](#changing_the_appearance_of_a_control_depending_on_its_state) anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-326">You create a <xref:System.Windows.VisualState> for each specified state and put all <xref:System.Windows.VisualState> objects that share a <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in a <xref:System.Windows.VisualStateGroup>, as described in [Changing the Appearance of a Control Depending on Its State](#changing_the_appearance_of_a_control_depending_on_its_state) earlier in this topic.</span></span> <span data-ttu-id="1e9ab-327">Controles de terceros deben especificar los Estados mediante el uso de la <xref:System.Windows.TemplateVisualStateAttribute>, que habilita las herramientas de diseñador, como Expression Blend, para exponer los Estados del control para la creación de plantillas de control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-327">Third-party controls should specify states by using the <xref:System.Windows.TemplateVisualStateAttribute>, which enables designer tools, such as Expression Blend, to expose the control's states for authoring control templates.</span></span>  
  
 <span data-ttu-id="1e9ab-328">Para encontrar el contrato de control de los controles que se incluyen con [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte [Estilos y plantillas de controles](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="1e9ab-328">To find the control contract for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](../../../../docs/framework/wpf/controls/control-styles-and-templates.md).</span></span>  
  
### <a name="properties-in-the-control-contract"></a><span data-ttu-id="1e9ab-329">Propiedades del contrato de control</span><span class="sxs-lookup"><span data-stu-id="1e9ab-329">Properties in the Control Contract</span></span>  
 <span data-ttu-id="1e9ab-330">Las propiedades públicas que afectan visualmente al control también se incluyen en el contrato de control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-330">The public properties that visually affect the control are also included in the control contract.</span></span> <span data-ttu-id="1e9ab-331">Puede establecer estas propiedades para cambiar la apariencia del control sin crear un nuevo <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-331">You can set these properties to change the appearance of the control without creating a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="1e9ab-332">También puede usar el [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) extensión de marcado para enlazar propiedades de elementos que se encuentran en el <xref:System.Windows.Controls.ControlTemplate> a las propiedades públicas definidas por el <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-332">You can also use the [TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the <xref:System.Windows.Controls.Button>.</span></span>  
  
 <span data-ttu-id="1e9ab-333">En el ejemplo siguiente se muestra el contrato de control del botón.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-333">The following example shows the control contract for the button.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ButtonContract](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#buttoncontract)]
 [!code-vb[VSMButtonTemplate#ButtonContract](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#buttoncontract)]  
  
 <span data-ttu-id="1e9ab-334">Al crear un <xref:System.Windows.Controls.ControlTemplate>, a menudo resulta más fácil empezar a otra <xref:System.Windows.Controls.ControlTemplate> y realizar cambios en él.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-334">When creating a <xref:System.Windows.Controls.ControlTemplate>, it is often easiest to begin with an existing <xref:System.Windows.Controls.ControlTemplate> and make changes to it.</span></span> <span data-ttu-id="1e9ab-335">Puede realizar una de las siguientes opciones para cambiar una existente <xref:System.Windows.Controls.ControlTemplate>:</span><span class="sxs-lookup"><span data-stu-id="1e9ab-335">You can do one of the following to change an existing <xref:System.Windows.Controls.ControlTemplate>:</span></span>  
  
-   <span data-ttu-id="1e9ab-336">Utilice un diseñador, como Expression Blend, que proporciona una interfaz gráfica de usuario para crear plantillas de control.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-336">Use a designer, such as Expression Blend, which provides a graphical user interface for creating control templates.</span></span> <span data-ttu-id="1e9ab-337">Para más información, consulte [Aplicar estilos a un control que admite plantillas](http://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="1e9ab-337">For more information, see [Styling a control that supports templates](http://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
-   <span data-ttu-id="1e9ab-338">Obtener el valor predeterminado <xref:System.Windows.Controls.ControlTemplate> y editarlo.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-338">Get the default <xref:System.Windows.Controls.ControlTemplate> and edit it.</span></span> <span data-ttu-id="1e9ab-339">Para encontrar las plantillas de control predeterminadas que se incluyen con [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], consulte [Default WPF Themes](http://go.microsoft.com/fwlink/?LinkID=158252) (Temas de WPF predeterminados).</span><span class="sxs-lookup"><span data-stu-id="1e9ab-339">To find the default control templates that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Default WPF Themes](http://go.microsoft.com/fwlink/?LinkID=158252).</span></span>  
  
<a name="complete_example"></a>   
## <a name="complete-example"></a><span data-ttu-id="1e9ab-340">Ejemplo completo</span><span class="sxs-lookup"><span data-stu-id="1e9ab-340">Complete Example</span></span>  
 <span data-ttu-id="1e9ab-341">En el ejemplo siguiente se muestra la sección completa <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.ControlTemplate> que se describe en este tema.</span><span class="sxs-lookup"><span data-stu-id="1e9ab-341">The following example shows the complete <xref:System.Windows.Controls.Button><xref:System.Windows.Controls.ControlTemplate> that is discussed in this topic.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#3)]  
  
## <a name="see-also"></a><span data-ttu-id="1e9ab-342">Vea también</span><span class="sxs-lookup"><span data-stu-id="1e9ab-342">See Also</span></span>  
 [<span data-ttu-id="1e9ab-343">Aplicar estilos y plantillas</span><span class="sxs-lookup"><span data-stu-id="1e9ab-343">Styling and Templating</span></span>](../../../../docs/framework/wpf/controls/styling-and-templating.md)
