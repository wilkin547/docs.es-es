---
title: Solución de problemas de aplicaciones híbridas
ms.date: 03/30/2017
helpviewer_keywords:
- overlapping controls [WPF]
- Windows Forms [WPF], interoperability with
- Windows Forms [WPF], WPF interoperation
- interoperability [WPF], Windows Forms
- hybrid applications [WPF interoperability]
- message loops [WPF]
ms.assetid: f440c23f-fa5d-4d5a-852f-ba61150e6405
ms.openlocfilehash: b43143fb3f27d127f93f5e8edd55b853ad604ef5
ms.sourcegitcommit: c7f3e2e9d6ead6cc3acd0d66b10a251d0c66e59d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/08/2018
ms.locfileid: "44192287"
---
# <a name="troubleshooting-hybrid-applications"></a><span data-ttu-id="357d2-102">Solución de problemas de aplicaciones híbridas</span><span class="sxs-lookup"><span data-stu-id="357d2-102">Troubleshooting Hybrid Applications</span></span>
<a name="introduction"></a> <span data-ttu-id="357d2-103">En este tema se enumeran algunos problemas comunes que se pueden producir al crear aplicaciones híbridas, que usan las dos tecnologías, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] y [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)].</span><span class="sxs-lookup"><span data-stu-id="357d2-103">This topic lists some common problems that can occur when authoring hybrid applications, which use both [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] technologies.</span></span>  
  

  
<a name="overlapping_controls"></a>   
## <a name="overlapping-controls"></a><span data-ttu-id="357d2-104">Controles superpuestos</span><span class="sxs-lookup"><span data-stu-id="357d2-104">Overlapping Controls</span></span>  
 <span data-ttu-id="357d2-105">Los controles no se pueden superponer como cabría esperar.</span><span class="sxs-lookup"><span data-stu-id="357d2-105">Controls may not overlap as you would expect.</span></span> [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="357d2-106"> usa un HWND independiente para cada control.</span><span class="sxs-lookup"><span data-stu-id="357d2-106"> uses a separate HWND for each control.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="357d2-107"> usa un HWND para todo el contenido de una página.</span><span class="sxs-lookup"><span data-stu-id="357d2-107"> uses one HWND for all content on a page.</span></span> <span data-ttu-id="357d2-108">Esta diferencia de implementación da lugar a comportamientos de superposición inesperados.</span><span class="sxs-lookup"><span data-stu-id="357d2-108">This implementation difference causes unexpected overlapping behaviors.</span></span>  
  
 <span data-ttu-id="357d2-109">Un control de [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] hospedado en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] siempre aparece encima del contenido de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="357d2-109">A [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control hosted in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] always appears on top of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content.</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="357d2-110"> contenido hospedado en un <xref:System.Windows.Forms.Integration.ElementHost> control aparece en el orden z de la <xref:System.Windows.Forms.Integration.ElementHost> control.</span><span class="sxs-lookup"><span data-stu-id="357d2-110"> content hosted in an <xref:System.Windows.Forms.Integration.ElementHost> control appears at the z-order of the <xref:System.Windows.Forms.Integration.ElementHost> control.</span></span> <span data-ttu-id="357d2-111">Es posible superponer <xref:System.Windows.Forms.Integration.ElementHost> controles, pero hospedado [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] contenido no se combina ni interactúa.</span><span class="sxs-lookup"><span data-stu-id="357d2-111">It is possible to overlap <xref:System.Windows.Forms.Integration.ElementHost> controls, but the hosted [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] content does not combine or interact.</span></span>  
  
<a name="child_property"></a>   
## <a name="child-property"></a><span data-ttu-id="357d2-112">Child Property</span><span class="sxs-lookup"><span data-stu-id="357d2-112">Child Property</span></span>  
 <span data-ttu-id="357d2-113">El <xref:System.Windows.Forms.Integration.WindowsFormsHost> y <xref:System.Windows.Forms.Integration.ElementHost> clases pueden hospedar únicamente un solo control o elemento secundario.</span><span class="sxs-lookup"><span data-stu-id="357d2-113">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes can host only a single child control or element.</span></span> <span data-ttu-id="357d2-114">Para hospedar más de un control o elemento, se debe usar un contenedor como contenido secundario.</span><span class="sxs-lookup"><span data-stu-id="357d2-114">To host more than one control or element, you must use a container as the child content.</span></span> <span data-ttu-id="357d2-115">Por ejemplo, podría agregar [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controles de botón y casilla de verificación para un <xref:System.Windows.Forms.Panel?displayProperty=nameWithType> controlar y, a continuación, asignar el panel a un <xref:System.Windows.Forms.Integration.WindowsFormsHost> del control <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A> propiedad.</span><span class="sxs-lookup"><span data-stu-id="357d2-115">For example, you could add [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] button and check box controls to a <xref:System.Windows.Forms.Panel?displayProperty=nameWithType> control, and then assign the panel to a <xref:System.Windows.Forms.Integration.WindowsFormsHost> control's <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A> property.</span></span> <span data-ttu-id="357d2-116">Sin embargo, no se puede agregar los controles de botón y casilla por separado al mismo <xref:System.Windows.Forms.Integration.WindowsFormsHost> control.</span><span class="sxs-lookup"><span data-stu-id="357d2-116">However, you cannot add the button and check box controls separately to the same <xref:System.Windows.Forms.Integration.WindowsFormsHost> control.</span></span>  
  
<a name="scaling"></a>   
## <a name="scaling"></a><span data-ttu-id="357d2-117">Cambiar escala</span><span class="sxs-lookup"><span data-stu-id="357d2-117">Scaling</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="357d2-118"> y [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] tienen modelos diferentes de escala.</span><span class="sxs-lookup"><span data-stu-id="357d2-118"> and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] have different scaling models.</span></span> <span data-ttu-id="357d2-119">Algunas transformaciones de escala de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] resultan lógicas para los controles de [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)], pero otras no.</span><span class="sxs-lookup"><span data-stu-id="357d2-119">Some [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] scaling transformations are meaningful to [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls, but others are not.</span></span> <span data-ttu-id="357d2-120">Por ejemplo, ajustar la escala de un control de [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] a 0 funcionará, pero si se intenta ajustar la escala del mismo control a un valor distinto de cero, el tamaño del control sigue siendo 0.</span><span class="sxs-lookup"><span data-stu-id="357d2-120">For example, scaling a [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control to 0 will work, but if you try to scale the same control back to a non-zero value, the control's size remains 0.</span></span> <span data-ttu-id="357d2-121">Para más información, vea [Consideraciones sobre el diseño del elemento WindowsFormsHost](../../../../docs/framework/wpf/advanced/layout-considerations-for-the-windowsformshost-element.md).</span><span class="sxs-lookup"><span data-stu-id="357d2-121">For more information, see [Layout Considerations for the WindowsFormsHost Element](../../../../docs/framework/wpf/advanced/layout-considerations-for-the-windowsformshost-element.md).</span></span>  
  
<a name="adapter"></a>   
## <a name="adapter"></a><span data-ttu-id="357d2-122">Adaptador</span><span class="sxs-lookup"><span data-stu-id="357d2-122">Adapter</span></span>  
 <span data-ttu-id="357d2-123">Puede producirse confusión al trabajar el <xref:System.Windows.Forms.Integration.WindowsFormsHost> y <xref:System.Windows.Forms.Integration.ElementHost> clases, porque incluyen un contenedor oculto.</span><span class="sxs-lookup"><span data-stu-id="357d2-123">There may be confusion when working the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes, because they include a hidden container.</span></span> <span data-ttu-id="357d2-124">Tanto el <xref:System.Windows.Forms.Integration.WindowsFormsHost> y <xref:System.Windows.Forms.Integration.ElementHost> clases tienen un contenedor oculto, denominado un *adaptador*, que utiliza para hospedar contenido.</span><span class="sxs-lookup"><span data-stu-id="357d2-124">Both the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes have a hidden container, called an *adapter*, which they use to host content.</span></span> <span data-ttu-id="357d2-125">Para el <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento, el adaptador se deriva de la <xref:System.Windows.Forms.ContainerControl?displayProperty=nameWithType> clase.</span><span class="sxs-lookup"><span data-stu-id="357d2-125">For the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, the adapter derives from the <xref:System.Windows.Forms.ContainerControl?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="357d2-126">Para el <xref:System.Windows.Forms.Integration.ElementHost> control, el adaptador se deriva de la <xref:System.Windows.Controls.DockPanel> elemento.</span><span class="sxs-lookup"><span data-stu-id="357d2-126">For the <xref:System.Windows.Forms.Integration.ElementHost> control, the adapter derives from the <xref:System.Windows.Controls.DockPanel> element.</span></span> <span data-ttu-id="357d2-127">Cuando se encuentren referencias al adaptador en otros temas sobre interoperación, se refieren a este contenedor.</span><span class="sxs-lookup"><span data-stu-id="357d2-127">When you see references to the adapter in other interoperation topics, this container is what is being discussed.</span></span>  
  
<a name="nesting"></a>   
## <a name="nesting"></a><span data-ttu-id="357d2-128">Anidamiento</span><span class="sxs-lookup"><span data-stu-id="357d2-128">Nesting</span></span>  
 <span data-ttu-id="357d2-129">Anidar un <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento dentro de un <xref:System.Windows.Forms.Integration.ElementHost> no se admite el control.</span><span class="sxs-lookup"><span data-stu-id="357d2-129">Nesting a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element inside an <xref:System.Windows.Forms.Integration.ElementHost> control is not supported.</span></span> <span data-ttu-id="357d2-130">Anidar un <xref:System.Windows.Forms.Integration.ElementHost> control dentro de un <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento tampoco se admite.</span><span class="sxs-lookup"><span data-stu-id="357d2-130">Nesting an <xref:System.Windows.Forms.Integration.ElementHost> control inside a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element is also not supported.</span></span>  
  
<a name="focus"></a>   
## <a name="focus"></a><span data-ttu-id="357d2-131">Foco</span><span class="sxs-lookup"><span data-stu-id="357d2-131">Focus</span></span>  
 <span data-ttu-id="357d2-132">El foco funciona de manera diferente en [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] y [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)], lo que significa que pueden producirse problemas de foco en una aplicación híbrida.</span><span class="sxs-lookup"><span data-stu-id="357d2-132">Focus works differently in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)], which means that focus issues may occur in a hybrid application.</span></span> <span data-ttu-id="357d2-133">Por ejemplo, si tiene el foco dentro un <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento y bien minimizar y restaurar la página o mostrar un cuadro de diálogo modal, centrarse en el <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento podrían perderse.</span><span class="sxs-lookup"><span data-stu-id="357d2-133">For example, if you have focus inside a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, and you either minimize and restore the page or show a modal dialog box, focus inside the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element may be lost.</span></span> <span data-ttu-id="357d2-134">El <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento todavía tiene el foco, pero el control dentro de él, es posible que no.</span><span class="sxs-lookup"><span data-stu-id="357d2-134">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element still has focus, but the control inside it may not.</span></span>  
  
 <span data-ttu-id="357d2-135">El foco también afecta a la validación de datos.</span><span class="sxs-lookup"><span data-stu-id="357d2-135">Data validation is also affected by focus.</span></span> <span data-ttu-id="357d2-136">Validación funciona en un <xref:System.Windows.Forms.Integration.WindowsFormsHost> , pero no funciona pestaña fuera de la <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento, o entre dos diferentes <xref:System.Windows.Forms.Integration.WindowsFormsHost> elementos.</span><span class="sxs-lookup"><span data-stu-id="357d2-136">Validation works in a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, but it does not work as you tab out of the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element, or between two different <xref:System.Windows.Forms.Integration.WindowsFormsHost> elements.</span></span>  
  
<a name="property_mapping"></a>   
## <a name="property-mapping"></a><span data-ttu-id="357d2-137">Asignación de propiedades</span><span class="sxs-lookup"><span data-stu-id="357d2-137">Property Mapping</span></span>  
 <span data-ttu-id="357d2-138">Algunas asignaciones de propiedades requieren una ardua labor de interpretación a fin de salvar las diferencias de implementación entre ambas tecnologías, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] y [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)].</span><span class="sxs-lookup"><span data-stu-id="357d2-138">Some property mappings require extensive interpretation to bridge dissimilar implementations between the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] technologies.</span></span> <span data-ttu-id="357d2-139">Las asignaciones de propiedad permiten que el código reaccione ante los cambios de fuentes, colores y otras propiedades.</span><span class="sxs-lookup"><span data-stu-id="357d2-139">Property mappings enable your code to react to changes in fonts, colors, and other properties.</span></span> <span data-ttu-id="357d2-140">En general, las asignaciones de propiedad funcionan realizando escuchas para detectar eventos *Propiedad*Changed o llamadas a On*Propiedad*Changed, y estableciendo las propiedades adecuadas en el control secundario o en su adaptador.</span><span class="sxs-lookup"><span data-stu-id="357d2-140">In general, property mappings work by listening for either *Property*Changed events or On*Property*Changed calls, and setting appropriate properties on either the child control or its adapter.</span></span> <span data-ttu-id="357d2-141">Para más información, vea [Asignación de propiedades en formularios Windows Forms y WPF](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="357d2-141">For more information, see [Windows Forms and WPF Property Mapping](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md).</span></span>  
  
<a name="layoutrelated_properties_on_hosted_content"></a>   
## <a name="layout-related-properties-on-hosted-content"></a><span data-ttu-id="357d2-142">Propiedades relacionadas con el diseño en el contenido hospedado</span><span class="sxs-lookup"><span data-stu-id="357d2-142">Layout-related Properties on Hosted Content</span></span>  
 <span data-ttu-id="357d2-143">Cuando el <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A?displayProperty=nameWithType> o <xref:System.Windows.Forms.Integration.ElementHost.Child%2A?displayProperty=nameWithType> se asigna la propiedad, se establecen automáticamente varias propiedades relacionadas con el diseño en el contenido hospedado.</span><span class="sxs-lookup"><span data-stu-id="357d2-143">When the <xref:System.Windows.Forms.Integration.WindowsFormsHost.Child%2A?displayProperty=nameWithType> or <xref:System.Windows.Forms.Integration.ElementHost.Child%2A?displayProperty=nameWithType> property is assigned, several layout-related properties on the hosted content are set automatically.</span></span> <span data-ttu-id="357d2-144">Cambiar estas propiedades de contenido puede producir comportamientos de diseño inesperados.</span><span class="sxs-lookup"><span data-stu-id="357d2-144">Changing these content properties can cause unexpected layout behaviors.</span></span>  
  
 <span data-ttu-id="357d2-145">El contenido hospedado se acopla para rellenar el <xref:System.Windows.Forms.Integration.WindowsFormsHost> y <xref:System.Windows.Forms.Integration.ElementHost> primario.</span><span class="sxs-lookup"><span data-stu-id="357d2-145">Your hosted content is docked to fill the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> parent.</span></span> <span data-ttu-id="357d2-146">Para habilitar este comportamiento de relleno, se establecen varias propiedades al establecer la propiedad secundaria.</span><span class="sxs-lookup"><span data-stu-id="357d2-146">To enable this fill behavior, several properties are set when you set the child property.</span></span> <span data-ttu-id="357d2-147">La siguiente tabla muestra que se establecen las propiedades de contenido mediante el <xref:System.Windows.Forms.Integration.ElementHost> y <xref:System.Windows.Forms.Integration.WindowsFormsHost> clases.</span><span class="sxs-lookup"><span data-stu-id="357d2-147">The following table lists which content properties are set by the <xref:System.Windows.Forms.Integration.ElementHost> and <xref:System.Windows.Forms.Integration.WindowsFormsHost> classes.</span></span>  
  
|<span data-ttu-id="357d2-148">Clase de host</span><span class="sxs-lookup"><span data-stu-id="357d2-148">Host Class</span></span>|<span data-ttu-id="357d2-149">Propiedades de contenido</span><span class="sxs-lookup"><span data-stu-id="357d2-149">Content Properties</span></span>|  
|----------------|------------------------|  
|<xref:System.Windows.Forms.Integration.ElementHost>|<xref:System.Windows.FrameworkElement.Height%2A><br /><br /> <xref:System.Windows.FrameworkElement.Width%2A><br /><br /> <xref:System.Windows.FrameworkElement.Margin%2A><br /><br /> <xref:System.Windows.FrameworkElement.VerticalAlignment%2A><br /><br /> <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A>|  
|<xref:System.Windows.Forms.Integration.WindowsFormsHost>|<xref:System.Windows.Forms.Control.Margin%2A><br /><br /> <xref:System.Windows.Forms.Control.Dock%2A><br /><br /> <xref:System.Windows.Forms.Control.AutoSize%2A><br /><br /> <xref:System.Windows.Forms.Control.Location%2A><br /><br /> <xref:System.Windows.Forms.Control.MaximumSize%2A>|  
  
 <span data-ttu-id="357d2-150">No establezca estas propiedades directamente en el contenido hospedado.</span><span class="sxs-lookup"><span data-stu-id="357d2-150">Do not set these properties directly on the hosted content.</span></span> <span data-ttu-id="357d2-151">Para más información, vea [Consideraciones sobre el diseño del elemento WindowsFormsHost](../../../../docs/framework/wpf/advanced/layout-considerations-for-the-windowsformshost-element.md).</span><span class="sxs-lookup"><span data-stu-id="357d2-151">For more information, see [Layout Considerations for the WindowsFormsHost Element](../../../../docs/framework/wpf/advanced/layout-considerations-for-the-windowsformshost-element.md).</span></span>  
  
<a name="navigation_applications"></a>   
## <a name="navigation-applications"></a><span data-ttu-id="357d2-152">Aplicaciones de navegación</span><span class="sxs-lookup"><span data-stu-id="357d2-152">Navigation Applications</span></span>  
 <span data-ttu-id="357d2-153">Es posible que las aplicaciones de navegación no mantengan el estado del usuario.</span><span class="sxs-lookup"><span data-stu-id="357d2-153">Navigation applications may not maintain user state.</span></span> <span data-ttu-id="357d2-154">El <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento vuelve a crear sus controles cuando se usa en una aplicación de navegación.</span><span class="sxs-lookup"><span data-stu-id="357d2-154">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element recreates its controls when it is used in a navigation application.</span></span> <span data-ttu-id="357d2-155">Volver a crear los controles secundarios se produce cuando el usuario navega fuera de la página que hospeda el <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento y, a continuación, devuelve a él.</span><span class="sxs-lookup"><span data-stu-id="357d2-155">Recreating child controls occurs when the user navigates away from the page hosting the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element and then returns to it.</span></span> <span data-ttu-id="357d2-156">Todo el contenido que el usuario haya escrito se perderá.</span><span class="sxs-lookup"><span data-stu-id="357d2-156">Any content that has been typed in by the user will be lost.</span></span>  
  
<a name="message_loop_interoperation"></a>   
## <a name="message-loop-interoperation"></a><span data-ttu-id="357d2-157">Interoperación de bucles de mensajes</span><span class="sxs-lookup"><span data-stu-id="357d2-157">Message Loop Interoperation</span></span>  
 <span data-ttu-id="357d2-158">Cuando se trabaja con bucles de mensajes de [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)], es posible que los mensajes no se procesen de la forma esperada.</span><span class="sxs-lookup"><span data-stu-id="357d2-158">When working with [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] message loops, messages may not be processed as expected.</span></span> <span data-ttu-id="357d2-159">El <xref:System.Windows.Forms.Integration.WindowsFormsHost.EnableWindowsFormsInterop%2A> llama al método el <xref:System.Windows.Forms.Integration.WindowsFormsHost> constructor.</span><span class="sxs-lookup"><span data-stu-id="357d2-159">The <xref:System.Windows.Forms.Integration.WindowsFormsHost.EnableWindowsFormsInterop%2A> method is called by the <xref:System.Windows.Forms.Integration.WindowsFormsHost> constructor.</span></span> <span data-ttu-id="357d2-160">Este método agrega un filtro de mensajes al bucle de mensajes de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="357d2-160">This method adds a message filter to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] message loop.</span></span> <span data-ttu-id="357d2-161">Este filtro llama a la <xref:System.Windows.Forms.Control.PreProcessMessage%2A?displayProperty=nameWithType> método si un <xref:System.Windows.Forms.Control?displayProperty=nameWithType> era el destino del mensaje y convierte o envía el mensaje.</span><span class="sxs-lookup"><span data-stu-id="357d2-161">This filter calls the <xref:System.Windows.Forms.Control.PreProcessMessage%2A?displayProperty=nameWithType> method if a <xref:System.Windows.Forms.Control?displayProperty=nameWithType> was the target of the message and translates/dispatches the message.</span></span>  
  
 <span data-ttu-id="357d2-162">Si se muestra un <xref:System.Windows.Window> en un [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] bucle de mensajes con <xref:System.Windows.Forms.Application.Run%2A?displayProperty=nameWithType>, no se puede escribir nada a menos que llame a la <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> método.</span><span class="sxs-lookup"><span data-stu-id="357d2-162">If you show a <xref:System.Windows.Window> in a [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] message loop with <xref:System.Windows.Forms.Application.Run%2A?displayProperty=nameWithType>, you cannot type anything unless you call the <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> method.</span></span> <span data-ttu-id="357d2-163">El <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> método toma un <xref:System.Windows.Window> y agrega un <xref:System.Windows.Forms.IMessageFilter?displayProperty=nameWithType>, que vuelve a enrutar los mensajes relacionados con la clave para el [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bucle de mensajes.</span><span class="sxs-lookup"><span data-stu-id="357d2-163">The <xref:System.Windows.Forms.Integration.ElementHost.EnableModelessKeyboardInterop%2A> method takes a <xref:System.Windows.Window> and adds a <xref:System.Windows.Forms.IMessageFilter?displayProperty=nameWithType>, which reroutes key-related messages to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] message loop.</span></span> <span data-ttu-id="357d2-164">Para más información, vea [Arquitectura de entrada de interoperabilidad entre formularios Windows Forms y WPF](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-interoperability-input-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="357d2-164">For more information, see [Windows Forms and WPF Interoperability Input Architecture](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-interoperability-input-architecture.md).</span></span>  
  
<a name="opacity_and_layering"></a>   
## <a name="opacity-and-layering"></a><span data-ttu-id="357d2-165">Opacidad y disposición en capas</span><span class="sxs-lookup"><span data-stu-id="357d2-165">Opacity and Layering</span></span>  
 <span data-ttu-id="357d2-166">La <xref:System.Windows.Interop.HwndHost> clase no admite la disposición en capas.</span><span class="sxs-lookup"><span data-stu-id="357d2-166">The <xref:System.Windows.Interop.HwndHost> class does not support layering.</span></span> <span data-ttu-id="357d2-167">Esto significa que esa configuración la <xref:System.Windows.UIElement.Opacity%2A> propiedad en el <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento no tiene ningún efecto y se producirá ninguna mezcla con otros [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] windows que tienen <xref:System.Windows.Window.AllowsTransparency%2A> establecido en `true`.</span><span class="sxs-lookup"><span data-stu-id="357d2-167">This means that setting the <xref:System.Windows.UIElement.Opacity%2A> property on the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element has no effect, and no blending will occur with other [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] windows which have <xref:System.Windows.Window.AllowsTransparency%2A> set to `true`.</span></span>  
  
<a name="dispose"></a>   
## <a name="dispose"></a><span data-ttu-id="357d2-168">Desechar</span><span class="sxs-lookup"><span data-stu-id="357d2-168">Dispose</span></span>  
 <span data-ttu-id="357d2-169">No desechar correctamente las clases puede hacer que se pierdan recursos.</span><span class="sxs-lookup"><span data-stu-id="357d2-169">Not disposing classes properly can leak resources.</span></span> <span data-ttu-id="357d2-170">En las aplicaciones híbridas, asegúrese de que el <xref:System.Windows.Forms.Integration.WindowsFormsHost> y <xref:System.Windows.Forms.Integration.ElementHost> clases se eliminan o se podrían producir pérdida de recursos.</span><span class="sxs-lookup"><span data-stu-id="357d2-170">In your hybrid applications, make sure that the <xref:System.Windows.Forms.Integration.WindowsFormsHost> and <xref:System.Windows.Forms.Integration.ElementHost> classes are disposed, or you could leak resources.</span></span> [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]<span data-ttu-id="357d2-171"> desecha <xref:System.Windows.Forms.Integration.ElementHost> controla cuándo su no modal <xref:System.Windows.Forms.Form> primario se cierra.</span><span class="sxs-lookup"><span data-stu-id="357d2-171"> disposes <xref:System.Windows.Forms.Integration.ElementHost> controls when its non-modal <xref:System.Windows.Forms.Form> parent closes.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="357d2-172"> desecha <xref:System.Windows.Forms.Integration.WindowsFormsHost> elementos cuando se cierra la aplicación.</span><span class="sxs-lookup"><span data-stu-id="357d2-172"> disposes <xref:System.Windows.Forms.Integration.WindowsFormsHost> elements when your application shuts down.</span></span> <span data-ttu-id="357d2-173">Es posible mostrar un <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento en un <xref:System.Windows.Window> en un [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] bucle de mensajes.</span><span class="sxs-lookup"><span data-stu-id="357d2-173">It is possible to show a <xref:System.Windows.Forms.Integration.WindowsFormsHost> element in a <xref:System.Windows.Window> in a [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] message loop.</span></span> <span data-ttu-id="357d2-174">En este caso, es posible que el código no reciba la notificación de que la aplicación se está cerrando.</span><span class="sxs-lookup"><span data-stu-id="357d2-174">In this case, your code may not receive notification that your application is shutting down.</span></span>  
  
<a name="enabling_visual_styles"></a>   
## <a name="enabling-visual-styles"></a><span data-ttu-id="357d2-175">Habilitar los estilos visuales</span><span class="sxs-lookup"><span data-stu-id="357d2-175">Enabling Visual Styles</span></span>  
 <span data-ttu-id="357d2-176">Es posible que los elementos visuales de [!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)] no estén habilitados en un control de [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)].</span><span class="sxs-lookup"><span data-stu-id="357d2-176">[!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)] visual styles on a [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] control may not be enabled.</span></span> <span data-ttu-id="357d2-177">El <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> se llama al método en la plantilla para un [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] aplicación.</span><span class="sxs-lookup"><span data-stu-id="357d2-177">The <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> method is called in the template for a [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] application.</span></span> <span data-ttu-id="357d2-178">Aunque este método no se llama de forma predeterminada, si usa [!INCLUDE[TLA2#tla_visualstu](../../../../includes/tla2sharptla-visualstu-md.md)] para crear un proyecto, obtendrá los elementos visuales de [!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)] para los controles, si está disponible la versión 6.0 de Comctl32.dll.</span><span class="sxs-lookup"><span data-stu-id="357d2-178">Although this method is not called by default, if you use [!INCLUDE[TLA2#tla_visualstu](../../../../includes/tla2sharptla-visualstu-md.md)] to create a project, you will get [!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)] visual styles for controls, if version 6.0 of Comctl32.dll is available.</span></span> <span data-ttu-id="357d2-179">Debe llamar a la <xref:System.Windows.Forms.Application.EnableVisualStyles%2A> método antes de que se creen los controladores en el subproceso.</span><span class="sxs-lookup"><span data-stu-id="357d2-179">You must call the <xref:System.Windows.Forms.Application.EnableVisualStyles%2A> method before handles are created on the thread.</span></span> <span data-ttu-id="357d2-180">Para más información, vea [Cómo: Habilitar estilos visuales en una aplicación híbrida](../../../../docs/framework/wpf/advanced/how-to-enable-visual-styles-in-a-hybrid-application.md).</span><span class="sxs-lookup"><span data-stu-id="357d2-180">For more information, see [How to: Enable Visual Styles in a Hybrid Application](../../../../docs/framework/wpf/advanced/how-to-enable-visual-styles-in-a-hybrid-application.md).</span></span>  
  
<a name="licensed_controls"></a>   
## <a name="licensed-controls"></a><span data-ttu-id="357d2-181">Controles con licencia</span><span class="sxs-lookup"><span data-stu-id="357d2-181">Licensed Controls</span></span>  
 <span data-ttu-id="357d2-182">Los controles de [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] con licencia que muestran información de licencia en un cuadro de mensaje al usuario pueden provocar un comportamiento inesperado en una aplicación híbrida.</span><span class="sxs-lookup"><span data-stu-id="357d2-182">Licensed [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] controls that display licensing information in a message box to the user might cause unexpected behavior for a hybrid application.</span></span> <span data-ttu-id="357d2-183">Algunos controles con licencia muestran un cuadro de diálogo como respuesta a la creación de controladores.</span><span class="sxs-lookup"><span data-stu-id="357d2-183">Some licensed controls show a dialog box in response to handle creation.</span></span> <span data-ttu-id="357d2-184">Por ejemplo, un control con licencia podría informar al usuario de que se requiere una licencia o de que al usuario le quedan tres usos de prueba del control.</span><span class="sxs-lookup"><span data-stu-id="357d2-184">For example, a licensed control might inform the user that a license is required, or that the user has three remaining trial uses of the control.</span></span>  
  
 <span data-ttu-id="357d2-185">El <xref:System.Windows.Forms.Integration.WindowsFormsHost> elemento se deriva de la <xref:System.Windows.Interop.HwndHost> clase y el identificador del control secundario se crea dentro de la <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> método.</span><span class="sxs-lookup"><span data-stu-id="357d2-185">The <xref:System.Windows.Forms.Integration.WindowsFormsHost> element derives from the <xref:System.Windows.Interop.HwndHost> class, and the child control’s handle is created inside the <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> method.</span></span> <span data-ttu-id="357d2-186">El <xref:System.Windows.Interop.HwndHost> clase no permite los mensajes se procesen en el <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> método, pero muestra un cuadro de diálogo hace que los mensajes se envíen.</span><span class="sxs-lookup"><span data-stu-id="357d2-186">The <xref:System.Windows.Interop.HwndHost> class does not allow messages to be processed in the <xref:System.Windows.Forms.Integration.WindowsFormsHost.BuildWindowCore%2A> method, but displaying a dialog box causes messages to be sent.</span></span> <span data-ttu-id="357d2-187">Para habilitar este escenario de licencias, llame a la <xref:System.Windows.Forms.Control.CreateControl%2A?displayProperty=nameWithType> método en el control antes de asignarlo como el <xref:System.Windows.Forms.Integration.WindowsFormsHost> secundario del elemento.</span><span class="sxs-lookup"><span data-stu-id="357d2-187">To enable this licensing scenario, call the <xref:System.Windows.Forms.Control.CreateControl%2A?displayProperty=nameWithType> method on the control before assigning it as the <xref:System.Windows.Forms.Integration.WindowsFormsHost> element's child.</span></span>  
  
<a name="wpf_designer"></a>   
## <a name="wpf-designer"></a><span data-ttu-id="357d2-188">WPF Designer</span><span class="sxs-lookup"><span data-stu-id="357d2-188">WPF Designer</span></span>  
 <span data-ttu-id="357d2-189">Puede diseñar el contenido de WPF mediante [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="357d2-189">You can design your WPF content by using the [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)].</span></span> <span data-ttu-id="357d2-190">En las secciones siguientes se indican algunos problemas comunes que se pueden producir al crear aplicaciones híbridas con [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="357d2-190">The following sections list some common problems that can occur when authoring hybrid applications with the [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)].</span></span>  
  
### <a name="backcolortransparent-is-ignored-at-design-time"></a><span data-ttu-id="357d2-191">BackColorTransparent se omite en tiempo de diseño</span><span class="sxs-lookup"><span data-stu-id="357d2-191">BackColorTransparent is ignored at design time</span></span>  
 <span data-ttu-id="357d2-192">El <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> propiedad podría no funcionar según lo previsto en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="357d2-192">The <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> property might not work as expected at design time.</span></span>  
  
 <span data-ttu-id="357d2-193">Si un control WPF no está en un elemento primario visible, el tiempo de ejecución WPF omite el <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> valor.</span><span class="sxs-lookup"><span data-stu-id="357d2-193">If a WPF control is not on a visible parent, the WPF runtime ignores the <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> value.</span></span> <span data-ttu-id="357d2-194">La razón por la que <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> puede omitirse porque <xref:System.Windows.Forms.Integration.ElementHost> se crea el objeto en otro <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="357d2-194">The reason that <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> might be ignored is because <xref:System.Windows.Forms.Integration.ElementHost> object is created in a separate <xref:System.AppDomain>.</span></span> <span data-ttu-id="357d2-195">Sin embargo, al ejecutar la aplicación, <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> funcionan según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="357d2-195">However, when you run the application, <xref:System.Windows.Forms.Integration.ElementHost.BackColorTransparent%2A> does work as expected.</span></span>  
  
### <a name="design-time-error-list-appears-when-the-obj-folder-is-deleted"></a><span data-ttu-id="357d2-196">Aparece la lista de errores en tiempo de diseño cuando se elimina la carpeta obj</span><span class="sxs-lookup"><span data-stu-id="357d2-196">Design-time Error List appears when the obj folder is deleted</span></span>  
 <span data-ttu-id="357d2-197">Si se elimina la carpeta obj, aparece la lista de errores en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="357d2-197">If the obj folder is deleted, the Design-time Error List appears.</span></span>  
  
 <span data-ttu-id="357d2-198">Al diseñar mediante <xref:System.Windows.Forms.Integration.ElementHost>, el Diseñador de Windows Forms usa los archivos generados en la carpeta Debug o Release en la carpeta del proyecto obj.</span><span class="sxs-lookup"><span data-stu-id="357d2-198">When you design using <xref:System.Windows.Forms.Integration.ElementHost>, the Windows Forms Designer uses generated files in the Debug or Release folder within your project's obj folder.</span></span> <span data-ttu-id="357d2-199">Si se eliminan estos archivos, aparece la lista de errores en tiempo de diseño.</span><span class="sxs-lookup"><span data-stu-id="357d2-199">If you delete these files, the Design-time Error List appears.</span></span> <span data-ttu-id="357d2-200">Para corregir este problema, recompile el proyecto.</span><span class="sxs-lookup"><span data-stu-id="357d2-200">To fix this problem, rebuild your project.</span></span> <span data-ttu-id="357d2-201">Para más información, vea [Errores en tiempo de diseño en el Diseñador de Windows Forms](../../../../docs/framework/winforms/controls/design-time-errors-in-the-windows-forms-designer.md).</span><span class="sxs-lookup"><span data-stu-id="357d2-201">For more information, see [Design-Time Errors in the Windows Forms Designer](../../../../docs/framework/winforms/controls/design-time-errors-in-the-windows-forms-designer.md).</span></span>  
  
<a name="elementhost_and_ime"></a>   
## <a name="elementhost-and-ime"></a><span data-ttu-id="357d2-202">ElementHost e IME</span><span class="sxs-lookup"><span data-stu-id="357d2-202">ElementHost and IME</span></span>  
 <span data-ttu-id="357d2-203">Controles de WPF hospedan en un <xref:System.Windows.Forms.Integration.ElementHost> actualmente no se admite el <xref:System.Windows.Forms.Control.ImeMode%2A> propiedad.</span><span class="sxs-lookup"><span data-stu-id="357d2-203">WPF controls hosted in an <xref:System.Windows.Forms.Integration.ElementHost> currently do not support the <xref:System.Windows.Forms.Control.ImeMode%2A> property.</span></span> <span data-ttu-id="357d2-204">Cambia a <xref:System.Windows.Forms.Control.ImeMode%2A> los controles hospedados omitirán.</span><span class="sxs-lookup"><span data-stu-id="357d2-204">Changes to <xref:System.Windows.Forms.Control.ImeMode%2A> will be ignored by the hosted controls.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="357d2-205">Vea también</span><span class="sxs-lookup"><span data-stu-id="357d2-205">See Also</span></span>  
 <xref:System.Windows.Forms.Integration.ElementHost>  
 <xref:System.Windows.Forms.Integration.WindowsFormsHost>  
 [<span data-ttu-id="357d2-206">Interoperabilidad en WPF Designer</span><span class="sxs-lookup"><span data-stu-id="357d2-206">Interoperability in the WPF Designer</span></span>](https://msdn.microsoft.com/library/2cb7c1ca-2a75-463b-8801-fba81e2b7042)  
 [<span data-ttu-id="357d2-207">Arquitectura de entrada de interoperabilidad entre formularios Windows Forms y WPF</span><span class="sxs-lookup"><span data-stu-id="357d2-207">Windows Forms and WPF Interoperability Input Architecture</span></span>](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-interoperability-input-architecture.md)  
 [<span data-ttu-id="357d2-208">Habilitar estilos visuales en una aplicación híbrida</span><span class="sxs-lookup"><span data-stu-id="357d2-208">How to: Enable Visual Styles in a Hybrid Application</span></span>](../../../../docs/framework/wpf/advanced/how-to-enable-visual-styles-in-a-hybrid-application.md)  
 [<span data-ttu-id="357d2-209">Consideraciones sobre el diseño del elemento WindowsFormsHost</span><span class="sxs-lookup"><span data-stu-id="357d2-209">Layout Considerations for the WindowsFormsHost Element</span></span>](../../../../docs/framework/wpf/advanced/layout-considerations-for-the-windowsformshost-element.md)  
 [<span data-ttu-id="357d2-210">Asignación de propiedades en formularios Windows Forms y WPF</span><span class="sxs-lookup"><span data-stu-id="357d2-210">Windows Forms and WPF Property Mapping</span></span>](../../../../docs/framework/wpf/advanced/windows-forms-and-wpf-property-mapping.md)  
 [<span data-ttu-id="357d2-211">Errores en tiempo de diseño en el Diseñador de Windows Forms</span><span class="sxs-lookup"><span data-stu-id="357d2-211">Design-Time Errors in the Windows Forms Designer</span></span>](../../../../docs/framework/winforms/controls/design-time-errors-in-the-windows-forms-designer.md)  
 [<span data-ttu-id="357d2-212">Migración e interoperabilidad</span><span class="sxs-lookup"><span data-stu-id="357d2-212">Migration and Interoperability</span></span>](../../../../docs/framework/wpf/advanced/migration-and-interoperability.md)
