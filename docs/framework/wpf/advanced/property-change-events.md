---
title: Eventos de cambio de propiedades
ms.date: 03/30/2017
helpviewer_keywords:
- dependency properties [WPF], change events
- property value changes [WPF]
- change events [WPF], property
- events [WPF], change in property values
- creating property triggers [WPF]
- property change events [WPF], types of
- property change events [WPF]
- property triggers [WPF]
- identifying changed property events [WPF]
- property triggers [WPF], definition of
ms.assetid: 0a7989df-9674-4cc1-bc50-5d8ef5d9c055
ms.openlocfilehash: cd7c9c514c90a94e3329bec9614624ee399481ed
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/23/2019
ms.locfileid: "54524005"
---
# <a name="property-change-events"></a><span data-ttu-id="bfcd7-102">Eventos de cambio de propiedades</span><span class="sxs-lookup"><span data-stu-id="bfcd7-102">Property Change Events</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="bfcd7-103">define varios eventos que se producen como respuesta a un cambio en el valor de una propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-103">defines several events that are raised in response to a change in the value of a property.</span></span> <span data-ttu-id="bfcd7-104">A menudo, la propiedad es una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-104">Often the property is a dependency property.</span></span> <span data-ttu-id="bfcd7-105">A veces, el propio evento es un evento enrutado y, otras, es un evento [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] estándar.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-105">The event itself is sometimes a routed event and is sometimes a standard [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] event.</span></span> <span data-ttu-id="bfcd7-106">La definición del evento varía según el escenario, porque algunos cambios de propiedad deben enrutarse a través de un árbol de elementos, mientras que otros cambios de propiedad, generalmente, solo son de interés para el objeto en el que se modifica la propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-106">The definition of the event varies depending on the scenario, because some property changes are more appropriately routed through an element tree, whereas other property changes are generally only of concern to the object where the property changed.</span></span>  
  
## <a name="identifying-a-property-change-event"></a><span data-ttu-id="bfcd7-107">Identificar un evento de cambio de propiedad</span><span class="sxs-lookup"><span data-stu-id="bfcd7-107">Identifying a Property Change Event</span></span>  
 <span data-ttu-id="bfcd7-108">No todos los eventos que informan de un cambio de propiedad se identifican de manera explícita como evento de cambio de propiedad mediante un patrón de signatura o de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-108">Not all events that report a property change are explicitly identified as a property changed event, either by virtue of a signature pattern or a naming pattern.</span></span> <span data-ttu-id="bfcd7-109">Por lo general, la descripción del evento de la documentación del [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] indica si el evento está vinculado directamente a un cambio de valor de propiedad y proporciona referencias cruzadas entre la propiedad y el evento.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-109">Generally, the description of the event in the [!INCLUDE[TLA#tla_sdk](../../../../includes/tlasharptla-sdk-md.md)] documentation indicates whether the event is directly tied to a property value change and provides cross-references between the property and event.</span></span>  
  
### <a name="routedpropertychanged-events"></a><span data-ttu-id="bfcd7-110">Eventos RoutedPropertyChanged</span><span class="sxs-lookup"><span data-stu-id="bfcd7-110">RoutedPropertyChanged Events</span></span>  
 <span data-ttu-id="bfcd7-111">Algunos eventos usan un delegado y un tipo de datos de evento que se usan explícitamente para los eventos de cambio de propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-111">Certain events use an event data type and delegate that are explicitly used for property change events.</span></span> <span data-ttu-id="bfcd7-112">El tipo de datos de evento es <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, y el delegado es <xref:System.Windows.RoutedPropertyChangedEventHandler%601>.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-112">The event data type is <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, and the delegate is <xref:System.Windows.RoutedPropertyChangedEventHandler%601>.</span></span> <span data-ttu-id="bfcd7-113">El delegado y los datos del evento tienen un parámetro de tipo genérico que se usa para especificar el tipo real de la propiedad que cambia al definir el controlador.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-113">The event data and delegate both have a generic type parameter that is used to specify the actual type of the changing property when you define the handler.</span></span> <span data-ttu-id="bfcd7-114">Los datos del evento contienen dos propiedades, <xref:System.Windows.RoutedPropertyChangedEventArgs%601.OldValue%2A> y <xref:System.Windows.RoutedPropertyChangedEventArgs%601.NewValue%2A>, que se pasan como argumento de tipo en el evento datos.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-114">The event data contains two properties, <xref:System.Windows.RoutedPropertyChangedEventArgs%601.OldValue%2A> and <xref:System.Windows.RoutedPropertyChangedEventArgs%601.NewValue%2A>, which are both then passed as the type argument in the event data.</span></span>  
  
 <span data-ttu-id="bfcd7-115">La parte "Routed" del nombre indica que el evento con la propiedad cambiada se registra como evento enrutado.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-115">The "Routed" part of the name indicates that the property changed event is registered as a routed event.</span></span> <span data-ttu-id="bfcd7-116">La ventaja de enrutar un evento con la propiedad cambiada es que el nivel superior de un control puede recibir eventos con la propiedad cambiada si las propiedades de los elementos secundarios (las partes compuestas del control) cambian de valor.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-116">The advantage of routing a property changed event is that the top level of a control can receive property changed events if properties on the child elements (the control's composite parts) change values.</span></span> <span data-ttu-id="bfcd7-117">Por ejemplo, podría crear un control que incorpore un <xref:System.Windows.Controls.Primitives.RangeBase> de control como un <xref:System.Windows.Controls.Slider>.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-117">For instance, you might create a control that incorporates a <xref:System.Windows.Controls.Primitives.RangeBase> control such as a <xref:System.Windows.Controls.Slider>.</span></span> <span data-ttu-id="bfcd7-118">Si el valor de la <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> cambios de propiedad en la parte del control deslizante, es posible que desee controlar este cambio en el control primario en lugar de en la parte.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-118">If the value of the <xref:System.Windows.Controls.Primitives.RangeBase.Value%2A> property changes on the slider part, you might want to handle that change on the parent control rather than on the part.</span></span>  
  
 <span data-ttu-id="bfcd7-119">Dado que tiene un valor anterior y uno nuevo, puede ser tentador usar este controlador de eventos como un validador para el valor de propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-119">Because you have an old value and a new value, it might be tempting to use this event handler as a validator for the property value.</span></span> <span data-ttu-id="bfcd7-120">Sin embargo, no es la intención de diseño de la mayoría de los eventos con la propiedad cambiada.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-120">However, that is not the design intention of most property changed events.</span></span> <span data-ttu-id="bfcd7-121">Por lo general, los valores se proporcionan para que pueda actuar sobre esos valores en otras áreas de la lógica del código, pero no se recomienda modificar los valores desde el controlador de eventos y es posible que se cause una recursividad involuntaria según cómo se implemente el controlador.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-121">Generally, the values are provided so that you can act on those values in other logic areas of your code, but actually changing the values from within the event handler is not advisable, and may cause unintentional recursion depending on how your handler is implemented.</span></span>  
  
 <span data-ttu-id="bfcd7-122">Si la propiedad es una propiedad de dependencia personalizada, o si está trabajando con una clase derivada donde ha definido el código de creación de instancias, hay un mecanismo mucho mejor para realizar el seguimiento de cambios de propiedad que está integrado en el [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sistema de propiedades: el las devoluciones de llamada del sistema de propiedad <xref:System.Windows.CoerceValueCallback> y <xref:System.Windows.PropertyChangedCallback>.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-122">If your property is a custom dependency property, or if you are working with a derived class where you have defined the instantiation code, there is a much better mechanism for tracking property changes that is built in to the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system: the property system callbacks <xref:System.Windows.CoerceValueCallback> and <xref:System.Windows.PropertyChangedCallback>.</span></span> <span data-ttu-id="bfcd7-123">Para obtener más información acerca de cómo puede usar el sistema de propiedades de [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] para la validación y la coerción, consulte [Devoluciones de llamada y validación de las propiedades de dependencia](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md) y [Propiedades de dependencia personalizadas](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="bfcd7-123">For more details about how you can use the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system for validation and coercion, see [Dependency Property Callbacks and Validation](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md) and [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span></span>  
  
### <a name="dependencypropertychanged-events"></a><span data-ttu-id="bfcd7-124">Eventos DependencyPropertyChanged</span><span class="sxs-lookup"><span data-stu-id="bfcd7-124">DependencyPropertyChanged Events</span></span>  
 <span data-ttu-id="bfcd7-125">Es otro par de tipos que forman parte de un escenario de evento de cambio de propiedad <xref:System.Windows.DependencyPropertyChangedEventArgs> y <xref:System.Windows.DependencyPropertyChangedEventHandler>.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-125">Another pair of types that are part of a property changed event scenario is <xref:System.Windows.DependencyPropertyChangedEventArgs> and <xref:System.Windows.DependencyPropertyChangedEventHandler>.</span></span> <span data-ttu-id="bfcd7-126">No se enrutan los eventos para estos cambios de propiedad: son eventos [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] estándares.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-126">Events for these property changes are not routed; they are standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] events.</span></span> <span data-ttu-id="bfcd7-127"><xref:System.Windows.DependencyPropertyChangedEventArgs> es un tipo de informe porque no se deriva de datos de evento inusual <xref:System.EventArgs>; <xref:System.Windows.DependencyPropertyChangedEventArgs> es una estructura, no una clase.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-127"><xref:System.Windows.DependencyPropertyChangedEventArgs> is an unusual event data reporting type because it does not derive from <xref:System.EventArgs>; <xref:System.Windows.DependencyPropertyChangedEventArgs> is a structure, not a class.</span></span>  
  
 <span data-ttu-id="bfcd7-128">Los eventos que usan <xref:System.Windows.DependencyPropertyChangedEventArgs> y <xref:System.Windows.DependencyPropertyChangedEventHandler> son ligeramente más comunes que `RoutedPropertyChanged` eventos.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-128">Events that use <xref:System.Windows.DependencyPropertyChangedEventArgs> and <xref:System.Windows.DependencyPropertyChangedEventHandler> are slightly more common than `RoutedPropertyChanged` events.</span></span> <span data-ttu-id="bfcd7-129">Un ejemplo de un evento que usa estos tipos es <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-129">An example of an event that uses these types is <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span></span>  
  
 <span data-ttu-id="bfcd7-130">Al igual que <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, <xref:System.Windows.DependencyPropertyChangedEventArgs> también informa de un valor antiguo y nuevo para la propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-130">Like <xref:System.Windows.RoutedPropertyChangedEventArgs%601>, <xref:System.Windows.DependencyPropertyChangedEventArgs> also reports an old and new value for the property.</span></span> <span data-ttu-id="bfcd7-131">Además, se aplican las mismas consideraciones sobre lo que puede hacer con los valores. Por lo general, no se recomienda que intente volver a cambiar los valores en el remitente como respuesta al evento.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-131">Also, the same considerations about what you can do with the values apply; it is generally not recommended that you attempt to change the values again on the sender in response to the event.</span></span>  
  
## <a name="property-triggers"></a><span data-ttu-id="bfcd7-132">Desencadenadores de propiedad</span><span class="sxs-lookup"><span data-stu-id="bfcd7-132">Property Triggers</span></span>  
 <span data-ttu-id="bfcd7-133">Un concepto estrechamente relacionado con un evento de cambio de propiedad es un desencadenador de propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-133">A closely related concept to a property changed event is a property trigger.</span></span> <span data-ttu-id="bfcd7-134">Un desencadenador de propiedad se crea dentro de un estilo o una plantilla y le permite crear un comportamiento condicional basado en el valor de la propiedad donde se asigna el desencadenador de propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-134">A property trigger is created within a style or template and enables you to create a conditional behavior based on the value of the property where the property trigger is assigned.</span></span>  
  
 <span data-ttu-id="bfcd7-135">La propiedad de un desencadenador de propiedad debe ser una propiedad de dependencia.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-135">The property for a property trigger must be a dependency property.</span></span> <span data-ttu-id="bfcd7-136">Puede ser (y, con frecuencia, lo es) una propiedad de dependencia de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-136">It can be (and frequently is) a read-only dependency property.</span></span> <span data-ttu-id="bfcd7-137">Un buen indicador de si una propiedad de dependencia expuesta por un control está diseñada parcialmente como un desencadenador de propiedad es si el nombre de propiedad comienza por "Is".</span><span class="sxs-lookup"><span data-stu-id="bfcd7-137">A good indicator for when a dependency property exposed by a control is at least partially designed to be a property trigger is if the property name begins with "Is".</span></span> <span data-ttu-id="bfcd7-138">Las propiedades que tienen este nombre suelen ser una propiedad de dependencia booleana de solo lectura en que el escenario principal para la propiedad está informando de un estado de control que puede tener consecuencias en la interfaz de usuario en tiempo real y, por lo tanto, es un candidato de desencadenador de propiedad.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-138">Properties that have this naming are often a read-only Boolean dependency property where the primary scenario for the property is reporting control state that might have consequences to the real-time UI and is thus a property trigger candidate.</span></span>  
  
 <span data-ttu-id="bfcd7-139">Algunas de estas propiedades también tienen un evento de cambio de propiedad dedicado.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-139">Some of these properties also have a dedicated property changed event.</span></span> <span data-ttu-id="bfcd7-140">Por ejemplo, la propiedad <xref:System.Windows.UIElement.IsMouseCaptured%2A> tiene un evento de cambio de propiedad <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-140">For instance, the property <xref:System.Windows.UIElement.IsMouseCaptured%2A> has a property changed event <xref:System.Windows.UIElement.IsMouseCapturedChanged>.</span></span> <span data-ttu-id="bfcd7-141">La propiedad es de solo lectura, con su valor ajustado por el sistema de entrada y genera el sistema de entrada <xref:System.Windows.UIElement.IsMouseCapturedChanged> en cada cambio en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-141">The property itself is read-only, with its value adjusted by the input system, and the input system raises <xref:System.Windows.UIElement.IsMouseCapturedChanged> on each real-time change.</span></span>  
  
 <span data-ttu-id="bfcd7-142">En comparación con un evento de cambio de propiedad auténtico, el uso de un desencadenador de propiedad para actuar sobre un cambio de propiedad tiene algunas limitaciones.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-142">Compared to a true property changed event, using a property trigger to act on a property change has some limitations.</span></span>  
  
 <span data-ttu-id="bfcd7-143">Los desencadenadores de propiedad funcionan mediante una lógica de coincidencia exacta.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-143">Property triggers work through an exact match logic.</span></span> <span data-ttu-id="bfcd7-144">Especifica una propiedad y un valor que indica el valor específico por el que el desencadenador se activa. Por ejemplo: `<Setter Property="IsMouseCaptured" Value="true"> ... </Setter>`.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-144">You specify a property and a value that indicates the specific value for which the trigger will act. For instance: `<Setter Property="IsMouseCaptured" Value="true"> ... </Setter>`.</span></span> <span data-ttu-id="bfcd7-145">Debido a esta limitación, la mayoría de los usos de desencadenadores de propiedad será para propiedades booleanas o propiedades que usan un valor de enumeración dedicado, donde el intervalo de valores posibles es lo bastante administrable para definir un desencadenador para cada caso.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-145">Because of this limitation, the majority of property trigger usages will be for Boolean properties, or properties that take a dedicated enumeration value, where the possible value range is manageable enough to define a trigger for each case.</span></span> <span data-ttu-id="bfcd7-146">O bien pueden existir desencadenadores de propiedad solo para valores especiales, como cuando un recuento de elementos llega a cero, y no habría ningún desencadenador que reconociera los casos en los que vuelve a cambiar el valor de la propiedad en dirección contraria a cero de nuevo (en lugar de desencadenadores para todos los casos, es posible que necesite aquí un controlador de evento de código o un comportamiento predeterminado que vuelva a alternar el estado del desencadenador cuando el valor no sea cero).</span><span class="sxs-lookup"><span data-stu-id="bfcd7-146">Or property triggers might exist only for special values, such as when an items count reaches zero, and there would be no trigger that accounts for the cases when the property value changes away from zero again (instead of triggers for all cases, you might need a code event handler here, or a default behavior that toggles back from the trigger state again when the value is nonzero).</span></span>  
  
 <span data-ttu-id="bfcd7-147">La sintaxis del desencadenador de propiedad es análoga a una instrucción "if" en programación.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-147">The property trigger syntax is analogous to an "if" statement in programming.</span></span> <span data-ttu-id="bfcd7-148">Si se cumple la condición del desencadenador, el valor "body" del desencadenador de propiedad será "executed".</span><span class="sxs-lookup"><span data-stu-id="bfcd7-148">If the trigger condition is true, then the "body" of the property trigger is "executed".</span></span> <span data-ttu-id="bfcd7-149">El valor "body" de un desencadenador de propiedad no es código, sino marcado.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-149">The "body" of a property trigger is not code, it is markup.</span></span> <span data-ttu-id="bfcd7-150">Este marcado está limitado al uso de uno o varios <xref:System.Windows.Setter> elementos para establecer otras propiedades del objeto donde se aplica el estilo o plantilla.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-150">That markup is limited to using one or more <xref:System.Windows.Setter> elements to set other properties of the object where the style or template is being applied.</span></span>  
  
 <span data-ttu-id="bfcd7-151">Para desplazar la condición "if" de un desencadenador de propiedad que tiene una amplia variedad de posibles valores, es aconsejable establecer ese mismo valor de propiedad en un valor predeterminado mediante una <xref:System.Windows.Setter>.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-151">To offset the "if" condition of a property trigger that has a wide variety of possible values, it is generally advisable to set that same property value to a default by using a <xref:System.Windows.Setter>.</span></span> <span data-ttu-id="bfcd7-152">De este modo, el <xref:System.Windows.Trigger> establecedor que contiene tendrá prioridad cuando es true, la condición del desencadenador y la <xref:System.Windows.Setter> que no está dentro un <xref:System.Windows.Trigger> tendrá prioridad siempre que la condición del desencadenador es false.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-152">This way, the <xref:System.Windows.Trigger> contained setter will have precedence when the trigger condition is true, and the <xref:System.Windows.Setter> that is not within a <xref:System.Windows.Trigger> will have precedence whenever the trigger condition is false.</span></span>  
  
 <span data-ttu-id="bfcd7-153">Los desencadenadores de propiedad, por lo general, suelen ser adecuados para escenarios donde pueden cambiar una o varias propiedades de apariencia, en función del estado de otra propiedad del mismo elemento.</span><span class="sxs-lookup"><span data-stu-id="bfcd7-153">Property triggers are generally appropriate for scenarios where one or more appearance properties should change, based on the state of another property on the same element.</span></span>  
  
 <span data-ttu-id="bfcd7-154">Para obtener más información acerca de los desencadenadores de propiedad, consulte [Aplicar estilos y plantillas](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="bfcd7-154">To learn more about property triggers, see [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bfcd7-155">Vea también</span><span class="sxs-lookup"><span data-stu-id="bfcd7-155">See also</span></span>
- [<span data-ttu-id="bfcd7-156">Información general sobre eventos enrutados</span><span class="sxs-lookup"><span data-stu-id="bfcd7-156">Routed Events Overview</span></span>](../../../../docs/framework/wpf/advanced/routed-events-overview.md)
- [<span data-ttu-id="bfcd7-157">Información general sobre las propiedades de dependencia</span><span class="sxs-lookup"><span data-stu-id="bfcd7-157">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)
