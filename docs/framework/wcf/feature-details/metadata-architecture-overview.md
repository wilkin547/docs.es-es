---
description: 'Más información acerca de: Introducción a la arquitectura de metadatos'
title: Información general de la arquitectura de metadatos
ms.date: 03/30/2017
helpviewer_keywords:
- metadata [WCF], overview
ms.assetid: 1d37645e-086d-4d68-a358-f3c5b6e8205e
ms.openlocfilehash: 63e513c340ea37914da5942ac2479af4be6b8519
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99733936"
---
# <a name="metadata-architecture-overview"></a><span data-ttu-id="4bc96-103">Información general de la arquitectura de metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-103">Metadata Architecture Overview</span></span>

<span data-ttu-id="4bc96-104">Windows Communication Foundation (WCF) proporciona una infraestructura enriquecida para exportar, publicar, recuperar e importar metadatos de servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-104">Windows Communication Foundation (WCF) provides a rich infrastructure for exporting, publishing, retrieving, and importing service metadata.</span></span> <span data-ttu-id="4bc96-105">Los servicios WCF usan metadatos para describir cómo interactuar con los extremos del servicio de forma que las herramientas, como Svcutil.exe, puedan generar automáticamente el código de cliente para tener acceso al servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-105">WCF services use metadata to describe how to interact with the service's endpoints so that tools, such as Svcutil.exe, can automatically generate client code for accessing the service.</span></span>  
  
 <span data-ttu-id="4bc96-106">La mayoría de los tipos que componen la infraestructura de metadatos de WCF residen en el <xref:System.ServiceModel.Description> espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="4bc96-106">Most of the types that make up the WCF metadata infrastructure reside in the <xref:System.ServiceModel.Description> namespace.</span></span>  
  
 <span data-ttu-id="4bc96-107">WCF usa la <xref:System.ServiceModel.Description.ServiceEndpoint> clase para describir los extremos de un servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-107">WCF uses the <xref:System.ServiceModel.Description.ServiceEndpoint> class to describe endpoints in a service.</span></span> <span data-ttu-id="4bc96-108">Puede usar WCF para generar metadatos para puntos de conexión de servicio o importar metadatos de servicio para generar <xref:System.ServiceModel.Description.ServiceEndpoint> instancias.</span><span class="sxs-lookup"><span data-stu-id="4bc96-108">You can use WCF to generate metadata for service endpoints or import service metadata to generate <xref:System.ServiceModel.Description.ServiceEndpoint> instances.</span></span>  
  
 <span data-ttu-id="4bc96-109">WCF representa los metadatos de un servicio como una instancia del <xref:System.ServiceModel.Description.MetadataSet> tipo, cuya estructura está ligada fuertemente al formato de serialización de metadatos definido en WS-MetadataExchange.</span><span class="sxs-lookup"><span data-stu-id="4bc96-109">WCF represents the metadata for a service as an instance of the <xref:System.ServiceModel.Description.MetadataSet> type, the structure of which is strongly tied to the metadata serialization format defined in WS-MetadataExchange.</span></span> <span data-ttu-id="4bc96-110">El tipo <xref:System.ServiceModel.Description.MetadataSet> empaqueta los metadatos de servicio reales, como, por ejemplo, documentos del lenguaje de descripción de servicios Web (WSDL), documentos de esquema XML o expresiones de WS-Policy, como una colección de instancias de <xref:System.ServiceModel.Description.MetadataSection>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-110">The <xref:System.ServiceModel.Description.MetadataSet> type bundles the actual service metadata, such as Web Services Description Language (WSDL) documents, XML schema documents, or WS-Policy expressions, as a collection of <xref:System.ServiceModel.Description.MetadataSection> instances.</span></span> <span data-ttu-id="4bc96-111">Cada instancia de <xref:System.ServiceModel.Description.MetadataSection?displayProperty=nameWithType> contiene un dialecto de metadatos y un identificador concretos.</span><span class="sxs-lookup"><span data-stu-id="4bc96-111">Each <xref:System.ServiceModel.Description.MetadataSection?displayProperty=nameWithType> instance contains a specific metadata dialect and an identifier.</span></span> <span data-ttu-id="4bc96-112"><xref:System.ServiceModel.Description.MetadataSection?displayProperty=nameWithType> puede contener los elementos siguientes en su propiedad <xref:System.ServiceModel.Description.MetadataSection.Metadata%2A?displayProperty=nameWithType>:</span><span class="sxs-lookup"><span data-stu-id="4bc96-112">A <xref:System.ServiceModel.Description.MetadataSection?displayProperty=nameWithType> can contain the following items in its <xref:System.ServiceModel.Description.MetadataSection.Metadata%2A?displayProperty=nameWithType> property:</span></span>  
  
- <span data-ttu-id="4bc96-113">Metadatos sin formato.</span><span class="sxs-lookup"><span data-stu-id="4bc96-113">Raw metadata.</span></span>  
  
- <span data-ttu-id="4bc96-114">Instancia de <xref:System.ServiceModel.Description.MetadataReference>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-114">A <xref:System.ServiceModel.Description.MetadataReference> instance.</span></span>  
  
- <span data-ttu-id="4bc96-115">Instancia de <xref:System.ServiceModel.Description.MetadataLocation>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-115">A <xref:System.ServiceModel.Description.MetadataLocation> instance.</span></span>  
  
 <span data-ttu-id="4bc96-116">Una instancia de <xref:System.ServiceModel.Description.MetadataReference?displayProperty=nameWithType> apunta a otro punto de conexión de intercambio de metadatos (MEX) y las instancias de <xref:System.ServiceModel.Description.MetadataLocation?displayProperty=nameWithType> apuntan a un documento de metadatos mediante una dirección URL HTTP.</span><span class="sxs-lookup"><span data-stu-id="4bc96-116">A <xref:System.ServiceModel.Description.MetadataReference?displayProperty=nameWithType> instances  point to another metadata exchange (MEX) endpoint and <xref:System.ServiceModel.Description.MetadataLocation?displayProperty=nameWithType> instances point to a metadata document using an HTTP URL.</span></span> <span data-ttu-id="4bc96-117">WCF admite el uso de documentos WSDL para describir puntos de conexión de servicio, contratos de servicio, enlaces, patrones de intercambio de mensajes, mensajes y mensajes de error implementados por un servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-117">WCF supports using WSDL documents to describe service endpoints, service contracts, bindings, message exchange patterns, messages and fault messages implemented by a service.</span></span> <span data-ttu-id="4bc96-118">Los tipos de datos utilizados por el servicio se describen en documentos WSDL utilizando el esquema XML.</span><span class="sxs-lookup"><span data-stu-id="4bc96-118">Data types used by the service are described in WSDL documents using XML schema.</span></span> <span data-ttu-id="4bc96-119">Para obtener más información, vea [importación y exportación de esquemas](schema-import-and-export.md).</span><span class="sxs-lookup"><span data-stu-id="4bc96-119">For more information, see [Schema Import and Export](schema-import-and-export.md).</span></span> <span data-ttu-id="4bc96-120">Puede usar WCF para exportar e importar extensiones WSDL para el comportamiento del servicio, los comportamientos del contrato y los elementos de enlace que amplían la funcionalidad de un servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-120">You can use WCF to export and import WSDL extensions for service behavior, contract behaviors, and binding elements that extend the functionality of a service.</span></span> <span data-ttu-id="4bc96-121">Para obtener más información, vea [exportación de metadatos personalizados para una extensión WCF](../extending/exporting-custom-metadata-for-a-wcf-extension.md).</span><span class="sxs-lookup"><span data-stu-id="4bc96-121">For more information, see [Exporting Custom Metadata for a WCF Extension](../extending/exporting-custom-metadata-for-a-wcf-extension.md).</span></span>  
  
## <a name="exporting-service-metadata"></a><span data-ttu-id="4bc96-122">Exportación de metadatos de servicios</span><span class="sxs-lookup"><span data-stu-id="4bc96-122">Exporting Service Metadata</span></span>  

 <span data-ttu-id="4bc96-123">En WCF, la *exportación de metadatos* es el proceso de describir puntos de conexión de servicio y proyectarlos en una representación paralela y estandarizada que pueden usar los clientes para entender cómo utilizar el servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-123">In WCF, *metadata export* is the process of describing service endpoints and projecting them into a parallel, standardized representation that clients can use to understand how to use the service.</span></span> <span data-ttu-id="4bc96-124">Para exportar metadatos desde instancias de <xref:System.ServiceModel.Description.ServiceEndpoint>, utilice una implementación de la clase abstracta <xref:System.ServiceModel.Description.MetadataExporter>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-124">To export metadata from <xref:System.ServiceModel.Description.ServiceEndpoint> instances, use an implementation of the <xref:System.ServiceModel.Description.MetadataExporter> abstract class.</span></span> <span data-ttu-id="4bc96-125">Una implementación <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> genera metadatos que se encapsulan en una instancia <xref:System.ServiceModel.Description.MetadataSet>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-125">A <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> implementation generates metadata that is encapsulated in a <xref:System.ServiceModel.Description.MetadataSet> instance.</span></span>  
  
 <span data-ttu-id="4bc96-126">La clase <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> proporciona un marco para generar expresiones de directiva que describen las funciones y requisitos de un enlace de extremo y sus operaciones asociadas, mensajes y errores.</span><span class="sxs-lookup"><span data-stu-id="4bc96-126">The <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> class provides a framework for generating policy expressions that describe the capabilities and requirements of an endpoint binding and its associated operations, messages, and faults.</span></span> <span data-ttu-id="4bc96-127">Estas expresiones de directiva se capturan en una instancia <xref:System.ServiceModel.Description.PolicyConversionContext>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-127">These policy expressions are captured in a <xref:System.ServiceModel.Description.PolicyConversionContext> instance.</span></span> <span data-ttu-id="4bc96-128">Una implementación <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> puede asociar a continuación estas expresiones de directiva a los metadatos que genera.</span><span class="sxs-lookup"><span data-stu-id="4bc96-128">A <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> implementation can then attach these policy expressions to the metadata it generates.</span></span>  
  
 <span data-ttu-id="4bc96-129"><xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> llama en cada <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> que implementa la interfaz <xref:System.ServiceModel.Description.IPolicyExportExtension> en el enlace de <xref:System.ServiceModel.Description.ServiceEndpoint> al generar un objeto <xref:System.ServiceModel.Description.PolicyConversionContext> para la implementación <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="4bc96-129">The <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> calls into each <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> that implements the <xref:System.ServiceModel.Description.IPolicyExportExtension> interface in the binding of a <xref:System.ServiceModel.Description.ServiceEndpoint> when generating a <xref:System.ServiceModel.Description.PolicyConversionContext> object for the <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> implementation to use.</span></span> <span data-ttu-id="4bc96-130">Puede exportar nuevas aserciones de directiva mediante la implementación de la interfaz <xref:System.ServiceModel.Description.IPolicyExportExtension> en sus implementaciones personalizadas del tipo <xref:System.ServiceModel.Channels.BindingElement>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-130">You can export new policy assertions by implementing the <xref:System.ServiceModel.Description.IPolicyExportExtension> interface on your custom implementations of the <xref:System.ServiceModel.Channels.BindingElement> type.</span></span>  
  
 <span data-ttu-id="4bc96-131">El <xref:System.ServiceModel.Description.WsdlExporter> tipo es la implementación de la <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> clase abstracta incluida con WCF.</span><span class="sxs-lookup"><span data-stu-id="4bc96-131">The <xref:System.ServiceModel.Description.WsdlExporter> type is the implementation of the <xref:System.ServiceModel.Description.MetadataExporter?displayProperty=nameWithType> abstract class included with WCF.</span></span> <span data-ttu-id="4bc96-132">El tipo <xref:System.ServiceModel.Description.WsdlExporter> genera los metadatos WSDL con expresiones de directiva asociadas.</span><span class="sxs-lookup"><span data-stu-id="4bc96-132">The <xref:System.ServiceModel.Description.WsdlExporter> type generates WSDL metadata with attached policy expressions.</span></span>  
  
 <span data-ttu-id="4bc96-133">Para exportar metadatos WSDL personalizados o extensiones WSDL para los comportamientos del punto de conexión, comportamientos del contrato o elementos de enlace en un punto de conexión de servicio, puede implementar la interfaz <xref:System.ServiceModel.Description.IWsdlExportExtension>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-133">To export custom WSDL metadata or WSDL extensions for endpoint behaviors, contract behaviors, or binding elements in a service endpoint, you can implement the <xref:System.ServiceModel.Description.IWsdlExportExtension> interface.</span></span> <span data-ttu-id="4bc96-134"><xref:System.ServiceModel.Description.WsdlExporter> examina una instancia de <xref:System.ServiceModel.Description.ServiceEndpoint> en búsqueda de elementos de enlace, comportamientos de operaciones, comportamientos de contratos y comportamientos de extremos que implementan la interfaz <xref:System.ServiceModel.Description.IWsdlExportExtension> al generar el documento WSDL.</span><span class="sxs-lookup"><span data-stu-id="4bc96-134">The <xref:System.ServiceModel.Description.WsdlExporter> looks at a <xref:System.ServiceModel.Description.ServiceEndpoint> instance for binding elements, operation behaviors, contract behaviors, and endpoint behaviors that implement the <xref:System.ServiceModel.Description.IWsdlExportExtension> interface when generating the WSDL document.</span></span>  
  
## <a name="publishing-service-metadata"></a><span data-ttu-id="4bc96-135">Publicación de metadatos de servicios</span><span class="sxs-lookup"><span data-stu-id="4bc96-135">Publishing Service Metadata</span></span>  

 <span data-ttu-id="4bc96-136">Los servicios WCF publican metadatos mediante la exposición de uno o más extremos de metadatos.</span><span class="sxs-lookup"><span data-stu-id="4bc96-136">WCF services publish metadata by exposing one or more metadata endpoints.</span></span> <span data-ttu-id="4bc96-137">La publicación de metadatos de servicios pone a disposición metadatos de servicios mediante protocolos normalizados, como MEX y solicitudes HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="4bc96-137">Publishing service metadata makes service metadata available using standardized protocols, such as MEX and HTTP/GET requests.</span></span> <span data-ttu-id="4bc96-138">Los puntos de conexión de metadatos son similares a otros puntos de conexión de servicio en cuanto que tienen una dirección, un enlace y un contrato.</span><span class="sxs-lookup"><span data-stu-id="4bc96-138">Metadata endpoints are similar to other service endpoints in that they have an address, a binding, and a contract.</span></span> <span data-ttu-id="4bc96-139">Puede agregar extremos de metadatos a un host de servicio mediante configuración o código.</span><span class="sxs-lookup"><span data-stu-id="4bc96-139">You can add metadata endpoints to a service host in configuration or in code.</span></span>  
  
 <span data-ttu-id="4bc96-140">Para publicar extremos de metadatos para un servicio WCF, primero debe agregar una instancia del <xref:System.ServiceModel.Description.ServiceMetadataBehavior> comportamiento del servicio al servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-140">To publish metadata endpoints for a WCF service, you must first add an instance of the <xref:System.ServiceModel.Description.ServiceMetadataBehavior> service behavior to the service.</span></span> <span data-ttu-id="4bc96-141">Al agregar una instancia de <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType> a su servicio, aumenta su servicio con la capacidad de publicar los metadatos mediante la exposición de uno o más puntos de conexión de metadatos.</span><span class="sxs-lookup"><span data-stu-id="4bc96-141">Adding a <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType> instance to your service augments your service with the ability to publish metadata by exposing one or more metadata endpoints.</span></span> <span data-ttu-id="4bc96-142">Una vez que agregue el comportamiento del servicio <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, puede exponer extremos de metadatos que admitan el protocolo MEX o que respondan a solicitudes HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="4bc96-142">Once you add the <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType> service behavior you can then expose metadata endpoints that support the MEX protocol or metadata endpoints that respond to HTTP/GET requests.</span></span>  
  
 <span data-ttu-id="4bc96-143">Para agregar extremos de metadatos que usan el protocolo MEX, agregue puntos de conexión de servicio a su host de servicio que usen el contrato de servicio denominado IMetadataExchange. WCF define la <xref:System.ServiceModel.Description.IMetadataExchange> interfaz que tiene este nombre de contrato de servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-143">To add metadata endpoints that use the MEX protocol, add service endpoints to your service host that use the service contract named IMetadataExchange.WCF defines the <xref:System.ServiceModel.Description.IMetadataExchange> interface that has this service contract name.</span></span> <span data-ttu-id="4bc96-144">WS-MetadataExchange puntos de conexión, o los extremos MEX, pueden utilizar uno de los cuatro enlaces predeterminados que los métodos de generador estáticos exponen en la <xref:System.ServiceModel.Description.MetadataExchangeBindings> clase para coincidir con los enlaces predeterminados que usan las herramientas de WCF, como Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="4bc96-144">WS-MetadataExchange endpoints, or MEX endpoints, can use one of the four default bindings exposed by the static factory methods on the <xref:System.ServiceModel.Description.MetadataExchangeBindings> class to match the default bindings used by WCF tools, such as Svcutil.exe.</span></span> <span data-ttu-id="4bc96-145">También puede configurar puntos de conexión de metadatos MEX mediante un enlace personalizado.</span><span class="sxs-lookup"><span data-stu-id="4bc96-145">You can also configure MEX metadata endpoints using a custom binding.</span></span>  
  
 <span data-ttu-id="4bc96-146"><xref:System.ServiceModel.Description.ServiceMetadataBehavior> usa un <xref:System.ServiceModel.Description.WsdlExporter?displayProperty=nameWithType> para exportar metadatos para todos los extremos de servicio al servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-146">The <xref:System.ServiceModel.Description.ServiceMetadataBehavior> uses a <xref:System.ServiceModel.Description.WsdlExporter?displayProperty=nameWithType> to export metadata for all service endpoints in your service.</span></span> <span data-ttu-id="4bc96-147">Para obtener más información acerca de la exportación de metadatos desde un servicio, vea [exportar e importar metadatos](exporting-and-importing-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="4bc96-147">For more information about exporting metadata from a service, see [Exporting and Importing Metadata](exporting-and-importing-metadata.md).</span></span>  
  
 <span data-ttu-id="4bc96-148">El <xref:System.ServiceModel.Description.ServiceMetadataBehavior> aumenta su host de servicio agregando una instancia de <xref:System.ServiceModel.Description.ServiceMetadataExtension> como una extensión de su host de servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-148">The <xref:System.ServiceModel.Description.ServiceMetadataBehavior> augments your service host by adding a <xref:System.ServiceModel.Description.ServiceMetadataExtension> instance as an extension to your service host.</span></span> <span data-ttu-id="4bc96-149"><xref:System.ServiceModel.Description.ServiceMetadataExtension?displayProperty=nameWithType> proporciona la implementación para los protocolos de publicación de metadatos.</span><span class="sxs-lookup"><span data-stu-id="4bc96-149">The <xref:System.ServiceModel.Description.ServiceMetadataExtension?displayProperty=nameWithType> provides the implementation for the metadata publishing protocols.</span></span> <span data-ttu-id="4bc96-150">También puede utilizar <xref:System.ServiceModel.Description.ServiceMetadataExtension?displayProperty=nameWithType> para obtener los metadatos del servicio en tiempo de ejecución mediante la obtención de acceso a la propiedad <xref:System.ServiceModel.Description.ServiceMetadataExtension.Metadata%2A>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-150">You can also use the <xref:System.ServiceModel.Description.ServiceMetadataExtension?displayProperty=nameWithType> to get the service's metadata at runtime by accessing the <xref:System.ServiceModel.Description.ServiceMetadataExtension.Metadata%2A> property.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="4bc96-151">Si agrega un punto de conexión MEX en el archivo de configuración de la aplicación y después intenta agregar el objeto <xref:System.ServiceModel.Description.ServiceMetadataBehavior> al host de servicio en el código, obtendrá la excepción siguiente:</span><span class="sxs-lookup"><span data-stu-id="4bc96-151">If you add a MEX endpoint in your application configuration file and then attempt to add the <xref:System.ServiceModel.Description.ServiceMetadataBehavior> to your service host in code you get the following exception:</span></span>  
>
> <span data-ttu-id="4bc96-152">System.InvalidOperationException: No se encontró el nombre de contrato 'IMetadataExchange' en la lista de contratos que implementa el servicio Service1.</span><span class="sxs-lookup"><span data-stu-id="4bc96-152">System.InvalidOperationException: The contract name 'IMetadataExchange' could not be found in the list of contracts implemented by the service Service1.</span></span> <span data-ttu-id="4bc96-153">Agregue ServiceMetadataBehavior al archivo de configuración o directamente a ServiceHost para habilitar la compatibilidad para este contrato.</span><span class="sxs-lookup"><span data-stu-id="4bc96-153">Add a ServiceMetadataBehavior to the configuration file or to the ServiceHost directly to enable support for this contract.</span></span>  
>
> <span data-ttu-id="4bc96-154">Puede solucionar este problema agregando el <xref:System.ServiceModel.Description.ServiceMetadataBehavior> en el archivo de configuración o agregando el punto de conexión y <xref:System.ServiceModel.Description.ServiceMetadataBehavior> en el código.</span><span class="sxs-lookup"><span data-stu-id="4bc96-154">You can work around this issue by either adding the <xref:System.ServiceModel.Description.ServiceMetadataBehavior> in the configuration file or adding both the endpoint and <xref:System.ServiceModel.Description.ServiceMetadataBehavior> in code.</span></span>  
>
> <span data-ttu-id="4bc96-155">Para obtener un ejemplo de cómo agregar <xref:System.ServiceModel.Description.ServiceMetadataBehavior> un archivo de configuración de la aplicación, vea el [Introducción](../samples/getting-started-sample.md).</span><span class="sxs-lookup"><span data-stu-id="4bc96-155">For an example of adding <xref:System.ServiceModel.Description.ServiceMetadataBehavior> in an application configuration file, see the [Getting Started](../samples/getting-started-sample.md).</span></span> <span data-ttu-id="4bc96-156">Para obtener un ejemplo de cómo agregar <xref:System.ServiceModel.Description.ServiceMetadataBehavior> en el código, vea el ejemplo de [host propio](../samples/self-host.md) .</span><span class="sxs-lookup"><span data-stu-id="4bc96-156">For an example of adding <xref:System.ServiceModel.Description.ServiceMetadataBehavior> in code, see the [Self-Host](../samples/self-host.md) sample.</span></span>  

> [!CAUTION]
> <span data-ttu-id="4bc96-157">Cuando se publican metadatos para un servicio que expone dos contratos de servicio distintos, cada uno de los cuales contiene una operación con el mismo nombre, se inicia una excepción.</span><span class="sxs-lookup"><span data-stu-id="4bc96-157">When publishing metadata for a service that exposes two different service contracts in which each contain an operation of the same name an exception is thrown.</span></span> <span data-ttu-id="4bc96-158">Por ejemplo, si dispone de un servicio que expone un contrato de servicio denominado ICarService que tiene una operación Get(Car c) y el mismo servicio expone un contrato de servicio denominado IBookService que tiene una operación Get(Book b), se inicia una excepción o se muestra un mensaje de error al generar los metadatos del servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-158">For example, if you have a service that exposes a service contract called ICarService that has an operation Get(Car c) and the same service exposes a service contract called IBookService that has an operation Get(Book b), an exception is thrown or an error message is displayed when generating the service's metadata.</span></span> <span data-ttu-id="4bc96-159">Para solucionar este problema, realice una de las operaciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="4bc96-159">To work around this issue do one of the following:</span></span>  
>
> - <span data-ttu-id="4bc96-160">Cambie el nombre de una de las operaciones.</span><span class="sxs-lookup"><span data-stu-id="4bc96-160">Rename one of the operations.</span></span>
> - <span data-ttu-id="4bc96-161">Establezca el <xref:System.ServiceModel.OperationContractAttribute.Name%2A> en un nombre distinto.</span><span class="sxs-lookup"><span data-stu-id="4bc96-161">Set the <xref:System.ServiceModel.OperationContractAttribute.Name%2A> to a different name.</span></span>  
> - <span data-ttu-id="4bc96-162">Establezca el espacio de nombres de una de las operaciones en un espacio de nombres distinto mediante la propiedad <xref:System.ServiceModel.ServiceContractAttribute.Namespace%2A>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-162">Set one of the operations' namespaces to a different namespace using the <xref:System.ServiceModel.ServiceContractAttribute.Namespace%2A> property.</span></span>  
  
## <a name="retrieving-service-metadata"></a><span data-ttu-id="4bc96-163">Recuperación de metadatos de servicios</span><span class="sxs-lookup"><span data-stu-id="4bc96-163">Retrieving Service Metadata</span></span>  

 <span data-ttu-id="4bc96-164">WCF puede recuperar metadatos de servicio mediante protocolos estandarizados como WS-MetadataExchange y HTTP.</span><span class="sxs-lookup"><span data-stu-id="4bc96-164">WCF can retrieve service metadata using standardized protocols such as WS-MetadataExchange and HTTP.</span></span> <span data-ttu-id="4bc96-165">Ambos protocolos están admitidos por el tipo <xref:System.ServiceModel.Description.MetadataExchangeClient>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-165">Both of these protocols are supported by the <xref:System.ServiceModel.Description.MetadataExchangeClient> type.</span></span> <span data-ttu-id="4bc96-166">Recupera metadatos de servicio utilizando el tipo <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> mediante la proporción de una dirección y un enlace opcional.</span><span class="sxs-lookup"><span data-stu-id="4bc96-166">You retrieve service metadata using the <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> type by providing an address and an optional binding.</span></span> <span data-ttu-id="4bc96-167">El enlace utilizado por una instancia de <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> puede ser uno de los enlaces predeterminados de la clase estática <xref:System.ServiceModel.Description.MetadataExchangeBindings>, un enlace proporcionado por el usuario o un enlace cargado desde una configuración de extremo para el contrato `IMetadataExchange`.</span><span class="sxs-lookup"><span data-stu-id="4bc96-167">The binding used by a <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> instance can be one of the default bindings from the <xref:System.ServiceModel.Description.MetadataExchangeBindings> static class, a user-supplied binding, or a binding loaded from an endpoint configuration for the `IMetadataExchange` contract.</span></span> <span data-ttu-id="4bc96-168"><xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> también puede resolver las referencias a la dirección URL HTTP a los metadatos utilizando el tipo <xref:System.Net.HttpWebRequest>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-168">The <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> can also resolve HTTP URL references to metadata using the <xref:System.Net.HttpWebRequest> type.</span></span>  
  
 <span data-ttu-id="4bc96-169">De forma predeterminada, se ata una instancia <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> a una instancia <xref:System.ServiceModel.Channels.ChannelFactoryBase> única.</span><span class="sxs-lookup"><span data-stu-id="4bc96-169">By default, a <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> instance is tied to a single <xref:System.ServiceModel.Channels.ChannelFactoryBase> instance.</span></span> <span data-ttu-id="4bc96-170">Puede cambiar o reemplazar la instancia <xref:System.ServiceModel.Channels.ChannelFactoryBase> utilizada por <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> invalidando el método virtual <xref:System.ServiceModel.Description.MetadataExchangeClient.GetChannelFactory%2A>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-170">You can change or replace the <xref:System.ServiceModel.Channels.ChannelFactoryBase> instance used by a <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> by overriding the <xref:System.ServiceModel.Description.MetadataExchangeClient.GetChannelFactory%2A> virtual method.</span></span> <span data-ttu-id="4bc96-171">De igual forma, puede cambiar o reemplazar la instancia de <xref:System.Net.HttpWebRequest?displayProperty=nameWithType> utilizada por <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> para realizar solicitudes HTTP/GET mediante la invalidación del método virtual <xref:System.ServiceModel.Description.MetadataExchangeClient.GetWebRequest%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-171">Similarly, you can change or replace the <xref:System.Net.HttpWebRequest?displayProperty=nameWithType> instance used by a <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> to make HTTP/GET requests by overriding the <xref:System.ServiceModel.Description.MetadataExchangeClient.GetWebRequest%2A?displayProperty=nameWithType> virtual method.</span></span>  
  
 <span data-ttu-id="4bc96-172">Puede recuperar metadatos de servicio mediante WS-MetadataExchange o solicitudes HTTP/GET mediante la herramienta de Svcutil.exe y pasar el modificador **/target: Metadata** y una dirección.</span><span class="sxs-lookup"><span data-stu-id="4bc96-172">You can retrieve service metadata using WS-MetadataExchange or HTTP/GET requests by using the Svcutil.exe tool and passing the **/target:metadata** switch and an address.</span></span> <span data-ttu-id="4bc96-173">Svcutil.exe descarga los metadatos en la dirección especificada y guarda los archivos en el disco.</span><span class="sxs-lookup"><span data-stu-id="4bc96-173">Svcutil.exe downloads the metadata at the specified address and saves the files to disk.</span></span> <span data-ttu-id="4bc96-174">Svcutil.exe utiliza una instancia de <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> internamente y carga la configuración de punto de conexión de MEX (desde el archivo de configuración de la aplicación) cuyo nombre coincide con el esquema de la dirección pasada a Svcutil.exe, si existe una.</span><span class="sxs-lookup"><span data-stu-id="4bc96-174">Svcutil.exe uses a <xref:System.ServiceModel.Description.MetadataExchangeClient?displayProperty=nameWithType> instance internally and loads an MEX endpoint configuration (from the application configuration file) whose name matches the scheme of the address passed to Svcutil.exe, if one exists.</span></span> <span data-ttu-id="4bc96-175">De lo contrario, Svcutil.exe se establece en su valor predeterminado utilizando uno de los enlaces definidos por el tipo de generador estático de <xref:System.ServiceModel.Description.MetadataExchangeBindings>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-175">Otherwise, Svcutil.exe defaults to using one of the bindings defined by the <xref:System.ServiceModel.Description.MetadataExchangeBindings> static factory type.</span></span>  
  
## <a name="importing-service-metadata"></a><span data-ttu-id="4bc96-176">Importación de metadatos de servicios</span><span class="sxs-lookup"><span data-stu-id="4bc96-176">Importing Service Metadata</span></span>  

 <span data-ttu-id="4bc96-177">En WCF, la importación de metadatos es el proceso de generar una representación abstracta de un servicio o sus componentes a partir de sus metadatos.</span><span class="sxs-lookup"><span data-stu-id="4bc96-177">In WCF, metadata import is the process of generating an abstract representation of a service or its component parts from its metadata.</span></span> <span data-ttu-id="4bc96-178">Por ejemplo, WCF puede importar <xref:System.ServiceModel.Description.ServiceEndpoint> instancias, <xref:System.ServiceModel.Channels.Binding> instancias o <xref:System.ServiceModel.Description.ContractDescription> instancias de un documento WSDL para un servicio.</span><span class="sxs-lookup"><span data-stu-id="4bc96-178">For example, WCF can import <xref:System.ServiceModel.Description.ServiceEndpoint> instances, <xref:System.ServiceModel.Channels.Binding> instances or <xref:System.ServiceModel.Description.ContractDescription> instances from a WSDL document for a service.</span></span> <span data-ttu-id="4bc96-179">Para importar metadatos de servicio en WCF, use una implementación de la <xref:System.ServiceModel.Description.MetadataImporter> clase abstracta.</span><span class="sxs-lookup"><span data-stu-id="4bc96-179">To import service metadata in WCF, use an implementation of the <xref:System.ServiceModel.Description.MetadataImporter> abstract class.</span></span> <span data-ttu-id="4bc96-180">Los tipos que derivan de la <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> clase implementan la compatibilidad para importar formatos de metadatos que aprovechan la lógica de importación de WS-Policy en WCF.</span><span class="sxs-lookup"><span data-stu-id="4bc96-180">Types that derive from the <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> class implement support for importing metadata formats that take advantage of the WS-Policy import logic in WCF.</span></span>  
  
 <span data-ttu-id="4bc96-181">Una implementación de <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> recoge las expresiones de directivas asociadas a los metadatos del servicio en un objeto <xref:System.ServiceModel.Description.PolicyConversionContext>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-181">A <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> implementation collects the policy expressions attached to the service metadata in a <xref:System.ServiceModel.Description.PolicyConversionContext> object.</span></span> <span data-ttu-id="4bc96-182"><xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> procesa, a continuación, las directivas como parte de la importación de los metadatos llamando a las implementaciones de la interfaz <xref:System.ServiceModel.Description.IPolicyImportExtension> de la propiedad <xref:System.ServiceModel.Description.MetadataImporter.PolicyImportExtensions%2A>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-182">The <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> then processes the policies as part of importing the metadata by calling the implementations of the <xref:System.ServiceModel.Description.IPolicyImportExtension> interface in the <xref:System.ServiceModel.Description.MetadataImporter.PolicyImportExtensions%2A> property.</span></span>  
  
 <span data-ttu-id="4bc96-183">Puede agregar compatibilidad para la importación de nuevas aserciones de directivas en un <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> agregando su propia implementación de la interfaz <xref:System.ServiceModel.Description.IPolicyImportExtension> a la colección <xref:System.ServiceModel.Description.MetadataImporter.PolicyImportExtensions%2A> en una instancia <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-183">You can add support for importing new policy assertions to a <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> by adding your own implementation of the <xref:System.ServiceModel.Description.IPolicyImportExtension> interface to the <xref:System.ServiceModel.Description.MetadataImporter.PolicyImportExtensions%2A> collection on a <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> instance.</span></span> <span data-ttu-id="4bc96-184">De manera alternativa, puede registrar su extensión de importación de directivas en el archivo de configuración de la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="4bc96-184">Alternatively, you can register your policy import extension in your client application configuration file.</span></span>  
  
 <span data-ttu-id="4bc96-185">El <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> tipo es la implementación de la <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> clase abstracta incluida con WCF.</span><span class="sxs-lookup"><span data-stu-id="4bc96-185">The <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> type is the implementation of the <xref:System.ServiceModel.Description.MetadataImporter?displayProperty=nameWithType> abstract class included with WCF.</span></span> <span data-ttu-id="4bc96-186">El tipo <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> importa metadatos del WSDL con directivas adjuntas que se empaquetan en un objeto <xref:System.ServiceModel.Description.MetadataSet>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-186">The <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> type imports WSDL metadata with attached policies that are bundled in a <xref:System.ServiceModel.Description.MetadataSet> object.</span></span>  
  
 <span data-ttu-id="4bc96-187">Puede agregar compatibilidad para la importación de extensiones WSDL implementando la interfaz <xref:System.ServiceModel.Description.IWsdlImportExtension> y agregando, a continuación, su implementación a la propiedad <xref:System.ServiceModel.Description.WsdlImporter.WsdlImportExtensions%2A> de su instancia <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4bc96-187">You can add support for importing WSDL extensions by implementing the <xref:System.ServiceModel.Description.IWsdlImportExtension> interface and then adding your implementation to the <xref:System.ServiceModel.Description.WsdlImporter.WsdlImportExtensions%2A> property on your <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> instance.</span></span> <span data-ttu-id="4bc96-188">El <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> también puede cargar implementaciones de la interfaz <xref:System.ServiceModel.Description.IWsdlImportExtension?displayProperty=nameWithType> registrada en el archivo de configuración de la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="4bc96-188">The <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> can also load implementations of the <xref:System.ServiceModel.Description.IWsdlImportExtension?displayProperty=nameWithType> interface registered in your client application configuration file.</span></span>  
  
## <a name="dynamic-bindings"></a><span data-ttu-id="4bc96-189">Enlaces dinámicos</span><span class="sxs-lookup"><span data-stu-id="4bc96-189">Dynamic Bindings</span></span>  

 <span data-ttu-id="4bc96-190">Puede actualizar dinámicamente el enlace que utiliza para crear un canal en un extremo de servicio en caso de que el enlace del extremo cambie o usted desee crear un canal en un extremo que utiliza el mismo contrato pero que tiene un enlace diferente.</span><span class="sxs-lookup"><span data-stu-id="4bc96-190">You can dynamically update the binding that you use to create a channel to a service endpoint in the event that the binding for the endpoint changes or you want to create a channel to an endpoint that uses the same contract but has a different binding.</span></span> <span data-ttu-id="4bc96-191">Puede utilizar la clase estática <xref:System.ServiceModel.Description.MetadataResolver> para recuperar e importar metadatos en tiempo de ejecución para extremos de servicio que implementan un contrato concreto.</span><span class="sxs-lookup"><span data-stu-id="4bc96-191">You can use the <xref:System.ServiceModel.Description.MetadataResolver> static class to retrieve and import metadata at runtime for service endpoints that implement a specific contract.</span></span> <span data-ttu-id="4bc96-192">A continuación, puede utilizar los objetos <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> importados para crear un cliente o generador de canales en el punto de conexión deseado.</span><span class="sxs-lookup"><span data-stu-id="4bc96-192">You can then use the imported <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> objects to create a client or channel factory to the desired endpoint.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4bc96-193">Vea también</span><span class="sxs-lookup"><span data-stu-id="4bc96-193">See also</span></span>

- <xref:System.ServiceModel.Description>
- [<span data-ttu-id="4bc96-194">Formatos de metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-194">Metadata Formats</span></span>](metadata-formats.md)
- [<span data-ttu-id="4bc96-195">Exportación e importación de metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-195">Exporting and Importing Metadata</span></span>](exporting-and-importing-metadata.md)
- [<span data-ttu-id="4bc96-196">Publicación de metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-196">Publishing Metadata</span></span>](publishing-metadata.md)
- [<span data-ttu-id="4bc96-197">Recuperación de metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-197">Retrieving Metadata</span></span>](retrieving-metadata.md)
- [<span data-ttu-id="4bc96-198">Utilización de los metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-198">Using Metadata</span></span>](using-metadata.md)
- [<span data-ttu-id="4bc96-199">Consideraciones de seguridad con metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-199">Security Considerations with Metadata</span></span>](security-considerations-with-metadata.md)
- [<span data-ttu-id="4bc96-200">Extensión del sistema de metadatos</span><span class="sxs-lookup"><span data-stu-id="4bc96-200">Extending the Metadata System</span></span>](../extending/extending-the-metadata-system.md)
