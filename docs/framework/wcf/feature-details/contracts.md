---
description: 'Más información acerca de: contratos'
title: Contratos
ms.date: 03/30/2017
helpviewer_keywords:
- WCF [WCF], contracts
- contracts [WCF]
- Windows Communication Foundation [WCF], contracts
ms.assetid: c8364183-4ac1-480b-804a-c5e6c59a5d7d
ms.openlocfilehash: efa924970ce8d07a6b068e92ff85f099b696016d
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99780523"
---
# <a name="contracts"></a><span data-ttu-id="39aef-103">Contratos</span><span class="sxs-lookup"><span data-stu-id="39aef-103">Contracts</span></span>

<span data-ttu-id="39aef-104">En esta sección se muestra cómo definir e implementar contratos de Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="39aef-104">This section shows you how to define and implement Windows Communication Foundation (WCF)contracts.</span></span> <span data-ttu-id="39aef-105">Un contrato de servicio especifica lo que un punto de conexión comunica al mundo exterior.</span><span class="sxs-lookup"><span data-stu-id="39aef-105">A service contract specifies what an endpoint communicates to the outside world.</span></span> <span data-ttu-id="39aef-106">En un nivel más concreto, es una instrucción sobre un conjunto de mensajes concretos organizada en patrones de intercambio de mensajes básicos (MEP), como solicitud/respuesta, unidireccional y dúplex.</span><span class="sxs-lookup"><span data-stu-id="39aef-106">At a more concrete level, it is a statement about a set of specific messages organized into basic message exchange patterns (MEPs), such as request/reply, one-way, and duplex.</span></span> <span data-ttu-id="39aef-107">Si un contrato de servicio es un conjunto relacionado de forma lógica de intercambios de mensajes, una operación de servicio es un intercambio único de mensajes.</span><span class="sxs-lookup"><span data-stu-id="39aef-107">If a service contract is a logically related set of message exchanges, a service operation is a single message exchange.</span></span> <span data-ttu-id="39aef-108">Por ejemplo, una operación `Hello` debe aceptar obviamente un mensaje (de manera que el autor de la llamada pueda anunciar el saludo) y puede o no devolver un mensaje (dependiendo de la cortesía de la operación).</span><span class="sxs-lookup"><span data-stu-id="39aef-108">For example, a `Hello` operation must obviously accept one message (so the caller can announce the greeting) and may or may not return a message (depending upon the courtesy of the operation).</span></span>  
  
 <span data-ttu-id="39aef-109">Para obtener más información sobre los contratos y otros conceptos básicos de WCF, vea [conceptos básicos de Windows Communication Foundation](../fundamental-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-109">For more information about contracts and other core WCF concepts, see [Fundamental Windows Communication Foundation Concepts](../fundamental-concepts.md).</span></span> <span data-ttu-id="39aef-110">Este tema se centra en describir los contratos de servicio.</span><span class="sxs-lookup"><span data-stu-id="39aef-110">This topic focuses on understanding service contracts.</span></span> <span data-ttu-id="39aef-111">Para obtener más información sobre cómo crear clientes que usen contratos de servicio para conectarse a los servicios, consulte [información general del cliente de WCF](../wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-111">For more information about how to build clients that use service contracts to connect to services, see [WCF Client Overview](../wcf-client-overview.md).</span></span> <span data-ttu-id="39aef-112">Para obtener más información acerca de los canales de cliente, la arquitectura de cliente y otros problemas de cliente, consulte [clientes](clients.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-112">For more information about client channels, the client architecture, and other client issues, see [Clients](clients.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="39aef-113">Información general</span><span class="sxs-lookup"><span data-stu-id="39aef-113">Overview</span></span>  

 <span data-ttu-id="39aef-114">En este tema se proporciona una orientación conceptual de alto nivel para diseñar e implementar servicios WCF.</span><span class="sxs-lookup"><span data-stu-id="39aef-114">This topic provides a high-level conceptual orientation to designing and implementing WCF services.</span></span> <span data-ttu-id="39aef-115">Los subtemas proporcionan más información detallada sobre las características del diseño e implementación.</span><span class="sxs-lookup"><span data-stu-id="39aef-115">Subtopics provide more detailed information about the specifics of designing and implementation.</span></span> <span data-ttu-id="39aef-116">Antes de diseñar e implementar la aplicación WCF, se recomienda que:</span><span class="sxs-lookup"><span data-stu-id="39aef-116">Before designing and implementing your WCF application, it is recommended that you:</span></span>  
  
- <span data-ttu-id="39aef-117">Entender lo que es un contrato de servicio, cómo funciona, y cómo crear uno.</span><span class="sxs-lookup"><span data-stu-id="39aef-117">Understand what a service contract is, how it works, and how to create one.</span></span>  
  
- <span data-ttu-id="39aef-118">Comprenda que los contratos especifican requisitos mínimos que la configuración en tiempo de ejecución o el entorno de alojamiento pueden no admitir.</span><span class="sxs-lookup"><span data-stu-id="39aef-118">Understand that contracts state minimum requirements that run-time configuration or the hosting environment may not support.</span></span>  
  
## <a name="service-contracts"></a><span data-ttu-id="39aef-119">Contratos de servicio</span><span class="sxs-lookup"><span data-stu-id="39aef-119">Service Contracts</span></span>  

 <span data-ttu-id="39aef-120">Un contrato de servicios es una instrucción que proporciona información sobre:</span><span class="sxs-lookup"><span data-stu-id="39aef-120">A service contract is a statement that provides information about:</span></span>  
  
- <span data-ttu-id="39aef-121">La agrupación de operaciones en un servicio.</span><span class="sxs-lookup"><span data-stu-id="39aef-121">The grouping of operations in a service.</span></span>  
  
- <span data-ttu-id="39aef-122">La firma de las operaciones en términos de mensajes intercambiados.</span><span class="sxs-lookup"><span data-stu-id="39aef-122">The signature of the operations in terms of messages exchanged.</span></span>  
  
- <span data-ttu-id="39aef-123">Los tipos de datos de estos mensajes.</span><span class="sxs-lookup"><span data-stu-id="39aef-123">The data types of these messages.</span></span>  
  
- <span data-ttu-id="39aef-124">La ubicación de las operaciones.</span><span class="sxs-lookup"><span data-stu-id="39aef-124">The location of the operations.</span></span>  
  
- <span data-ttu-id="39aef-125">Los protocolos concretos y formatos de serialización que se utilizan para admitir la comunicación correcta con el servicio.</span><span class="sxs-lookup"><span data-stu-id="39aef-125">The specific protocols and serialization formats that are used to support successful communication with the service.</span></span>  
  
 <span data-ttu-id="39aef-126">Por ejemplo, un contrato de orden de compra podría tener una operación `CreateOrder` que acepte una entrada de tipos de información de orden y devuelva información de error o completada, además de un identificador de orden.</span><span class="sxs-lookup"><span data-stu-id="39aef-126">For example, a purchase order contract might have a `CreateOrder` operation that accepts an input of order information types and returns success or failure information, including an order identifier.</span></span> <span data-ttu-id="39aef-127">También podría tener una operación `GetOrderStatus` que acepte un identificador de orden y devuelva información de estado de la orden.</span><span class="sxs-lookup"><span data-stu-id="39aef-127">It might also have a `GetOrderStatus` operation that accepts an order identifier and returns order status information.</span></span> <span data-ttu-id="39aef-128">Un contrato de servicio de este tipo especificaría lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="39aef-128">A service contract of this sort would specify:</span></span>  
  
- <span data-ttu-id="39aef-129">Que el contrato de la orden compra consistiese en las operaciones `CreateOrder` y `GetOrderStatus`.</span><span class="sxs-lookup"><span data-stu-id="39aef-129">That the purchase order contract consisted of `CreateOrder` and `GetOrderStatus` operations.</span></span>  
  
- <span data-ttu-id="39aef-130">Que las operaciones han especificado mensajes de entrada y de salida.</span><span class="sxs-lookup"><span data-stu-id="39aef-130">That the operations have specified input messages and output messages.</span></span>  
  
- <span data-ttu-id="39aef-131">Los datos que estos mensajes pueden llevar.</span><span class="sxs-lookup"><span data-stu-id="39aef-131">The data that these messages can carry.</span></span>  
  
- <span data-ttu-id="39aef-132">Instrucciones de categorías sobre la infraestructura de la comunicación necesaria para procesar correctamente los mensajes.</span><span class="sxs-lookup"><span data-stu-id="39aef-132">Categorical statements about the communication infrastructure necessary to successfully process the messages.</span></span> <span data-ttu-id="39aef-133">Por ejemplo, estos detalles incluyen qué formularios de seguridad son necesarios para establecer una comunicación correcta.</span><span class="sxs-lookup"><span data-stu-id="39aef-133">For example, these details include whether and what forms of security are required to establish successful communication.</span></span>  
  
 <span data-ttu-id="39aef-134">Para transmitir este tipo de información a aplicaciones en otras plataformas (incluidas plataformas que no sean de Microsoft), los contratos de servicio XML se expresan públicamente en formatos XML estándar, como el [lenguaje de descripción de servicios web (WSDL)](https://www.w3.org/TR/2001/NOTE-wsdl-20010315) y el [esquema XML (XSD)](https://www.w3.org/XML/Schema), entre otros.</span><span class="sxs-lookup"><span data-stu-id="39aef-134">To convey this kind of information to applications on other platforms (including non-Microsoft platforms), XML service contracts are publicly expressed in standard XML formats, such as [Web Services Description Language (WSDL)](https://www.w3.org/TR/2001/NOTE-wsdl-20010315) and [XML Schema (XSD)](https://www.w3.org/XML/Schema), among others.</span></span> <span data-ttu-id="39aef-135">Los desarrolladores para muchas plataformas pueden utilizar esta información de contrato público para crear aplicaciones que pueden comunicarse con el servicio, porque entienden el lenguaje de la especificación y porque esos lenguajes están diseñados para permitir la interoperación describiendo los formularios, formatos y protocolos públicos que el servicio admite.</span><span class="sxs-lookup"><span data-stu-id="39aef-135">Developers for many platforms can use this public contract information to create applications that can communicate with the service, both because they understand the language of the specification and because those languages are designed to enable interoperation by describing the public forms, formats, and protocols that the service supports.</span></span> <span data-ttu-id="39aef-136">Para obtener más información sobre cómo WCF controla este tipo de información, vea [metadatos](metadata.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-136">For more information about how WCF handles this kind of information, see [Metadata](metadata.md).</span></span>  
  
 <span data-ttu-id="39aef-137">Los contratos se pueden expresar de muchas maneras, sin embargo, mientras WSDL y XSD son lenguajes excelentes para describir servicios de una manera accesible, son lenguajes difíciles de usar directamente. En cualquier caso, son simplemente descripciones de un servicio, no implementaciones de contratos de servicio.</span><span class="sxs-lookup"><span data-stu-id="39aef-137">Contracts can be expressed many ways, however, and while WSDL and XSD are excellent languages to describe services in an accessible way, they are difficult languages to use directly—in any case, they are merely descriptions of a service, not service contract implementations.</span></span> <span data-ttu-id="39aef-138">Por lo tanto, las aplicaciones WCF usan atributos, interfaces y clases administrados para definir la estructura de y para implementar un servicio.</span><span class="sxs-lookup"><span data-stu-id="39aef-138">Therefore, WCF applications use managed attributes, interfaces, and classes both to define the structure of and to implement a service.</span></span>  
  
 <span data-ttu-id="39aef-139">El contrato resultante definido en tipos administrados se puede convertir (también denominado *exportado*) como metadatos (WSDL y XSD) cuando lo necesiten clientes u otros implementadores de servicio, especialmente en otras plataformas.</span><span class="sxs-lookup"><span data-stu-id="39aef-139">The resulting contract defined in managed types can be converted (also called *exported*) as metadata—WSDL and XSD—when needed by clients or other service implementers, especially on other platforms.</span></span> <span data-ttu-id="39aef-140">El resultado es un modelo de programación sencillo que se puede describir utilizando metadatos públicos en cualquier aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="39aef-140">The result is a straightforward programming model that can be described using public metadata to any client application.</span></span> <span data-ttu-id="39aef-141">Los detalles de los mensajes SOAP subyacentes, como el transporte y la información relacionada con la seguridad, pueden dejarse en WCF, que realiza automáticamente las conversiones necesarias hacia y desde el sistema de tipo de contrato de servicio al sistema de tipos XML.</span><span class="sxs-lookup"><span data-stu-id="39aef-141">The details of the underlying SOAP messages, such as the transportation and security-related information, can be left to WCF, which automatically performs the necessary conversions to and from the service contract type system to the XML type system.</span></span>  
  
 <span data-ttu-id="39aef-142">Para obtener más información sobre el diseño de contratos, consulte [diseño de contratos de servicio](../designing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-142">For more information about designing contracts, see [Designing Service Contracts](../designing-service-contracts.md).</span></span> <span data-ttu-id="39aef-143">Para obtener más información sobre la implementación de contratos, vea [implementación de contratos de servicio](../implementing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-143">For more information about implementing contracts, see [Implementing Service Contracts](../implementing-service-contracts.md).</span></span>  
  
 <span data-ttu-id="39aef-144">Además, WCF también proporciona la capacidad de desarrollar contratos de servicio por completo en el nivel de mensaje.</span><span class="sxs-lookup"><span data-stu-id="39aef-144">In addition, WCF also provides the ability to develop service contracts entirely at the message level.</span></span> <span data-ttu-id="39aef-145">Para obtener más información sobre el desarrollo de contratos de servicio en el nivel de mensaje, vea [usar contratos de mensaje](using-message-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-145">For more information about developing service contracts at the message level, see [Using Message Contracts](using-message-contracts.md).</span></span> <span data-ttu-id="39aef-146">Para obtener más información sobre el desarrollo de servicios en XML que no es SOAP, consulte [interoperabilidad con aplicaciones POX](interoperability-with-pox-applications.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-146">For more information about developing services in non-SOAP XML, see [Interoperability with POX Applications](interoperability-with-pox-applications.md).</span></span>  
  
### <a name="understanding-the-hierarchy-of-requirements"></a><span data-ttu-id="39aef-147">Introducción a la jerarquía de los requisitos</span><span class="sxs-lookup"><span data-stu-id="39aef-147">Understanding the Hierarchy of Requirements</span></span>  

 <span data-ttu-id="39aef-148">Un contrato de servicio agrupa operaciones; especifica el MEP, tipos de mensaje y tipos de datos que llevan esos mensajes e indica categorías de comportamiento de tiempo de ejecución que una implementación debe tener para admitir el contrato (por ejemplo, puede requerir que los mensajes se cifren y firmen).</span><span class="sxs-lookup"><span data-stu-id="39aef-148">A service contract groups the operations; specifies the MEP, message types, and data types those messages carry; and indicates categories of run-time behavior an implementation must have to support the contract (for example, it may require that messages be encrypted and signed).</span></span> <span data-ttu-id="39aef-149">El contrato de servicio en sí mismo, sin embargo, no especifica precisamente cómo se cumplen estos requisitos, solo que deben ser.</span><span class="sxs-lookup"><span data-stu-id="39aef-149">The service contract itself, however, does not specify precisely how these requirements are met, only that they must be.</span></span> <span data-ttu-id="39aef-150">Qué tipo de cifrado o cómo se firma un mensaje es tarea de la implementación y configuración de un servicio conforme.</span><span class="sxs-lookup"><span data-stu-id="39aef-150">What type of encryption or how a message is signed is up to the implementation and configuration of a compliant service.</span></span>  
  
 <span data-ttu-id="39aef-151">Observe la manera en que el contrato requiere algunas cosas de la implementación del contrato de servicio y la configuración del tiempo de ejecución para agregar comportamiento.</span><span class="sxs-lookup"><span data-stu-id="39aef-151">Notice the way that the contract requires certain things of the service contract implementation and the run-time configuration to add behavior.</span></span> <span data-ttu-id="39aef-152">El conjunto de requisitos que se deben cumplir para exponer un servicio para usar compilaciones en el conjunto anterior de requisitos.</span><span class="sxs-lookup"><span data-stu-id="39aef-152">The set of requirements that must be met to expose a service for use builds on the preceding set of requirements.</span></span> <span data-ttu-id="39aef-153">Si un contrato realiza requisitos de la implementación, una implementación puede requerir todavía más de la configuración y enlaces que permiten al servicio ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="39aef-153">If a contract makes requirements of the implementation, an implementation can require yet more of the configuration and bindings that enable the service to run.</span></span> <span data-ttu-id="39aef-154">Finalmente, la aplicación host también debe admitir cualquier requisito que la configuración de servicio y los enlaces agreguen.</span><span class="sxs-lookup"><span data-stu-id="39aef-154">Finally, the host application must also support any requirements that the service configuration and bindings add.</span></span>  
  
 <span data-ttu-id="39aef-155">Este proceso de requisitos aditivos es importante tener en cuenta al diseñar, implementar, configurar y hospedar su aplicación de servicio de Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="39aef-155">This additive requirement process is important to keep in mind while designing, implementing, configuring, and hosting your Windows Communication Foundation (WCF) service application.</span></span> <span data-ttu-id="39aef-156">Por ejemplo, el contrato puede especificar que necesita admitir una sesión.</span><span class="sxs-lookup"><span data-stu-id="39aef-156">For example, the contract can specify that it needs to support a session.</span></span> <span data-ttu-id="39aef-157">En ese caso, deberá configurar el enlace para admitir ese requisito contractual o la implementación del servicio no funcionará.</span><span class="sxs-lookup"><span data-stu-id="39aef-157">If so, then you must configure the binding to support that contractual requirement, or the service implementation will not work.</span></span> <span data-ttu-id="39aef-158">O si su servicio requiere Autenticación integrada de Windows y se hospeda en Internet Information Services (IIS), la aplicación web en la que el servicio reside debe tener la Autenticación integrada de Windows activada y la compatibilidad anónima desactivada.</span><span class="sxs-lookup"><span data-stu-id="39aef-158">Or if your service requires Integrated Windows authentication and is hosted in Internet Information Services (IIS), the Web application in which the service resides must have Integrated Windows authentication turned on and anonymous support turned off.</span></span> <span data-ttu-id="39aef-159">Para obtener más información sobre las características y el impacto de los distintos tipos de aplicación host de servicio, consulte [hospedaje](hosting.md).</span><span class="sxs-lookup"><span data-stu-id="39aef-159">For more information about the features and impact of the different service host application types, see [Hosting](hosting.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="39aef-160">Vea también</span><span class="sxs-lookup"><span data-stu-id="39aef-160">See also</span></span>

- [<span data-ttu-id="39aef-161">Puntos de conexión: direcciones, enlaces y contratos</span><span class="sxs-lookup"><span data-stu-id="39aef-161">Endpoints: Addresses, Bindings, and Contracts</span></span>](endpoints-addresses-bindings-and-contracts.md)
- [<span data-ttu-id="39aef-162">Diseño de contratos de servicios</span><span class="sxs-lookup"><span data-stu-id="39aef-162">Designing Service Contracts</span></span>](../designing-service-contracts.md)
- [<span data-ttu-id="39aef-163">Implementación de contratos de servicio</span><span class="sxs-lookup"><span data-stu-id="39aef-163">Implementing Service Contracts</span></span>](../implementing-service-contracts.md)
