---
title: Notificaciones y tokens
ms.date: 03/30/2017
helpviewer_keywords:
- claims [WCF], and tokens
ms.assetid: eff167f3-33f8-483d-a950-aa3e9f97a189
ms.openlocfilehash: cbc97f2224bce640757e1cef88fe325db477cfd7
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/09/2020
ms.locfileid: "84587032"
---
# <a name="claims-and-tokens"></a><span data-ttu-id="e0cbd-102">Notificaciones y tokens</span><span class="sxs-lookup"><span data-stu-id="e0cbd-102">Claims and Tokens</span></span>

<span data-ttu-id="e0cbd-103">En este tema se describen los distintos tipos de notificaciones que Windows Communication Foundation (WCF) crea a partir de los tokens predeterminados que admite.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-103">This topic describes the various claim types that Windows Communication Foundation (WCF) creates from the default tokens that it supports.</span></span>

<span data-ttu-id="e0cbd-104">Puede examinar las notificaciones de una credencial del cliente mediante <xref:System.IdentityModel.Claims.ClaimSet> y las clases <xref:System.IdentityModel.Claims.Claim>.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-104">You can examine the claims of a client credential by using the <xref:System.IdentityModel.Claims.ClaimSet> and <xref:System.IdentityModel.Claims.Claim> classes.</span></span> <span data-ttu-id="e0cbd-105">`ClaimSet` contiene una colección de objetos `Claim`.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-105">The `ClaimSet` contains a collection of `Claim` objects.</span></span> <span data-ttu-id="e0cbd-106">Cada `Claim` posee los siguientes miembros importantes:</span><span class="sxs-lookup"><span data-stu-id="e0cbd-106">Each `Claim` has the following important members:</span></span>

- <span data-ttu-id="e0cbd-107">La propiedad <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> devuelve un Identificador uniforme de recursos (URI) que especifica el tipo de notificación que se realiza.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-107">The <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> property returns a Uniform Resource Identifier (URI) that specifies the type of claim being made.</span></span> <span data-ttu-id="e0cbd-108">Por ejemplo, un tipo de demanda puede ser una huella digital de un certificado, en cuyo caso el URI es `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint` .</span><span class="sxs-lookup"><span data-stu-id="e0cbd-108">For example, a claim type may be a thumbprint of a certificate, in which case the URI is `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span></span>

- <span data-ttu-id="e0cbd-109">La propiedad <xref:System.IdentityModel.Claims.Claim.Right%2A> devuelve una dirección URI que especifica el derecho de la notificación.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-109">The <xref:System.IdentityModel.Claims.Claim.Right%2A> property returns a URI that specifies the right of the claim.</span></span> <span data-ttu-id="e0cbd-110">Los derechos predefinidos se encuentran en la clase (<xref:System.IdentityModel.Claims.Rights>, <xref:System.IdentityModel.Claims.Rights.Identity%2A>) <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-110">Predefined rights are found in the <xref:System.IdentityModel.Claims.Rights> class (<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span></span>

- <span data-ttu-id="e0cbd-111">La propiedad <xref:System.IdentityModel.Claims.Claim.Resource%2A> devuelve el recurso asociado con la notificación.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-111">The <xref:System.IdentityModel.Claims.Claim.Resource%2A> property returns the resource associated with the claim.</span></span>

<span data-ttu-id="e0cbd-112">Cada <xref:System.IdentityModel.Claims.ClaimSet> también posee una propiedad <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A>, que representa el <xref:System.IdentityModel.Claims.ClaimSet> de `Issuer`.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-112">Each <xref:System.IdentityModel.Claims.ClaimSet> also has an <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> property, which represents the <xref:System.IdentityModel.Claims.ClaimSet> of the `Issuer`.</span></span>

## <a name="windows-accounts"></a><span data-ttu-id="e0cbd-113">Cuentas de Windows</span><span class="sxs-lookup"><span data-stu-id="e0cbd-113">Windows Accounts</span></span>

<span data-ttu-id="e0cbd-114">Cuando una credencial del cliente se asigna a una cuenta de usuario de Windows, el <xref:System.IdentityModel.Claims.ClaimSet> resultante adopta los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="e0cbd-114">Where a client credential maps to a Windows user account, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="e0cbd-115">`Issuer` es el valor devuelto por la propiedad estática de Windows de la clase <xref:System.IdentityModel.Claims.ClaimSet>.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-115">The `Issuer` is the value returned by the static Windows property of the <xref:System.IdentityModel.Claims.ClaimSet> class.</span></span>

- <span data-ttu-id="e0cbd-116">Las notificaciones de la colección son:</span><span class="sxs-lookup"><span data-stu-id="e0cbd-116">The claims in the collection are:</span></span>

  - <span data-ttu-id="e0cbd-117"><xref:System.IdentityModel.Claims.Claim> con un valor <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> de identificador de seguridad (SID), un valor de propiedad <xref:System.IdentityModel.Claims.Claim.Right%2A> de `Identity`. y <xref:System.IdentityModel.Claims.Claim.Resource%2A> que devuelve el valor SID real.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-117">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of security identifier (SID), a <xref:System.IdentityModel.Claims.Claim.Right%2A> property value of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> that returns the actual SID value.</span></span> <span data-ttu-id="e0cbd-118">Un SID es un valor único que emite el controlador de dominio para cada usuario.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-118">A SID is a unique value the domain controller issues to every user.</span></span> <span data-ttu-id="e0cbd-119">El SID se utiliza para identificar al usuario en interacciones con seguridad de Windows.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-119">The SID is used to identify the user in interactions with Windows security.</span></span>

  - <span data-ttu-id="e0cbd-120"><xref:System.IdentityModel.Claims.Claim> con un valor <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> de SID, <xref:System.IdentityModel.Claims.Claim.Right%2A> de `PossessProperty`, y <xref:System.IdentityModel.Claims.Claim.Resource%2A> del valor SID.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-120">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of the SID value.</span></span>

  - <span data-ttu-id="e0cbd-121">Una <xref:System.IdentityModel.Claims.Claim> con un <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> de <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, un <xref:System.IdentityModel.Claims.Claim.Right%2A> de `PossessProperty`, y un <xref:System.IdentityModel.Claims.Claim.Resource%2A> de cadena que contiene el nombre de usuario (por ejemplo, "MYMACHINE\Bob").</span><span class="sxs-lookup"><span data-stu-id="e0cbd-121">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty` and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of string containing the user name (for example, "MYMACHINE\Bob").</span></span>

  - <span data-ttu-id="e0cbd-122">Notificaciones SID adicionales con <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> para los distintos grupos a los que pertenece el usuario.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-122">Additional SID claims with <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> for the various groups the user belongs to.</span></span>

## <a name="certificates"></a><span data-ttu-id="e0cbd-123">Certificados</span><span class="sxs-lookup"><span data-stu-id="e0cbd-123">Certificates</span></span>

<span data-ttu-id="e0cbd-124">Cuando la credencial del cliente es un certificado, el <xref:System.IdentityModel.Claims.ClaimSet> resultante tiene los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="e0cbd-124">Where the client credential is a certificate, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="e0cbd-125">Para los certificados de emisión propia, `Issuer` es el propio <xref:System.IdentityModel.Claims.ClaimSet>.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-125">For self-issued certificates, the `Issuer` is the <xref:System.IdentityModel.Claims.ClaimSet> itself.</span></span> <span data-ttu-id="e0cbd-126">El <xref:System.IdentityModel.Claims.ClaimSet> devuelve <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> de <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, un <xref:System.IdentityModel.Claims.Claim.Right%2A> de `Identity`, y un valor <xref:System.IdentityModel.Claims.Claim.Resource%2A> que es una matriz <xref:System.Byte> que contiene la huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-126">The <xref:System.IdentityModel.Claims.ClaimSet> returns a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> value that is a <xref:System.Byte> array containing the thumbprint of the certificate.</span></span>

- <span data-ttu-id="e0cbd-127">Para un certificado emitido por una entidad de certificación, el emisor es el `ClaimSet` que representa el certificado de la entidad de certificación.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-127">For a certificate issued by a certification authority, the issuer is the `ClaimSet` representing the certification authority’s certificate.</span></span>

- <span data-ttu-id="e0cbd-128">Las `Claims` de la colección incluyen.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-128">The `Claims` in the collection include:</span></span>

  - <span data-ttu-id="e0cbd-129">Una `Claim` con un `ClaimType` de huella digital, un `Right` PossessProperty, y un `Resource` que es una matriz de bytes que contiene la huella digital del certificado.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-129">A `Claim` with a `ClaimType` of Thumbprint, a `Right` of PossessProperty, and a `Resource` that is a byte array containing the thumbprint of the certificate</span></span>

  - <span data-ttu-id="e0cbd-130">Las notificaciones PossessProperty adicionales de varios tipos, incluidas X500DistinguishedName, Dns, Name, Upn y Rsa, representan varias propiedades del certificado.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-130">Additional PossessProperty claims of various types, including X500DistinguishedName, Dns, Name, Upn, and Rsa, represent various properties of the certificate.</span></span> <span data-ttu-id="e0cbd-131">El recurso para la declaración de RSA es la clave pública asociada al certificado. **Nota:** Si el tipo de credencial de cliente es un certificado que el servicio asigna a una cuenta de Windows, `ClaimSet` se generan dos objetos.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-131">The resource for the Rsa claim is the public key associated with the certificate.**Note** Where the client credential type is a certificate that the service maps to a Windows account, two `ClaimSet` objects are generated.</span></span> <span data-ttu-id="e0cbd-132">El primero contiene todas las notificaciones relacionadas con la cuenta de Windows, y el segundo todas las notificaciones relacionadas con el certificado.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-132">The first contains all the claims related to the Windows account and the second contains all the claims related to the certificate.</span></span>

## <a name="user-namepassword"></a><span data-ttu-id="e0cbd-133">Nombre de usuario/contraseña</span><span class="sxs-lookup"><span data-stu-id="e0cbd-133">User Name/Password</span></span>

<span data-ttu-id="e0cbd-134">Cuando la credencial del cliente es un nombre de usuario/contraseña (o equivalente) que no se asigna a una cuenta de Windows, el `ClaimSet` resultante es emitido por la propiedad <xref:System.IdentityModel.Claims.ClaimSet.System%2A> estática de la clase `ClaimSet`.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-134">Where the client credential is a user name/password (or equivalent) that does not map to a Windows account, the resulting `ClaimSet` is issued by the static <xref:System.IdentityModel.Claims.ClaimSet.System%2A> property of the `ClaimSet` class.</span></span> <span data-ttu-id="e0cbd-135">`ClaimSet`Contiene una `Identity` demanda de tipo <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> cuyo recurso es el nombre de usuario que proporciona el cliente.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-135">The `ClaimSet` contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> whose resource is the user name the client provides.</span></span> <span data-ttu-id="e0cbd-136">Una notificación correspondiente tiene un `Right` de `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-136">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="rsa-keys"></a><span data-ttu-id="e0cbd-137">Claves RSA</span><span class="sxs-lookup"><span data-stu-id="e0cbd-137">RSA Keys</span></span>

<span data-ttu-id="e0cbd-138">Cuando se utiliza una clave RSA no asociada con un certificado, el resultante `ClaimSet` se emite automáticamente y contiene una `Identity` demanda de tipo <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> cuyo recurso es la clave RSA.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-138">Where an RSA key not associated with a certificate is used, the resulting `ClaimSet` is self-issued and contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> whose resource is the RSA key.</span></span> <span data-ttu-id="e0cbd-139">Una notificación correspondiente tiene un `Right` de `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-139">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="saml"></a><span data-ttu-id="e0cbd-140">SAML</span><span class="sxs-lookup"><span data-stu-id="e0cbd-140">SAML</span></span>

<span data-ttu-id="e0cbd-141">Cuando el cliente realiza la autenticación con un token de Lenguaje de marcado de aserciones de seguridad (SAML), la entidad que firmo el token de SAML, con frecuencia el certificado del servicio de token de seguridad (STS) que emitió el token de SAML, emite el `ClaimSet` resultante.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-141">Where the client authenticates with a Security Assertions Markup Language (SAML) token, the resulting `ClaimSet` is issued by the entity that signed the SAML token, often the certificate of the security token service (STS) that issued the SAML token.</span></span> <span data-ttu-id="e0cbd-142">El `ClaimSet` contiene varias notificaciones tal y como se encuentran en el token de SAML.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-142">The `ClaimSet` contains various claims as found in the SAML token.</span></span> <span data-ttu-id="e0cbd-143">Si el token de SAML contiene `SamlSubject` con un no nombre `null`, se crea una notificación `Identity` con un tipo de <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A>, y un tipo de recurso <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource>.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-143">If the SAML token contains a `SamlSubject` with a non-`null` name, then an `Identity` claim with a type of <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> and a resource type of <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> are created.</span></span>

## <a name="identity-claims-and-servicesecuritycontextisanonymous"></a><span data-ttu-id="e0cbd-144">Notificaciones de identidad y ServiceSecurityContext.IsAnonymous</span><span class="sxs-lookup"><span data-stu-id="e0cbd-144">Identity Claims and ServiceSecurityContext.IsAnonymous</span></span>

<span data-ttu-id="e0cbd-145">Si ninguno de los `ClaimSet` objetos resultantes de las credenciales del cliente contiene una claim con un `Right` de `Identity,` , la <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> propiedad devuelve `true` .</span><span class="sxs-lookup"><span data-stu-id="e0cbd-145">If none of the `ClaimSet` objects resulting from the client credentials contain a claim with a `Right` of `Identity,` then the <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> property returns `true`.</span></span> <span data-ttu-id="e0cbd-146">Si una o más de esas notificaciones están presentes, la propiedad `IsAnonymous` devuelve `false`.</span><span class="sxs-lookup"><span data-stu-id="e0cbd-146">If one or more such claims are present, the `IsAnonymous` property returns `false`.</span></span>

## <a name="see-also"></a><span data-ttu-id="e0cbd-147">Vea también</span><span class="sxs-lookup"><span data-stu-id="e0cbd-147">See also</span></span>

- <xref:System.IdentityModel.Claims.ClaimSet>
- <xref:System.IdentityModel.Claims.Claim>
- <xref:System.IdentityModel.Claims.Rights>
- <xref:System.IdentityModel.Claims.ClaimTypes>
- [<span data-ttu-id="e0cbd-148">Administración de notificaciones y autorización con el modelo de identidad</span><span class="sxs-lookup"><span data-stu-id="e0cbd-148">Managing Claims and Authorization with the Identity Model</span></span>](managing-claims-and-authorization-with-the-identity-model.md)
