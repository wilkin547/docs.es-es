---
title: Aplicaciones cliente de nivel intermedio
ms.date: 03/30/2017
ms.assetid: f9714a64-d0ae-4a98-bca0-5d370fdbd631
ms.openlocfilehash: 4cca832266b2eb2ab7b1b4eb1a5fe937525db97d
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/04/2018
ms.locfileid: "33493504"
---
# <a name="middle-tier-client-applications"></a><span data-ttu-id="312e1-102">Aplicaciones cliente de nivel intermedio</span><span class="sxs-lookup"><span data-stu-id="312e1-102">Middle-Tier Client Applications</span></span>
<span data-ttu-id="312e1-103">En este tema se describe varios problemas específicos de las aplicaciones de cliente de nivel intermedio que utilizan Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="312e1-103">This topic discusses various issues specific to middle-tier client applications that use Windows Communication Foundation (WCF).</span></span>  
  
## <a name="increasing-middle-tier-client-performance"></a><span data-ttu-id="312e1-104">Aumentar el rendimiento del cliente de nivel intermedio</span><span class="sxs-lookup"><span data-stu-id="312e1-104">Increasing Middle-Tier Client Performance</span></span>  
 <span data-ttu-id="312e1-105">En comparación con tecnologías de comunicación anteriores, como los servicios Web que utilizan [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], la creación de una instancia de cliente WCF puede ser más compleja debido al conjunto enriquecido de características de WCF.</span><span class="sxs-lookup"><span data-stu-id="312e1-105">Compared to previous communications technologies, such as Web services using [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], the creation of a WCF client instance can be more complex due to the rich feature set of WCF.</span></span> <span data-ttu-id="312e1-106">Por ejemplo, cuando se abre un objeto <xref:System.ServiceModel.ChannelFactory%601>, éste puede establecer una sesión segura con el servicio, un procedimiento que aumenta el tiempo de inicio de la instancia del cliente.</span><span class="sxs-lookup"><span data-stu-id="312e1-106">For example, when a <xref:System.ServiceModel.ChannelFactory%601> object is opened it can establish a secure session with the service, a procedure that increases the startup time for the client instance.</span></span> <span data-ttu-id="312e1-107">Normalmente, estas características adicionales no afectan a las aplicaciones cliente en gran medida ya que el cliente de WCF realiza varias llamadas y, a continuación, se cierra.</span><span class="sxs-lookup"><span data-stu-id="312e1-107">Typically, these additional feature capabilities do not affect client applications greatly since the WCF client makes several calls, and then closes.</span></span>  
  
 <span data-ttu-id="312e1-108">Las aplicaciones de cliente de nivel intermedio, sin embargo, pueden crear rápidamente muchos objetos de cliente WCF y, como resultado, experimentar requisitos de inicialización mayor.</span><span class="sxs-lookup"><span data-stu-id="312e1-108">Middle-tier client applications, however, can create many WCF client objects quickly and, as a result, experience increased initialization requirements.</span></span> <span data-ttu-id="312e1-109">Existen dos enfoques principales para aumentar el rendimiento de aplicaciones de nivel intermedio durante la llamada a los servicios:</span><span class="sxs-lookup"><span data-stu-id="312e1-109">There are two main approaches to increasing the performance of middle-tier applications when calling services:</span></span>  
  
-   <span data-ttu-id="312e1-110">Almacenar en caché el objeto de cliente WCF y reutilizarlo para llamadas posteriores siempre que sea posible.</span><span class="sxs-lookup"><span data-stu-id="312e1-110">Cache the WCF client object and reuse it for subsequent calls where possible.</span></span>  
  
-   <span data-ttu-id="312e1-111">Crear un <xref:System.ServiceModel.ChannelFactory%601> de objeto y, a continuación, usar ese objeto para crear objetos de canal para cada llamada de cliente WCF nueva.</span><span class="sxs-lookup"><span data-stu-id="312e1-111">Create a <xref:System.ServiceModel.ChannelFactory%601> object and then use that object to create new WCF client channel objects for each call.</span></span>  
  
 <span data-ttu-id="312e1-112">Problemas que deben tenerse en cuenta cuando se aplican estos enfoques:</span><span class="sxs-lookup"><span data-stu-id="312e1-112">Issues to consider when using these approaches include:</span></span>  
  
-   <span data-ttu-id="312e1-113">Si el servicio mantiene un estado específico de cliente mediante una sesión, no se puede reutilizar al cliente WCF de nivel intermedio con las solicitudes de cliente de varios niveles porque el estado del servicio está asociado a la el cliente de nivel intermedio.</span><span class="sxs-lookup"><span data-stu-id="312e1-113">If the service is maintaining a client-specific state by using a session, then you cannot reuse the middle-tier WCF client with multiple-client tier requests because the service's state is tied to that of the middle-tier client.</span></span>  
  
-   <span data-ttu-id="312e1-114">Si el servicio debe realizar la autenticación en una base por cliente, debe crear un nuevo cliente para cada solicitud entrante en el nivel intermedio en lugar de volver a usar el cliente de WCF de nivel intermedio (u objeto de canal de cliente WCF) porque las credenciales del cliente de nivel intermedio no se puede modificar después de que el cliente WCF (o <xref:System.ServiceModel.ChannelFactory%601>) se ha creado.</span><span class="sxs-lookup"><span data-stu-id="312e1-114">If the service must perform authentication on a per-client basis, you must create a new client for each incoming request on the middle tier instead of reusing the middle-tier WCF client (or WCF client channel object) because the client credentials of the middle tier cannot be modified after the WCF client (or <xref:System.ServiceModel.ChannelFactory%601>) has been created.</span></span>  
  
-   <span data-ttu-id="312e1-115">Si bien es cierto que los canales y clientes creados por los canales son seguros para la ejecución de subprocesos, podrían no admitir la escritura de más de un mensaje en la conexión de manera simultánea.</span><span class="sxs-lookup"><span data-stu-id="312e1-115">While channels and clients created by the channels are thread-safe, they might not support writing more than one message to the wire concurrently.</span></span> <span data-ttu-id="312e1-116">Si se envían mensajes grandes, particularmente si se transmite por secuencias, la operación enviada puede bloquearse mientras espera la finalización de otro envío.</span><span class="sxs-lookup"><span data-stu-id="312e1-116">If you are sending large messages, particularly if streaming, the send operation might block waiting for another send to complete.</span></span> <span data-ttu-id="312e1-117">Esto provoca dos tipos de problemas: la falta de simultaneidad y la posibilidad de interbloqueo si el flujo de control vuelve al servicio que reutiliza el canal (es decir, el cliente compartido llama a un servicio cuya ruta de acceso de código da lugar a una devolución de llamada al cliente compartido).</span><span class="sxs-lookup"><span data-stu-id="312e1-117">This causes two sorts of problems: a lack of concurrency and the possibility of deadlock if the flow of control returns to the service reusing the channel (that is, the shared client calls a service whose code path results in a callback to the shared client).</span></span> <span data-ttu-id="312e1-118">Esto es cierto independientemente del tipo de cliente WCF que volver a usar.</span><span class="sxs-lookup"><span data-stu-id="312e1-118">This is true regardless of the type of WCF client you reuse.</span></span>  
  
-   <span data-ttu-id="312e1-119">Deben controlarse los canales fallidos independientemente de si se comparte o no el canal.</span><span class="sxs-lookup"><span data-stu-id="312e1-119">You must handle faulted channels regardless of whether you share the channel.</span></span> <span data-ttu-id="312e1-120">Sin embargo, cuando se reutilizan, un canal fallido puede dejar inactiva más de una solicitud o envío pendiente.</span><span class="sxs-lookup"><span data-stu-id="312e1-120">When channels are reused, however, a faulting channel can take down more than one pending request or send.</span></span>  
  
 <span data-ttu-id="312e1-121">Para obtener un ejemplo que muestra los procedimientos recomendados para volver a usar un cliente para varias solicitudes, consulte [enlace de datos en un cliente ASP.NET](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span><span class="sxs-lookup"><span data-stu-id="312e1-121">For an example that demonstrates best practices for reusing a client for multiple requests, see [Data Binding in an ASP.NET Client](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span></span>  
  
 <span data-ttu-id="312e1-122">Además, puede aumentar el rendimiento de inicio de los clientes que utilizan tipos de datos que se serializan utilizando <xref:System.Xml.Serialization.XmlSerializer> para generar y compilar código de serialización de esos tipos de datos en el tiempo de ejecución, lo que puede dar lugar a un rendimiento de inicio lento.</span><span class="sxs-lookup"><span data-stu-id="312e1-122">In addition, you can increase the startup performance for those clients that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span> <span data-ttu-id="312e1-123">El [la herramienta de utilidad de metadatos de ServiceModel (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) puede mejorar el rendimiento de inicio de estas aplicaciones al generar el código de serialización necesarios desde los ensamblados compilados para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="312e1-123">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.</span></span> <span data-ttu-id="312e1-124">Para obtener más información, consulte [Cómo: mejorar el inicio del tiempo de aplicaciones cliente de WCF mediante XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span><span class="sxs-lookup"><span data-stu-id="312e1-124">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="312e1-125">Vea también</span><span class="sxs-lookup"><span data-stu-id="312e1-125">See Also</span></span>  
 [<span data-ttu-id="312e1-126">Acceso a los servicios mediante un cliente WCF</span><span class="sxs-lookup"><span data-stu-id="312e1-126">Accessing Services Using a WCF Client</span></span>](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)
