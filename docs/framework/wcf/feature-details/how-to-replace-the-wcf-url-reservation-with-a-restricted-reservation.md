---
description: 'Más información acerca de cómo: reemplazar la reserva de direcciones URL de WCF por una reserva restringida'
title: Procedimiento para reemplazar la reserva de direcciones URL de WCF por una reserva restringida
ms.date: 03/30/2017
ms.assetid: 2754d223-79fc-4e2b-a6ce-989889f2abfa
ms.openlocfilehash: b3fec02e6bf041430dfb7082453b33c7f448bb28
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99643428"
---
# <a name="how-to-replace-the-wcf-url-reservation-with-a-restricted-reservation"></a><span data-ttu-id="2fb90-103">Procedimiento para reemplazar la reserva de direcciones URL de WCF por una reserva restringida</span><span class="sxs-lookup"><span data-stu-id="2fb90-103">How to: Replace the WCF URL Reservation with a Restricted Reservation</span></span>

<span data-ttu-id="2fb90-104">Una reserva de direcciones URL le permite restringir quién puede recibir mensajes desde una URL o un conjunto de ellas.</span><span class="sxs-lookup"><span data-stu-id="2fb90-104">A URL reservation allows you to restrict who can receive messages from a URL or a set of URLs.</span></span> <span data-ttu-id="2fb90-105">Una reserva consta de una plantilla de dirección URL, una lista de control de acceso (ACL) y un conjunto de marcas.</span><span class="sxs-lookup"><span data-stu-id="2fb90-105">A reservation consists of a URL template, an access control list (ACL), and a set of flags.</span></span> <span data-ttu-id="2fb90-106">La plantilla de dirección URL define a qué direcciones URL afecta la reserva.</span><span class="sxs-lookup"><span data-stu-id="2fb90-106">The URL template defines which URLs the reservation affects.</span></span> <span data-ttu-id="2fb90-107">Para obtener más información sobre cómo se procesan las plantillas de dirección URL, vea [enrutar solicitudes entrantes](/windows/win32/http/routing-incoming-requests).</span><span class="sxs-lookup"><span data-stu-id="2fb90-107">For more information about how URL templates are processed, see [Routing Incoming Requests](/windows/win32/http/routing-incoming-requests).</span></span> <span data-ttu-id="2fb90-108">La ACL determina qué usuario o grupo de usuarios pueden recibir mensajes desde las direcciones URL especificadas.</span><span class="sxs-lookup"><span data-stu-id="2fb90-108">The ACL controls what user or group of users is permitted to receive messages from the specified URLs.</span></span> <span data-ttu-id="2fb90-109">Las marcas indican si la reserva proporciona permiso a un usuario o a un grupo de ellos para realizar escuchas directamente en la dirección URL o delega el permiso de escucha en otro proceso.</span><span class="sxs-lookup"><span data-stu-id="2fb90-109">The flags indicate whether the reservation is to give a user or group permission to listen on the URL directly or to delegate the permission to listen to some other process.</span></span>  
  
 <span data-ttu-id="2fb90-110">Como parte de la configuración predeterminada del sistema operativo, Windows Communication Foundation (WCF) crea una reserva accesible globalmente para el puerto 80 a fin de permitir que todos los usuarios ejecuten aplicaciones que usan un enlace HTTP doble para la comunicación dúplex.</span><span class="sxs-lookup"><span data-stu-id="2fb90-110">As part of the default operating system configuration, Windows Communication Foundation (WCF) creates a globally accessible reservation for port 80 to enable all users to run applications that use a dual HTTP binding for duplex communication.</span></span> <span data-ttu-id="2fb90-111">Dado que la ACL en esta reserva es para todos los usuarios, los administradores no pueden conceder o denegar explícitamente el permiso para realizar escuchas en una dirección URL o en un conjunto de ellas.</span><span class="sxs-lookup"><span data-stu-id="2fb90-111">Because the ACL on this reservation is for everyone, administrators cannot explicitly allow or disallow permission to listen on a URL or set of URLs.</span></span> <span data-ttu-id="2fb90-112">En este tema se explica cómo eliminar esta reserva y cómo volver a crearla con una ACL restringida.</span><span class="sxs-lookup"><span data-stu-id="2fb90-112">This topic explains how to delete this reservation and how to re-create the reservation with a restricted ACL.</span></span>  
  
<span data-ttu-id="2fb90-113">En Windows Vista o Windows Server 2008, puede ver todas las reservas de direcciones URL HTTP desde un símbolo del sistema con privilegios elevados. para ello, escriba `netsh http show urlacl` .</span><span class="sxs-lookup"><span data-stu-id="2fb90-113">On Windows Vista or Windows Server 2008, you can view all of the HTTP URL reservations from an elevated command prompt by entering `netsh http show urlacl`.</span></span> <span data-ttu-id="2fb90-114">En el ejemplo siguiente se muestra el aspecto de una reserva de direcciones URL de WCF:</span><span class="sxs-lookup"><span data-stu-id="2fb90-114">The following example shows what a WCF URL reservation should resemble:</span></span>

```output
Reserved URL : http://+:80/Temporary_Listen_Addresses/  
        User: \Everyone  
            Listen: Yes  
            Delegate: No  
            SDDL: D:(A;;GX;;;WD)  
```

 <span data-ttu-id="2fb90-115">La reserva consta de una plantilla de dirección URL que se usa cuando una aplicación WCF usa un enlace HTTP dual para la comunicación dúplex.</span><span class="sxs-lookup"><span data-stu-id="2fb90-115">The reservation consists of a URL template used when a WCF application is using an HTTP dual binding for duplex communication.</span></span> <span data-ttu-id="2fb90-116">Las direcciones URL de este formulario se utilizan para que un servicio WCF envíe mensajes de vuelta al cliente WCF al comunicarse a través de un enlace HTTP dual.</span><span class="sxs-lookup"><span data-stu-id="2fb90-116">URLs of this form are used for a WCF service to send messages back to the WCF client when communicating over a HTTP dual binding.</span></span> <span data-ttu-id="2fb90-117">Todos los usuarios tienen permiso para realizar escuchas en la dirección URL, pero no para delegar la escucha en otro proceso.</span><span class="sxs-lookup"><span data-stu-id="2fb90-117">Everyone is given permission to listen on the URL but not to delegate listening to another process.</span></span> <span data-ttu-id="2fb90-118">Por último, la ACL se describe en el lenguaje de definición de descriptor de seguridad (SSDL).</span><span class="sxs-lookup"><span data-stu-id="2fb90-118">Finally, the ACL is described in Security Descriptor Definition Language (SSDL).</span></span> <span data-ttu-id="2fb90-119">Para obtener más información sobre SSDL, vea [SSDL](/windows/win32/secauthz/security-descriptor-definition-language)</span><span class="sxs-lookup"><span data-stu-id="2fb90-119">For more information about SSDL, see [SSDL](/windows/win32/secauthz/security-descriptor-definition-language)</span></span>  
  
## <a name="to-delete-the-wcf-url-reservation"></a><span data-ttu-id="2fb90-120">Para eliminar la reserva de direcciones URL de WCF</span><span class="sxs-lookup"><span data-stu-id="2fb90-120">To delete the WCF URL reservation</span></span>  
  
1. <span data-ttu-id="2fb90-121">Haga clic en **Inicio**, seleccione **todos los programas**, **accesorios**, haga clic con el botón secundario en **símbolo del sistema** y haga clic en **Ejecutar como administrador** en el menú contextual que aparece.</span><span class="sxs-lookup"><span data-stu-id="2fb90-121">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="2fb90-122">Haga clic en **continuar** en la ventana control de cuentas de usuario (UAC), que podría pedir permisos para continuar.</span><span class="sxs-lookup"><span data-stu-id="2fb90-122">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="2fb90-123">Escriba en `netsh http delete urlacl url=http://+:80/Temporary_Listen_Addresses/` la ventana del símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="2fb90-123">Type in `netsh http delete urlacl url=http://+:80/Temporary_Listen_Addresses/` in the command prompt window.</span></span>  
  
3. <span data-ttu-id="2fb90-124">Si la reserva se elimina correctamente, se muestra el mensaje siguiente:</span><span class="sxs-lookup"><span data-stu-id="2fb90-124">If the reservation is deleted successfully, the following message is displayed.</span></span> <span data-ttu-id="2fb90-125">**La reserva de dirección URL se eliminó correctamente.**</span><span class="sxs-lookup"><span data-stu-id="2fb90-125">**URL reservation successfully deleted**</span></span>  
  
## <a name="creating-a-new-security-group-and-new-restricted-url-reservation"></a><span data-ttu-id="2fb90-126">Crear un nuevo grupo de seguridad y una nueva reserva de direcciones URL restringida</span><span class="sxs-lookup"><span data-stu-id="2fb90-126">Creating a New Security Group and New Restricted URL Reservation</span></span>  

 <span data-ttu-id="2fb90-127">Para reemplazar la reserva de direcciones URL de WCF por una reserva restringida, primero debe crear un nuevo grupo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2fb90-127">To replace the WCF URL reservation with a restricted reservation you must first create a new security group.</span></span> <span data-ttu-id="2fb90-128">Hay dos maneras de hacerlo: desde un símbolo del sistema o desde la consola de administración del equipo.</span><span class="sxs-lookup"><span data-stu-id="2fb90-128">You can do this in one of two ways: from a command prompt or from the computer management console.</span></span> <span data-ttu-id="2fb90-129">Opte por una de ellas.</span><span class="sxs-lookup"><span data-stu-id="2fb90-129">You only have to do one.</span></span>  
  
### <a name="to-create-a-new-security-group-from-a-command-prompt"></a><span data-ttu-id="2fb90-130">Para crear un nuevo grupo de seguridad desde un símbolo del sistema</span><span class="sxs-lookup"><span data-stu-id="2fb90-130">To create a new security group from a command prompt</span></span>  
  
1. <span data-ttu-id="2fb90-131">Haga clic en **Inicio**, seleccione **todos los programas**, **accesorios**, haga clic con el botón secundario en **símbolo del sistema** y haga clic en **Ejecutar como administrador** en el menú contextual que aparece.</span><span class="sxs-lookup"><span data-stu-id="2fb90-131">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="2fb90-132">Haga clic en **continuar** en la ventana control de cuentas de usuario (UAC), que podría pedir permisos para continuar.</span><span class="sxs-lookup"><span data-stu-id="2fb90-132">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="2fb90-133">Escriba en `net localgroup "<security group name>" /comment:"<security group description>" /add` el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="2fb90-133">Type in `net localgroup "<security group name>" /comment:"<security group description>" /add` at the command prompt.</span></span> <span data-ttu-id="2fb90-134">Reemplace **\<security group name>** con el nombre del grupo de seguridad que desea crear y **\<security group description>** con una descripción adecuada para el grupo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2fb90-134">Replacing **\<security group name>** with the name of the security group you want to create and **\<security group description>** with a suitable description for the security group.</span></span>  
  
3. <span data-ttu-id="2fb90-135">Si el grupo de seguridad se crea correctamente, se muestra el mensaje siguiente:</span><span class="sxs-lookup"><span data-stu-id="2fb90-135">If the security group is created successfully, the following message is displayed.</span></span> <span data-ttu-id="2fb90-136">**El comando se completó correctamente.**</span><span class="sxs-lookup"><span data-stu-id="2fb90-136">**The command completed successfully.**</span></span>  
  
### <a name="to-create-a-new-security-group-from-the-computer-management-console"></a><span data-ttu-id="2fb90-137">Para crear un nuevo grupo de seguridad desde la consola de administración del equipo</span><span class="sxs-lookup"><span data-stu-id="2fb90-137">To create a new security group from the computer management console</span></span>  
  
1. <span data-ttu-id="2fb90-138">Haga clic en **Inicio**, en **Panel de control**, en **herramientas administrativas** y en **Administración de equipos** para abrir la consola administración de equipos.</span><span class="sxs-lookup"><span data-stu-id="2fb90-138">Click **Start**, click **Control Panel**, click **Administrative Tools**, and click **Computer Management** to open up the Computer Management Console.</span></span> <span data-ttu-id="2fb90-139">Haga clic en **continuar** en la ventana control de cuentas de usuario (UAC), que podría pedir permisos para continuar.</span><span class="sxs-lookup"><span data-stu-id="2fb90-139">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="2fb90-140">Haga clic en **herramientas del sistema**, en **usuarios y grupos locales**, haga clic con el botón secundario en carpeta **grupos** y haga clic en **nuevo grupo** en el menú contextual que aparece.</span><span class="sxs-lookup"><span data-stu-id="2fb90-140">Click **System Tools**, click **Local Users and Groups**, right-click **Groups** folder and click **New Group** on the context menu that comes up.</span></span> <span data-ttu-id="2fb90-141">Escriba el nombre de **Grupo** deseado, la **Descripción** y otros detalles de este nuevo grupo de seguridad y haga clic en el botón **crear** para crear el grupo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2fb90-141">Type in the desired **Group Name**, **Description** and other details of this new security group and click the **Create** button to create the security group.</span></span>  
  
### <a name="to-create-the-restricted-url-reservation"></a><span data-ttu-id="2fb90-142">Para crear la reserva de direcciones URL restringida</span><span class="sxs-lookup"><span data-stu-id="2fb90-142">To create the restricted URL reservation</span></span>  
  
1. <span data-ttu-id="2fb90-143">Haga clic en **Inicio**, seleccione **todos los programas**, **accesorios**, haga clic con el botón secundario en **símbolo del sistema** y haga clic en **Ejecutar como administrador** en el menú contextual que aparece.</span><span class="sxs-lookup"><span data-stu-id="2fb90-143">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="2fb90-144">Haga clic en **continuar** en la ventana control de cuentas de usuario (UAC), que podría pedir permisos para continuar.</span><span class="sxs-lookup"><span data-stu-id="2fb90-144">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2. <span data-ttu-id="2fb90-145">Escriba en `netsh http add urlacl url=http://+:80/Temporary_Listen_Addresses/ user="<machine name>\<security group name>` el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="2fb90-145">Type in `netsh http add urlacl url=http://+:80/Temporary_Listen_Addresses/ user="<machine name>\<security group name>` at the command prompt.</span></span> <span data-ttu-id="2fb90-146">Reemplace **\<machine name>** por el nombre del equipo en el que se debe crear el grupo y **\<security group name>** por el nombre del grupo de seguridad que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="2fb90-146">Replacing **\<machine name>** with the computer name on which the group must be created and **\<security group name>** with the name of the security group you created previously.</span></span>  
  
3. <span data-ttu-id="2fb90-147">Si la reserva se crea correctamente, se muestra el mensaje siguiente:</span><span class="sxs-lookup"><span data-stu-id="2fb90-147">If the reservation is created successfully, the following message is displayed.</span></span> <span data-ttu-id="2fb90-148">**Reserva de direcciones URL agregada correctamente**.</span><span class="sxs-lookup"><span data-stu-id="2fb90-148">**URL reservation successfully added**.</span></span>
