---
title: 'Cómo: Reemplazar la reserva de direcciones URL de WCF por una reserva restringida'
ms.date: 03/30/2017
ms.assetid: 2754d223-79fc-4e2b-a6ce-989889f2abfa
ms.openlocfilehash: b53596d7ac4e7e7c3748f6a98130492a96c0b48c
ms.sourcegitcommit: 6eac9a01ff5d70c6d18460324c016a3612c5e268
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/14/2018
ms.locfileid: "45610040"
---
# <a name="how-to-replace-the-wcf-url-reservation-with-a-restricted-reservation"></a><span data-ttu-id="7d90e-102">Cómo: Reemplazar la reserva de direcciones URL de WCF por una reserva restringida</span><span class="sxs-lookup"><span data-stu-id="7d90e-102">How to: Replace the WCF URL Reservation with a Restricted Reservation</span></span>
<span data-ttu-id="7d90e-103">Una reserva de direcciones URL le permite restringir quién puede recibir mensajes desde una URL o un conjunto de ellas.</span><span class="sxs-lookup"><span data-stu-id="7d90e-103">A URL reservation allows you to restrict who can receive messages from a URL or a set of URLs.</span></span> <span data-ttu-id="7d90e-104">Una reserva consta de una plantilla de dirección URL, una lista de control de acceso (ACL) y un conjunto de marcas.</span><span class="sxs-lookup"><span data-stu-id="7d90e-104">A reservation consists of a URL template, an access control list (ACL), and a set of flags.</span></span> <span data-ttu-id="7d90e-105">La plantilla de dirección URL define a qué direcciones URL afecta la reserva.</span><span class="sxs-lookup"><span data-stu-id="7d90e-105">The URL template defines which URLs the reservation affects.</span></span> <span data-ttu-id="7d90e-106">Para obtener más información sobre cómo se procesan las plantillas de dirección URL, vea [enrutar solicitudes entrantes](https://go.microsoft.com/fwlink/?LinkId=136764).</span><span class="sxs-lookup"><span data-stu-id="7d90e-106">For more information about how URL templates are processed, see [Routing Incoming Requests](https://go.microsoft.com/fwlink/?LinkId=136764).</span></span> <span data-ttu-id="7d90e-107">La ACL determina qué usuario o grupo de usuarios pueden recibir mensajes desde las direcciones URL especificadas.</span><span class="sxs-lookup"><span data-stu-id="7d90e-107">The ACL controls what user or group of users is permitted to receive messages from the specified URLs.</span></span> <span data-ttu-id="7d90e-108">Las marcas indican si la reserva proporciona permiso a un usuario o a un grupo de ellos para realizar escuchas directamente en la dirección URL o delega el permiso de escucha en otro proceso.</span><span class="sxs-lookup"><span data-stu-id="7d90e-108">The flags indicate whether the reservation is to give a user or group permission to listen on the URL directly or to delegate the permission to listen to some other process.</span></span>  
  
 <span data-ttu-id="7d90e-109">Como parte de la configuración del sistema operativo de forma predeterminada, Windows Communication Foundation (WCF) crea una reserva accesible globalmente para el puerto 80 para habilitar todos los usuarios ejecuten aplicaciones que utilizan un enlace HTTP doble para la comunicación dúplex.</span><span class="sxs-lookup"><span data-stu-id="7d90e-109">As part of the default operating system configuration, Windows Communication Foundation (WCF) creates a globally accessible reservation for port 80 to enable all users to run applications that use a dual HTTP binding for duplex communication.</span></span> <span data-ttu-id="7d90e-110">Dado que la ACL en esta reserva es para todos los usuarios, los administradores no pueden conceder o denegar explícitamente el permiso para realizar escuchas en una dirección URL o en un conjunto de ellas.</span><span class="sxs-lookup"><span data-stu-id="7d90e-110">Because the ACL on this reservation is for everyone, administrators cannot explicitly allow or disallow permission to listen on a URL or set of URLs.</span></span> <span data-ttu-id="7d90e-111">En este tema se explica cómo eliminar esta reserva y cómo volver a crearla con una ACL restringida.</span><span class="sxs-lookup"><span data-stu-id="7d90e-111">This topic explains how to delete this reservation and how to re-create the reservation with a restricted ACL.</span></span>  
  
 <span data-ttu-id="7d90e-112">En [!INCLUDE[wv](../../../../includes/wv-md.md)] o [!INCLUDE[lserver](../../../../includes/lserver-md.md)] puede ver todas las reservas de direcciones URL de HTTP desde un símbolo del sistema con permisos elevados escribiendo `netsh http show urlacl`.</span><span class="sxs-lookup"><span data-stu-id="7d90e-112">On [!INCLUDE[wv](../../../../includes/wv-md.md)] or [!INCLUDE[lserver](../../../../includes/lserver-md.md)] you can view all of the HTTP URL reservations from an elevated command prompt by typing `netsh http show urlacl`.</span></span>  <span data-ttu-id="7d90e-113">El ejemplo siguiente muestra lo que debería parecerse una reserva de direcciones URL de WCF.</span><span class="sxs-lookup"><span data-stu-id="7d90e-113">The following example shows what a WCF URL reservation should resemble.</span></span>  
  
```  
Reserved URL : http://+:80/Temporary_Listen_Addresses/  
        User: \Everyone  
            Listen: Yes  
            Delegate: No  
            SDDL: D:(A;;GX;;;WD)  
```  
  
 <span data-ttu-id="7d90e-114">La reserva consta de una plantilla de dirección URL usada cuando una aplicación de WCF usa un enlace HTTP doble para la comunicación dúplex.</span><span class="sxs-lookup"><span data-stu-id="7d90e-114">The reservation consists of a URL template used when a WCF application is using an HTTP dual binding for duplex communication.</span></span> <span data-ttu-id="7d90e-115">Las direcciones URL de esta forma se usan para un servicio WCF para enviar mensajes de vuelta al cliente de WCF al comunicarse a través de un enlace HTTP doble.</span><span class="sxs-lookup"><span data-stu-id="7d90e-115">URLs of this form are used for a WCF service to send messages back to the WCF client when communicating over a HTTP dual binding.</span></span> <span data-ttu-id="7d90e-116">Todos los usuarios tienen permiso para realizar escuchas en la dirección URL, pero no para delegar la escucha en otro proceso.</span><span class="sxs-lookup"><span data-stu-id="7d90e-116">Everyone is given permission to listen on the URL but not to delegate listening to another process.</span></span> <span data-ttu-id="7d90e-117">Por último, la ACL se describe en el lenguaje de definición de descriptor de seguridad (SSDL).</span><span class="sxs-lookup"><span data-stu-id="7d90e-117">Finally, the ACL is described in Security Descriptor Definition Language (SSDL).</span></span> <span data-ttu-id="7d90e-118">Para obtener más información acerca de SSDL, vea [SSDL](https://go.microsoft.com/fwlink/?LinkId=136789)</span><span class="sxs-lookup"><span data-stu-id="7d90e-118">For more information about SSDL, see [SSDL](https://go.microsoft.com/fwlink/?LinkId=136789)</span></span>  
  
### <a name="to-delete-the-wcf-url-reservation"></a><span data-ttu-id="7d90e-119">Para eliminar la reserva de direcciones URL de WCF</span><span class="sxs-lookup"><span data-stu-id="7d90e-119">To delete the WCF URL reservation</span></span>  
  
1.  <span data-ttu-id="7d90e-120">Haga clic en **iniciar**, apunte a **todos los programas**, haga clic en **Accesorios**, haga clic en **símbolo** y haga clic en **ejecutar como Administrador** en el menú contextual que aparece.</span><span class="sxs-lookup"><span data-stu-id="7d90e-120">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="7d90e-121">Haga clic en **continuar** en la ventana de Control de cuentas de usuario (UAC) que podría solicitar permiso para continuar.</span><span class="sxs-lookup"><span data-stu-id="7d90e-121">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2.  <span data-ttu-id="7d90e-122">Escriba en **netsh http delete urlacl url =http://+:80/Temporary_Listen_Addresses/**  en la ventana de símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="7d90e-122">Type in **netsh http delete urlacl url=http://+:80/Temporary_Listen_Addresses/** in the command prompt window.</span></span>  
  
3.  <span data-ttu-id="7d90e-123">Si la reserva se elimina correctamente, se muestra el mensaje siguiente:</span><span class="sxs-lookup"><span data-stu-id="7d90e-123">If the reservation is deleted successfully, the following message is displayed.</span></span> <span data-ttu-id="7d90e-124">**Reserva de direcciones URL que se eliminó correctamente**</span><span class="sxs-lookup"><span data-stu-id="7d90e-124">**URL reservation successfully deleted**</span></span>  
  
## <a name="creating-a-new-security-group-and-new-restricted-url-reservation"></a><span data-ttu-id="7d90e-125">Crear un nuevo grupo de seguridad y una nueva reserva de direcciones URL restringida</span><span class="sxs-lookup"><span data-stu-id="7d90e-125">Creating a New Security Group and New Restricted URL Reservation</span></span>  
 <span data-ttu-id="7d90e-126">Para reemplazar la reserva de direcciones URL de WCF con una reserva restringida en primer lugar debe crear un nuevo grupo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="7d90e-126">To replace the WCF URL reservation with a restricted reservation you must first create a new security group.</span></span> <span data-ttu-id="7d90e-127">Hay dos maneras de hacerlo: desde un símbolo del sistema o desde la consola de administración del equipo.</span><span class="sxs-lookup"><span data-stu-id="7d90e-127">You can do this in one of two ways: from a command prompt or from the computer management console.</span></span> <span data-ttu-id="7d90e-128">Opte por una de ellas.</span><span class="sxs-lookup"><span data-stu-id="7d90e-128">You only have to do one.</span></span>  
  
#### <a name="to-create-a-new-security-group-from-a-command-prompt"></a><span data-ttu-id="7d90e-129">Para crear un nuevo grupo de seguridad desde un símbolo del sistema</span><span class="sxs-lookup"><span data-stu-id="7d90e-129">To create a new security group from a command prompt</span></span>  
  
1.  <span data-ttu-id="7d90e-130">Haga clic en **iniciar**, apunte a **todos los programas**, haga clic en **Accesorios**, haga clic en **símbolo** y haga clic en **ejecutar como Administrador** en el menú contextual que aparece.</span><span class="sxs-lookup"><span data-stu-id="7d90e-130">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="7d90e-131">Haga clic en **continuar** en la ventana de Control de cuentas de usuario (UAC) que podría solicitar permiso para continuar.</span><span class="sxs-lookup"><span data-stu-id="7d90e-131">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2.  <span data-ttu-id="7d90e-132">Escriba en **net localgroup "\<el nombre del grupo de seguridad >" / comment: "\<descripción del grupo de seguridad >" /Add** en el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="7d90e-132">Type in **net localgroup "\<security group name>" /comment:"\<security group description>" /add** at the command prompt.</span></span> <span data-ttu-id="7d90e-133">Reemplazando  **\<el nombre del grupo de seguridad >** con el nombre del grupo de seguridad que desea crear y  **\<descripción del grupo de seguridad >** con una descripción apropiada para el grupo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="7d90e-133">Replacing **\<security group name>** with the name of the security group you want to create and **\<security group description>** with a suitable description for the security group.</span></span>  
  
3.  <span data-ttu-id="7d90e-134">Si el grupo de seguridad se crea correctamente, se muestra el mensaje siguiente:</span><span class="sxs-lookup"><span data-stu-id="7d90e-134">If the security group is created successfully, the following message is displayed.</span></span> <span data-ttu-id="7d90e-135">**El comando se completó correctamente.**</span><span class="sxs-lookup"><span data-stu-id="7d90e-135">**The command completed successfully.**</span></span>  
  
#### <a name="to-create-a-new-security-group-from-the-computer-management-console"></a><span data-ttu-id="7d90e-136">Para crear un nuevo grupo de seguridad desde la consola de administración del equipo</span><span class="sxs-lookup"><span data-stu-id="7d90e-136">To create a new security group from the computer management console</span></span>  
  
1.  <span data-ttu-id="7d90e-137">Haga clic en **iniciar**, haga clic en **Panel de Control**, haga clic en **herramientas administrativas**y haga clic en **administración de equipos** para abrir el equipo Consola de administración.</span><span class="sxs-lookup"><span data-stu-id="7d90e-137">Click **Start**, click **Control Panel**, click **Administrative Tools**, and click **Computer Management** to open up the Computer Management Console.</span></span> <span data-ttu-id="7d90e-138">Haga clic en **continuar** en la ventana de Control de cuentas de usuario (UAC) que podría solicitar permiso para continuar.</span><span class="sxs-lookup"><span data-stu-id="7d90e-138">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2.  <span data-ttu-id="7d90e-139">Haga clic en **herramientas del sistema**, haga clic en **usuarios y grupos locales**, haga clic en **grupos** carpeta y haga clic en **nuevo grupo** en el menú contextual que aparezca.</span><span class="sxs-lookup"><span data-stu-id="7d90e-139">Click **System Tools**, click **Local Users and Groups**, right-click **Groups** folder and click **New Group** on the context menu that comes up.</span></span> <span data-ttu-id="7d90e-140">Escriba el texto deseado **nombre del grupo**, **descripción** y otros detalles de este nuevo grupo de seguridad y haga clic en el **crear** botón para crear el grupo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="7d90e-140">Type in the desired **Group Name**, **Description** and other details of this new security group and click the **Create** button to create the security group.</span></span>  
  
#### <a name="to-create-the-restricted-url-reservation"></a><span data-ttu-id="7d90e-141">Para crear la reserva de direcciones URL restringida</span><span class="sxs-lookup"><span data-stu-id="7d90e-141">To create the restricted URL reservation</span></span>  
  
1.  <span data-ttu-id="7d90e-142">Haga clic en **iniciar**, apunte a **todos los programas**, haga clic en **Accesorios**, haga clic en **símbolo** y haga clic en **ejecutar como Administrador** en el menú contextual que aparece.</span><span class="sxs-lookup"><span data-stu-id="7d90e-142">Click **Start**, point to **All Programs**, click **Accessories**, right-click **Command Prompt** and click **Run as Administrator** on the context menu that comes up.</span></span> <span data-ttu-id="7d90e-143">Haga clic en **continuar** en la ventana de Control de cuentas de usuario (UAC) que podría solicitar permiso para continuar.</span><span class="sxs-lookup"><span data-stu-id="7d90e-143">Click **Continue** on the User Account Control (UAC) window that might ask permissions to continue.</span></span>  
  
2.  <span data-ttu-id="7d90e-144">Escriba en **netsh http agregar urlacl url =http://+:80/Temporary_Listen_Addresses/ usuario = "\<nombre de la máquina >\\< nombre del grupo de seguridad\>**  en el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="7d90e-144">Type in **netsh http add urlacl url=http://+:80/Temporary_Listen_Addresses/ user="\<machine name>\\<security group name\>** at the command prompt.</span></span> <span data-ttu-id="7d90e-145">Reemplazando  **\<nombre de la máquina >** con el nombre del equipo en el que se debe crear el grupo y  **\<el nombre del grupo de seguridad >** con el nombre del grupo de seguridad que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="7d90e-145">Replacing **\<machine name>** with the computer name on which the group must be created and **\<security group name>** with the name of the security group you created previously.</span></span>  
  
3.  <span data-ttu-id="7d90e-146">Si la reserva se crea correctamente, se muestra el mensaje siguiente:</span><span class="sxs-lookup"><span data-stu-id="7d90e-146">If the reservation is created successfully, the following message is displayed.</span></span> <span data-ttu-id="7d90e-147">**Reserva de direcciones URL se agregó correctamente**.</span><span class="sxs-lookup"><span data-stu-id="7d90e-147">**URL reservation successfully added**.</span></span>
