---
description: Más información acerca de cómo importar el esquema para generar clases
title: Importación del esquema para generar clases
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, schema import and export
- XsdDataContractImporter class
ms.assetid: b9170583-8c34-43bd-97bb-6c0c8dddeee0
ms.openlocfilehash: 787d2a40db6de8181c7e4d27df72fbc4ac032da2
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99802871"
---
# <a name="importing-schema-to-generate-classes"></a><span data-ttu-id="128df-103">Importación del esquema para generar clases</span><span class="sxs-lookup"><span data-stu-id="128df-103">Importing Schema to Generate Classes</span></span>

<span data-ttu-id="128df-104">Para generar clases a partir de esquemas que se pueden usar con Windows Communication Foundation (WCF), use la <xref:System.Runtime.Serialization.XsdDataContractImporter> clase.</span><span class="sxs-lookup"><span data-stu-id="128df-104">To generate classes from schemas that are usable with Windows Communication Foundation (WCF), use the <xref:System.Runtime.Serialization.XsdDataContractImporter> class.</span></span> <span data-ttu-id="128df-105">En este tema se describen el proceso y variaciones.</span><span class="sxs-lookup"><span data-stu-id="128df-105">This topic describes the process and variations.</span></span>  
  
## <a name="the-import-process"></a><span data-ttu-id="128df-106">El proceso de importación</span><span class="sxs-lookup"><span data-stu-id="128df-106">The Import Process</span></span>

 <span data-ttu-id="128df-107">El proceso de importación del esquema se inicia con <xref:System.Xml.Schema.XmlSchemaSet> y genera <xref:System.CodeDom.CodeCompileUnit>.</span><span class="sxs-lookup"><span data-stu-id="128df-107">The schema import process starts with an <xref:System.Xml.Schema.XmlSchemaSet> and produces a <xref:System.CodeDom.CodeCompileUnit>.</span></span>  
  
 <span data-ttu-id="128df-108">`XmlSchemaSet`Forma parte del modelo de objetos de esquema (SOM) del .NET Framework que representa un conjunto de documentos de esquema del lenguaje de definición de esquemas XML (XSD).</span><span class="sxs-lookup"><span data-stu-id="128df-108">The `XmlSchemaSet` is a part of the .NET Framework’s Schema Object Model (SOM) that represents a set of XML Schema definition language (XSD) schema documents.</span></span> <span data-ttu-id="128df-109">Para crear un objeto `XmlSchemaSet` a partir de un conjunto de documentos XSD, deserialice cada documento en un objeto (utilizando el <xref:System.Xml.Schema.XmlSchema>) <xref:System.Xml.Serialization.XmlSerializer> y agregue estos objetos a un nuevo `XmlSchemaSet`.</span><span class="sxs-lookup"><span data-stu-id="128df-109">To create an `XmlSchemaSet` object from a set of XSD documents, deserialize each document into an <xref:System.Xml.Schema.XmlSchema> object (using the <xref:System.Xml.Serialization.XmlSerializer>) and add these objects to a new `XmlSchemaSet`.</span></span>  
  
 <span data-ttu-id="128df-110">Forma `CodeCompileUnit` parte de la Code Document Object Model (CodeDom) del .NET Framework que representa .NET Framework código de forma abstracta.</span><span class="sxs-lookup"><span data-stu-id="128df-110">The `CodeCompileUnit` is part of the .NET Framework’s Code Document Object Model (CodeDOM) that represents .NET Framework code in an abstract way.</span></span> <span data-ttu-id="128df-111">Para generar el código real a partir de `CodeCompileUnit`, utilice una subclase de la clase <xref:System.CodeDom.Compiler.CodeDomProvider>, como <xref:Microsoft.CSharp.CSharpCodeProvider> o la clase <xref:Microsoft.VisualBasic.VBCodeProvider>.</span><span class="sxs-lookup"><span data-stu-id="128df-111">To generate the actual code from a `CodeCompileUnit`, use a subclass of the <xref:System.CodeDom.Compiler.CodeDomProvider> class, such as the <xref:Microsoft.CSharp.CSharpCodeProvider> or <xref:Microsoft.VisualBasic.VBCodeProvider> class.</span></span>  
  
### <a name="to-import-a-schema"></a><span data-ttu-id="128df-112">Importar un esquema</span><span class="sxs-lookup"><span data-stu-id="128df-112">To import a schema</span></span>  
  
1. <span data-ttu-id="128df-113">Creación de una instancia de <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span><span class="sxs-lookup"><span data-stu-id="128df-113">Create an instance of the <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span></span>  
  
2. <span data-ttu-id="128df-114">Opcional.</span><span class="sxs-lookup"><span data-stu-id="128df-114">Optional.</span></span> <span data-ttu-id="128df-115">Pase `CodeCompileUnit` en el constructor.</span><span class="sxs-lookup"><span data-stu-id="128df-115">Pass a `CodeCompileUnit` in the constructor.</span></span> <span data-ttu-id="128df-116">Los tipos generados durante la importación del esquema se agregan a la instancia `CodeCompileUnit` en lugar de iniciarse con un `CodeCompileUnit`en blanco.</span><span class="sxs-lookup"><span data-stu-id="128df-116">The types generated during schema import are added to this `CodeCompileUnit` instance instead of starting with a blank `CodeCompileUnit`.</span></span>  
  
3. <span data-ttu-id="128df-117">Opcional.</span><span class="sxs-lookup"><span data-stu-id="128df-117">Optional.</span></span> <span data-ttu-id="128df-118">Llame a uno de los métodos <xref:System.Runtime.Serialization.XsdDataContractImporter.CanImport%2A>.</span><span class="sxs-lookup"><span data-stu-id="128df-118">Call one of the <xref:System.Runtime.Serialization.XsdDataContractImporter.CanImport%2A> methods.</span></span> <span data-ttu-id="128df-119">El método determina si el esquema determinado es un esquema de contrato de datos válido y si se puede importar.</span><span class="sxs-lookup"><span data-stu-id="128df-119">The method determines whether the given schema is a valid data contract schema and can be imported.</span></span> <span data-ttu-id="128df-120">El método `CanImport` tiene las mismas sobrecargas que `Import` (el paso siguiente).</span><span class="sxs-lookup"><span data-stu-id="128df-120">The `CanImport` method has the same overloads as `Import` (the next step).</span></span>  
  
4. <span data-ttu-id="128df-121">Llame a uno de los métodos `Import` sobrecargados, por ejemplo, el método <xref:System.Runtime.Serialization.XsdDataContractImporter.Import%28System.Xml.Schema.XmlSchemaSet%29>.</span><span class="sxs-lookup"><span data-stu-id="128df-121">Call one of the overloaded `Import` methods, for example, the <xref:System.Runtime.Serialization.XsdDataContractImporter.Import%28System.Xml.Schema.XmlSchemaSet%29> method.</span></span>  
  
     <span data-ttu-id="128df-122">La sobrecarga más simple toma `XmlSchemaSet` e importa todos los tipos, incluidos los tipos anónimos, situados en ese esquema establecido.</span><span class="sxs-lookup"><span data-stu-id="128df-122">The simplest overload takes an `XmlSchemaSet` and imports all types, including anonymous types, found in that schema set.</span></span> <span data-ttu-id="128df-123">Otras sobrecargas le permiten especificar el tipo XSD o una lista de tipos a importar (en el formulario de <xref:System.Xml.XmlQualifiedName> o una colección de los objetos `XmlQualifiedName` ).</span><span class="sxs-lookup"><span data-stu-id="128df-123">Other overloads allow you to specify the XSD type or a list of types to import (in the form of an <xref:System.Xml.XmlQualifiedName> or a collection of `XmlQualifiedName` objects).</span></span> <span data-ttu-id="128df-124">En este caso, solo se importan los tipos especificados.</span><span class="sxs-lookup"><span data-stu-id="128df-124">In this case, only the specified types are imported.</span></span> <span data-ttu-id="128df-125">Una sobrecarga toma <xref:System.Xml.Schema.XmlSchemaElement> que importa un elemento determinado fuera de `XmlSchemaSet`, así como su tipo asociado (si es anónimo o no).</span><span class="sxs-lookup"><span data-stu-id="128df-125">An overload takes an <xref:System.Xml.Schema.XmlSchemaElement> that imports a particular element out of the `XmlSchemaSet`, as well as its associated type (whether it is anonymous or not).</span></span> <span data-ttu-id="128df-126">Esta sobrecarga devuelve `XmlQualifiedName`, que representa el nombre de contrato de datos del tipo generado para este elemento.</span><span class="sxs-lookup"><span data-stu-id="128df-126">This overload returns an `XmlQualifiedName`, which represents the data contract name of the type generated for this element.</span></span>  
  
     <span data-ttu-id="128df-127">Varias llamadas del método `Import` producen como resultado varios elementos que se agregan al mismo `CodeCompileUnit`.</span><span class="sxs-lookup"><span data-stu-id="128df-127">Multiple calls of the `Import` method result in multiple items being added to the same `CodeCompileUnit`.</span></span> <span data-ttu-id="128df-128">Un tipo no se genera en `CodeCompileUnit` si ya existe en este.</span><span class="sxs-lookup"><span data-stu-id="128df-128">A type is not generated into the `CodeCompileUnit` if it already exists there.</span></span> <span data-ttu-id="128df-129">Llame varias veces `Import` al mismo `XsdDataContractImporter` en lugar de utilizar varios objetos `XsdDataContractImporter`.</span><span class="sxs-lookup"><span data-stu-id="128df-129">Call `Import` multiple times on the same `XsdDataContractImporter` instead of using multiple `XsdDataContractImporter` objects.</span></span> <span data-ttu-id="128df-130">Ésta es la manera recomendada de evitar que se generen tipos duplicados.</span><span class="sxs-lookup"><span data-stu-id="128df-130">This is the recommended way to avoid duplicate types being generated.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="128df-131">Si se produce un error durante la importación, `CodeCompileUnit` estará en un estado imprevisible.</span><span class="sxs-lookup"><span data-stu-id="128df-131">If there is a failure during import, the `CodeCompileUnit` will be in an unpredictable state.</span></span> <span data-ttu-id="128df-132">Si utiliza `CodeCompileUnit` como resultado de una importación en la que se ha producido un error, podría exponerse a vulnerabilidades de seguridad.</span><span class="sxs-lookup"><span data-stu-id="128df-132">Using a `CodeCompileUnit` resulting from a failed import could expose you to security vulnerabilities.</span></span>  
  
5. <span data-ttu-id="128df-133">Obtenga acceso a `CodeCompileUnit` a través de la propiedad <xref:System.Runtime.Serialization.XsdDataContractImporter.CodeCompileUnit%2A> .</span><span class="sxs-lookup"><span data-stu-id="128df-133">Access the `CodeCompileUnit` through the <xref:System.Runtime.Serialization.XsdDataContractImporter.CodeCompileUnit%2A> property.</span></span>  
  
### <a name="import-options-customizing-the-generated-types"></a><span data-ttu-id="128df-134">Importar opciones: Personalizar los tipos generados</span><span class="sxs-lookup"><span data-stu-id="128df-134">Import Options: Customizing the Generated Types</span></span>  

 <span data-ttu-id="128df-135">Puede establecer la propiedad <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> de <xref:System.Runtime.Serialization.XsdDataContractImporter> a una instancia de la clase <xref:System.Runtime.Serialization.ImportOptions> para administrar varios aspectos del proceso de importación.</span><span class="sxs-lookup"><span data-stu-id="128df-135">You can set the <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> property of the <xref:System.Runtime.Serialization.XsdDataContractImporter> to an instance of the <xref:System.Runtime.Serialization.ImportOptions> class to control various aspects of the import process.</span></span> <span data-ttu-id="128df-136">Hay varias opciones influyen directamente en los tipos generados.</span><span class="sxs-lookup"><span data-stu-id="128df-136">A number of options directly influence the types that are generated.</span></span>  
  
#### <a name="controlling-the-access-level-generateinternal-or-the-internal-switch"></a><span data-ttu-id="128df-137">Controlar el nivel de acceso (GenerateInternal o el modificador /interno)</span><span class="sxs-lookup"><span data-stu-id="128df-137">Controlling the Access Level (GenerateInternal or the /internal switch)</span></span>  

 <span data-ttu-id="128df-138">Esto corresponde al modificador **/interno** en la [herramienta de utilidad de metadatos de ServiceModel (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="128df-138">This corresponds to the **/internal** switch on the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span>  
  
 <span data-ttu-id="128df-139">Normalmente, los tipos públicos se generan a partir del esquema, con campos privados y propiedades de miembro de datos públicos coincidentes.</span><span class="sxs-lookup"><span data-stu-id="128df-139">Normally, public types are generated from schema, with private fields and matching public data member properties.</span></span> <span data-ttu-id="128df-140">Para generar tipos internos en su lugar, establezca la propiedad <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> en `true`.</span><span class="sxs-lookup"><span data-stu-id="128df-140">To generate internal types instead, set the <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> property to `true`.</span></span>  
  
 <span data-ttu-id="128df-141">El ejemplo siguiente muestra un esquema transformado en una clase interna cuando la propiedad <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> está establecida en `true.`</span><span class="sxs-lookup"><span data-stu-id="128df-141">The following example shows a schema transformed into an internal class when the <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> property is set to `true.`</span></span>  
  
 [!code-csharp[c_SchemaImportExport#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#2)]
 [!code-vb[c_SchemaImportExport#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#2)]  
  
#### <a name="controlling-namespaces-namespaces-or-the-namespace-switch"></a><span data-ttu-id="128df-142">Controlar espacios de nombres (Espacios de nombres o el modificador /espacio de nombres)</span><span class="sxs-lookup"><span data-stu-id="128df-142">Controlling Namespaces (Namespaces or the /namespace switch)</span></span>  

 <span data-ttu-id="128df-143">Esto corresponde al modificador **/namespace** de la `Svcutil.exe` herramienta.</span><span class="sxs-lookup"><span data-stu-id="128df-143">This corresponds to the **/namespace** switch on the `Svcutil.exe` tool.</span></span>  
  
 <span data-ttu-id="128df-144">Normalmente, los tipos generados a partir del esquema se generan en .NET Framework espacios de nombres, con cada espacio de nombres XSD que corresponde a un espacio de nombres de .NET Framework determinado según una asignación descrita en [referencia de esquema de contrato de datos](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="128df-144">Normally, types generated from schema are generated into .NET Framework namespaces, with each XSD namespace corresponding to a particular .NET Framework namespace according to a mapping described in [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span> <span data-ttu-id="128df-145">Puede personalizar esta asignación mediante la propiedad <xref:System.Runtime.Serialization.ImportOptions.Namespaces%2A> a <xref:System.Collections.Generic.Dictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="128df-145">You can customize this mapping by the <xref:System.Runtime.Serialization.ImportOptions.Namespaces%2A> property to a <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="128df-146">Si se encuentra un espacio de nombres XSD determinado en el diccionario, el espacio de nombres .NET Framework coincidente también se toma del diccionario.</span><span class="sxs-lookup"><span data-stu-id="128df-146">If a given XSD namespace is found in the dictionary, the matching .NET Framework namespace is also taken from your dictionary.</span></span>  
  
 <span data-ttu-id="128df-147">Por ejemplo, considere el siguiente esquema:</span><span class="sxs-lookup"><span data-stu-id="128df-147">For example, consider the following schema.</span></span>  
  
 [!code-xml[c_SchemaImportExport#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#10)]  
  
 <span data-ttu-id="128df-148">En el ejemplo siguiente se usa la `Namespaces` propiedad para asignar el `http://schemas.contoso.com/carSchema` espacio de nombres a "contoso. Cars".</span><span class="sxs-lookup"><span data-stu-id="128df-148">The following example uses the `Namespaces` property to map the `http://schemas.contoso.com/carSchema` namespace to "Contoso.Cars".</span></span>  
  
 [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]
 [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  
  
#### <a name="adding-the-serializableattribute-generateserializable-or-the-serializable-switch"></a><span data-ttu-id="128df-149">Agregar SerializableAttribute (GenerateSerializable o el modificador /serializable)</span><span class="sxs-lookup"><span data-stu-id="128df-149">Adding the SerializableAttribute (GenerateSerializable or the /serializable switch)</span></span>  

 <span data-ttu-id="128df-150">Esto corresponde al modificador **/serializable** de la `Svcutil.exe` herramienta.</span><span class="sxs-lookup"><span data-stu-id="128df-150">This corresponds to the **/serializable** switch on the `Svcutil.exe` tool.</span></span>  
  
 <span data-ttu-id="128df-151">A veces es importante para los tipos generados a partir del esquema que se pueden usar con los motores de serialización en tiempo de ejecución de .NET Framework (por ejemplo, las <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=nameWithType> <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> clases y).</span><span class="sxs-lookup"><span data-stu-id="128df-151">Sometimes it is important for the types generated from the schema to be usable with .NET Framework runtime serialization engines (for example, the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=nameWithType> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> classes).</span></span> <span data-ttu-id="128df-152">Esto resulta útil cuando se usan tipos para .NET Framework remoto.</span><span class="sxs-lookup"><span data-stu-id="128df-152">This is useful when using types for .NET Framework remoting.</span></span> <span data-ttu-id="128df-153">Para habilitarlo, debe aplicar el atributo <xref:System.SerializableAttribute> a los tipos generados además del atributo <xref:System.Runtime.Serialization.DataContractAttribute> normal.</span><span class="sxs-lookup"><span data-stu-id="128df-153">To enable this, you must apply the <xref:System.SerializableAttribute> attribute to the generated types in addition to the regular <xref:System.Runtime.Serialization.DataContractAttribute> attribute.</span></span> <span data-ttu-id="128df-154">Se genera el atributo automáticamente si la opción de importación `GenerateSerializable` está establecida en `true`.</span><span class="sxs-lookup"><span data-stu-id="128df-154">The attribute is generated automatically if the `GenerateSerializable` import option is set to `true`.</span></span>  
  
 <span data-ttu-id="128df-155">El ejemplo siguiente muestra la clase `Vehicle` generada con la opción establecida de importación `GenerateSerializable` a `true`.</span><span class="sxs-lookup"><span data-stu-id="128df-155">The following example shows the `Vehicle` class generated with the `GenerateSerializable` import option set to `true`.</span></span>  
  
 [!code-csharp[c_SchemaImportExport#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#4)]
 [!code-vb[c_SchemaImportExport#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#4)]  
  
#### <a name="adding-data-binding-support-enabledatabinding-or-the-enabledatabinding-switch"></a><span data-ttu-id="128df-156">Agregar compatibilidad de enlace de datos (EnableDataBinding o el modificador /enableDataBinding)</span><span class="sxs-lookup"><span data-stu-id="128df-156">Adding Data Binding Support (EnableDataBinding or the /enableDataBinding switch)</span></span>  

 <span data-ttu-id="128df-157">Esto corresponde al modificador **/enableDataBinding** en la herramienta Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="128df-157">This corresponds to the **/enableDataBinding** switch on the Svcutil.exe tool.</span></span>  
  
 <span data-ttu-id="128df-158">Es posible que quiera enlazar los tipos generados a partir del esquema a los componentes de interfaz gráfica de usuario para que las actualizaciones en las instancias de estos tipos se actualicen automáticamente en la Interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="128df-158">Sometimes, you may want to bind the types generated from the schema to graphical user interface components so that any update to instances of these types will automatically update the UI.</span></span> <span data-ttu-id="128df-159">`XsdDataContractImporter` puede generar tipos que implementan la interfaz <xref:System.ComponentModel.INotifyPropertyChanged> de manera que cualquier cambio de propiedad active un evento.</span><span class="sxs-lookup"><span data-stu-id="128df-159">The `XsdDataContractImporter` can generate types that implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface in such a way that any property change triggers an event.</span></span> <span data-ttu-id="128df-160">Si está generando tipos para usarlos con un entorno de programación de interfaz de usuario de cliente que admite esta interfaz (como Windows Presentation Foundation (WPF)), establezca la <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> propiedad en `true` para habilitar esta característica.</span><span class="sxs-lookup"><span data-stu-id="128df-160">If you are generating types for use with a client UI programming environment that supports this interface (such as Windows Presentation Foundation (WPF)), set the <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> property to `true` to enable this feature.</span></span>  
  
 <span data-ttu-id="128df-161">El ejemplo siguiente muestra la clase `Vehicle` generada con <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> establecida a `true`.</span><span class="sxs-lookup"><span data-stu-id="128df-161">The following example shows the `Vehicle` class generated with the <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> set to `true`.</span></span>  
  
 [!code-csharp[C_SchemaImportExport#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#5)]
 [!code-vb[C_SchemaImportExport#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#5)]  
  
### <a name="import-options-choosing-collection-types"></a><span data-ttu-id="128df-162">Opciones de importación: Elegir tipos de colección</span><span class="sxs-lookup"><span data-stu-id="128df-162">Import Options: Choosing Collection Types</span></span>  

 <span data-ttu-id="128df-163">Dos patrones especiales en XML representan colecciones de elementos: listas de elementos y asociaciones entre un elemento y otro.</span><span class="sxs-lookup"><span data-stu-id="128df-163">Two special patterns in XML represent collections of items: lists of items and associations between one item and another.</span></span> <span data-ttu-id="128df-164">A continuación se muestra un ejemplo de una lista de cadenas:</span><span class="sxs-lookup"><span data-stu-id="128df-164">The following is an example of a list of strings.</span></span>  
  
 [!code-xml[C_SchemaImportExport#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#11)]  
  
 <span data-ttu-id="128df-165">A continuación, se muestra un ejemplo de una asociación entre una cadena y un entero (`city name` y `population`).</span><span class="sxs-lookup"><span data-stu-id="128df-165">The following is an example of an association between a string and an integer (`city name` and `population`).</span></span>  
  
 [!code-xml[C_SchemaImportExport#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#12)]  
  
> [!NOTE]
> <span data-ttu-id="128df-166">Las asociaciones también se podrían considerar una lista.</span><span class="sxs-lookup"><span data-stu-id="128df-166">Any association could also be considered a list.</span></span> <span data-ttu-id="128df-167">Por ejemplo, puede ver la asociación anterior como una lista de objetos `city` complejos que tienen dos campos (un campo de cadena y un campo de valor entero).</span><span class="sxs-lookup"><span data-stu-id="128df-167">For example, you can view the preceding association as a list of complex `city` objects that happen to have two fields (a string field and an integer field).</span></span> <span data-ttu-id="128df-168">Ambos patrones tienen una representación en el Esquema XSD.</span><span class="sxs-lookup"><span data-stu-id="128df-168">Both patterns have a representation in the XSD Schema.</span></span> <span data-ttu-id="128df-169">No hay ninguna manera de diferenciar entre una lista y una asociación, por lo que estos modelos siempre se tratan como listas a menos que haya una anotación especial específica de WCF en el esquema.</span><span class="sxs-lookup"><span data-stu-id="128df-169">There is no way to differentiate between a list and an association, so such patterns are always treated as lists unless a special annotation specific to WCF is present in the schema.</span></span> <span data-ttu-id="128df-170">La anotación indica que un patrón determinado representa una asociación.</span><span class="sxs-lookup"><span data-stu-id="128df-170">The annotation indicates that a given pattern represents an association.</span></span> <span data-ttu-id="128df-171">Para obtener más información, vea [referencia de esquema de contrato de datos](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="128df-171">For more information, see [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span>  
  
 <span data-ttu-id="128df-172">Normalmente, una lista se importa como un contrato de datos de colección que se deriva de una lista genérica o como una matriz .NET Framework, dependiendo de si el esquema sigue o no el patrón de nomenclatura estándar para las colecciones.</span><span class="sxs-lookup"><span data-stu-id="128df-172">Normally, a list is imported as a collection data contract that derives from a Generic List or as a .NET Framework array, depending on whether or not the schema follows the standard naming pattern for collections.</span></span> <span data-ttu-id="128df-173">Esto se describe con más detalle en [tipos de colección en los contratos de datos](collection-types-in-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="128df-173">This is described in more detail in [Collection Types in Data Contracts](collection-types-in-data-contracts.md).</span></span> <span data-ttu-id="128df-174">Las asociaciones se importan normalmente como <xref:System.Collections.Generic.Dictionary%602> o como un contrato de datos de colección derivado del objeto de diccionario.</span><span class="sxs-lookup"><span data-stu-id="128df-174">Associations are normally imported as either a <xref:System.Collections.Generic.Dictionary%602> or a collection data contract that derives from the dictionary object.</span></span> <span data-ttu-id="128df-175">Por ejemplo, considere el siguiente esquema:</span><span class="sxs-lookup"><span data-stu-id="128df-175">For example, consider the following schema.</span></span>  
  
 [!code-xml[c_SchemaImportExport#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#13)]  
  
 <span data-ttu-id="128df-176">Esto se importaría como se indica a continuación (se muestran los campos en lugar de las propiedades para facilitar la lectura).</span><span class="sxs-lookup"><span data-stu-id="128df-176">This would be imported as follows (fields are shown instead of properties for readability).</span></span>  
  
 [!code-csharp[c_SchemaImportExport#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#6)]
 [!code-vb[c_SchemaImportExport#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#6)]  
  
 <span data-ttu-id="128df-177">Se pueden personalizar los tipos de colección generados para estos patrones del esquema.</span><span class="sxs-lookup"><span data-stu-id="128df-177">It is possible to customize the collection types that are generated for such schema patterns.</span></span> <span data-ttu-id="128df-178">Por ejemplo, puede querer generar colecciones derivadas de <xref:System.ComponentModel.BindingList%601> en lugar de la clase <xref:System.Collections.Generic.List%601> para enlazar el tipo a un cuadro de lista y para que se actualice automáticamente cuando cambien los contenidos de la colección.</span><span class="sxs-lookup"><span data-stu-id="128df-178">For example, you may want to generate collections deriving from the <xref:System.ComponentModel.BindingList%601> instead of the <xref:System.Collections.Generic.List%601> class in order to bind the type to a list box and have it be automatically updated when the contents of the collection change.</span></span> <span data-ttu-id="128df-179">Para ello, establezca la propiedad <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> de la clase <xref:System.Runtime.Serialization.ImportOptions> en una lista de tipos de colección que se utilizarán (de ahora en adelante conocidos como los tipos con referencia).</span><span class="sxs-lookup"><span data-stu-id="128df-179">To do this, set the <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> property of the <xref:System.Runtime.Serialization.ImportOptions> class to a list of collection types to be used (hereafter known as the referenced types).</span></span> <span data-ttu-id="128df-180">Cuando se importa una colección, se digitaliza esta lista de tipos de colección con referencia y, si se encuentra uno, se utiliza la colección que mejor coincida.</span><span class="sxs-lookup"><span data-stu-id="128df-180">When importing any collection, this list of referenced collection types is scanned and the best-matching collection is used if one is found.</span></span> <span data-ttu-id="128df-181">Solamente se comparan asociaciones con tipos que implementan la interfaz genérica o no genérica <xref:System.Collections.IDictionary>, mientras que las listas se comparan con cualquier tipo de colección compatible.</span><span class="sxs-lookup"><span data-stu-id="128df-181">Associations are matched only against types that implement either the generic or the nongeneric <xref:System.Collections.IDictionary> interface, while lists are matched against any supported collection type.</span></span>  
  
 <span data-ttu-id="128df-182">Por ejemplo, si la propiedad <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> está establecida en <xref:System.ComponentModel.BindingList%601>, el tipo `people` en el ejemplo anterior se genera como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="128df-182">For example, if the <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> property is set to a <xref:System.ComponentModel.BindingList%601>, the `people` type in the preceding example is generated as follows.</span></span>  
  
 [!code-csharp[C_SchemaImportExport#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#7)]
 [!code-vb[C_SchemaImportExport#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#7)]  
  
 <span data-ttu-id="128df-183">Se considera que un tipo genérico cerrado es el que más coincide.</span><span class="sxs-lookup"><span data-stu-id="128df-183">A closed generic is considered the best match.</span></span> <span data-ttu-id="128df-184">Por ejemplo, si los tipos `BindingList(Of Integer)` y <xref:System.Collections.ArrayList> se pasan a la colección de tipos con referencia, las listas de enteros encontradas en el esquema se importan como `BindingList(Of Integer)`.</span><span class="sxs-lookup"><span data-stu-id="128df-184">For example, if the types `BindingList(Of Integer)` and <xref:System.Collections.ArrayList> are passed to the collection of referenced types, any lists of integers found in schema are imported as a `BindingList(Of Integer)`.</span></span> <span data-ttu-id="128df-185">Cualquier otra lista, por ejemplo, `List(Of String)`, se importa como `ArrayList`.</span><span class="sxs-lookup"><span data-stu-id="128df-185">Any other lists, for example, a `List(Of String)`, are imported as an `ArrayList`.</span></span>  
  
 <span data-ttu-id="128df-186">Si un tipo que implementa la interfaz `IDictionary` genérica se agrega a la colección de tipos con referencia, sus parámetros de tipo deben estar o totalmente abiertos o totalmente cerrados.</span><span class="sxs-lookup"><span data-stu-id="128df-186">If a type that implements the generic `IDictionary` interface is added to the collection of referenced types, its type parameters must either be fully open or fully closed.</span></span>  
  
 <span data-ttu-id="128df-187">No se permiten duplicados.</span><span class="sxs-lookup"><span data-stu-id="128df-187">Duplicates are not allowed.</span></span> <span data-ttu-id="128df-188">Por ejemplo, no puede agregar `List(Of Integer)` sino `Collection(Of Integer)` a los tipos con referencia.</span><span class="sxs-lookup"><span data-stu-id="128df-188">For example, you cannot add both a `List(Of Integer)` and a `Collection(Of Integer)` to the referenced types.</span></span> <span data-ttu-id="128df-189">Eso haría imposible determinar cuál se debería utilizar cuando una lista de enteros se encuentra en esquema.</span><span class="sxs-lookup"><span data-stu-id="128df-189">That would make it impossible to determine which should be used when a list of integers is found in schema.</span></span> <span data-ttu-id="128df-190">Los duplicados se detectarán solo si hay un tipo en esquema que expone el problema de los duplicados.</span><span class="sxs-lookup"><span data-stu-id="128df-190">Duplicates will be detected only if there is a type in schema that exposes the duplicates problem.</span></span> <span data-ttu-id="128df-191">Por ejemplo, si el esquema importado no contiene listas de enteros, puede tener `List(Of Integer)` y `Collection(Of Integer)` en la colección de tipos con referencia, pero no tendrán ningún efecto.</span><span class="sxs-lookup"><span data-stu-id="128df-191">For example, if the imported schema does not contain lists of integers, it is allowed to have both the `List(Of Integer)` and the `Collection(Of Integer)` in the referenced types collection, but neither will have any effect.</span></span>  
  
 <span data-ttu-id="128df-192">El mecanismo de tipos de colección con referencia funciona igual de bien para las colecciones de tipos complejos (incluso las colecciones de otras colecciones) y no solo para las colecciones de primitivos.</span><span class="sxs-lookup"><span data-stu-id="128df-192">The referenced collection types mechanism works equally well for collections of complex types (including collections of other collections), and not just for collections of primitives.</span></span>  
  
 <span data-ttu-id="128df-193">La `ReferencedCollectionTypes` propiedad corresponde al modificador **/collectionType** en la herramienta SvcUtil.exe.</span><span class="sxs-lookup"><span data-stu-id="128df-193">The `ReferencedCollectionTypes` property corresponds to the **/collectionType** switch on the SvcUtil.exe tool.</span></span> <span data-ttu-id="128df-194">Tenga en cuenta que para hacer referencia a varios tipos de colección, el modificador **/collectionType** se debe especificar varias veces.</span><span class="sxs-lookup"><span data-stu-id="128df-194">Note that to reference multiple collection types, the **/collectionType** switch must be specified multiple times.</span></span> <span data-ttu-id="128df-195">Si el tipo no está en el MsCorLib.dll, también se debe hacer referencia a su ensamblado mediante el modificador **/Reference** .</span><span class="sxs-lookup"><span data-stu-id="128df-195">If the type is not in the MsCorLib.dll, its assembly must also be referenced using the **/reference** switch.</span></span>  
  
#### <a name="import-options-referencing-existing-types"></a><span data-ttu-id="128df-196">Opciones de importación: Hacer referencia a tipos existentes</span><span class="sxs-lookup"><span data-stu-id="128df-196">Import Options: Referencing Existing Types</span></span>  

 <span data-ttu-id="128df-197">En ocasiones, los tipos de esquema se corresponden con los tipos de .NET Framework existentes y no es necesario generar estos tipos desde cero.</span><span class="sxs-lookup"><span data-stu-id="128df-197">Occasionally, types in schema correspond to existing .NET Framework types, and there is no need to generate these types from scratch.</span></span> <span data-ttu-id="128df-198">(Esta sección solo se aplica a los tipos noncollection.</span><span class="sxs-lookup"><span data-stu-id="128df-198">(This section applies only to noncollection types.</span></span> <span data-ttu-id="128df-199">Para los tipos de colección, consulte la sección anterior.)</span><span class="sxs-lookup"><span data-stu-id="128df-199">For collection types, see the preceding section.)</span></span>  
  
 <span data-ttu-id="128df-200">Por ejemplo, puede tener un tipo de contrato de datos "Persona" estándar para toda la compañía que siempre quiere utilizar cuando represente una persona.</span><span class="sxs-lookup"><span data-stu-id="128df-200">For example, you may have a standard company-wide "Person" data contract type that you always want used when representing a person.</span></span> <span data-ttu-id="128df-201">Cuando algún servicio utiliza este tipo y su esquema aparece en los metadatos del servicio, puede reutilizar el tipo `Person` existente cuando importe este esquema en lugar de generar uno nuevo para cada servicio.</span><span class="sxs-lookup"><span data-stu-id="128df-201">Whenever some service makes use of this type, and its schema appears in the service metadata, you may want to reuse the existing `Person` type when importing this schema instead of generating a new one for every service.</span></span>  
  
 <span data-ttu-id="128df-202">Para ello, pase una lista de tipos de .NET Framework que desee reutilizar en la colección que la <xref:System.Runtime.Serialization.ImportOptions.ReferencedTypes%2A> propiedad devuelve en la <xref:System.Runtime.Serialization.ImportOptions> clase.</span><span class="sxs-lookup"><span data-stu-id="128df-202">To do this, pass a list of .NET Framework types that you want to reuse into the collection the <xref:System.Runtime.Serialization.ImportOptions.ReferencedTypes%2A> property returns on the <xref:System.Runtime.Serialization.ImportOptions> class.</span></span> <span data-ttu-id="128df-203">Si alguno de estos tipos tiene un nombre de contrato de datos y espacio de nombres que coincide con el nombre y espacio de nombres de un tipo de esquema, se realiza una comparación estructural.</span><span class="sxs-lookup"><span data-stu-id="128df-203">If any of these types have a data contract name and namespace that matches the name and namespace of a schema type, a structural comparison is performed.</span></span> <span data-ttu-id="128df-204">Si se determina que los tipos tienen nombres coincidentes y estructuras coincidentes, se reutiliza el tipo de .NET Framework existente en lugar de generar uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="128df-204">If it is determined that the types have both matching names and matching structures, the existing .NET Framework type is reused instead of generating a new one.</span></span> <span data-ttu-id="128df-205">Si solo coincide el nombre y no la estructura, se produce una excepción.</span><span class="sxs-lookup"><span data-stu-id="128df-205">If only the name matches but not the structure, an exception is thrown.</span></span> <span data-ttu-id="128df-206">Tenga en cuenta que no hay ninguna concesión para controlar las versiones al hacer referencia a tipos (por ejemplo, agregar nuevos miembros de datos opcionales).</span><span class="sxs-lookup"><span data-stu-id="128df-206">Note that there is no allowance for versioning when referencing types (for example, adding new optional data members).</span></span> <span data-ttu-id="128df-207">Las estructuras deben coincidir con exactitud.</span><span class="sxs-lookup"><span data-stu-id="128df-207">The structures must match exactly.</span></span>  
  
 <span data-ttu-id="128df-208">Es legal agregar varios tipos con el mismo nombre de contrato de datos y espacio de nombres a la colección de tipos con referencia, siempre que no se importe ningún tipo de esquema con ese nombre y espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="128df-208">It is legal to add multiple types with the same data contract name and namespace to the referenced types collection, as long as no schema types are imported with that name and namespace.</span></span> <span data-ttu-id="128df-209">Esto le permite agregar con facilidad todos los tipos en un ensamblado a la colección sin preocuparse por los duplicados para los tipos que realmente no se producen en esquema.</span><span class="sxs-lookup"><span data-stu-id="128df-209">This allows you to easily add all the types in an assembly to the collection without worrying about duplicates for types that do not actually occur in schema.</span></span>  
  
 <span data-ttu-id="128df-210">La `ReferencedTypes` propiedad corresponde al modificador **/Reference** en determinados modos de funcionamiento de la herramienta Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="128df-210">The `ReferencedTypes` property corresponds to the **/reference** switch in certain modes of operation of the Svcutil.exe tool.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="128df-211">Al usar el Svcutil.exe o (en Visual Studio) las herramientas de **Agregar referencia de servicio** , se hace referencia automáticamente a todos los tipos de MsCorLib.dll.</span><span class="sxs-lookup"><span data-stu-id="128df-211">When using the Svcutil.exe or (in Visual Studio) the **Add Service Reference** tools, all of the types in MsCorLib.dll are automatically referenced.</span></span>  
  
#### <a name="import-options-importing-non-datacontract-schema-as-ixmlserializable-types"></a><span data-ttu-id="128df-212">Opciones de importación: Importar esquema Non-DataContract como tipos IXmlSerializable</span><span class="sxs-lookup"><span data-stu-id="128df-212">Import Options: Importing Non-DataContract Schema as IXmlSerializable types</span></span>  

 <span data-ttu-id="128df-213"><xref:System.Runtime.Serialization.XsdDataContractImporter> admite un subconjunto limitado del esquema.</span><span class="sxs-lookup"><span data-stu-id="128df-213">The <xref:System.Runtime.Serialization.XsdDataContractImporter> supports a limited subset of the schema.</span></span> <span data-ttu-id="128df-214">Si las construcciones de esquema no compatibles están presentes (por ejemplo, atributos XML), se produce un error en los intentos de importación y se genera una excepción.</span><span class="sxs-lookup"><span data-stu-id="128df-214">If unsupported schema constructs are present (for example, XML attributes), the import attempt fails with an exception.</span></span> <span data-ttu-id="128df-215">Sin embargo, si se establece la propiedad <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> en `true`,  se extiende el intervalo de esquema compatible.</span><span class="sxs-lookup"><span data-stu-id="128df-215">However, setting the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> property to `true` extends the range of schema supported.</span></span> <span data-ttu-id="128df-216">Cuando se establece en `true`, <xref:System.Runtime.Serialization.XsdDataContractImporter> genera tipos que implementan la interfaz <xref:System.Xml.Serialization.IXmlSerializable>.</span><span class="sxs-lookup"><span data-stu-id="128df-216">When set to `true`, the <xref:System.Runtime.Serialization.XsdDataContractImporter> generates types that implement the <xref:System.Xml.Serialization.IXmlSerializable> interface.</span></span> <span data-ttu-id="128df-217">Esto permite el acceso directo a la representación XML de estos tipos.</span><span class="sxs-lookup"><span data-stu-id="128df-217">This enables direct access to the XML representation of these types.</span></span>  
  
##### <a name="design-considerations"></a><span data-ttu-id="128df-218">Consideraciones de diseño</span><span class="sxs-lookup"><span data-stu-id="128df-218">Design Considerations</span></span>  
  
- <span data-ttu-id="128df-219">Puede ser difícil trabajar directamente con la representación XML con tipos débiles.</span><span class="sxs-lookup"><span data-stu-id="128df-219">It may be difficult to work with the weakly typed XML representation directly.</span></span> <span data-ttu-id="128df-220">Considere utilizar un motor de serialización alternativo, como por ejemplo <xref:System.Xml.Serialization.XmlSerializer>, para trabajar con esquema no compatible con contratos de datos fuertemente tipados.</span><span class="sxs-lookup"><span data-stu-id="128df-220">Consider using an alternative serialization engine, such as the <xref:System.Xml.Serialization.XmlSerializer>, to work with schema not compatible with data contracts in a strongly typed way.</span></span> <span data-ttu-id="128df-221">Para obtener más información, vea [usar la clase XmlSerializer](using-the-xmlserializer-class.md).</span><span class="sxs-lookup"><span data-stu-id="128df-221">For more information, see [Using the XmlSerializer Class](using-the-xmlserializer-class.md).</span></span>  
  
- <span data-ttu-id="128df-222"><xref:System.Runtime.Serialization.XsdDataContractImporter> no puede importar algunas construcciones de esquema incluso cuando la propiedad <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> está establecida en `true`.</span><span class="sxs-lookup"><span data-stu-id="128df-222">Some schema constructs cannot be imported by the <xref:System.Runtime.Serialization.XsdDataContractImporter> even when the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> property is set to `true`.</span></span> <span data-ttu-id="128df-223">De nuevo, considere utilizar <xref:System.Xml.Serialization.XmlSerializer> para estos casos.</span><span class="sxs-lookup"><span data-stu-id="128df-223">Again, consider using the <xref:System.Xml.Serialization.XmlSerializer> for such cases.</span></span>  
  
- <span data-ttu-id="128df-224">Las construcciones de esquema exactas que se admiten cuando <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> es `true` o `false` se describen en [referencia de esquema de contrato de datos](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="128df-224">The exact schema constructs that are supported both when <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> is `true` or `false` are described in [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span>  
  
- <span data-ttu-id="128df-225">El esquema para tipos <xref:System.Xml.Serialization.IXmlSerializable> generados que no retienen la fidelidad cuando se importan y exportan.</span><span class="sxs-lookup"><span data-stu-id="128df-225">Schema for generated <xref:System.Xml.Serialization.IXmlSerializable> types do not retain fidelity when imported and exported.</span></span> <span data-ttu-id="128df-226">Es decir, exportar el esquema a partir de los tipos generados e importar como clases no devuelve el esquema original.</span><span class="sxs-lookup"><span data-stu-id="128df-226">That is, exporting the schema from the generated types and importing as classes does not return the original schema.</span></span>  
  
 <span data-ttu-id="128df-227">Es posible combinar la opción <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> con la opción <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> descrita previamente.</span><span class="sxs-lookup"><span data-stu-id="128df-227">It is possible to combine the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> option with the <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> option previously described.</span></span> <span data-ttu-id="128df-228">Para los tipos que tienen que ser generados como implementaciones <xref:System.Xml.Serialization.IXmlSerializable>, se omite la comprobación estructural cuando se utiliza la característica <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A>.</span><span class="sxs-lookup"><span data-stu-id="128df-228">For types that have to be generated as <xref:System.Xml.Serialization.IXmlSerializable> implementations, the structural check is skipped when using the <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> feature.</span></span>  
  
 <span data-ttu-id="128df-229">La <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> opción corresponde al modificador **/importXmlTypes** en la herramienta Svcutil.exe.</span><span class="sxs-lookup"><span data-stu-id="128df-229">The <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> option corresponds to the **/importXmlTypes** switch on the Svcutil.exe tool.</span></span>  
  
##### <a name="working-with-generated-ixmlserializable-types"></a><span data-ttu-id="128df-230">Trabajar con tipos generados IXmlSerializable</span><span class="sxs-lookup"><span data-stu-id="128df-230">Working with Generated IXmlSerializable Types</span></span>  

 <span data-ttu-id="128df-231">Los tipos `IXmlSerializable` generados contienen un campo privado, denominado "nodesField", que devuelve una matriz de los objetos <xref:System.Xml.XmlNode>.</span><span class="sxs-lookup"><span data-stu-id="128df-231">The generated `IXmlSerializable` types contain a private field, named "nodesField," that returns an array of <xref:System.Xml.XmlNode> objects.</span></span> <span data-ttu-id="128df-232">Cuando se deserializa una instancia de este tipo, usted puede tener acceso directamente a los datos XML a través de este campo utilizando el Modelo de objetos del documento XML.</span><span class="sxs-lookup"><span data-stu-id="128df-232">When deserializing an instance of such a type, you can access the XML data directly through this field by using the XML Document Object Model.</span></span> <span data-ttu-id="128df-233">Cuando se serializa una instancia de este tipo, usted puede establecer este campo a los datos XML deseados y se serializará.</span><span class="sxs-lookup"><span data-stu-id="128df-233">When serializing an instance of this type, you can set this field to the desired XML data and it will be serialized.</span></span>  
  
 <span data-ttu-id="128df-234">Esto se logra a través de la implementación `IXmlSerializable`.</span><span class="sxs-lookup"><span data-stu-id="128df-234">This is accomplished through the `IXmlSerializable` implementation.</span></span> <span data-ttu-id="128df-235">En el tipo `IXmlSerializable` generado, la implementación <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> llama al método <xref:System.Runtime.Serialization.XmlSerializableServices.ReadNodes%2A> de la clase <xref:System.Runtime.Serialization.XmlSerializableServices>.</span><span class="sxs-lookup"><span data-stu-id="128df-235">In the generated `IXmlSerializable` type, the <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> implementation calls the <xref:System.Runtime.Serialization.XmlSerializableServices.ReadNodes%2A> method of the <xref:System.Runtime.Serialization.XmlSerializableServices> class.</span></span> <span data-ttu-id="128df-236">El método es un método del asistente que convierte XML proporcionado a través de <xref:System.Xml.XmlReader> a una matriz de los objetos <xref:System.Xml.XmlNode>.</span><span class="sxs-lookup"><span data-stu-id="128df-236">The method is a helper method that converts XML provided through an <xref:System.Xml.XmlReader> to an array of <xref:System.Xml.XmlNode> objects.</span></span> <span data-ttu-id="128df-237">La implementación <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A> hace el contrario y convierte la matriz de los objetos `XmlNode` a una secuencia de llamadas <xref:System.Xml.XmlWriter>.</span><span class="sxs-lookup"><span data-stu-id="128df-237">The <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A> implementation does the opposite and converts the array of `XmlNode` objects to a sequence of <xref:System.Xml.XmlWriter> calls.</span></span> <span data-ttu-id="128df-238">Esto se realiza mediante el método <xref:System.Runtime.Serialization.XmlSerializableServices.WriteNodes%2A>.</span><span class="sxs-lookup"><span data-stu-id="128df-238">This is accomplished using the <xref:System.Runtime.Serialization.XmlSerializableServices.WriteNodes%2A> method.</span></span>  
  
 <span data-ttu-id="128df-239">Se puede ejecutar el proceso de exportación del esquema en las clases `IXmlSerializable` generadas.</span><span class="sxs-lookup"><span data-stu-id="128df-239">It is possible to run the schema export process on the generated `IXmlSerializable` classes.</span></span> <span data-ttu-id="128df-240">Como se ha expresado previamente, no se le devolverá el esquema original.</span><span class="sxs-lookup"><span data-stu-id="128df-240">As previously stated, you will not get the original schema back.</span></span> <span data-ttu-id="128df-241">En su lugar, obtendrá el tipo XSD estándar "anyType", que es un carácter comodín para cualquier tipo XSD.</span><span class="sxs-lookup"><span data-stu-id="128df-241">Instead, you will get the "anyType" standard XSD type, which is a wildcard for any XSD type.</span></span>  
  
 <span data-ttu-id="128df-242">Esto se logra aplicando el <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> atributo a las clases generadas `IXmlSerializable` y especificando un método que llama al <xref:System.Runtime.Serialization.XmlSerializableServices.AddDefaultSchema%2A> método para generar el tipo "anyType".</span><span class="sxs-lookup"><span data-stu-id="128df-242">This is accomplished by applying the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> attribute to the generated `IXmlSerializable` classes and specifying a method that calls the <xref:System.Runtime.Serialization.XmlSerializableServices.AddDefaultSchema%2A> method to generate the "anyType" type.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="128df-243">El tipo <xref:System.Runtime.Serialization.XmlSerializableServices> existe solamente para admitir esta característica determinada.</span><span class="sxs-lookup"><span data-stu-id="128df-243">The <xref:System.Runtime.Serialization.XmlSerializableServices> type exists solely to support this particular feature.</span></span> <span data-ttu-id="128df-244">No se recomienda utilizarlo para cualquier otro propósito.</span><span class="sxs-lookup"><span data-stu-id="128df-244">It is not recommended for use for any other purpose.</span></span>  
  
#### <a name="import-options-advanced-options"></a><span data-ttu-id="128df-245">Opciones de importación: Opciones avanzadas</span><span class="sxs-lookup"><span data-stu-id="128df-245">Import Options: Advanced Options</span></span>  

 <span data-ttu-id="128df-246">Estas son opciones de importación avanzadas:</span><span class="sxs-lookup"><span data-stu-id="128df-246">The following are advanced import options:</span></span>  
  
- <span data-ttu-id="128df-247">Propiedad <xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A>.</span><span class="sxs-lookup"><span data-stu-id="128df-247"><xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> property.</span></span> <span data-ttu-id="128df-248">Especifique <xref:System.CodeDom.Compiler.CodeDomProvider> que quiere utilizar para generar el código para las clases generadas.</span><span class="sxs-lookup"><span data-stu-id="128df-248">Specify the <xref:System.CodeDom.Compiler.CodeDomProvider> to use to generate the code for the generated classes.</span></span> <span data-ttu-id="128df-249">El mecanismo de importación intenta evitar características que <xref:System.CodeDom.Compiler.CodeDomProvider> no admite.</span><span class="sxs-lookup"><span data-stu-id="128df-249">The import mechanism attempts to avoid features that the <xref:System.CodeDom.Compiler.CodeDomProvider> does not support.</span></span> <span data-ttu-id="128df-250">Si <xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> no se establece, se usa el conjunto completo de características .NET Framework sin restricciones.</span><span class="sxs-lookup"><span data-stu-id="128df-250">If the <xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> is not set, the full set of .NET Framework features is used with no restrictions.</span></span>  
  
- <span data-ttu-id="128df-251">Propiedad <xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A>.</span><span class="sxs-lookup"><span data-stu-id="128df-251"><xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A> property.</span></span> <span data-ttu-id="128df-252">Se puede especificar una implementación <xref:System.Runtime.Serialization.IDataContractSurrogate> con esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="128df-252">An <xref:System.Runtime.Serialization.IDataContractSurrogate> implementation can be specified with this property.</span></span> <span data-ttu-id="128df-253"><xref:System.Runtime.Serialization.IDataContractSurrogate> personaliza el proceso de importación.</span><span class="sxs-lookup"><span data-stu-id="128df-253">The <xref:System.Runtime.Serialization.IDataContractSurrogate> customizes the import process.</span></span> <span data-ttu-id="128df-254">Para obtener más información, vea [suplentes del contrato de datos](../extending/data-contract-surrogates.md).</span><span class="sxs-lookup"><span data-stu-id="128df-254">For more information, see [Data Contract Surrogates](../extending/data-contract-surrogates.md).</span></span> <span data-ttu-id="128df-255">De forma predeterminada, no se utiliza ningún suplente.</span><span class="sxs-lookup"><span data-stu-id="128df-255">By default, no surrogate is used.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="128df-256">Vea también</span><span class="sxs-lookup"><span data-stu-id="128df-256">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.Runtime.Serialization.XsdDataContractImporter>
- <xref:System.Runtime.Serialization.XsdDataContractExporter>
- <xref:System.Runtime.Serialization.ImportOptions>
- [<span data-ttu-id="128df-257">Referencia de esquema de contrato de datos</span><span class="sxs-lookup"><span data-stu-id="128df-257">Data Contract Schema Reference</span></span>](data-contract-schema-reference.md)
- [<span data-ttu-id="128df-258">Suplentes de contratos de datos</span><span class="sxs-lookup"><span data-stu-id="128df-258">Data Contract Surrogates</span></span>](../extending/data-contract-surrogates.md)
- [<span data-ttu-id="128df-259">Importación y exportación de esquemas</span><span class="sxs-lookup"><span data-stu-id="128df-259">Schema Import and Export</span></span>](schema-import-and-export.md)
- [<span data-ttu-id="128df-260">Exportación de esquemas desde las clases</span><span class="sxs-lookup"><span data-stu-id="128df-260">Exporting Schemas from Classes</span></span>](exporting-schemas-from-classes.md)
- [<span data-ttu-id="128df-261">Referencia de esquema de contrato de datos</span><span class="sxs-lookup"><span data-stu-id="128df-261">Data Contract Schema Reference</span></span>](data-contract-schema-reference.md)
