---
title: Direcciones de extremo
ms.date: 03/30/2017
helpviewer_keywords:
- addresses [WCF]
- Windows Communication Foundation [WCF], addresses
- WCF [WCF], addresses
ms.assetid: 13f269e3-ebb1-433c-86cf-54fbd866a627
ms.openlocfilehash: 71358ed1c16c3c9b490a41f74dd6319af8eb2e7b
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/09/2020
ms.locfileid: "84593534"
---
# <a name="endpoint-addresses"></a><span data-ttu-id="6c659-102">Direcciones de extremo</span><span class="sxs-lookup"><span data-stu-id="6c659-102">Endpoint Addresses</span></span>
<span data-ttu-id="6c659-103">Cada punto de conexión tiene una dirección asociada a él, que se utiliza para ubicar e identificar el punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="6c659-103">Every endpoint has an address associated with it, which is used to locate and identify the endpoint.</span></span> <span data-ttu-id="6c659-104">Esta dirección está compuesta principalmente de un Identificador uniforme de recursos (URI), que especifica la ubicación del punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="6c659-104">This address consists primarily of a Uniform Resource Identifier (URI), which specifies the location of the endpoint.</span></span> <span data-ttu-id="6c659-105">La dirección del punto de conexión se representa en el modelo de programación de Windows Communication Foundation (WCF) mediante la <xref:System.ServiceModel.EndpointAddress> clase, que contiene una <xref:System.ServiceModel.EndpointAddress.Identity%2A> propiedad opcional que permite la autenticación del punto de conexión por otros puntos de conexión que intercambian mensajes con él, y un conjunto de <xref:System.ServiceModel.EndpointAddress.Headers%2A> Propiedades opcionales, que definen cualquier otro encabezado SOAP requerido para alcanzar el servicio.</span><span class="sxs-lookup"><span data-stu-id="6c659-105">The endpoint address is represented in the Windows Communication Foundation (WCF) programming model by the <xref:System.ServiceModel.EndpointAddress> class, which contains an optional <xref:System.ServiceModel.EndpointAddress.Identity%2A> property that enables the authentication of the endpoint by other endpoints that exchange messages with it, and a set of optional <xref:System.ServiceModel.EndpointAddress.Headers%2A> properties, which define any other SOAP headers required to reach the service.</span></span> <span data-ttu-id="6c659-106">Los encabezados opcionales proporcionan información de direccionamiento adicional y más detallada para identificar o interactuar con el punto de conexión de servicio.</span><span class="sxs-lookup"><span data-stu-id="6c659-106">The optional headers provide additional and more detailed addressing information to identify or interact with the service endpoint.</span></span> <span data-ttu-id="6c659-107">La dirección de un punto de conexión se representa en la conexión como una referencia de punto de conexión (EPR) WS-Addressing.</span><span class="sxs-lookup"><span data-stu-id="6c659-107">The address of an endpoint is represented on the wire as a WS-Addressing endpoint reference (EPR).</span></span>  
  
## <a name="uri-structure-of-an-address"></a><span data-ttu-id="6c659-108">Estructura URI de una Dirección</span><span class="sxs-lookup"><span data-stu-id="6c659-108">URI Structure of an Address</span></span>  
 <span data-ttu-id="6c659-109">El URI de la dirección de la mayoría de transportes tiene cuatro partes.</span><span class="sxs-lookup"><span data-stu-id="6c659-109">The address URI for most transports has four parts.</span></span> <span data-ttu-id="6c659-110">Por ejemplo, las cuatro partes del URI `http://www.fabrikam.com:322/mathservice.svc/secureEndpoint` pueden ser elementos como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="6c659-110">For example, the four parts of the URI `http://www.fabrikam.com:322/mathservice.svc/secureEndpoint` can be itemized as follows:</span></span>  
  
- <span data-ttu-id="6c659-111">Regímenes`http:`</span><span class="sxs-lookup"><span data-stu-id="6c659-111">Scheme: `http:`</span></span>
  
- <span data-ttu-id="6c659-112">Sistema`www.fabrikam.com`</span><span class="sxs-lookup"><span data-stu-id="6c659-112">Machine: `www.fabrikam.com`</span></span>  
  
- <span data-ttu-id="6c659-113">(opcional) Puerto: 322</span><span class="sxs-lookup"><span data-stu-id="6c659-113">(optional) Port: 322</span></span>  
  
- <span data-ttu-id="6c659-114">Ruta de acceso: /mathservice.svc/secureEndpoint</span><span class="sxs-lookup"><span data-stu-id="6c659-114">Path: /mathservice.svc/secureEndpoint</span></span>  
  
## <a name="defining-an-address-for-a-service"></a><span data-ttu-id="6c659-115">Definición de una dirección para un Servicio</span><span class="sxs-lookup"><span data-stu-id="6c659-115">Defining an Address for a Service</span></span>  
 <span data-ttu-id="6c659-116">La dirección de extremo de un servicio puede especificarse de manera imperativa mediante código o de manera declarativa mediante configuración.</span><span class="sxs-lookup"><span data-stu-id="6c659-116">The endpoint address for a service can be specified either imperatively using code or declaratively through configuration.</span></span> <span data-ttu-id="6c659-117">Normalmente, no resulta muy práctico definir los puntos de conexión en el código ya que los enlaces y las direcciones de un servicio implementado son, por lo general, diferentes de los utilizados durante el desarrollo del servicio.</span><span class="sxs-lookup"><span data-stu-id="6c659-117">Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed.</span></span> <span data-ttu-id="6c659-118">Generalmente, es más práctico definir extremos de servicio mediante la configuración en lugar del código.</span><span class="sxs-lookup"><span data-stu-id="6c659-118">Generally, it is more practical to define service endpoints using configuration rather than code.</span></span> <span data-ttu-id="6c659-119">Mantener la información del enlace y el direccionamiento fuera del código permite cambiar los extremos sin tener que recompilar ni implementar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6c659-119">Keeping the binding and addressing information out of the code allows them to change without having to recompile or redeploy the application.</span></span>  
  
### <a name="defining-an-address-in-configuration"></a><span data-ttu-id="6c659-120">Definición de una dirección mediante configuración</span><span class="sxs-lookup"><span data-stu-id="6c659-120">Defining an Address in Configuration</span></span>  
 <span data-ttu-id="6c659-121">Para definir un punto de conexión en un archivo de configuración, use el [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) elemento.</span><span class="sxs-lookup"><span data-stu-id="6c659-121">To define an endpoint in a configuration file, use the [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) element.</span></span> <span data-ttu-id="6c659-122">Para obtener más información y un ejemplo, consulte [especificar una dirección de extremo](../specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="6c659-122">For details and an example, see [Specifying an Endpoint Address](../specifying-an-endpoint-address.md).</span></span>  
  
### <a name="defining-an-address-in-code"></a><span data-ttu-id="6c659-123">Definición de una dirección mediante código</span><span class="sxs-lookup"><span data-stu-id="6c659-123">Defining an Address in Code</span></span>  
 <span data-ttu-id="6c659-124">Una dirección de punto de conexión se puede crear mediante código con la clase <xref:System.ServiceModel.EndpointAddress>.</span><span class="sxs-lookup"><span data-stu-id="6c659-124">An endpoint address can be created in code with the <xref:System.ServiceModel.EndpointAddress> class.</span></span> <span data-ttu-id="6c659-125">Para obtener más información y un ejemplo, consulte [especificar una dirección de extremo](../specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="6c659-125">For details and an example, see [Specifying an Endpoint Address](../specifying-an-endpoint-address.md).</span></span>  
  
### <a name="endpoints-in-wsdl"></a><span data-ttu-id="6c659-126">puntos de conexión en WSDL</span><span class="sxs-lookup"><span data-stu-id="6c659-126">Endpoints in WSDL</span></span>  
 <span data-ttu-id="6c659-127">Una dirección de extremo también se puede representar en WSDL como un elemento EPR de WS-Addressing dentro del elemento `wsdl:port` del extremo correspondiente.</span><span class="sxs-lookup"><span data-stu-id="6c659-127">An endpoint address can also be represented in WSDL as a WS-Addressing EPR element inside the corresponding endpoint's `wsdl:port` element.</span></span> <span data-ttu-id="6c659-128">El EPR contiene la dirección del extremo, así como todas las propiedades de la dirección.</span><span class="sxs-lookup"><span data-stu-id="6c659-128">The EPR contains the endpoint's address as well as any address properties.</span></span> <span data-ttu-id="6c659-129">Para obtener más información y un ejemplo, consulte [especificar una dirección de extremo](../specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="6c659-129">For details and an example, see [Specifying an Endpoint Address](../specifying-an-endpoint-address.md).</span></span>  
  
## <a name="multiple-iis-binding-support-in-net-framework-35"></a><span data-ttu-id="6c659-130">Compatibilidad con varios enlaces de IIS en .NET Framework 3,5</span><span class="sxs-lookup"><span data-stu-id="6c659-130">Multiple IIS Binding Support in .NET Framework 3.5</span></span>  
 <span data-ttu-id="6c659-131">Los proveedores de acceso a Internet a menudo hospedan muchas aplicaciones en el mismo servidor y en el mismo sitio para aumentar la densidad del sitio y reducir el costo total de propiedad.</span><span class="sxs-lookup"><span data-stu-id="6c659-131">Internet service providers often host many applications on the same server and site to increase the site density and lower total cost of ownership.</span></span> <span data-ttu-id="6c659-132">Estas aplicaciones se enlazan normalmente en las diferentes direcciones base.</span><span class="sxs-lookup"><span data-stu-id="6c659-132">These applications are typically bound to different base addresses.</span></span> <span data-ttu-id="6c659-133">Un sitio web de Internet Information Services (IIS) puede contener varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="6c659-133">An Internet Information Services (IIS) Web site can contain multiple applications.</span></span> <span data-ttu-id="6c659-134">Se puede tener acceso a las aplicaciones en un sitio a través de uno o más enlaces de IIS.</span><span class="sxs-lookup"><span data-stu-id="6c659-134">The applications in a site can be accessed through one or more IIS bindings.</span></span>  
  
 <span data-ttu-id="6c659-135">Los enlaces de IIS proporcionan dos partes de información: un protocolo de enlace e información de enlace.</span><span class="sxs-lookup"><span data-stu-id="6c659-135">IIS bindings provide two pieces of information: a binding protocol, and binding information.</span></span> <span data-ttu-id="6c659-136">El protocolo de enlace define el esquema sobre el que se produce la comunicación, y la información de enlace es la información utilizada para tener acceso al sitio.</span><span class="sxs-lookup"><span data-stu-id="6c659-136">The binding protocol defines the scheme over which communication occurs, and binding information is the information used to access the site.</span></span>  
  
 <span data-ttu-id="6c659-137">El siguiente ejemplo muestra los componentes que se pueden encontrar en un enlace de IIS:</span><span class="sxs-lookup"><span data-stu-id="6c659-137">The following example shows the components that can be present in an IIS binding:</span></span>  
  
- <span data-ttu-id="6c659-138">Protocolo de enlace: HTTP</span><span class="sxs-lookup"><span data-stu-id="6c659-138">Binding protocol: HTTP</span></span>  
  
- <span data-ttu-id="6c659-139">Información de enlace: Dirección IP, puerto, encabezado de host</span><span class="sxs-lookup"><span data-stu-id="6c659-139">Binding Information: IP Address, Port, Host header</span></span>  
  
 <span data-ttu-id="6c659-140">IIS puede especificar varios enlaces para cada sitio, que resulta en varias direcciones base para cada esquema.</span><span class="sxs-lookup"><span data-stu-id="6c659-140">IIS can specify multiple bindings for each site, which results in multiple base addresses for each scheme.</span></span> <span data-ttu-id="6c659-141">Antes de .NET Framework 3,5, WCF no admitía varias direcciones para un esquema y, si se especificaban, iniciaba <xref:System.ArgumentException> durante la activación.</span><span class="sxs-lookup"><span data-stu-id="6c659-141">Prior to .NET Framework 3.5, WCF did not support multiple addresses for a schema and, if they were specified, threw a <xref:System.ArgumentException> during activation.</span></span>  
  
 <span data-ttu-id="6c659-142">El .NET Framework 3,5 permite a los proveedores de servicios de Internet hospedar varias aplicaciones con direcciones base diferentes para el mismo esquema en el mismo sitio.</span><span class="sxs-lookup"><span data-stu-id="6c659-142">The .NET Framework 3.5 enables Internet service providers to host multiple applications with different base addresses for the same scheme on the same site.</span></span>  
  
 <span data-ttu-id="6c659-143">Por ejemplo, un sitio podría contener las direcciones base siguientes:</span><span class="sxs-lookup"><span data-stu-id="6c659-143">For example, a site could contain the following base addresses:</span></span>  
  
- `http://payroll.myorg.com/Service.svc`
  
- `http://shipping.myorg.com/Service.svc`
  
 <span data-ttu-id="6c659-144">Con .NET Framework 3,5, se especifica un filtro de prefijo en el nivel de AppDomain del archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="6c659-144">With .NET Framework 3.5, you specify a prefix filter at the AppDomain level in the configuration file.</span></span> <span data-ttu-id="6c659-145">Esto se hace con el [\<baseAddressPrefixFilters>](../../configure-apps/file-schema/wcf/baseaddressprefixfilters.md) elemento, que contiene una lista de prefijos.</span><span class="sxs-lookup"><span data-stu-id="6c659-145">You do this with the [\<baseAddressPrefixFilters>](../../configure-apps/file-schema/wcf/baseaddressprefixfilters.md) element, which contains a list of prefixes.</span></span> <span data-ttu-id="6c659-146">Las direcciones base de entrada, proporcionadas por IIS, se filtran en función de la lista de prefijos opcional.</span><span class="sxs-lookup"><span data-stu-id="6c659-146">The incoming base addresses, supplied by IIS, are filtered based on the optional prefix list.</span></span> <span data-ttu-id="6c659-147">De forma predeterminada, cuando no se especifica un prefijo, se atraviesan todas las direcciones.</span><span class="sxs-lookup"><span data-stu-id="6c659-147">By default, when a prefix is not specified, all addresses are passed through.</span></span> <span data-ttu-id="6c659-148">Al especificar el prefijo, se provoca que solo la dirección base coincidente para ese esquema se pase a través.</span><span class="sxs-lookup"><span data-stu-id="6c659-148">Specifying the prefix results in only the matching base address for that scheme to be passed through.</span></span>  
  
 <span data-ttu-id="6c659-149">A continuación, se muestra un ejemplo de código de configuración que utiliza filtros de prefijos.</span><span class="sxs-lookup"><span data-stu-id="6c659-149">The following is an example of configuration code that uses the prefix filters.</span></span>  
  
```xml  
<system.serviceModel>  
  <serviceHostingEnvironment>  
     <baseAddressPrefixFilters>  
        <add prefix="net.tcp://payroll.myorg.com:8000"/>  
        <add prefix="http://shipping.myorg.com:8000"/>  
    </baseAddressPrefixFilters>  
  </serviceHostingEnvironment>  
</system.serviceModel>  
```  
  
 <span data-ttu-id="6c659-150">En el ejemplo anterior, `net.tcp://payroll.myorg.com:8000` y `http://shipping.myorg.com:8000` son las únicas direcciones base, para sus respectivos esquemas, que se pasan a través de.</span><span class="sxs-lookup"><span data-stu-id="6c659-150">In the preceding example, `net.tcp://payroll.myorg.com:8000` and `http://shipping.myorg.com:8000` are the only base addresses, for their respective schemes, which are passed through.</span></span>  
  
 <span data-ttu-id="6c659-151">`baseAddressPrefixFilter` no admite los caracteres comodín.</span><span class="sxs-lookup"><span data-stu-id="6c659-151">The `baseAddressPrefixFilter` does not support wildcards.</span></span>  
  
 <span data-ttu-id="6c659-152">Las direcciones base proporcionadas por IIS pueden tener direcciones enlazadas a otros esquemas no presentes en la lista `baseAddressPrefixFilters`.</span><span class="sxs-lookup"><span data-stu-id="6c659-152">The base addresses supplied by IIS may have addresses bound to other schemes not present in `baseAddressPrefixFilters` list.</span></span> <span data-ttu-id="6c659-153">Estas direcciones no se filtran.</span><span class="sxs-lookup"><span data-stu-id="6c659-153">These addresses are not filtered out.</span></span>  
  
## <a name="multiple-iis-binding-support-in-net-framework-4-and-later"></a><span data-ttu-id="6c659-154">Compatibilidad de varios enlaces IIS en .NET Framework 4.0 y posteriores</span><span class="sxs-lookup"><span data-stu-id="6c659-154">Multiple IIS Binding Support in .NET Framework 4 and later</span></span>  
 <span data-ttu-id="6c659-155">A partir de .NET 4, puede habilitar la compatibilidad con varios enlaces en IIS sin tener que elegir una sola dirección base mediante el establecimiento del valor de la propiedad <xref:System.ServiceModel.ServiceHostingEnvironment> de la clase <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> en true.</span><span class="sxs-lookup"><span data-stu-id="6c659-155">Starting in .NET 4, you can enable support for multiple bindings in IIS without having to pick a single base address, by setting <xref:System.ServiceModel.ServiceHostingEnvironment>’s <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> setting to true.</span></span> <span data-ttu-id="6c659-156">Esta compatibilidad se limita a los esquemas del protocolo HTTP.</span><span class="sxs-lookup"><span data-stu-id="6c659-156">This support is limited to HTTP protocol schemes.</span></span>  
  
 <span data-ttu-id="6c659-157">El siguiente es un ejemplo de código de configuración que usa multipleSiteBindingsEnabled en [\<serviceHostingEnvironment>](../../configure-apps/file-schema/wcf/servicehostingenvironment.md) .</span><span class="sxs-lookup"><span data-stu-id="6c659-157">The following is an example of configuration code that uses multipleSiteBindingsEnabled on [\<serviceHostingEnvironment>](../../configure-apps/file-schema/wcf/servicehostingenvironment.md).</span></span>  
  
```xml  
<system.serviceModel>  
  <serviceHostingEnvironment multipleSiteBindingsEnabled="true" >  
  </serviceHostingEnvironment>  
</system.serviceModel>  
```  
  
 <span data-ttu-id="6c659-158">Cuando se habilitan varios enlaces de sitios mediante esta configuración, se ignora cualquier configuración de baseAddressPrefixFilters, tanto para el protocolo HTTP como para el protocolo no HTTP.</span><span class="sxs-lookup"><span data-stu-id="6c659-158">Any baseAddressPrefixFilters settings are ignored, for both HTTP and non-HTTP protocols, when multiple site bindings are enabled using this setting.</span></span>  
  
 <span data-ttu-id="6c659-159">Para obtener más información y ejemplos, consulte [compatibilidad con varios enlaces de sitios de IIS](supporting-multiple-iis-site-bindings.md) y <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> .</span><span class="sxs-lookup"><span data-stu-id="6c659-159">For details and examples, see [Supporting Multiple IIS Site Bindings](supporting-multiple-iis-site-bindings.md) and <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A>.</span></span>  
  
## <a name="extending-addressing-in-wcf-services"></a><span data-ttu-id="6c659-160">Extensión del direccionamiento en servicios WCF</span><span class="sxs-lookup"><span data-stu-id="6c659-160">Extending Addressing in WCF Services</span></span>  
 <span data-ttu-id="6c659-161">El modelo de direccionamiento predeterminado de los servicios WCF usa el URI de la dirección del punto de conexión para los siguientes fines:</span><span class="sxs-lookup"><span data-stu-id="6c659-161">The default addressing model of WCF services uses the endpoint address URI for the following purposes:</span></span>  
  
- <span data-ttu-id="6c659-162">Para especificar la dirección del agente de escuchas de servicio, la ubicación en la que el extremo realiza escuchas de mensajes,</span><span class="sxs-lookup"><span data-stu-id="6c659-162">To specify the service listening address, the location at which the endpoint listens for messages,</span></span>  
  
- <span data-ttu-id="6c659-163">Para especificar el filtro de dirección de SOAP, la dirección que espera un punto de conexión como un encabezado SOAP.</span><span class="sxs-lookup"><span data-stu-id="6c659-163">To specify the SOAP address filter, the address an endpoint expects as a SOAP header.</span></span>  
  
 <span data-ttu-id="6c659-164">Se pueden especificar los valores de cada uno de estos propósitos por separado, permitiendo varias extensiones de direccionamiento que cubren escenarios útiles:</span><span class="sxs-lookup"><span data-stu-id="6c659-164">The values for each of these purposes can be specified separately, allowing several extensions of addressing that cover useful scenarios:</span></span>  
  
- <span data-ttu-id="6c659-165">Intermediarios SOAP: un mensaje enviado por un cliente atraviesa uno o más servicios adicionales que procesan el mensaje antes de que alcance su destino final.</span><span class="sxs-lookup"><span data-stu-id="6c659-165">SOAP intermediaries: a message sent by a client traverses one or more additional services that process the message before it reaches its final destination.</span></span> <span data-ttu-id="6c659-166">Los intermediarios SOAP pueden realizar varias tareas, como almacenar en memoria caché, enrutar, equilibrar la carga o validar el esquema en los mensajes.</span><span class="sxs-lookup"><span data-stu-id="6c659-166">SOAP intermediaries can perform various tasks, such as caching, routing, load-balancing, or schema validation on the messages.</span></span> <span data-ttu-id="6c659-167">Para lograr este escenario, los mensajes se envían a una dirección física independiente (`via`) que hace referencia al intermediario en lugar de simplemente a una dirección lógica (`wsa:To`) que hace referencia al destino final.</span><span class="sxs-lookup"><span data-stu-id="6c659-167">This scenario is accomplished by sending messages to a separate physical address (`via`) that targets the intermediary rather than just to a logical address (`wsa:To`) that targets the ultimate destination.</span></span>  
  
- <span data-ttu-id="6c659-168">La dirección que realiza escuchas del extremo es un URI privado y está establecida en un valor diferente del de su propiedad `listenURI`.</span><span class="sxs-lookup"><span data-stu-id="6c659-168">The listening address of the endpoint is a private URI and is set to a different value than its `listenURI` property.</span></span>  
  
 <span data-ttu-id="6c659-169">La dirección de transporte especificada por `via` es la ubicación a la que se debería enviar inicialmente un mensaje de camino a alguna otra dirección remota especificada por el parámetro `to` donde se encuentra el servicio.</span><span class="sxs-lookup"><span data-stu-id="6c659-169">The transport address that the `via` specifies is the location to which a message should initially be sent on its way to some other remote address specified by the `to` parameter at which the service is located.</span></span> <span data-ttu-id="6c659-170">En la mayoría de los escenarios de Internet, el URI `via` es igual que la propiedad <xref:System.ServiceModel.EndpointAddress.Uri%2A> de la dirección final `to` del servicio.</span><span class="sxs-lookup"><span data-stu-id="6c659-170">In most Internet scenarios, the `via` URI is the same as the <xref:System.ServiceModel.EndpointAddress.Uri%2A> property of the final `to` address of the service.</span></span> <span data-ttu-id="6c659-171">Estas dos direcciones solo se pueden distinguir cuando es necesario el enrutamiento manual.</span><span class="sxs-lookup"><span data-stu-id="6c659-171">You only distinguish between these two addresses when you must do manual routing.</span></span>  
  
### <a name="addressing-headers"></a><span data-ttu-id="6c659-172">Encabezados de direccionamiento</span><span class="sxs-lookup"><span data-stu-id="6c659-172">Addressing Headers</span></span>  
 <span data-ttu-id="6c659-173">Uno o más encabezados SOAP pueden direccionar un extremo además de su URI básico.</span><span class="sxs-lookup"><span data-stu-id="6c659-173">An endpoint can be addressed by one or more SOAP headers in addition to its basic URI.</span></span> <span data-ttu-id="6c659-174">Un conjunto de escenarios donde esto es útil es un conjunto de escenarios intermediarios de SOAP donde un extremo requiere que los clientes de ese extremo incluyan encabezados SOAP destinados a intermediarios.</span><span class="sxs-lookup"><span data-stu-id="6c659-174">One set of scenarios where this is useful is a set of SOAP intermediary scenarios where an endpoint requires clients of that endpoint to include SOAP headers targeted at intermediaries.</span></span>  
  
 <span data-ttu-id="6c659-175">Puede definir encabezados de dirección personalizados de dos maneras: mediante código o mediante configuración:</span><span class="sxs-lookup"><span data-stu-id="6c659-175">You can define custom address headers in two ways—by using either code or configuration:</span></span>  
  
- <span data-ttu-id="6c659-176">Mediante código, los encabezados de dirección personalizados se crean usando la clase <xref:System.ServiceModel.Channels.AddressHeader> y, a continuación, se utilizan en la construcción de una clase <xref:System.ServiceModel.EndpointAddress>.</span><span class="sxs-lookup"><span data-stu-id="6c659-176">In code, create custom address headers by using the <xref:System.ServiceModel.Channels.AddressHeader> class, and then used in the construction of an <xref:System.ServiceModel.EndpointAddress>.</span></span>  
  
- <span data-ttu-id="6c659-177">En la configuración, [\<headers>](../../configure-apps/file-schema/wcf/headers.md) se especifica Custom como elementos secundarios del [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-of-client.md) elemento.</span><span class="sxs-lookup"><span data-stu-id="6c659-177">In configuration, custom [\<headers>](../../configure-apps/file-schema/wcf/headers.md) are specified as children of the [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-of-client.md) element.</span></span>  
  
 <span data-ttu-id="6c659-178">Generalmente, la configuración es preferible al código, puesto que permite cambiar los encabezados después de la implementación.</span><span class="sxs-lookup"><span data-stu-id="6c659-178">Configuration is generally preferable to code, as it allows you to change the headers after deployment.</span></span>  
  
### <a name="custom-listening-addresses"></a><span data-ttu-id="6c659-179">Direcciones de escuchas personalizadas</span><span class="sxs-lookup"><span data-stu-id="6c659-179">Custom Listening Addresses</span></span>  
 <span data-ttu-id="6c659-180">Puede establecer la dirección de escuchas en un valor diferente que el URI del punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="6c659-180">You can set the listening address to a different value than the endpoint’s URI.</span></span> <span data-ttu-id="6c659-181">Esto es útil en escenarios intermediarios donde la dirección SOAP que se va a exponer es la de un intermediario de SOAP público, mientras que la dirección donde el punto de conexión realmente realiza escuchas es una dirección de la red privada.</span><span class="sxs-lookup"><span data-stu-id="6c659-181">This is useful in intermediary scenarios where the SOAP address to be exposed is that of a public SOAP intermediary, whereas the address where the endpoint actually listens is a private network address.</span></span>  
  
 <span data-ttu-id="6c659-182">Puede especificar una dirección de escuchas personalizada mediante código o configuración:</span><span class="sxs-lookup"><span data-stu-id="6c659-182">You can specify a custom listening address by using either code or configuration:</span></span>  
  
- <span data-ttu-id="6c659-183">Mediante código, especifique una dirección de escuchas personalizada agregando una clase <xref:System.ServiceModel.Description.ClientViaBehavior> a la colección de comportamientos del extremo.</span><span class="sxs-lookup"><span data-stu-id="6c659-183">In code, specify a custom listening address by adding a <xref:System.ServiceModel.Description.ClientViaBehavior> class to the endpoint’s behavior collection.</span></span>  
  
- <span data-ttu-id="6c659-184">En configuración, especifique una dirección de escucha personalizada con el `ListenUri` atributo del elemento de servicio [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) .</span><span class="sxs-lookup"><span data-stu-id="6c659-184">In configuration, specify a custom listening address with the `ListenUri` attribute of the service [\<endpoint>](../../configure-apps/file-schema/wcf/endpoint-element.md) element.</span></span>  
  
### <a name="custom-soap-address-filter"></a><span data-ttu-id="6c659-185">Filtro de direcciones SOAP personalizado</span><span class="sxs-lookup"><span data-stu-id="6c659-185">Custom SOAP Address Filter</span></span>  
 <span data-ttu-id="6c659-186"><xref:System.ServiceModel.EndpointAddress.Uri%2A> se utiliza junto con cualquier propiedad <xref:System.ServiceModel.EndpointAddress.Headers%2A> para definir el filtro de direcciones SOAP de un extremo (<xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A>).</span><span class="sxs-lookup"><span data-stu-id="6c659-186">The <xref:System.ServiceModel.EndpointAddress.Uri%2A> is used in conjunction with any <xref:System.ServiceModel.EndpointAddress.Headers%2A> property to define an endpoint’s SOAP address filter (<xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A>).</span></span> <span data-ttu-id="6c659-187">De forma predeterminada, este filtro comprueba que un mensaje entrante tenga un encabezado de mensaje `To` que coincida con el URI del punto de conexión y que todos los encabezados de punto de conexión necesarios se encuentren en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="6c659-187">By default, this filter verifies that an incoming message has a `To` message header that matches the endpoint’s URI and that all of the required endpoint headers are present in the message.</span></span>  
  
 <span data-ttu-id="6c659-188">En algunos escenarios, un extremo recibe todos los mensajes que llegan en el transporte subyacente y no solo aquéllos con el encabezado `To` adecuado.</span><span class="sxs-lookup"><span data-stu-id="6c659-188">In some scenarios, an endpoint receives all messages that arrive on the underlying transport, and not just those with the appropriate `To` header.</span></span> <span data-ttu-id="6c659-189">Para habilitar esto, el usuario puede utilizar la clase <xref:System.ServiceModel.Dispatcher.MatchAllMessageFilter>.</span><span class="sxs-lookup"><span data-stu-id="6c659-189">To enable this, the user can use the <xref:System.ServiceModel.Dispatcher.MatchAllMessageFilter> class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6c659-190">Vea también</span><span class="sxs-lookup"><span data-stu-id="6c659-190">See also</span></span>

- [<span data-ttu-id="6c659-191">Especificación de una dirección de punto de conexión</span><span class="sxs-lookup"><span data-stu-id="6c659-191">Specifying an Endpoint Address</span></span>](../specifying-an-endpoint-address.md)
- [<span data-ttu-id="6c659-192">Identidad del servicio y autenticación</span><span class="sxs-lookup"><span data-stu-id="6c659-192">Service Identity and Authentication</span></span>](service-identity-and-authentication.md)
