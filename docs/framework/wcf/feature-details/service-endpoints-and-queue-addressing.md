---
title: puntos de conexión de servicio y direccionamiento de la cola
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 7d2d59d7-f08b-44ed-bd31-913908b83d97
caps.latest.revision: 18
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: f2244ccb1637f944f9e3349cf0d94caa2f6676bf
ms.sourcegitcommit: 94d33cadc5ff81d2ac389bf5f26422c227832052
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/30/2018
---
# <a name="service-endpoints-and-queue-addressing"></a><span data-ttu-id="db31d-102">puntos de conexión de servicio y direccionamiento de la cola</span><span class="sxs-lookup"><span data-stu-id="db31d-102">Service Endpoints and Queue Addressing</span></span>
<span data-ttu-id="db31d-103">En este tema se aborda cómo los clientes direccionan servicios que leen de las colas y cómo los puntos de conexión de servicio se asignan a las colas.</span><span class="sxs-lookup"><span data-stu-id="db31d-103">This topic discusses how clients address services that read from queues and how service endpoints map to queues.</span></span> <span data-ttu-id="db31d-104">A modo de recordatorio, la ilustración siguiente muestra la implementación clásica de aplicaciones puestas en la cola [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="db31d-104">As a reminder, the following illustration shows the classic [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] queued application deployment.</span></span>  
  
 <span data-ttu-id="db31d-105">![Diagrama de aplicaciones en la cola](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "figura de cola distribuida")</span><span class="sxs-lookup"><span data-stu-id="db31d-105">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="db31d-106">Para que el cliente pueda enviar el mensaje al servicio, el cliente direcciona el mensaje a la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="db31d-106">For the client to send the message to the service, the client addresses the message to the Target Queue.</span></span> <span data-ttu-id="db31d-107">Para que el servicio pueda leer mensajes de la cola, establece su dirección de escucha en la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="db31d-107">For the service to read messages from the queue, it sets its listen address to the Target Queue.</span></span> <span data-ttu-id="db31d-108">Direccionar en [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] está basado en URI (Identificador Uniforme de Recursos) mientras los nombres de cola de Message Queuing (MSMQ) no están basados en URI.</span><span class="sxs-lookup"><span data-stu-id="db31d-108">Addressing in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is Uniform Resource Identifier (URI)-based while Message Queuing (MSMQ) queue names are not URI-based.</span></span> <span data-ttu-id="db31d-109">Por consiguiente es esencial entender cómo direccionar las colas creadas en MSMQ utilizando [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="db31d-109">It is therefore essential to understand how to address queues created in MSMQ using [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span>  
  
## <a name="msmq-addressing"></a><span data-ttu-id="db31d-110">Direccionamiento MSMQ</span><span class="sxs-lookup"><span data-stu-id="db31d-110">MSMQ Addressing</span></span>  
 <span data-ttu-id="db31d-111">MSMQ utiliza rutas de acceso y nombres de formato para identificar una cola.</span><span class="sxs-lookup"><span data-stu-id="db31d-111">MSMQ uses paths and format names to identify a queue.</span></span> <span data-ttu-id="db31d-112">Las rutas de acceso especifican un nombre de host y `QueueName`.</span><span class="sxs-lookup"><span data-stu-id="db31d-112">Paths specify a host name and a `QueueName`.</span></span> <span data-ttu-id="db31d-113">Opcionalmente, puede haber un `Private$` entre el nombre de host y el `QueueName` para indicar una cola privada que no se publica en el servicio de directorio Active Directory.</span><span class="sxs-lookup"><span data-stu-id="db31d-113">Optionally, there can be a `Private$` between the host name and the `QueueName` to indicate a private queue that is not published in the Active Directory directory service.</span></span>  
  
 <span data-ttu-id="db31d-114">Nombres de ruta de acceso están asignados a "FormatNames" para determinar aspectos adicionales de la dirección, incluido el protocolo de transferencia de administrador de cola y enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="db31d-114">Path names are mapped to "FormatNames" to determine additional aspects of the address, including routing and queue manager transfer protocol.</span></span> <span data-ttu-id="db31d-115">El Administrador de la cola admite dos protocolos de transferencia: protocolo MSMQ nativo y SOAP Reliable Messaging Protocol (SRMP).</span><span class="sxs-lookup"><span data-stu-id="db31d-115">The Queue Manager supports two transfer protocols: native MSMQ protocol and SOAP Reliable Messaging Protocol (SRMP).</span></span>  
  
 <span data-ttu-id="db31d-116">Para obtener más información acerca de los nombres de ruta de acceso y el formato MSMQ, vea [acerca de Message Queue Server](http://go.microsoft.com/fwlink/?LinkId=94837).</span><span class="sxs-lookup"><span data-stu-id="db31d-116">For more information about MSMQ path and format names, see [About Message Queuing](http://go.microsoft.com/fwlink/?LinkId=94837).</span></span>  
  
## <a name="netmsmqbinding-and-service-addressing"></a><span data-ttu-id="db31d-117">NetMsmqBinding y direccionamiento del servicio</span><span class="sxs-lookup"><span data-stu-id="db31d-117">NetMsmqBinding and Service Addressing</span></span>  
 <span data-ttu-id="db31d-118">Al direccionar un mensaje a un servicio, el esquema en el URI se selecciona basándose en el transporte utilizado para la comunicación.</span><span class="sxs-lookup"><span data-stu-id="db31d-118">When addressing a message to a service, the scheme in the URI is chosen based on the transport used for communication.</span></span> <span data-ttu-id="db31d-119">Cada transporte en [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] tiene un esquema único.</span><span class="sxs-lookup"><span data-stu-id="db31d-119">Each transport in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] has a unique scheme.</span></span> <span data-ttu-id="db31d-120">El esquema debe reflejar la naturaleza de transporte utilizada para la comunicación.</span><span class="sxs-lookup"><span data-stu-id="db31d-120">The scheme must reflect the nature of transport used for communication.</span></span> <span data-ttu-id="db31d-121">Por ejemplo, net.tcp, net.pipe, HTTP, etc.</span><span class="sxs-lookup"><span data-stu-id="db31d-121">For example, net.tcp, net.pipe, HTTP, and so on.</span></span>  
  
 <span data-ttu-id="db31d-122">El transporte MSMQ puesto en cola en [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] expone un esquema net.msmq.</span><span class="sxs-lookup"><span data-stu-id="db31d-122">The MSMQ queued transport in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] exposes a net.msmq scheme.</span></span> <span data-ttu-id="db31d-123">Cualquier mensaje direccionado utilizando el esquema net.msmq se envía utilizando `NetMsmqBinding` a través del canal de transporte puesto en cola.</span><span class="sxs-lookup"><span data-stu-id="db31d-123">Any message addressed using the net.msmq scheme is sent using the `NetMsmqBinding` over the MSMQ queued transport channel.</span></span>  
  
 <span data-ttu-id="db31d-124">El direccionamiento de una cola en [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] está basado en el patrón siguiente:</span><span class="sxs-lookup"><span data-stu-id="db31d-124">The addressing of a queue in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is based on the following pattern:</span></span>  
  
 <span data-ttu-id="db31d-125">NET.MSMQ: / / \< *nombre de host*> / [privada /] \< *nombre de la cola*></span><span class="sxs-lookup"><span data-stu-id="db31d-125">net.msmq: // \<*host-name*> / [private/] \<*queue-name*></span></span>  
  
 <span data-ttu-id="db31d-126">donde:</span><span class="sxs-lookup"><span data-stu-id="db31d-126">where:</span></span>  
  
-   <span data-ttu-id="db31d-127">\<*nombre de host*> es el nombre del equipo que hospeda la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="db31d-127">\<*host-name*> is the name of the machine that hosts the Target Queue.</span></span>  
  
-   <span data-ttu-id="db31d-128">[privado] es opcional.</span><span class="sxs-lookup"><span data-stu-id="db31d-128">[private] is optional.</span></span> <span data-ttu-id="db31d-129">Se utiliza al direccionar una cola de destino que es una cola privada.</span><span class="sxs-lookup"><span data-stu-id="db31d-129">It is used when addressing a Target Queue that is a private queue.</span></span> <span data-ttu-id="db31d-130">Para direccionar una cola pública, no debe especificar privado.</span><span class="sxs-lookup"><span data-stu-id="db31d-130">To address a public queue, you must not specify private.</span></span> <span data-ttu-id="db31d-131">Tenga en cuenta que, a diferencia de las rutas de acceso de MSMQ, no hay "$" en el formulario URI[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="db31d-131">Note that, unlike MSMQ paths, there is no "$" in the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] URI form.</span></span>  
  
-   <span data-ttu-id="db31d-132">\<*nombre de la cola*> es el nombre de la cola.</span><span class="sxs-lookup"><span data-stu-id="db31d-132">\<*queue-name*> is the name of the queue.</span></span> <span data-ttu-id="db31d-133">El nombre de la cola también puede hacer referencia a una subcola.</span><span class="sxs-lookup"><span data-stu-id="db31d-133">The queue name can also refer to a subqueue.</span></span> <span data-ttu-id="db31d-134">Por lo tanto, \< *nombre de la cola*> = \< *nombre de cola*> [; *nombre de subdirectorio queue*].</span><span class="sxs-lookup"><span data-stu-id="db31d-134">Thus, \<*queue-name*> = \<*name-of-queue*>[;*sub-queue-name*].</span></span>  
  
 <span data-ttu-id="db31d-135">Ejemplo1: Para direccional una cola privada PurchaseOrders hospedada en el equipo abc atadatum.com, el URI sería net.msmq://abc.adatum.com/private/PurchaseOrders.</span><span class="sxs-lookup"><span data-stu-id="db31d-135">Example1: To address a private queue PurchaseOrders hosted on computer abc atadatum.com, the URI would be net.msmq://abc.adatum.com/private/PurchaseOrders.</span></span>  
  
 <span data-ttu-id="db31d-136">Ejemplo2: Para direccionar una cola pública AccountsPayable hospedada en el equipo def atadatum.com, el URI sería net.msmq://def.adatum.com/AccountsPayable.</span><span class="sxs-lookup"><span data-stu-id="db31d-136">Example2: To address a public queue AccountsPayable hosted on computer def atadatum.com, the URI would be net.msmq://def.adatum.com/AccountsPayable.</span></span>  
  
 <span data-ttu-id="db31d-137">El agente de escucha usa la dirección de la cola como URI de escucha desde donde leer los mensajes.</span><span class="sxs-lookup"><span data-stu-id="db31d-137">The queue address is used as the Listen URI by the Listener to read messages from.</span></span> <span data-ttu-id="db31d-138">En otras palabras, la dirección de la cola es equivalente al puerto de escucha del socket TCP.</span><span class="sxs-lookup"><span data-stu-id="db31d-138">In other words, the queue address is equivalent to the listen port of TCP socket.</span></span>  
  
 <span data-ttu-id="db31d-139">Un punto de conexión que lee de una cola debe especificar la dirección de la cola utilizando el mismo esquema especificada previamente al abrir ServiceHost.</span><span class="sxs-lookup"><span data-stu-id="db31d-139">An endpoint that reads from a queue must specify the address of the queue using the same scheme specified previously when opening the ServiceHost.</span></span> <span data-ttu-id="db31d-140">Para obtener ejemplos, vea [enlace de MSMQ Net](../../../../docs/framework/wcf/samples/net-msmq-binding.md) y [ejemplos de enlace de integración de Message Queue Server](http://msdn.microsoft.com/library/997d11cb-f2c5-4ba0-9209-92843d4d0e1a).</span><span class="sxs-lookup"><span data-stu-id="db31d-140">For examples, see [Net MSMQ Binding](../../../../docs/framework/wcf/samples/net-msmq-binding.md) and [Message Queuing Integration Binding Samples](http://msdn.microsoft.com/library/997d11cb-f2c5-4ba0-9209-92843d4d0e1a).</span></span>  
  
### <a name="multiple-contracts-in-a-queue"></a><span data-ttu-id="db31d-141">Varios contratos en una cola</span><span class="sxs-lookup"><span data-stu-id="db31d-141">Multiple Contracts in a Queue</span></span>  
 <span data-ttu-id="db31d-142">Los mensajes en una cola pueden implementar diferentes contratos.</span><span class="sxs-lookup"><span data-stu-id="db31d-142">Messages in a queue can implement different contracts.</span></span> <span data-ttu-id="db31d-143">En este caso, es esencial que una de las condiciones siguientes sea verdadera para leer correctamente y procesar todos los mensajes:</span><span class="sxs-lookup"><span data-stu-id="db31d-143">In this case, it is essential that one of the following is true to successfully read and process all messages:</span></span>  
  
-   <span data-ttu-id="db31d-144">Especifique un extremo para un servicio que implementa todos los contratos.</span><span class="sxs-lookup"><span data-stu-id="db31d-144">Specify an endpoint for a service that implements all the contracts.</span></span> <span data-ttu-id="db31d-145">Éste es el enfoque recomendado.</span><span class="sxs-lookup"><span data-stu-id="db31d-145">This is the recommended approach.</span></span>  
  
-   <span data-ttu-id="db31d-146">Especifique varios extremos con contratos diferentes, pero asegúrese de que todos los extremos utilicen el mismo objeto `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="db31d-146">Specify multiple endpoints with different contracts, but ensure that all the endpoints use the same `NetMsmqBinding` object.</span></span> <span data-ttu-id="db31d-147">La lógica de distribución en ServiceModel utiliza una bomba de mensaje que lee los mensajes del canal de transporte para su distribución, lo que eventualmente desmultiplexa mensajes basados en el contrato a extremos diferentes.</span><span class="sxs-lookup"><span data-stu-id="db31d-147">The dispatching logic in ServiceModel uses a message pump that reads messages out of the transport channel for dispatch, which eventually de-multiplexes messages based on the contract to different endpoints.</span></span> <span data-ttu-id="db31d-148">Una bomba de mensaje se crea para un par de escucha URI/enlace.</span><span class="sxs-lookup"><span data-stu-id="db31d-148">A message pump is created for a listen URI/Binding pair.</span></span> <span data-ttu-id="db31d-149">La dirección de la cola es utilizada como URI de escucha por el agente de escucha puesto en cola.</span><span class="sxs-lookup"><span data-stu-id="db31d-149">The queue address is used as the Listen URI by the queued listener.</span></span> <span data-ttu-id="db31d-150">Si todos los extremos utilizan el mismo objeto de enlace, ello garantiza que se utiliza una única bomba de mensaje para leer el mensaje y desmultiplexarlo a los extremos pertinentes basados en el contrato.</span><span class="sxs-lookup"><span data-stu-id="db31d-150">Having all the endpoints use the same binding object ensures that a single message pump is used to read the message and de-multiplex to relevant endpoints based on the contract.</span></span>  
  
### <a name="srmp-messaging"></a><span data-ttu-id="db31d-151">Mensajería SRMP</span><span class="sxs-lookup"><span data-stu-id="db31d-151">SRMP Messaging</span></span>  
 <span data-ttu-id="db31d-152">Como se ha abordado previamente, puede utilizar el protocolo SRMP para las transferencias de colas a colas.</span><span class="sxs-lookup"><span data-stu-id="db31d-152">As previously discussed, you can use the SRMP protocol for queue-to-queue transfers.</span></span> <span data-ttu-id="db31d-153">Ello se utiliza normalmente cuando un transporte http transmite mensajes entre la cola de transmisión y la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="db31d-153">This is commonly used when an HTTP transport transmits messages between the Transmission Queue and the Target Queue.</span></span>  
  
 <span data-ttu-id="db31d-154">Para utilizar el protocolo de transferencia SRMP, direccione los mensajes utilizando el esquema del URI de net.msmq, como se ha mencionado previamente y especifica la opción de SRMP o SRMP Seguro en la propiedad `QueueTransferProtocol` de `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="db31d-154">To use the SRMP transfer protocol, address messages using the net.msmq URI scheme, as mentioned previously, and specify the choice of SRMP or Secured SRMP in the `QueueTransferProtocol` property of the `NetMsmqBinding`.</span></span>  
  
 <span data-ttu-id="db31d-155">Especificar la propiedad `QueueTransferProtocol` es una característica de solo envío.</span><span class="sxs-lookup"><span data-stu-id="db31d-155">Specifying the `QueueTransferProtocol` property is a send-only feature.</span></span> <span data-ttu-id="db31d-156">Es una indicación por parte del cliente sobre qué tipo de protocolo de transferencia de la cola debe utilizarse.</span><span class="sxs-lookup"><span data-stu-id="db31d-156">This is an indication by the client which kind of queue transfer protocol to use.</span></span>  
  
### <a name="using-active-directory"></a><span data-ttu-id="db31d-157">Utilizar Active Directory</span><span class="sxs-lookup"><span data-stu-id="db31d-157">Using Active Directory</span></span>  
 <span data-ttu-id="db31d-158">MSMQ se entrega con soporte para la integración de Active Directory.</span><span class="sxs-lookup"><span data-stu-id="db31d-158">MSMQ comes with support for Active Directory integration.</span></span> <span data-ttu-id="db31d-159">Cuando MSMQ se instala con integración de Active Directory, el equipo debe formar parte de un dominio de Windows.</span><span class="sxs-lookup"><span data-stu-id="db31d-159">When MSMQ is installed with Active Directory integration, the machine must be part of a Windows domain.</span></span> <span data-ttu-id="db31d-160">Active Directory se usa para publicar las colas para la detección; Estas colas se denominan *colas públicas*.</span><span class="sxs-lookup"><span data-stu-id="db31d-160">Active Directory is used to publish queues for discovery; such queues are called *public queues*.</span></span> <span data-ttu-id="db31d-161">Al direccionar una cola, la cola se puede resolver utilizando Active Directory.</span><span class="sxs-lookup"><span data-stu-id="db31d-161">When addressing a queue, the queue can be resolved using Active Directory.</span></span> <span data-ttu-id="db31d-162">Esto es similar a cómo Domain Name System (DNS) se utiliza para resolver la dirección IP de un nombre de red.</span><span class="sxs-lookup"><span data-stu-id="db31d-162">This is similar to how Domain Name System (DNS) is used to resolve the IP address of a network name.</span></span> <span data-ttu-id="db31d-163">La propiedad `UseActiveDirectory` en `NetMsmqBinding` es un valor booleano que indica si el canal en cola debe utilizar Active Directory para resolver el URI de la cola.</span><span class="sxs-lookup"><span data-stu-id="db31d-163">The `UseActiveDirectory` property in `NetMsmqBinding` is a Boolean that indicates whether the queued channel must use Active Directory to resolve the queue URI.</span></span> <span data-ttu-id="db31d-164">De manera predeterminada, tiene el valor `false`.</span><span class="sxs-lookup"><span data-stu-id="db31d-164">By default it is set to `false`.</span></span> <span data-ttu-id="db31d-165">Si la propiedad `UseActiveDirectory` está establecida en `true`,el canal en cola utiliza Active Directory para convertir el URI net.msmq:// en nombre de formato.</span><span class="sxs-lookup"><span data-stu-id="db31d-165">If the `UseActiveDirectory` property is set to `true`, then the queued channel uses Active Directory to convert the net.msmq:// URI to format name.</span></span>  
  
 <span data-ttu-id="db31d-166">La propiedad `UseActiveDirectory` solo es significativa para el cliente que está enviando el mensaje porque se utiliza para resolver la dirección de la cola al enviar mensajes.</span><span class="sxs-lookup"><span data-stu-id="db31d-166">The `UseActiveDirectory` property is meaningful only for the client that is sending the message because it is used to resolve the address of the queue when sending messages.</span></span>  
  
### <a name="mapping-netmsmq-uri-to-message-queuing-format-names"></a><span data-ttu-id="db31d-167">Asignar el URI net.msmq a nombres de formato de Message Queuing</span><span class="sxs-lookup"><span data-stu-id="db31d-167">Mapping net.msmq URI to Message Queuing Format Names</span></span>  
 <span data-ttu-id="db31d-168">El canal en cola actúa asignando el nombre del URI net.msmq proporcionado al canal a los nombres de formato de MSMQ.</span><span class="sxs-lookup"><span data-stu-id="db31d-168">The queued channel handles mapping the net.msmq URI name provided to the channel to MSMQ format names.</span></span> <span data-ttu-id="db31d-169">La tabla siguiente resume las reglas utilizadas para la asignación entre ellos.</span><span class="sxs-lookup"><span data-stu-id="db31d-169">The following table summarizes the rules used to map between them.</span></span>  
  
|<span data-ttu-id="db31d-170">Dirección de cola basada en URI WCF</span><span class="sxs-lookup"><span data-stu-id="db31d-170">WCF URI-based queue address</span></span>|<span data-ttu-id="db31d-171">Utilizar la propiedad de Active Directory</span><span class="sxs-lookup"><span data-stu-id="db31d-171">Use Active Directory property</span></span>|<span data-ttu-id="db31d-172">Propiedad del protocolo de transferencia de la cola</span><span class="sxs-lookup"><span data-stu-id="db31d-172">Queue Transfer Protocol property</span></span>|<span data-ttu-id="db31d-173">Nombres de formato de MSMQ resultantes</span><span class="sxs-lookup"><span data-stu-id="db31d-173">Resulting MSMQ format names</span></span>|  
|----------------------------------|-----------------------------------|--------------------------------------|---------------------------------|  
|<span data-ttu-id="db31d-174">NET.MSMQ://\<machine-name >/private/abc</span><span class="sxs-lookup"><span data-stu-id="db31d-174">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="db31d-175">False (valor predeterminado)</span><span class="sxs-lookup"><span data-stu-id="db31d-175">False (default)</span></span>|<span data-ttu-id="db31d-176">Native (valor predeterminado)</span><span class="sxs-lookup"><span data-stu-id="db31d-176">Native (default)</span></span>|<span data-ttu-id="db31d-177">DIRECT=OS:machine-name\private$\abc</span><span class="sxs-lookup"><span data-stu-id="db31d-177">DIRECT=OS:machine-name\private$\abc</span></span>|  
|<span data-ttu-id="db31d-178">NET.MSMQ://\<machine-name >/private/abc</span><span class="sxs-lookup"><span data-stu-id="db31d-178">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="db31d-179">False</span><span class="sxs-lookup"><span data-stu-id="db31d-179">False</span></span>|<span data-ttu-id="db31d-180">SRMP</span><span class="sxs-lookup"><span data-stu-id="db31d-180">SRMP</span></span>|<span data-ttu-id="db31d-181">DIRECT =http://machine/msmq/private$/ abc</span><span class="sxs-lookup"><span data-stu-id="db31d-181">DIRECT=http://machine/msmq/private$/abc</span></span>|  
|<span data-ttu-id="db31d-182">NET.MSMQ://\<machine-name >/private/abc</span><span class="sxs-lookup"><span data-stu-id="db31d-182">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="db31d-183">True</span><span class="sxs-lookup"><span data-stu-id="db31d-183">True</span></span>|<span data-ttu-id="db31d-184">Nativo</span><span class="sxs-lookup"><span data-stu-id="db31d-184">Native</span></span>|<span data-ttu-id="db31d-185">PUBLIC=some-guid (el GUID de la cola)</span><span class="sxs-lookup"><span data-stu-id="db31d-185">PUBLIC=some-guid (the GUID of the queue)</span></span>|  
  
### <a name="reading-messages-from-the-dead-letter-queue-or-the-poison-message-queue"></a><span data-ttu-id="db31d-186">Leer los mensajes de la cola de mensajes no enviados o la cola de mensajes dudosos</span><span class="sxs-lookup"><span data-stu-id="db31d-186">Reading Messages from the Dead-Letter Queue or the Poison-Message Queue</span></span>  
 <span data-ttu-id="db31d-187">Para leer los mensajes de una cola de mensajes dudosos que es una subcola de la cola de destino, abra `ServiceHost` con la dirección de la subcola.</span><span class="sxs-lookup"><span data-stu-id="db31d-187">To read messages from a poison-message queue that is a subqueue of the target queue, open the `ServiceHost` with the address of the subqueue.</span></span>  
  
 <span data-ttu-id="db31d-188">Ejemplo: un servicio que lee de la cola de mensajes dudosos de la cola privada PurchaseOrders del equipo local direccionaría net.msmq://localhost/private/PurchaseOrders;poison.</span><span class="sxs-lookup"><span data-stu-id="db31d-188">Example: A service that reads from the poison-message queue of the PurchaseOrders private queue from the local machine would address net.msmq://localhost/private/PurchaseOrders;poison.</span></span>  
  
 <span data-ttu-id="db31d-189">Para leer los mensajes de una cola de mensajes con problemas de entrega transaccionales de un sistema, el URI debe tener el formato siguiente: net.msmq://localhost/system$;DeadXact.</span><span class="sxs-lookup"><span data-stu-id="db31d-189">To read messages from a system transactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadXact.</span></span>  
  
 <span data-ttu-id="db31d-190">Para leer los mensajes de una cola de mensajes no enviados no transaccionales de un sistema, el URI debe tener la forma siguiente: net.msmq://localhost/system$;DeadLetter.</span><span class="sxs-lookup"><span data-stu-id="db31d-190">To read messages from a system nontransactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadLetter.</span></span>  
  
 <span data-ttu-id="db31d-191">Al utilizar una cola de mensajes no enviados personalizada, observe que la cola de mensajes no enviados debe estar situada en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="db31d-191">When using a custom dead-letter queue, note that the dead-letter queue must reside on the local computer.</span></span> <span data-ttu-id="db31d-192">Como tal, el URI para la cola de mensajes no enviados está restringido a la forma:</span><span class="sxs-lookup"><span data-stu-id="db31d-192">As such, the URI for the dead-letter queue is restricted to the form:</span></span>  
  
 <span data-ttu-id="db31d-193">NET.MSMQ: //localhost/ [privada /] \< *personalizado no enviados letra cola nombre*>.</span><span class="sxs-lookup"><span data-stu-id="db31d-193">net.msmq: //localhost/ [private/]  \<*custom-dead-letter-queue-name*>.</span></span>  
  
 <span data-ttu-id="db31d-194">Un servicio de [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] comprueba que todos los mensajes que recibe se direccionaron a la cola específica en la que está escuchando.</span><span class="sxs-lookup"><span data-stu-id="db31d-194">A [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service verifies that all messages it receives were addressed to the particular queue it is listening on.</span></span> <span data-ttu-id="db31d-195">Si la cola de destino del mensaje no coincide con la cola donde se encuentra, el servicio no procesa el mensaje.</span><span class="sxs-lookup"><span data-stu-id="db31d-195">If the message’s destination queue does not match the queue it is found in, the service does not process the message.</span></span> <span data-ttu-id="db31d-196">Se trata de una cuestión que los servicios que escuchan a una cola de mensajes no enviados deben abordar porque cualquier mensaje en la cola de mensajes no enviados debía ser entregado a otra parte.</span><span class="sxs-lookup"><span data-stu-id="db31d-196">This is an issue that services listening to a dead-letter queue must address because any message in the dead-letter queue was meant to be delivered elsewhere.</span></span> <span data-ttu-id="db31d-197">Para leer los mensajes de una cola de mensajes no enviados o de una cola de mensajes dudosos, debe utilizarse `ServiceBehavior` con el parámetro <xref:System.ServiceModel.AddressFilterMode.Any>.</span><span class="sxs-lookup"><span data-stu-id="db31d-197">To read messages from a dead-letter queue, or from a poison queue, a `ServiceBehavior` with the <xref:System.ServiceModel.AddressFilterMode.Any> parameter must be used.</span></span> <span data-ttu-id="db31d-198">Para obtener un ejemplo, vea [colas de mensajes no enviados](../../../../docs/framework/wcf/samples/dead-letter-queues.md).</span><span class="sxs-lookup"><span data-stu-id="db31d-198">For an example, see [Dead Letter Queues](../../../../docs/framework/wcf/samples/dead-letter-queues.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-service-addressing"></a><span data-ttu-id="db31d-199">MsmqIntegrationBinding y direccionamiento del servicio</span><span class="sxs-lookup"><span data-stu-id="db31d-199">MsmqIntegrationBinding and Service Addressing</span></span>  
 <span data-ttu-id="db31d-200">`MsmqIntegrationBinding` se utiliza para la comunicación con aplicaciones MSMQ tradicionales.</span><span class="sxs-lookup"><span data-stu-id="db31d-200">The `MsmqIntegrationBinding` is used for communication with traditional MSMQ applications.</span></span> <span data-ttu-id="db31d-201">Para facilitar la interoperación con una aplicación MSMQ existente, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] admite solo el direccionamiento del nombre de formato.</span><span class="sxs-lookup"><span data-stu-id="db31d-201">To ease interoperation with an existing MSMQ application, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] supports only format name addressing.</span></span> <span data-ttu-id="db31d-202">Por consiguiente, los mensajes enviados utilizando este enlace deben cumplir el esquema del URI:</span><span class="sxs-lookup"><span data-stu-id="db31d-202">Thus, messages sent using this binding must conform to the URI scheme:</span></span>  
  
 <span data-ttu-id="db31d-203">MSMQ.FormatName:\<*nombre de formato de MSMQ*>></span><span class="sxs-lookup"><span data-stu-id="db31d-203">msmq.formatname:\<*MSMQ-format-name*>></span></span>  
  
 <span data-ttu-id="db31d-204">El nombre de formato de MSMQ tiene el formato especificado por MSMQ en [acerca de Message Queue Server](http://go.microsoft.com/fwlink/?LinkId=94837).</span><span class="sxs-lookup"><span data-stu-id="db31d-204">The MSMQ-format-name is of the form specified by MSMQ in [About Message Queuing](http://go.microsoft.com/fwlink/?LinkId=94837).</span></span>  
  
 <span data-ttu-id="db31d-205">Observe que solo puede utilizar los nombres de formato directos, y los nombres de formato públicos y privados (requiere la integración de Active Directory) al recibir los mensajes de una cola utilizando `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="db31d-205">Note that you can only use direct format names, and public and private format names (requires Active Directory integration) when receiving messages from a queue using `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="db31d-206">Sin embargo, se aconseja que utilice los nombres de formato directos.</span><span class="sxs-lookup"><span data-stu-id="db31d-206">However, it is advised that you use direct format names.</span></span> <span data-ttu-id="db31d-207">Por ejemplo, en [!INCLUDE[wv](../../../../includes/wv-md.md)], al utilizar cualquier otro nombre de formato se produce un error porque el sistema intenta abrir una subcola que solo se puede abrir con nombres de formato directos.</span><span class="sxs-lookup"><span data-stu-id="db31d-207">For example, on [!INCLUDE[wv](../../../../includes/wv-md.md)], using any other format name causes an error because the system attempts to open a subqueue, which can only be opened with direct format names.</span></span>  
  
 <span data-ttu-id="db31d-208">Al direccionar SRMP utilizando `MsmqIntegrationBinding`, no hay ningún requisito para agregar /msmq/ en el nombre de formato directo para ayudar a Internet Information Services (IIS) con la distribución.</span><span class="sxs-lookup"><span data-stu-id="db31d-208">When addressing SRMP using `MsmqIntegrationBinding`, there is no requirement to add /msmq/ in the direct format name to help Internet Information Services (IIS) with dispatching.</span></span> <span data-ttu-id="db31d-209">Por ejemplo: al direccionar una cola abc utilizando el SRMP de protocolo, en lugar de DIRECT =http://adatum.com/msmq/private$/ abc, debería utilizar DIRECT =http://adatum.com/private$/ abc.</span><span class="sxs-lookup"><span data-stu-id="db31d-209">For example: When addressing a queue abc using the SRMP protocol, instead of DIRECT=http://adatum.com/msmq/private$/abc, you should use DIRECT=http://adatum.com/private$/abc.</span></span>  
  
 <span data-ttu-id="db31d-210">Observe que no puede utilizar net.msmq:// direccionando con `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="db31d-210">Note that you cannot use net.msmq:// addressing with `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="db31d-211">Dado que `MsmqIntegrationBinding` admite el direccionamiento de nombre de formato MSMQ de forma libre, puede utilizar un servicio [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] que utilice este enlace para utilizar las características de multidifusión y la lista de distribución en MSMQ.</span><span class="sxs-lookup"><span data-stu-id="db31d-211">Because `MsmqIntegrationBinding` supports free-form MSMQ format name addressing, you can use a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service that uses this binding to use multicast and distribution list features in MSMQ.</span></span> <span data-ttu-id="db31d-212">Una excepción es especificar `CustomDeadLetterQueue` al utilizar `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="db31d-212">One exception is specifying `CustomDeadLetterQueue` when using the `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="db31d-213">Debe tener la forma net.msmq://, similar a cómo se especifica utilizando `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="db31d-213">It must be of the form net.msmq://, similar to how it is specified using the `NetMsmqBinding`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="db31d-214">Vea también</span><span class="sxs-lookup"><span data-stu-id="db31d-214">See Also</span></span>  
 [<span data-ttu-id="db31d-215">Alojamiento web de una aplicación en cola</span><span class="sxs-lookup"><span data-stu-id="db31d-215">Web Hosting a Queued Application</span></span>](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md)
