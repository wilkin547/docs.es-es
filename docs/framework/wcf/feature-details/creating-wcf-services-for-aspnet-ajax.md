---
title: "Creación de servicios WCF para AJAX de ASP.NET"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 04c0402c-e617-4ba5-aedf-d17692234776
caps.latest.revision: "18"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 50ce4918689687bfa702f0673d8d2a669abdf541
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/21/2017
---
# <a name="creating-wcf-services-for-aspnet-ajax"></a><span data-ttu-id="75b26-102">Creación de servicios WCF para AJAX de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="75b26-102">Creating WCF Services for ASP.NET AJAX</span></span>
<span data-ttu-id="75b26-103">AJAX de ASP.NET de Microsoft le permite crear rápidamente páginas web para que la experiencia del usuario sea más satisfactoria gracias a elementos de la interfaz de usuario más familiares y receptivos.</span><span class="sxs-lookup"><span data-stu-id="75b26-103">Microsoft ASP.NET AJAX enables you to quickly create Web pages that include a rich user experience with responsive and familiar user interface elements.</span></span> <span data-ttu-id="75b26-104">AJAX de ASP.NET proporciona bibliotecas de scripts de cliente que incorporan las tecnologías ECMAScript (JavaScript) y HTML dinámico (DHTML) para varios exploradores, y las integra en la plataforma de desarrollo para servidores de ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="75b26-104">ASP.NET AJAX provides client-script libraries that incorporate cross-browser ECMAScript (JavaScript) and dynamic HTML (DHTML) technologies, and it integrates them with the ASP.NET 2.0 server-based development platform.</span></span> <span data-ttu-id="75b26-105">Gracias a las características de AJAX de ASP.NET puede mejorar la experiencia del usuario y la eficacia de sus aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="75b26-105">By using ASP.NET AJAX, you can improve the user experience and the efficiency of your Web applications.</span></span>  
  
 <span data-ttu-id="75b26-106">AJAX de ASP.NET consta de bibliotecas de scripts de cliente y de componentes de servidor que se integran para proporcionar un marco de desarrollo robusto.</span><span class="sxs-lookup"><span data-stu-id="75b26-106">ASP.NET AJAX consists of client-script libraries and of server components that are integrated to provide a robust development framework.</span></span> <span data-ttu-id="75b26-107">Para tener acceso a un servicio desde una página ASP.NET: una vez que se agrega la URL de servicio al control del administrador de scripts de ASP.NET en la página, las operaciones de servicio se pueden invocar usando código JavaScript que tiene la misma apariencia que una llamada de función de JavaScript normal.</span><span class="sxs-lookup"><span data-stu-id="75b26-107">To access a service from an ASP.NET page: once the service URL is added to the ASP.NET Script Manager control on the page, service operations may be invoked using JavaScript code that looks exactly like a regular JavaScript function call.</span></span> <span data-ttu-id="75b26-108">Vea [Obtenga información acerca de ASP.NET AJAX](http://go.microsoft.com/fwlink/?LinkId=186475) sobre el uso de servicios Web en el marco de AJAX.</span><span class="sxs-lookup"><span data-stu-id="75b26-108">See [Learn ASP.NET AJAX](http://go.microsoft.com/fwlink/?LinkId=186475) about the use of Web services within the AJAX framework.</span></span>  
  
 <span data-ttu-id="75b26-109">La mayoría de los servicios de [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] se pueden exponer como servicio compatible con AJAX de ASP.NET agregando un extremo de AJAX de ASP.NET adecuado.</span><span class="sxs-lookup"><span data-stu-id="75b26-109">Most [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint.</span></span>  
  
 <span data-ttu-id="75b26-110">Si se utiliza Visual Studio, puede usar una plantilla precompilada para servicios WCF con AJAX habilitado, disponibles en la **Agregar nuevo elemento** cuadro de diálogo cuando se trabaja con sitios Web de ASP.NET o aplicaciones Web.</span><span class="sxs-lookup"><span data-stu-id="75b26-110">If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the **Add New Item** dialog when working with ASP.NET Web Sites or Web Applications.</span></span>  
  
 <span data-ttu-id="75b26-111">Si no está utilizando las plantillas Visual Studio, hay dos maneras de crear un punto de conexión de AJAX de ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="75b26-111">If you are not using the Visual Studio templates, there are two ways to create an ASP.NET AJAX endpoint:</span></span>  
  
-   <span data-ttu-id="75b26-112">Cree el extremo utilizando la activación de host dinámica sin utilizar ninguna configuración.</span><span class="sxs-lookup"><span data-stu-id="75b26-112">Create the endpoint using dynamic host activation without using any configuration.</span></span> <span data-ttu-id="75b26-113">Éste es el enfoque más básico si no se está muy familiarizado con el sistema de configuración de WCF.</span><span class="sxs-lookup"><span data-stu-id="75b26-113">This is the most basic approach if you are unfamiliar with the WCF configuration system.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="75b26-114">[Cómo: agregar un extremo de AJAX de ASP.NET sin usar la configuración](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="75b26-114"> [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span></span>  
  
-   <span data-ttu-id="75b26-115">Agregue un extremo compatible con AJAX a un servicio de [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] mediante configuración.</span><span class="sxs-lookup"><span data-stu-id="75b26-115">Add an AJAX-enabled endpoint to a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using configuration.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="75b26-116">[Cómo: usar la configuración para agregar un extremo de AJAX de ASP.NET](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span><span class="sxs-lookup"><span data-stu-id="75b26-116"> [How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span></span>  
  
 <span data-ttu-id="75b26-117">El modelo de programación Web descrito en el [HTTP Web WCF Programming Model Overview](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) pueden utilizarse con servicios de AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="75b26-117">The Web Programming Model described in the [WCF Web HTTP Programming Model Overview](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) may be used with ASP.NET AJAX services.</span></span> <span data-ttu-id="75b26-118">De manera específica:</span><span class="sxs-lookup"><span data-stu-id="75b26-118">Specifically:</span></span>  
  
-   <span data-ttu-id="75b26-119">Puede utilizar los atributos <xref:System.ServiceModel.Web.WebGetAttribute> y <xref:System.ServiceModel.Web.WebInvokeAttribute> para seleccionar entre los verbos HTTP GET y HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="75b26-119">You can use the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to select between HTTP GET and HTTP POST verbs.</span></span> <span data-ttu-id="75b26-120">Si se utiliza correctamente, esto podría mejorar significativamente el rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="75b26-120">If used correctly, this may significantly improve your application’s performance.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="75b26-121">[Cómo: elegir entre HTTP POST y HTTP GET solicitudes para los extremos de AJAX de ASP.NET](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="75b26-121"> [How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span></span>  
  
-   <span data-ttu-id="75b26-122">Puede usar las propiedades <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> y <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> para que su servicio devuelva datos XML en lugar de hacerlo en el formato Javascript Object Notation (JSON) predeterminado.</span><span class="sxs-lookup"><span data-stu-id="75b26-122">You can use the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON).</span></span> <span data-ttu-id="75b26-123">Si hace esto con el marco de AJAX de ASP.NET, el cliente JavaScript va a recibir un objeto DOM XML.</span><span class="sxs-lookup"><span data-stu-id="75b26-123">Doing this with the ASP.NET AJAX framework causes the JavaScript client to receive an XML DOM object.</span></span>  
  
    > [!WARNING]
    >  <span data-ttu-id="75b26-124">La operación debe establecer el tipo de contenido en texto o xml para que funcione.</span><span class="sxs-lookup"><span data-stu-id="75b26-124">Your operation must set the content type to text/xml for this to work.</span></span> <span data-ttu-id="75b26-125">De lo contrario, el cliente JavaScript recibirá una cadena que contiene el XML en vez de un objeto DOM XML.</span><span class="sxs-lookup"><span data-stu-id="75b26-125">Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.</span></span>  
  
     <span data-ttu-id="75b26-126">A continuación se muestra un ejemplo de una operación que devuelve datos XML con el tipo de contenido establecido adecuadamente:</span><span class="sxs-lookup"><span data-stu-id="75b26-126">The following is an example of an operation that returns XML data with the content type set appropriately:</span></span>  
  
    ```  
    [OperationContract, WebGet(ResponseFormat=WebMessageFormat.Xml)]  
    public XElement GetData()  
    {  
    XElement x;  
    //Get some data here...  
  
    WebOperationContext.Current.OutgoingResponse.ContentType = "text/xml";      
    return x;  
    }  
    ```  
  
-   <span data-ttu-id="75b26-127">No se pueden cambiar otras propiedades de los atributos de las clases <xref:System.ServiceModel.Web.WebGetAttribute> y <xref:System.ServiceModel.Web.WebInvokeAttribute> si es necesaria la compatibilidad con AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="75b26-127">No other properties on the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes can be changed if compatibility with ASP.NET AJAX is required.</span></span> <span data-ttu-id="75b26-128">Se pueden utilizar otros aspectos del modelo de programación web con tal de que no se infrinjan las convenciones de llamada de AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="75b26-128">Other aspects of the Web Programming Model can be used as long as the ASP.NET AJAX calling conventions are not violated.</span></span>  
  
 <span data-ttu-id="75b26-129">Los escenarios más avanzados requieren que se comprendan algunos detalles adicionales de compatibilidad de AJAX en [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="75b26-129">More advanced scenarios require some additional details of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] be understood:</span></span>  
  
-   <span data-ttu-id="75b26-130">Para comprender cómo se transfieren los datos entre un cliente de la página de AJAX y un [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] servicio con JavaScript y para obtener información detallada sobre cómo se asignan los tipos de .NET Framework en tipos de JavaScript, consulte [compatibilidad con JSON y otros formatos de transferencia de datos](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md) .</span><span class="sxs-lookup"><span data-stu-id="75b26-130">To understand how data is transferred between an AJAX page client and a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see [Support for JSON and Other Data Transfer Formats](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md).</span></span>  
  
-   <span data-ttu-id="75b26-131">Para aprovecharse de las características de ASP.NET, como, por ejemplo, la autenticación basada en URL y obtener acceso a la información de sesión de ASP.NET, puede que desee habilitar el modo de compatibilidad de ASP.NET mediante configuración.</span><span class="sxs-lookup"><span data-stu-id="75b26-131">To take advantage of ASP.NET features, for example, URL-based authentication and accessing the ASP.NET session information, you may want to enable the ASP.NET Compatibility Mode through configuration.</span></span>  
  
 <span data-ttu-id="75b26-132">Los extremos de AJAX en [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] incluso se pueden utilizar sin el marco de AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="75b26-132">AJAX endpoints in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] may even be consumed without the ASP.NET AJAX framework.</span></span> <span data-ttu-id="75b26-133">Para hacer esto es necesario comprender la arquitectura de compatibilidad de AJAX en [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="75b26-133">Doing so requires an understanding of the support architecture of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span> <span data-ttu-id="75b26-134">Para obtener una descripción de esta arquitectura, consulte [modelo de objetos de programación de WCF Web HTTP](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="75b26-134">For a discussion of this architecture, see [WCF Web HTTP Programming Object Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span></span> <span data-ttu-id="75b26-135">Para obtener un ejemplo de código que muestra este enfoque, consulte el [servicio AJAX con JSON y XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span><span class="sxs-lookup"><span data-stu-id="75b26-135">For a code sample demonstrating this approach, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="75b26-136">Vea también</span><span class="sxs-lookup"><span data-stu-id="75b26-136">See Also</span></span>  
 [<span data-ttu-id="75b26-137">Modelo de programación Web HTTP de WCF</span><span class="sxs-lookup"><span data-stu-id="75b26-137">WCF Web HTTP Programming Model</span></span>](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)  
 [<span data-ttu-id="75b26-138">Cómo: agregar un extremo de AJAX de ASP.NET sin usar la configuración</span><span class="sxs-lookup"><span data-stu-id="75b26-138">How to: Add an ASP.NET AJAX Endpoint Without Using Configuration</span></span>](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)  
 [<span data-ttu-id="75b26-139">Cómo: usar la configuración para agregar un extremo de AJAX de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="75b26-139">How to: Use Configuration to Add an ASP.NET AJAX Endpoint</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)  
 [<span data-ttu-id="75b26-140">Cómo: elegir entre HTTP POST y HTTP GET solicitudes para los extremos de AJAX de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="75b26-140">How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)
