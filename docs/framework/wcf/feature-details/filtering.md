---
description: 'Más información sobre: filtrado'
title: Filtrado
ms.date: 03/30/2017
ms.assetid: 4002946c-e34a-4356-8cfb-e25912a4be63
ms.openlocfilehash: d5f2abc1050ece8ebf2bed53a1c963134afad43a
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99793875"
---
# <a name="filtering"></a><span data-ttu-id="0ebe0-103">Filtrado</span><span class="sxs-lookup"><span data-stu-id="0ebe0-103">Filtering</span></span>

<span data-ttu-id="0ebe0-104">El sistema de filtrado de Windows Communication Foundation (WCF) puede usar filtros declarativos para hacer coincidir los mensajes y tomar decisiones operativas.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-104">The Windows Communication Foundation (WCF) filtering system can use declarative filters to match messages and make operational decisions.</span></span> <span data-ttu-id="0ebe0-105">Puede utilizar filtros para determinar qué hacer con un mensaje examinando parte del mensaje.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-105">You can use filters to determine what to do with a message by examining part of the message.</span></span> <span data-ttu-id="0ebe0-106">Un proceso de cola, por ejemplo, puede utilizar una consulta de XPath 1.0 para comprobar el elemento de prioridad de un encabezado conocido para determinar si poner un mensaje al principio de la cola.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-106">A queuing process, for example, can use an XPath 1.0 query to check the priority element of a known header to determine whether to move a message to the front of the queue.</span></span>  
  
 <span data-ttu-id="0ebe0-107">El sistema de filtrado se compone de un conjunto de clases que puede determinar de forma eficaz cuál es un conjunto de filtros `true` para un determinado mensaje de WCF.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-107">The filtering system is composed of a set of classes that can efficiently determine which of a set of filters are `true` for a particular WCF message.</span></span>  
  
 <span data-ttu-id="0ebe0-108">El sistema de filtrado es un componente básico de la mensajería de WCF; está diseñada para ser muy rápida.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-108">The filtering system is a core component of WCF messaging; it is designed to be extremely fast.</span></span> <span data-ttu-id="0ebe0-109">Cada implementación de filtro se ha optimizado para un tipo determinado de coincidencia con los mensajes de WCF.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-109">Each filter implementation has been optimized for a particular kind of matching against WCF messages.</span></span>  
  
 <span data-ttu-id="0ebe0-110">El sistema de filtrado no es seguro para subprocesos.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-110">The filtering system is not thread safe.</span></span> <span data-ttu-id="0ebe0-111">La aplicación debe administrar las semánticas de bloqueo.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-111">The application must handle any locking semantics.</span></span> <span data-ttu-id="0ebe0-112">No obstante, sí que admite un sistema de escritura único y multilector.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-112">It does, however, support a multi-reader, single writer.</span></span>  
  
## <a name="where-filtering-fits"></a><span data-ttu-id="0ebe0-113">Dónde encaja el filtrado</span><span class="sxs-lookup"><span data-stu-id="0ebe0-113">Where Filtering Fits</span></span>  

 <span data-ttu-id="0ebe0-114">El filtrado se realiza una vez que se recibe un mensaje y es parte del proceso de enviar el mensaje al componente de aplicación apropiado.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-114">Filtering is performed after a message is received and is part of the process of dispatching the message to the proper application component.</span></span> <span data-ttu-id="0ebe0-115">El diseño del sistema de filtrado aborda los requisitos de varios subsistemas WCF, incluidos la mensajería, el enrutamiento, la seguridad, el control de eventos y la administración del sistema.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-115">The design of the filtering system addresses the requirements of several WCF subsystems, including messaging, routing, security, event handling, and system management.</span></span>  
  
## <a name="filters"></a><span data-ttu-id="0ebe0-116">Filtros</span><span class="sxs-lookup"><span data-stu-id="0ebe0-116">Filters</span></span>  

 <span data-ttu-id="0ebe0-117">El motor del filtro tiene dos componentes primarios, filtros y tablas de filtro.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-117">The filter engine has two primary components, filters and filter tables.</span></span> <span data-ttu-id="0ebe0-118">Un filtro toma decisiones booleanas sobre un mensaje en función de condiciones lógicas especificadas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-118">A filter makes Boolean decisions about a message based on user-specified logical conditions.</span></span> <span data-ttu-id="0ebe0-119">Los filtros implementan la clase <xref:System.ServiceModel.Dispatcher.MessageFilter>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-119">Filters implement the <xref:System.ServiceModel.Dispatcher.MessageFilter> class.</span></span>  
  
 <span data-ttu-id="0ebe0-120">Los métodos de <xref:System.ServiceModel.Dispatcher.MessageFilter.Match%2A> se utilizan para determinar si un mensaje satisface un filtro.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-120">The <xref:System.ServiceModel.Dispatcher.MessageFilter.Match%2A> methods are used to determine if a message satisfies a filter.</span></span> <span data-ttu-id="0ebe0-121">Uno de los métodos prueba el encabezado del mensaje, pero no puede inspeccionar el cuerpo del mensaje.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-121">One of the methods tests the message's header, but cannot inspect the message body.</span></span> <span data-ttu-id="0ebe0-122">El otro método toma un *búfer de mensajes* como parámetro de entrada y puede inspeccionar el cuerpo del mensaje.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-122">The other method takes a *message buffer* as an input parameter and can inspect the message body.</span></span>  
  
 <span data-ttu-id="0ebe0-123">Normalmente, los filtros no se prueban individualmente, sino como parte de una tabla de filtros, que es una clase genérica que crea el método <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601.CreateFilterTable%2A>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-123">Filters are not usually tested individually, but as part of a filter table, which is a generic class that the <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601.CreateFilterTable%2A> method creates.</span></span>  
  
 <span data-ttu-id="0ebe0-124">Los diversos tipos de filtros se especializan en coincidir con un tipo determinado de condición booleana.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-124">The several kinds of filters each specialize in matching on a particular kind of Boolean condition.</span></span> <span data-ttu-id="0ebe0-125">Una vez que construye un filtro, no puede cambiar los criterios que utiliza el filtro; para modificar el criterio de un filtro, construya un nuevo y elimine el filtro existente.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-125">Once you construct a filter, you cannot change the criteria that a filter uses; to modify a filter's criteria, construct a new one and delete the existing filter.</span></span>  
  
### <a name="action-filters"></a><span data-ttu-id="0ebe0-126">Filtros de acción</span><span class="sxs-lookup"><span data-stu-id="0ebe0-126">Action Filters</span></span>  

 <span data-ttu-id="0ebe0-127">El <xref:System.ServiceModel.Dispatcher.ActionMessageFilter> contiene una lista de cadenas de acción.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-127">The <xref:System.ServiceModel.Dispatcher.ActionMessageFilter> contains a list of action strings.</span></span> <span data-ttu-id="0ebe0-128">Si cualquiera de las acciones en lista de filtros coincide con el encabezado Action en el mensaje o búfer del mensaje, el método `Match` devuelve `true`.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-128">If any of the actions in the filter’s list matches the Action header in the message or message buffer, the `Match` method returns `true`.</span></span> <span data-ttu-id="0ebe0-129">Si la lista está vacía, el filtro se considera como un filtro que coincide con todo y cualquier mensaje o búfer del mensaje coincide y `Match` devuelve `true`.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-129">If the list is empty, the filter is considered a match-all filter and any message or message buffer matches and `Match` returns `true`.</span></span> <span data-ttu-id="0ebe0-130">Si ninguna de las acciones de lista de filtros coincide con el encabezado Action en el mensaje o búfer del mensaje, el método `Match` devuelve `false`.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-130">If none of the actions in the filter’s list matches the Action header in the message or message buffer, `Match` returns `false`.</span></span> <span data-ttu-id="0ebe0-131">Si no hay ninguna acción en el mensaje y la lista de filtros no está vacía, `Match` devuelve `false`.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-131">If there is no action in the message and the filter’s list is non-empty, then `Match` returns `false`.</span></span>  
  
### <a name="endpoint-address-filters"></a><span data-ttu-id="0ebe0-132">Filtros de dirección de punto de conexión</span><span class="sxs-lookup"><span data-stu-id="0ebe0-132">Endpoint Address Filters</span></span>  

 <span data-ttu-id="0ebe0-133">El <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> filtra los mensajes y búferes de mensajes basándose en una dirección de extremo, tal y como se representa en su colección de encabezados.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-133">The <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> filters messages and message buffers based on an endpoint address, as represented in their header collection.</span></span> <span data-ttu-id="0ebe0-134">Para que un mensaje pase un filtro de este tipo, se deben cumplir las condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="0ebe0-134">For a message to pass such a filter, the following conditions must be met:</span></span>  
  
- <span data-ttu-id="0ebe0-135">El Identificador uniforme de recursos (URI) de la dirección del filtro debe ser la misma que la del mensaje del encabezado To.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-135">The filter’s address Uniform Resource Identifier (URI) must be the same as the one in the message To header.</span></span>  
  
- <span data-ttu-id="0ebe0-136">Cada parámetro de punto de conexión en la dirección del filtro (colección`address.Headers`) debe encontrar un encabezado en el mensaje para realizar la asignación.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-136">Each endpoint parameter in the address of the filter (`address.Headers` collection) must find a header in the message to map on.</span></span> <span data-ttu-id="0ebe0-137">Los encabezados adicionales en el mensaje o búfer del mensaje son aceptables para que la coincidencia siga siendo `true`.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-137">Extra headers in the message or message buffer are acceptable for the match to remain `true`.</span></span>  
  
### <a name="prefix-endpoint-address-filters"></a><span data-ttu-id="0ebe0-138">Filtros de direcciones de puntos de conexión de prefijos</span><span class="sxs-lookup"><span data-stu-id="0ebe0-138">Prefix Endpoint Address Filters</span></span>  
  
1. <span data-ttu-id="0ebe0-139">Las funciones <xref:System.ServiceModel.Dispatcher.PrefixEndpointAddressMessageFilter> como el filtro <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>, solo que la coincidencia puede estar en un prefijo del URI del mensaje.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-139">The <xref:System.ServiceModel.Dispatcher.PrefixEndpointAddressMessageFilter> functions just like the <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> filter, except that the match can be on a prefix of the message URI.</span></span> <span data-ttu-id="0ebe0-140">Por ejemplo, un filtro que especifica la dirección `http://www.adatum.com` coincide con los mensajes dirigidos a `http://www.adatum.com/userA` .</span><span class="sxs-lookup"><span data-stu-id="0ebe0-140">For example, a filter specifying the address `http://www.adatum.com` matches messages addressed to `http://www.adatum.com/userA`.</span></span>  
  
### <a name="xpath-message-filters"></a><span data-ttu-id="0ebe0-141">Filtros de mensajes XPath</span><span class="sxs-lookup"><span data-stu-id="0ebe0-141">XPath Message Filters</span></span>  

 <span data-ttu-id="0ebe0-142">Un <xref:System.ServiceModel.Dispatcher.XPathMessageFilter> utiliza una expresión XPath para determinar si un documento XML contiene elementos concretos, atributos, texto u otras construcciones sintácticas de XML.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-142">An <xref:System.ServiceModel.Dispatcher.XPathMessageFilter> uses an XPath expression to determine whether an XML document contains specific elements, attributes, text, or other XML syntactic constructs.</span></span> <span data-ttu-id="0ebe0-143">El filtro se optimiza para ser extremadamente eficaz para un subconjunto estricto de XPath.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-143">The filter is optimized to be extremely efficient for a strict subset of XPath.</span></span> <span data-ttu-id="0ebe0-144">El lenguaje de rutas XML se describe en la [especificación W3C XML Path language 1,0](https://www.w3.org/TR/xpath/all/).</span><span class="sxs-lookup"><span data-stu-id="0ebe0-144">The XML Path Language is described in the [W3C XML Path Language 1.0 specification](https://www.w3.org/TR/xpath/all/).</span></span>  
  
 <span data-ttu-id="0ebe0-145">Normalmente, una aplicación usa un <xref:System.ServiceModel.Dispatcher.XPathMessageFilter> en un extremo para consultar el contenido de un mensaje SOAP y, a continuación, realiza las acciones apropiadas en función de los resultados de esa consulta.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-145">Typically, an application uses an <xref:System.ServiceModel.Dispatcher.XPathMessageFilter> at an endpoint to query the contents of a SOAP message and then takes the appropriate action based on the results of that query.</span></span> <span data-ttu-id="0ebe0-146">Un proceso de cola, por ejemplo, puede utilizar una consulta de XPath para inspeccionar el elemento de prioridad de un encabezado conocido para decidir si poner un mensaje al principio de la cola.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-146">A queuing process, for example, may use an XPath query to inspect the priority element of a known header to decide whether to move a message to the front of the queue.</span></span>  
  
## <a name="filter-tables"></a><span data-ttu-id="0ebe0-147">Tablas de filtros</span><span class="sxs-lookup"><span data-stu-id="0ebe0-147">Filter Tables</span></span>  

 <span data-ttu-id="0ebe0-148">Las tablas de filtros se utilizan para almacenar los pares clave-valor, donde un filtro es la clave y algunos datos asociados son el valor.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-148">Filter tables are used to store key-value pairs, where a filter is the key and some associated data is the value.</span></span> <span data-ttu-id="0ebe0-149">Los datos de filtros se pueden usar para indicar qué acciones emprender si un mensaje coincide con el filtro y el tipo de los datos de filtro es el parámetro genérico para la clase de la tabla de filtros.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-149">The filter data can be used to indicate what actions to take if a message matches the filter and the type of the filter data is the generic parameter for the filter table class.</span></span> <span data-ttu-id="0ebe0-150">Los datos del filtro pueden estar compuestos de reglas de enrutamiento, estado de seguridad de la sesión, agentes de escucha en un canal, etc.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-150">The filter data can consist of routing rules, session security state, listeners on a channel, and so on.</span></span> <span data-ttu-id="0ebe0-151">Se pueden utilizar los datos donde es necesario el control de flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-151">The data can be used where data flow control is necessary.</span></span>  
  
 <span data-ttu-id="0ebe0-152">Las tablas de filtro implementan la interfaz genérica <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-152">Filter tables implement the generic interface <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span></span>  
  
 <span data-ttu-id="0ebe0-153">Las tablas de filtro tienen varios métodos que coinciden con un mensaje frente a todos los filtros de la tabla y devuelven una colección no ordenada de datos o filtros coincidentes.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-153">Filter tables have several methods that match a message against all the filters in the table and return an unordered collection of matching filters or data.</span></span> <span data-ttu-id="0ebe0-154">Algunos de los métodos de coincidencia son de múltiple coincidencia y devuelven todos los elementos coincidentes.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-154">Some of the match methods are multiple-match and return all matching items.</span></span> <span data-ttu-id="0ebe0-155">Otros son de coincidencia única, y solo devuelven un elemento, y producen una <xref:System.ServiceModel.Dispatcher.MultipleFilterMatchesException> si más de un filtro coincide.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-155">Others are single-match, returning only one item, and throw a <xref:System.ServiceModel.Dispatcher.MultipleFilterMatchesException> if more than one filter matches.</span></span>  
  
### <a name="message-filter-table"></a><span data-ttu-id="0ebe0-156">Tabla de filtros de mensajes</span><span class="sxs-lookup"><span data-stu-id="0ebe0-156">Message Filter Table</span></span>  

 <span data-ttu-id="0ebe0-157">La <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> es la implementación más general de <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-157">The <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> is the most general implementation of <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span></span> <span data-ttu-id="0ebe0-158">Puede almacenar filtros de todos los tipos en la tabla.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-158">You can store filters of all types in the table.</span></span>  
  
 <span data-ttu-id="0ebe0-159">Puede asignar prioridades numéricas a los filtros, donde el mayor número representa la prioridad máxima.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-159">You can assign numeric priorities to filters, where the highest priority is signified by the highest number.</span></span> <span data-ttu-id="0ebe0-160">Varios tipos de filtros pueden tener la misma prioridad.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-160">Multiple types of filters can have the same priority.</span></span> <span data-ttu-id="0ebe0-161">Un tipo determinado de filtro puede aparecer en más de un nivel de prioridad.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-161">A particular type of filter can appear in more than one priority level.</span></span>  
  
 <span data-ttu-id="0ebe0-162">La coincidencia se realiza comenzando con la máxima prioridad y una vez que se encuentran filtros coincidentes con una prioridad determinada, no se examina ningún filtro con prioridad inferior.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-162">Matching is done starting with the highest priority, and once matching filters are found with a given priority, no filters with lower priorities are examined.</span></span> <span data-ttu-id="0ebe0-163">Por consiguiente, si está utilizando un método de coincidencia de filtro único, y más de un filtro coincide con un mensaje, pero cada filtro coincidente tiene una prioridad diferente, no se producirá ninguna excepción y se devolverá el filtro con la prioridad más alta.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-163">Therefore, if you are using a single-filter match method, and more than one filter matches a message, but each matching filter has a different priority, then no exception is thrown and the filter with the highest priority is returned.</span></span> <span data-ttu-id="0ebe0-164">De manera similar, un método de coincidencia de múltiples filtros devuelve solo esos filtros coincidentes con la prioridad más alta.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-164">Similarly, a multiple-filter match method returns only those matching filters with the highest priority.</span></span>  
  
### <a name="xpath-message-filter-table"></a><span data-ttu-id="0ebe0-165">Tabla de filtros de mensajes de XPath</span><span class="sxs-lookup"><span data-stu-id="0ebe0-165">XPath Message Filter Table</span></span>  

 <span data-ttu-id="0ebe0-166">La <xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601> se optimiza para los filtros de XPath declarativos, por lo que la clave de la tabla es <xref:System.ServiceModel.Dispatcher.XPathMessageFilter>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-166">The <xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601> is optimized for declarative XPath filters, so the table key is a <xref:System.ServiceModel.Dispatcher.XPathMessageFilter>.</span></span>  
  
 <span data-ttu-id="0ebe0-167">La clase <xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601> optimiza la coincidencia para un subconjunto de XPath que cubre la mayoría de los escenarios de mensajería y también admite la gramática completa de XPath 1.0.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-167">The <xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601> class optimizes matching for a subset of XPath that covers most of the messaging scenarios and also supports the full XPath 1.0 grammar.</span></span> <span data-ttu-id="0ebe0-168">Ha optimizado los algoritmos para una coincidencia paralela eficaz.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-168">It has optimized algorithms for efficient parallel matching.</span></span>  
  
 <span data-ttu-id="0ebe0-169">Esta tabla tiene varios métodos `Match` especializados que funcionan sobre un <xref:System.Xml.XPath.XPathNavigator> y un <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-169">This table has several specialized `Match` methods that operate over an <xref:System.Xml.XPath.XPathNavigator> and a <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator>.</span></span> <span data-ttu-id="0ebe0-170">Un <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> extiende la clase <xref:System.Xml.XPath.XPathNavigator> agregando una propiedad <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator.CurrentPosition%2A>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-170">A <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> extends the <xref:System.Xml.XPath.XPathNavigator> class by adding a <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator.CurrentPosition%2A> property.</span></span> <span data-ttu-id="0ebe0-171">Esta propiedad permite guardar las posiciones del documento XML y cargarlas rápidamente sin tener que clonar el explorador, una asignación de gran consumo de memoria que <xref:System.Xml.XPath.XPathNavigator> requiere para este tipo de operación.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-171">This property allows positions within the XML document to be saved and loaded quickly without having to clone the navigator, an expensive memory allocation that the <xref:System.Xml.XPath.XPathNavigator> requires for such an operation.</span></span> <span data-ttu-id="0ebe0-172">El motor XPath de WCF debe grabar con frecuencia la posición del cursor en el transcurso de la ejecución de consultas en documentos XML, por lo que <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> proporciona una optimización importante para el procesamiento de mensajes.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-172">The WCF XPath engine must frequently record the position of the cursor in the course of executing queries on XML documents, so the <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> provides an important optimization for message processing.</span></span>  
  
## <a name="customer-scenarios"></a><span data-ttu-id="0ebe0-173">Escenarios de cliente</span><span class="sxs-lookup"><span data-stu-id="0ebe0-173">Customer Scenarios</span></span>  

 <span data-ttu-id="0ebe0-174">Puede utilizar el filtrado siempre que desee enviar un mensaje a módulos de procesamiento diferentes en función de los datos contenidos en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-174">You can use filtering any time you want to send a message to different processing modules depending on data contained in the message.</span></span> <span data-ttu-id="0ebe0-175">Dos escenarios típicos enrutan un mensaje en función de su código de acción y demultiplexan una secuencia de mensajes en función de la dirección del extremo de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-175">Two typical scenarios are routing a message based on its action code and de-multiplexing a stream of messages based on the messages' endpoint address.</span></span>  
  
### <a name="routing"></a><span data-ttu-id="0ebe0-176">Enrutamiento</span><span class="sxs-lookup"><span data-stu-id="0ebe0-176">Routing</span></span>  

 <span data-ttu-id="0ebe0-177">El agente de escuchas de un extremo realiza escuchas para los mensajes que tienen un o más códigos de acción en el encabezado SOAP del mensaje.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-177">The listener of an endpoint listens for messages that have one or more action codes in the message's SOAP header.</span></span> <span data-ttu-id="0ebe0-178">Esto se implementa mediante la creación de un <xref:System.ServiceModel.Dispatcher.ActionMessageFilter> pasando una matriz que contenga los códigos de acción a su constructor.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-178">You implement this by creating an <xref:System.ServiceModel.Dispatcher.ActionMessageFilter> by passing an array that contains the action codes to its constructor.</span></span> <span data-ttu-id="0ebe0-179">Utiliza ese filtro para registrarse con el `ListenerFactory`, de modo que solo los mensajes cuya acción coincida con uno de aquéllos en el filtro lleguen a ese extremo concreto.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-179">It uses that filter to register with the `ListenerFactory`, so only messages whose action matches one of those in the filter get to that particular endpoint.</span></span>  
  
### <a name="de-multiplexing"></a><span data-ttu-id="0ebe0-180">Demultiplexación</span><span class="sxs-lookup"><span data-stu-id="0ebe0-180">De-multiplexing</span></span>  

 <span data-ttu-id="0ebe0-181">Cuando varios puntos de conexión abanican se extienden fuera del mismo `ServiceListener` fuera de la conexión, la única manera de demultiplexar los mensajes y saber si pertenecen a una cierta dirección del punto de conexión, consiste en utilizar <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>s que seleccionen mensajes hacia los puntos de conexión registrados mediante una búsqueda en la información almacenada en los encabezados.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-181">When multiple endpoints fan out from the same `ServiceListener` off the wire, the only way to de-multiplex messages and know whether they belong to a certain endpoint address, is to use <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>s, which select messages toward the registered endpoints by performing a lookup on the information stored in the headers.</span></span> <span data-ttu-id="0ebe0-182">En estos filtros, solo aquellos mensajes que pasan tienen todos los encabezados necesarios que corresponden a ambos:</span><span class="sxs-lookup"><span data-stu-id="0ebe0-182">In these filters, only those messages that pass have all necessary headers that correspond to both:</span></span>  
  
- <span data-ttu-id="0ebe0-183">El URI en la `EndpointAddress`.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-183">The URI in the `EndpointAddress`.</span></span>  
  
- <span data-ttu-id="0ebe0-184">El resto de los parámetros de extremo en la `EndpointAddress` tal y como se especifica en el <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>.</span><span class="sxs-lookup"><span data-stu-id="0ebe0-184">The rest of the endpoint parameters in the `EndpointAddress` as specified in the <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0ebe0-185">Vea también</span><span class="sxs-lookup"><span data-stu-id="0ebe0-185">See also</span></span>

- [<span data-ttu-id="0ebe0-186">Transferencia y serialización de datos</span><span class="sxs-lookup"><span data-stu-id="0ebe0-186">Data Transfer and Serialization</span></span>](data-transfer-and-serialization.md)
