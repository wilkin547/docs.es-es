---
title: Información general de colas
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], MSMQ integration
ms.assetid: b8757992-ffce-40ad-9e9b-3243f6d0fce1
ms.openlocfilehash: 464b82c41fe1268d53d77f7bf3cb9463cf235072
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96244644"
---
# <a name="queues-overview"></a><span data-ttu-id="f7df1-102">Información general sobre colas</span><span class="sxs-lookup"><span data-stu-id="f7df1-102">Queues overview</span></span>

<span data-ttu-id="f7df1-103">En esta sección se presentan los conceptos generales y básicos detrás de la comunicación puesta en la cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-103">This section introduces the general and core concepts behind queued communication.</span></span> <span data-ttu-id="f7df1-104">En las secciones siguientes se describen los detalles sobre cómo se manifiestan los conceptos de colas descritos en Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="f7df1-104">Subsequent sections go into details about how the queuing concepts described here are manifested in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="basic-queuing-concepts"></a><span data-ttu-id="f7df1-105">Conceptos de puesta en cola básicos</span><span class="sxs-lookup"><span data-stu-id="f7df1-105">Basic Queuing Concepts</span></span>  

 <span data-ttu-id="f7df1-106">Cuando se diseña una aplicación distribuida, es importante elegir el transporte adecuado para la comunicación entre los servicios y clientes.</span><span class="sxs-lookup"><span data-stu-id="f7df1-106">When designing a distributed application, choosing the right transport for communication between services and clients is important.</span></span> <span data-ttu-id="f7df1-107">Varios factores afectan el tipo de transporte que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="f7df1-107">Several factors affect the kind of transport to use.</span></span> <span data-ttu-id="f7df1-108">Un factor importante —aislamiento entre el servicio, el cliente y el transporte— determina el uso de un transporte en cola o un transporte directo, como TCP o HTTP.</span><span class="sxs-lookup"><span data-stu-id="f7df1-108">One important factor—isolation between the service, the client, and the transport—determines use of a queued transport or a direct transport, such as TCP or HTTP.</span></span> <span data-ttu-id="f7df1-109">Debido a la naturaleza de los transportes directos como TCP y HTTP, la comunicación se detiene por completo si el servicio o el cliente para de funcionar o si se produce un error en la red.</span><span class="sxs-lookup"><span data-stu-id="f7df1-109">Due to the nature of direct transports such as TCP and HTTP, communication stops altogether if the service or the client stop functioning or if the network fails.</span></span> <span data-ttu-id="f7df1-110">El servicio, el cliente y la red deben estar en ejecución al mismo tiempo para que funcione la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f7df1-110">The service, the client, and the network must be running at the same time for the application to work.</span></span> <span data-ttu-id="f7df1-111">Los transportes puestos en cola proporcionan aislamiento, lo cual significa que si hay un error en el servicio o cliente o si los vínculos de comunicaciones fallan entre ellos, el cliente y servicio pueden continuar funcionando.</span><span class="sxs-lookup"><span data-stu-id="f7df1-111">Queued transports provide isolation, which means that if the service or client fail or if communication links between them fail, the client and service can continue to function.</span></span>  
  
 <span data-ttu-id="f7df1-112">Las colas proporcionan comunicación de confianza incluso si hay errores en las partes que se comunican o en la red.</span><span class="sxs-lookup"><span data-stu-id="f7df1-112">Queues provide reliable communication even with failures in the communicating parties or the network.</span></span> <span data-ttu-id="f7df1-113">Las colas capturan y entregan los mensajes intercambiados entre las partes que se comunican.</span><span class="sxs-lookup"><span data-stu-id="f7df1-113">Queues capture and deliver messages exchanged between the communicating parties.</span></span> <span data-ttu-id="f7df1-114">Normalmente, las colas están respaldadas por un tipo de almacén, que puede ser volátil o durable.</span><span class="sxs-lookup"><span data-stu-id="f7df1-114">Queues are typically backed by some kind of a store, which can be volatile or durable.</span></span> <span data-ttu-id="f7df1-115">Las colas almacenan los mensajes de un cliente en nombre de un servicio y, a continuación, reenvían estos mensajes al servicio.</span><span class="sxs-lookup"><span data-stu-id="f7df1-115">Queues store messages from a client on behalf of a service and later forward these messages to the service.</span></span> <span data-ttu-id="f7df1-116">Las colas del direccionamiento indirecto proporcionan aislamiento de error garantizado a cualquier parte, de modo que lo convierte en el mecanismo de comunicación preferido para los sistemas de alta disponibilidad y servicios desconectados.</span><span class="sxs-lookup"><span data-stu-id="f7df1-116">The indirection queues provide ensured isolation of failure by either party, thus making it the preferred communication mechanism for high-availability systems and disconnected services.</span></span> <span data-ttu-id="f7df1-117">El direccionamiento indirecto viene con el costo de latencia alta.</span><span class="sxs-lookup"><span data-stu-id="f7df1-117">The indirection comes with the cost of high latency.</span></span> <span data-ttu-id="f7df1-118">La *latencia* es el tiempo que transcurre entre el momento en que el cliente envía un mensaje y el momento en que el servicio lo recibe.</span><span class="sxs-lookup"><span data-stu-id="f7df1-118">*Latency* is the time delay between the time the client sends a message and the time the service receives it.</span></span> <span data-ttu-id="f7df1-119">Esto significa que una vez se envía un mensaje, no sabe cuando se puede procesar ese mensaje.</span><span class="sxs-lookup"><span data-stu-id="f7df1-119">This means that once a message is sent, you do not know when that message may be processed.</span></span> <span data-ttu-id="f7df1-120">La mayoría de las aplicaciones en cola se enfrentan a una latencia elevada.</span><span class="sxs-lookup"><span data-stu-id="f7df1-120">Most queued applications cope with high latency.</span></span> <span data-ttu-id="f7df1-121">La ilustración siguiente muestra un modelo conceptual de comunicación en cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-121">The following illustration shows a conceptual model of queued communication.</span></span>  
  
 <span data-ttu-id="f7df1-122">![Modelo de comunicación en cola](media/qconceptual-figure1c.gif "QConceptual-Figure1c")</span><span class="sxs-lookup"><span data-stu-id="f7df1-122">![Model of queued communication](media/qconceptual-figure1c.gif "QConceptual-Figure1c")</span></span>  
  
 <span data-ttu-id="f7df1-123">Modelo conceptual de comunicación en cola</span><span class="sxs-lookup"><span data-stu-id="f7df1-123">Queued communication conceptual model</span></span>  
  
 <span data-ttu-id="f7df1-124">En realidad, la cola es un concepto distribuido.</span><span class="sxs-lookup"><span data-stu-id="f7df1-124">In reality, the queue is a distributed concept.</span></span> <span data-ttu-id="f7df1-125">Como tal, pueden ser locales en cualquier parte o remoto en ambas partes.</span><span class="sxs-lookup"><span data-stu-id="f7df1-125">As such, they can be local to either party or remote to both parties.</span></span> <span data-ttu-id="f7df1-126">Normalmente, la cola es local en el servicio.</span><span class="sxs-lookup"><span data-stu-id="f7df1-126">Typically, the queue is local to the service.</span></span> <span data-ttu-id="f7df1-127">En esta configuración, el cliente no puede depender de la conectividad a la cola remota para estar constantemente disponible.</span><span class="sxs-lookup"><span data-stu-id="f7df1-127">In this configuration, the client cannot depend on connectivity to the remote queue to be constantly available.</span></span> <span data-ttu-id="f7df1-128">De igual forma, la cola debe estar disponible independiente de la disponibilidad del servicio que lee de la cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-128">Similarly, the queue must be available independent of the availability of the service reading from the queue.</span></span> <span data-ttu-id="f7df1-129">Un administrador de cola administra una colección de colas.</span><span class="sxs-lookup"><span data-stu-id="f7df1-129">A queue manager manages a collection of queues.</span></span> <span data-ttu-id="f7df1-130">Es responsable de aceptar mensajes enviados a sus colas desde otros administradores de cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-130">It is responsible for accepting messages sent to its queues from other queue managers.</span></span> <span data-ttu-id="f7df1-131">También es responsable de administrar la conectividad a las colas remotas y de transferir los mensajes a esas colas remotas.</span><span class="sxs-lookup"><span data-stu-id="f7df1-131">It is also responsible for managing connectivity to remote queues and transferring messages to those remote queues.</span></span> <span data-ttu-id="f7df1-132">Para garantizar la disponibilidad de las colas a pesar de los errores de aplicación del cliente o de servicio, el administrador de cola se ejecuta normalmente como un servicio externo.</span><span class="sxs-lookup"><span data-stu-id="f7df1-132">To ensure availability of queues despite client or service application failures, the queue manager is typically run as an external service.</span></span>  
  
 <span data-ttu-id="f7df1-133">Cuando un cliente envía un mensaje a una cola, envía el mensaje a la cola de destino, que es la cola administrada por el administrador de cola del servicio.</span><span class="sxs-lookup"><span data-stu-id="f7df1-133">When a client sends a message to a queue, it addresses the message to the target queue, which is the queue managed by the service's queue manager.</span></span> <span data-ttu-id="f7df1-134">El administrador de cola del cliente envía el mensaje a una cola de transmisión (o de salida).</span><span class="sxs-lookup"><span data-stu-id="f7df1-134">The queue manager on the client sends the message to a transmission (or outgoing) queue.</span></span> <span data-ttu-id="f7df1-135">La cola de transmisión es una cola del administrador de cola del cliente que almacena los mensajes para transmitirlos a la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="f7df1-135">The transmission queue is a queue on the client queue manager that stores messages for transmission to the target queue.</span></span> <span data-ttu-id="f7df1-136">A continuación, el administrador de cola busca una ruta de acceso para el administrador de cola que posee la cola de destino y transfiere el mensaje a dicha cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-136">The queue manager then finds a path to the queue manager that owns the target queue and transfers the message to it.</span></span> <span data-ttu-id="f7df1-137">Para garantizar la comunicación de confianza, los administradores de cola implementan un protocolo de transferencia de confianza para evitar la pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="f7df1-137">To ensure reliable communication, the queue managers implement a reliable transfer protocol to prevent data loss.</span></span> <span data-ttu-id="f7df1-138">El administrador de la cola de destino acepta los mensajes enviados a las colas de destino que posee y almacena los mensajes.</span><span class="sxs-lookup"><span data-stu-id="f7df1-138">The destination queue manager accepts messages addressed to the target queues it owns and stores the messages.</span></span> <span data-ttu-id="f7df1-139">El servicio solicita leer de la cola de destino y, en este momento, el administrador de cola entrega el mensaje a la aplicación destino.</span><span class="sxs-lookup"><span data-stu-id="f7df1-139">The service makes requests to read from the target queue, at which time the queue manager then delivers the message to the destination application.</span></span> <span data-ttu-id="f7df1-140">La ilustración siguiente muestra la comunicación entre las cuatro partes.</span><span class="sxs-lookup"><span data-stu-id="f7df1-140">The following illustration shows communication between the four parties.</span></span>  
  
 <span data-ttu-id="f7df1-141">![Diagrama de aplicaciones puestas en cola](media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span><span class="sxs-lookup"><span data-stu-id="f7df1-141">![Queued Application Diagram](media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="f7df1-142">Comunicación en cola en un escenario de implementación habitual</span><span class="sxs-lookup"><span data-stu-id="f7df1-142">Queued communication in a typical deployment scenario</span></span>  
  
 <span data-ttu-id="f7df1-143">De este modo, el administrador de cola proporciona el aislamiento necesario para que se pueda producir un error en el remitente y receptor de forma independiente sin afectar a la comunicación real.</span><span class="sxs-lookup"><span data-stu-id="f7df1-143">Thus, the queue manager provides the required isolation so that the sender and receiver can independently fail without affecting actual communication.</span></span> <span data-ttu-id="f7df1-144">La ventaja del direccionamiento indirecto adicional que las colas proporcionan también habilita varias instancias de aplicación para leer de la misma cola, para que el trabajo entre los nodos logre el rendimiento más elevado.</span><span class="sxs-lookup"><span data-stu-id="f7df1-144">The benefit of extra indirection that queues provide also enables multiple application instances to read from the same queue, so that farming work among the nodes achieves higher throughput.</span></span> <span data-ttu-id="f7df1-145">Por lo tanto, no es raro ver colas que se utilizan para lograr la escala más alta y requisitos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f7df1-145">Therefore, it is not uncommon to see queues being used to achieve higher scale and throughput requirements.</span></span>  
  
## <a name="queues-and-transactions"></a><span data-ttu-id="f7df1-146">Colas y transacciones</span><span class="sxs-lookup"><span data-stu-id="f7df1-146">Queues and Transactions</span></span>  

 <span data-ttu-id="f7df1-147">Las transacciones le permiten agrupar un conjunto de operaciones de modo que si se produce un error en una operación, se producirá un error en todas las operaciones.</span><span class="sxs-lookup"><span data-stu-id="f7df1-147">Transactions allow you to group a set of operations together so that if one operation fails, all of the operations fail.</span></span> <span data-ttu-id="f7df1-148">Un ejemplo de cómo usar transacciones es cuando una persona usa un cajero automático para transferir $1.000 de su cuenta de ahorro a su cuenta de comprobación.</span><span class="sxs-lookup"><span data-stu-id="f7df1-148">An example of how to use transactions is when a person uses an ATM to transfer $1,000 from their savings account to their checking account.</span></span> <span data-ttu-id="f7df1-149">Esto supone las operaciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="f7df1-149">This entails the following operations:</span></span>  
  
- <span data-ttu-id="f7df1-150">Retirar $1,000 de la cuenta de ahorros.</span><span class="sxs-lookup"><span data-stu-id="f7df1-150">Withdrawing $1,000 from the savings account.</span></span>  
  
- <span data-ttu-id="f7df1-151">Depositar $1,000 en la cuenta corriente.</span><span class="sxs-lookup"><span data-stu-id="f7df1-151">Depositing $1,000 into the checking account.</span></span>  
  
 <span data-ttu-id="f7df1-152">Si la primera operación es correcta y se retiran $1,000 de la cuenta de los ahorros, pero se produce un error en la segunda operación, se pierden los $1,000 porque ya se han retirado de la cuenta de ahorros.</span><span class="sxs-lookup"><span data-stu-id="f7df1-152">If the first operation succeeds and $1,000 is withdrawn from the savings account but the second operation fails, the $1,000 is lost because it has already been withdrawn from the savings account.</span></span> <span data-ttu-id="f7df1-153">Para mantener las cuentas en estado válido, si se produce un error en una operación, se debe producir un error en ambas operaciones.</span><span class="sxs-lookup"><span data-stu-id="f7df1-153">To keep the accounts in a valid state, if one operation fails, both operations must fail.</span></span>  
  
 <span data-ttu-id="f7df1-154">En mensajería transaccional, se pueden enviar mensajes a la cola y recibir mensajes de la cola bajo en una transacción.</span><span class="sxs-lookup"><span data-stu-id="f7df1-154">In transactional messaging, messages can be sent to the queue and received from the queue under a transaction.</span></span> <span data-ttu-id="f7df1-155">De este modo, si se envía un mensaje en una transacción y se deshace la transacción, a continuación, el resultado es como si el mensaje nunca se hubiera enviado a la cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-155">Thus, if a message is sent in a transaction and the transaction is rolled back, then the outcome is as if the message had never been sent to the queue.</span></span> <span data-ttu-id="f7df1-156">De igual forma, si se recibe un mensaje en una transacción y se deshace la transacción, a continuación, el resultado es como si el mensaje nunca se hubiera recibido.</span><span class="sxs-lookup"><span data-stu-id="f7df1-156">Similarly if a message is received in a transaction and the transaction is rolled back, then the outcome is as if the message had never been received.</span></span> <span data-ttu-id="f7df1-157">El mensaje permanece en la cola para ser leído.</span><span class="sxs-lookup"><span data-stu-id="f7df1-157">The message remains in the queue to be read.</span></span>  
  
 <span data-ttu-id="f7df1-158">Debido a la latencia elevada, cuando envíe un mensaje, usted podrá saber de ninguna manera cuánto tiempo tarda en alcanzar su cola de destino, ni sabrá cuánto tiempo tarda el servicio en procesar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="f7df1-158">Because of high latency, when you send a message you have no way of knowing how long it takes to reach its target queue, nor do you know how long it takes for the service to process the message.</span></span> <span data-ttu-id="f7df1-159">Por ello, usted no quiere utilizar una transacción única para enviar el mensaje, recibir el mensaje y, a continuación, procesar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="f7df1-159">Because of this, you do not want to use a single transaction to send the message, receive the message, and then process the message.</span></span> <span data-ttu-id="f7df1-160">Esto crea una transacción que no está confirmada durante un período indeterminado de tiempo.</span><span class="sxs-lookup"><span data-stu-id="f7df1-160">This creates a transaction that is not committed for an indeterminate amount of time.</span></span> <span data-ttu-id="f7df1-161">Cuando un cliente y servicio se comunican a través de una cola utilizando una transacción, se implican dos transacciones: una en el cliente y una en el servicio.</span><span class="sxs-lookup"><span data-stu-id="f7df1-161">When a client and service communicate through a queue using a transaction, two transactions are involved: one on the client and one on the service.</span></span> <span data-ttu-id="f7df1-162">La ilustración siguiente muestra los límites de una transacción en comunicación en cola habitual.</span><span class="sxs-lookup"><span data-stu-id="f7df1-162">The following illustration shows the transaction boundaries in typical queued communication.</span></span>  
  
 <span data-ttu-id="f7df1-163">![Cola con transacciones](media/qwithtransactions-figure3.gif "QWithTransactions-Figure3")</span><span class="sxs-lookup"><span data-stu-id="f7df1-163">![Queue with transactions](media/qwithtransactions-figure3.gif "QWithTransactions-Figure3")</span></span>  
  
 <span data-ttu-id="f7df1-164">Comunicación en cola que muestra transacciones independientes para la captura y entrega</span><span class="sxs-lookup"><span data-stu-id="f7df1-164">Queued communication showing separate transactions for capture and delivery</span></span>  
  
 <span data-ttu-id="f7df1-165">La transacción del cliente procesa y envía el mensaje.</span><span class="sxs-lookup"><span data-stu-id="f7df1-165">The client transaction processes and sends the message.</span></span> <span data-ttu-id="f7df1-166">Cuando se confirma la transacción, el mensaje está en la cola de transmisión.</span><span class="sxs-lookup"><span data-stu-id="f7df1-166">When the transaction is committed, the message is in the transmission queue.</span></span> <span data-ttu-id="f7df1-167">En el servicio, la transacción lee el mensaje desde la cola de destino, procesa el mensaje y, a continuación, confirma la transacción.</span><span class="sxs-lookup"><span data-stu-id="f7df1-167">On the service, the transaction reads the message from the target queue, processes the message, and then commits the transaction.</span></span> <span data-ttu-id="f7df1-168">Si se produce un error durante el procesamiento, se deshace el mensaje y se coloca en la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="f7df1-168">If an error occurs during the processing, the message is rolled back and placed in the target queue.</span></span>  
  
## <a name="asynchronous-communication-using-queues"></a><span data-ttu-id="f7df1-169">Comunicación asincrónica utilizando colas</span><span class="sxs-lookup"><span data-stu-id="f7df1-169">Asynchronous Communication Using Queues</span></span>  

 <span data-ttu-id="f7df1-170">Las colas proporcionan un medio asincrónico de comunicación.</span><span class="sxs-lookup"><span data-stu-id="f7df1-170">Queues provide an asynchronous means of communication.</span></span> <span data-ttu-id="f7df1-171">Las aplicaciones que envían mensajes mediante colas no pueden esperar a que el receptor reciba y procese el mensaje debido a la latencia elevada introducida por el administrador de cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-171">Applications that send messages using queues cannot wait for the message to be received and processed by the receiver because of high latency introduced by the queue manager.</span></span> <span data-ttu-id="f7df1-172">Los mensajes pueden permanecer en la cola durante un período de tiempo más largo del previsto por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f7df1-172">Messages can remain in the queue for a far longer time than the application intended.</span></span> <span data-ttu-id="f7df1-173">Para evitarlo, la aplicación puede especificar un valor de período de vida en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="f7df1-173">To avoid this, the application can specify a Time-To-Live value on the message.</span></span> <span data-ttu-id="f7df1-174">Este valor especifica cuánto tiempo debería permanecer en la cola de transmisión el mensaje.</span><span class="sxs-lookup"><span data-stu-id="f7df1-174">This value specifies how long the message should remain in the transmission queue.</span></span> <span data-ttu-id="f7df1-175">Si se supera este valor de tiempo, y el mensaje todavía no se ha enviado a la cola de destino, se puede transferir el mensaje a una cola de mensajes no enviados.</span><span class="sxs-lookup"><span data-stu-id="f7df1-175">If this time value is exceeded, and the message still has not been sent to the target queue, the message can be transferred to a dead-letter queue.</span></span>  
  
 <span data-ttu-id="f7df1-176">Cuando el remitente envía un mensaje, el retorno de la operación enviada implica que el mensaje sólo se envió a la cola de transmisión del remitente.</span><span class="sxs-lookup"><span data-stu-id="f7df1-176">When the sender sends a message, the return from the send operation implies that the message only made it to the transmission queue on the sender.</span></span> <span data-ttu-id="f7df1-177">Como tal, si hay un error en el mensaje de la cola de destino, la aplicación emisora no puede saberlo inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="f7df1-177">As such, if there is a failure in getting the message to the target queue, the sending application cannot know about it immediately.</span></span> <span data-ttu-id="f7df1-178">Para tomar nota de estos errores, el mensaje que no se ha podido enviar se transfiere a una cola de mensajes no enviados.</span><span class="sxs-lookup"><span data-stu-id="f7df1-178">To take note of such failures, the failed message is transferred to a dead-letter queue.</span></span>  
  
 <span data-ttu-id="f7df1-179">Cualquier error, como por ejemplo, un mensaje que no ha alcanzado la cola de destino o un período de vida caducado, se debe procesar por separado.</span><span class="sxs-lookup"><span data-stu-id="f7df1-179">Any error, such as a message failing to reach the target queue or the Time-To-Live expiring, must be processed separately.</span></span> <span data-ttu-id="f7df1-180">Por lo tanto, no es raro que las aplicaciones en cola escriban dos conjuntos de lógica:</span><span class="sxs-lookup"><span data-stu-id="f7df1-180">It is not uncommon, therefore, for queued applications to write two sets of logic:</span></span>  
  
- <span data-ttu-id="f7df1-181">Cliente normal y lógica del servicio de enviar y recibir mensajes.</span><span class="sxs-lookup"><span data-stu-id="f7df1-181">The normal client and service logic of sending and receiving messages.</span></span>  
  
- <span data-ttu-id="f7df1-182">Lógica de la compensación para administrar los mensajes de la transmisión no o entrega no efectuadas.</span><span class="sxs-lookup"><span data-stu-id="f7df1-182">Compensation logic to handle messages from the failed transmission or delivery.</span></span>  
  
 <span data-ttu-id="f7df1-183">Las secciones siguientes discuten estos conceptos.</span><span class="sxs-lookup"><span data-stu-id="f7df1-183">The following sections discuss these concepts.</span></span>  
  
## <a name="dead-letter-queue-programming"></a><span data-ttu-id="f7df1-184">Programación de la cola de mensajes no entregados</span><span class="sxs-lookup"><span data-stu-id="f7df1-184">Dead-Letter Queue Programming</span></span>  

 <span data-ttu-id="f7df1-185">Las colas de mensajes no enviados contienen mensajes que no pudieron alcanzar la cola de destino por varias razones.</span><span class="sxs-lookup"><span data-stu-id="f7df1-185">Dead-letter queues contain messages that failed to reach the target queue for various reasons.</span></span> <span data-ttu-id="f7df1-186">Las razones pueden variar desde mensajes expirados a problemas en la conectividad que evitan la transferencia del mensaje a la cola de destino.</span><span class="sxs-lookup"><span data-stu-id="f7df1-186">The reasons can range from expired messages to connectivity issues preventing transfer of the message to the target queue.</span></span>  
  
 <span data-ttu-id="f7df1-187">Normalmente, una aplicación puede leer los mensajes desde una cola de mensajes no enviados para todo el sistema, determinar qué salió mal y realizar las acciones necesarias, como corregir los errores y reenviar el mensaje o anotarlo.</span><span class="sxs-lookup"><span data-stu-id="f7df1-187">Typically, an application can read messages from a system-wide dead-letter queue, determine what went wrong, and take appropriate action, such as correcting the errors and resending the message or taking note of it.</span></span>  
  
## <a name="poison-message-queue-programming"></a><span data-ttu-id="f7df1-188">Programación de la cola de mensajes dudosos</span><span class="sxs-lookup"><span data-stu-id="f7df1-188">Poison Message Queue Programming</span></span>  

 <span data-ttu-id="f7df1-189">Una vez el mensaje alcance la cola de destino, puede que el servicio no pueda procesar el mensaje repetidamente.</span><span class="sxs-lookup"><span data-stu-id="f7df1-189">After a message makes it to the target queue, the service may repeatedly fail to process the message.</span></span> <span data-ttu-id="f7df1-190">Por ejemplo, una aplicación que lee un mensaje desde la cola de una transacción y actualiza una base de datos puede encontrar la base de datos temporalmente desconectada.</span><span class="sxs-lookup"><span data-stu-id="f7df1-190">For example, an application reading a message from the queue under a transaction and updating a database may find the database temporarily disconnected.</span></span> <span data-ttu-id="f7df1-191">En este caso, la transacción se deshace, se crea una nueva transacción y se relee el mensaje de la cola.</span><span class="sxs-lookup"><span data-stu-id="f7df1-191">In this case, the transaction is rolled back, a new transaction is created, and the message is reread from the queue.</span></span> <span data-ttu-id="f7df1-192">Puede que un segundo intento funcione o no.</span><span class="sxs-lookup"><span data-stu-id="f7df1-192">A second attempt may succeed or fail.</span></span> <span data-ttu-id="f7df1-193">En algunos casos, dependiendo de la causa del error, el mensaje puede producir un error repetidamente en la entrega a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f7df1-193">In some cases, depending on the cause of the error, the message may repeatedly fail delivery to the application.</span></span> <span data-ttu-id="f7df1-194">En este caso, el mensaje se considera "dudoso."</span><span class="sxs-lookup"><span data-stu-id="f7df1-194">In this case, the message is deemed as "poison."</span></span> <span data-ttu-id="f7df1-195">Estos mensajes se mueven a una cola de mensajes dudosos, que se puede leer por una aplicación de administración de mensajes dudosos.</span><span class="sxs-lookup"><span data-stu-id="f7df1-195">Such messages are moved to a poison queue that can be read by a poison-handling application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f7df1-196">Vea también</span><span class="sxs-lookup"><span data-stu-id="f7df1-196">See also</span></span>

- [<span data-ttu-id="f7df1-197">Las colas en WCF</span><span class="sxs-lookup"><span data-stu-id="f7df1-197">Queuing in WCF</span></span>](queuing-in-wcf.md)
- [<span data-ttu-id="f7df1-198">Sesiones y colas</span><span class="sxs-lookup"><span data-stu-id="f7df1-198">Sessions and Queues</span></span>](../samples/sessions-and-queues.md)
- [<span data-ttu-id="f7df1-199">Colas con problemas de entrega</span><span class="sxs-lookup"><span data-stu-id="f7df1-199">Dead Letter Queues</span></span>](../samples/dead-letter-queues.md)
- [<span data-ttu-id="f7df1-200">Comunicación en cola volátil</span><span class="sxs-lookup"><span data-stu-id="f7df1-200">Volatile Queued Communication</span></span>](../samples/volatile-queued-communication.md)
- [<span data-ttu-id="f7df1-201">Windows Communication Foundation a Message Queuing</span><span class="sxs-lookup"><span data-stu-id="f7df1-201">Windows Communication Foundation to Message Queuing</span></span>](../samples/wcf-to-message-queuing.md)
- [<span data-ttu-id="f7df1-202">Instalar Message Queuing (MSMQ)</span><span class="sxs-lookup"><span data-stu-id="f7df1-202">Installing Message Queuing (MSMQ)</span></span>](../samples/installing-message-queuing-msmq.md)
- [<span data-ttu-id="f7df1-203">Message Queuing a Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="f7df1-203">Message Queuing to Windows Communication Foundation</span></span>](../samples/message-queuing-to-wcf.md)
- [<span data-ttu-id="f7df1-204">Seguridad de mensajes mediante Message Queuing</span><span class="sxs-lookup"><span data-stu-id="f7df1-204">Message Security over Message Queuing</span></span>](../samples/message-security-over-message-queuing.md)
