---
title: Diseño de contratos de servicios
description: Obtenga información sobre los contratos de servicio, incluida la forma de crearlos, las operaciones y los tipos de datos disponibles, y otros aspectos de los contratos de servicio en la programación de WCF.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- service contracts [WCF]
ms.assetid: 8e89cbb9-ac84-4f0d-85ef-0eb6be0022fd
ms.openlocfilehash: 366157b86ed7c420aed9a3a70838b4d6cd1e451f
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/23/2020
ms.locfileid: "85245393"
---
# <a name="designing-service-contracts"></a><span data-ttu-id="15135-103">Diseño de contratos de servicios</span><span class="sxs-lookup"><span data-stu-id="15135-103">Designing Service Contracts</span></span>
<span data-ttu-id="15135-104">En este tema se describe qué son los contratos de servicios, cómo se definen, qué operaciones están disponibles (y las implicaciones para los intercambios de mensajes subyacentes), qué tipos de datos se usan y otras cuestiones que le ayudan a diseñar operaciones que satisfagan adecuadamente los requisitos de su escenario.</span><span class="sxs-lookup"><span data-stu-id="15135-104">This topic describes what service contracts are, how they are defined, what operations are available (and the implications for the underlying message exchanges), what data types are used, and other issues that help you design operations that satisfy the requirements of your scenario.</span></span>  
  
## <a name="creating-a-service-contract"></a><span data-ttu-id="15135-105">Crear un contrato de servicios</span><span class="sxs-lookup"><span data-stu-id="15135-105">Creating a Service Contract</span></span>  
 <span data-ttu-id="15135-106">Los servicios exponen varias operaciones.</span><span class="sxs-lookup"><span data-stu-id="15135-106">Services expose a number of operations.</span></span> <span data-ttu-id="15135-107">En aplicaciones Windows Communication Foundation (WCF), defina las operaciones creando un método y marcándolos con el <xref:System.ServiceModel.OperationContractAttribute> atributo.</span><span class="sxs-lookup"><span data-stu-id="15135-107">In Windows Communication Foundation (WCF) applications, define the operations by creating a method and marking it with the <xref:System.ServiceModel.OperationContractAttribute> attribute.</span></span> <span data-ttu-id="15135-108">A continuación, para crear un contrato de servicios, agrupe sus operaciones, declarándolas dentro de una interfaz marcada con el atributo <xref:System.ServiceModel.ServiceContractAttribute>, o bien definiéndolas en una clase marcada con el mismo atributo.</span><span class="sxs-lookup"><span data-stu-id="15135-108">Then, to create a service contract, group together your operations, either by declaring them within an interface marked with the <xref:System.ServiceModel.ServiceContractAttribute> attribute, or by defining them in a class marked with the same attribute.</span></span> <span data-ttu-id="15135-109">(Para obtener un ejemplo básico, consulte [Cómo: definir un contrato de servicio](how-to-define-a-wcf-service-contract.md)).</span><span class="sxs-lookup"><span data-stu-id="15135-109">(For a basic example, see [How to: Define a Service Contract](how-to-define-a-wcf-service-contract.md).)</span></span>  
  
 <span data-ttu-id="15135-110">Los métodos que no tienen un <xref:System.ServiceModel.OperationContractAttribute> atributo no son operaciones de servicio y no están expuestos por los servicios WCF.</span><span class="sxs-lookup"><span data-stu-id="15135-110">Any methods that do not have a <xref:System.ServiceModel.OperationContractAttribute> attribute are not service operations and are not exposed by WCF services.</span></span>  
  
 <span data-ttu-id="15135-111">Este tema describe los puntos de decisión siguientes al diseñar un contrato de servicios:</span><span class="sxs-lookup"><span data-stu-id="15135-111">This topic describes the following decision points when designing a service contract:</span></span>  
  
- <span data-ttu-id="15135-112">Si deben utilizarse clases o interfaces.</span><span class="sxs-lookup"><span data-stu-id="15135-112">Whether to use classes or interfaces.</span></span>  
  
- <span data-ttu-id="15135-113">Cómo especificar los tipos de datos que desea intercambiar.</span><span class="sxs-lookup"><span data-stu-id="15135-113">How to specify the data types you want to exchange.</span></span>  
  
- <span data-ttu-id="15135-114">Los tipos de patrones de intercambio que puede utilizar.</span><span class="sxs-lookup"><span data-stu-id="15135-114">The types of exchange patterns you can use.</span></span>  
  
- <span data-ttu-id="15135-115">Si puede hacer que los requisitos de seguridad explícitos sean parte del contrato.</span><span class="sxs-lookup"><span data-stu-id="15135-115">Whether you can make explicit security requirements part of the contract.</span></span>  
  
- <span data-ttu-id="15135-116">Las restricciones para las entradas y salidas de la operación.</span><span class="sxs-lookup"><span data-stu-id="15135-116">The restrictions for operation inputs and outputs.</span></span>  
  
## <a name="classes-or-interfaces"></a><span data-ttu-id="15135-117">Clases o interfaces</span><span class="sxs-lookup"><span data-stu-id="15135-117">Classes or Interfaces</span></span>  
 <span data-ttu-id="15135-118">Tanto las clases como las interfaces representan una agrupación de funcionalidad y, por lo tanto, ambos se pueden utilizar para definir un contrato de servicio de WCF.</span><span class="sxs-lookup"><span data-stu-id="15135-118">Both classes and interfaces represent a grouping of functionality and, therefore, both can be used to define a WCF service contract.</span></span> <span data-ttu-id="15135-119">Sin embargo, se recomienda que utilice las interfaces porque modelan directamente los contratos de servicios.</span><span class="sxs-lookup"><span data-stu-id="15135-119">However, it is recommended that you use interfaces because they directly model service contracts.</span></span> <span data-ttu-id="15135-120">Sin una implementación, las interfaces no hacen más que definir una agrupación de métodos con ciertas firmas.</span><span class="sxs-lookup"><span data-stu-id="15135-120">Without an implementation, interfaces do no more than define a grouping of methods with certain signatures.</span></span> <span data-ttu-id="15135-121">Implementar una interfaz de contrato de servicio y haber implementado un servicio WCF.</span><span class="sxs-lookup"><span data-stu-id="15135-121">Implement a service contract interface and you have implemented a WCF service.</span></span>  
  
 <span data-ttu-id="15135-122">Todas las ventajas de las interfaces administradas se aplican a las interfaces de contrato de servicio:</span><span class="sxs-lookup"><span data-stu-id="15135-122">All the benefits of managed interfaces apply to service contract interfaces:</span></span>  
  
- <span data-ttu-id="15135-123">Las interfaces del contrato de servicio pueden extender cualquier número de otras interfaces del contrato de servicio.</span><span class="sxs-lookup"><span data-stu-id="15135-123">Service contract interfaces can extend any number of other service contract interfaces.</span></span>  
  
- <span data-ttu-id="15135-124">Una única clase puede implementar cualquier número de contratos de servicios implementando esas interfaces del contrato de servicio.</span><span class="sxs-lookup"><span data-stu-id="15135-124">A single class can implement any number of service contracts by implementing those service contract interfaces.</span></span>  
  
- <span data-ttu-id="15135-125">Puede modificar la implementación de un contrato de servicios cambiando la implementación de la interfaz, mientras el contrato de servicios sigue siendo el mismo.</span><span class="sxs-lookup"><span data-stu-id="15135-125">You can modify the implementation of a service contract by changing the interface implementation, while the service contract remains the same.</span></span>  
  
- <span data-ttu-id="15135-126">Puede controlar la versión de su servicio implementando la interfaz antigua y la nueva.</span><span class="sxs-lookup"><span data-stu-id="15135-126">You can version your service by implementing the old interface and the new one.</span></span> <span data-ttu-id="15135-127">Los clientes antiguos se conectan a la versión original, mientras los clientes más nuevos pueden conectarse a la versión más nueva.</span><span class="sxs-lookup"><span data-stu-id="15135-127">Old clients connect to the original version, while newer clients can connect to the newer version.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="15135-128">Al heredar de otras interfaces del contrato de servicio, no puede invalidar las propiedades de operación, como el nombre o espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="15135-128">When inheriting from other service contract interfaces, you cannot override operation properties, such as the name or namespace.</span></span> <span data-ttu-id="15135-129">Si intenta hacerlo, crea una nueva operación en el contrato de servicios actual.</span><span class="sxs-lookup"><span data-stu-id="15135-129">If you attempt to do so, you create a new operation in the current service contract.</span></span>  
  
 <span data-ttu-id="15135-130">Para obtener un ejemplo del uso de una interfaz para crear un contrato de servicios, consulte [Cómo: crear un servicio con una interfaz de contrato](./feature-details/how-to-create-a-service-with-a-contract-interface.md).</span><span class="sxs-lookup"><span data-stu-id="15135-130">For an example of using an interface to create a service contract, see [How to: Create a Service with a Contract Interface](./feature-details/how-to-create-a-service-with-a-contract-interface.md).</span></span>  
  
 <span data-ttu-id="15135-131">Sin embargo, puede utilizar una clase para definir un contrato de servicios e implementar dicho contrato al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="15135-131">You can, however, use a class to define a service contract and implement that contract at the same time.</span></span> <span data-ttu-id="15135-132">La ventaja de crear sus servicios aplicando directamente <xref:System.ServiceModel.ServiceContractAttribute> y <xref:System.ServiceModel.OperationContractAttribute> a la clase y los métodos en la clase, respectivamente, es la velocidad y la simplicidad.</span><span class="sxs-lookup"><span data-stu-id="15135-132">The advantage of creating your services by applying <xref:System.ServiceModel.ServiceContractAttribute> and <xref:System.ServiceModel.OperationContractAttribute> directly to the class and the methods on the class, respectively, is speed and simplicity.</span></span> <span data-ttu-id="15135-133">Las desventajas son que las clases administradas no admiten la herencia múltiple, y como resultado solo pueden implementar uno contrato de servicios a la vez.</span><span class="sxs-lookup"><span data-stu-id="15135-133">The disadvantages are that managed classes do not support multiple inheritance, and as a result they can only implement one service contract at a time.</span></span> <span data-ttu-id="15135-134">Además, cualquier modificación de las firmas de la clase o del método modifica el contrato público para ese servicio, lo que puede impedir que los clientes no modificados utilicen su servicio.</span><span class="sxs-lookup"><span data-stu-id="15135-134">In addition, any modification to the class or method signatures modifies the public contract for that service, which can prevent unmodified clients from using your service.</span></span> <span data-ttu-id="15135-135">Para obtener más información, consulte [implementación de contratos de servicio](implementing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="15135-135">For more information, see [Implementing Service Contracts](implementing-service-contracts.md).</span></span>  
  
 <span data-ttu-id="15135-136">Para obtener un ejemplo en el que se usa una clase para crear un contrato de servicios e implementarlo al mismo tiempo, vea [Cómo: crear un servicio con una clase de contrato](./feature-details/how-to-create-a-wcf-contract-with-a-class.md).</span><span class="sxs-lookup"><span data-stu-id="15135-136">For an example that uses a class to create a service contract and implements it at the same time, see [How to: Create a Service with a Contract Class](./feature-details/how-to-create-a-wcf-contract-with-a-class.md).</span></span>  
  
 <span data-ttu-id="15135-137">En este punto, debería entender la diferencia entre definir su contrato de servicios utilizando una interfaz y utilizando una clase.</span><span class="sxs-lookup"><span data-stu-id="15135-137">At this point, you should understand the difference between defining your service contract by using an interface and by using a class.</span></span> <span data-ttu-id="15135-138">El paso siguiente consiste en decidir qué datos se pueden intercambiar entre un servicio y sus clientes.</span><span class="sxs-lookup"><span data-stu-id="15135-138">The next step is deciding what data can be passed back and forth between a service and its clients.</span></span>  
  
## <a name="parameters-and-return-values"></a><span data-ttu-id="15135-139">Parámetros y valores devueltos</span><span class="sxs-lookup"><span data-stu-id="15135-139">Parameters and Return Values</span></span>  
 <span data-ttu-id="15135-140">Cada operación devuelve un valor y un parámetro, incluso si estos no son más que `void`.</span><span class="sxs-lookup"><span data-stu-id="15135-140">Each operation has a return value and a parameter, even if these are `void`.</span></span> <span data-ttu-id="15135-141">Sin embargo, a diferencia de un método local, en el que puede pasar las referencias a los objetos de un objeto a otro, las operaciones del servicio no pasan las referencias a los objetos.</span><span class="sxs-lookup"><span data-stu-id="15135-141">However, unlike a local method, in which you can pass references to objects from one object to another, service operations do not pass references to objects.</span></span> <span data-ttu-id="15135-142">En su lugar, pasan copias de los objetos.</span><span class="sxs-lookup"><span data-stu-id="15135-142">Instead, they pass copies of the objects.</span></span>  
  
 <span data-ttu-id="15135-143">Esto es significativo porque cada tipo utilizado en un parámetro o valor devuelto debe ser serializable; es decir, debe ser posible convertir un objeto de ese tipo en una secuencia de bytes y de una secuencia de bytes en un objeto.</span><span class="sxs-lookup"><span data-stu-id="15135-143">This is significant because each type used in a parameter or return value must be serializable; that is, it must be possible to convert an object of that type into a stream of bytes and from a stream of bytes into an object.</span></span>  
  
 <span data-ttu-id="15135-144">Los tipos primitivos son serializables de forma predeterminada, como muchos tipos en .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="15135-144">Primitive types are serializable by default, as are many types in the .NET Framework.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="15135-145">El valor de los nombres de parámetro en la firma de la operación forma parte del contrato y distingue entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="15135-145">The value of the parameter names in the operation signature are part of the contract and are case sensitive.</span></span> <span data-ttu-id="15135-146">Si desea utilizar localmente el mismo nombre de parámetro pero modificar el nombre en los metadatos publicados, vea <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="15135-146">If you want to use the same parameter name locally but modify the name in the published metadata, see the <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType>.</span></span>  
  
#### <a name="data-contracts"></a><span data-ttu-id="15135-147">Contratos de datos</span><span class="sxs-lookup"><span data-stu-id="15135-147">Data Contracts</span></span>  
 <span data-ttu-id="15135-148">Las aplicaciones orientadas a servicios como las aplicaciones de Windows Communication Foundation (WCF) están diseñadas para interoperar con el mayor número posible de aplicaciones cliente en plataformas de Microsoft y que no son de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="15135-148">Service-oriented applications like Windows Communication Foundation (WCF) applications are designed to interoperate with the widest possible number of client applications on both Microsoft and non-Microsoft platforms.</span></span> <span data-ttu-id="15135-149">Para obtener la interoperabilidad más amplia posible, se recomienda que marque sus tipos con los atributos <xref:System.Runtime.Serialization.DataContractAttribute> y <xref:System.Runtime.Serialization.DataMemberAttribute> para crear un contrato de datos, que es la parte del contrato de servicios que describe los datos que intercambian sus operaciones de servicio.</span><span class="sxs-lookup"><span data-stu-id="15135-149">For the widest possible interoperability, it is recommended that you mark your types with the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to create a data contract, which is the portion of the service contract that describes the data that your service operations exchange.</span></span>  
  
 <span data-ttu-id="15135-150">Los contratos de datos son contratos de estilo de participación: ningún tipo o miembro de datos se serializa a menos que aplique explícitamente el atributo de contrato de datos.</span><span class="sxs-lookup"><span data-stu-id="15135-150">Data contracts are opt-in style contracts: No type or data member is serialized unless you explicitly apply the data contract attribute.</span></span> <span data-ttu-id="15135-151">Los contratos de datos no están relacionados con el ámbito de acceso del código administrado: los miembros de datos privados se pueden serializar y enviar a otra parte para obtener acceso a ellos públicamente.</span><span class="sxs-lookup"><span data-stu-id="15135-151">Data contracts are unrelated to the access scope of the managed code: Private data members can be serialized and sent elsewhere to be accessed publicly.</span></span> <span data-ttu-id="15135-152">(Para obtener un ejemplo básico de un contrato de datos, consulte [Cómo: crear un contrato de datos básico para una clase o estructura](./feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md)). WCF controla la definición de los mensajes SOAP subyacentes que habilitan la funcionalidad de la operación así como la serialización de los tipos de datos dentro y fuera del cuerpo de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="15135-152">(For a basic example of a data contract, see [How to: Create a Basic Data Contract for a Class or Structure](./feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md).) WCF handles the definition of the underlying SOAP messages that enable the operation's functionality as well as the serialization of your data types into and out of the body of the messages.</span></span> <span data-ttu-id="15135-153">Siempre y cuando los tipos de datos sean serializables, no necesita pensar en la infraestructura de intercambio de mensajes subyacentes al diseñar las operaciones.</span><span class="sxs-lookup"><span data-stu-id="15135-153">As long as your data types are serializable, you do not need to think about the underlying message exchange infrastructure when designing your operations.</span></span>  
  
 <span data-ttu-id="15135-154">Aunque la aplicación WCF típica usa los <xref:System.Runtime.Serialization.DataContractAttribute> <xref:System.Runtime.Serialization.DataMemberAttribute> atributos y para crear contratos de datos para las operaciones, puede utilizar otros mecanismos de serialización.</span><span class="sxs-lookup"><span data-stu-id="15135-154">Although the typical WCF application uses the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to create data contracts for operations, you can use other serialization mechanisms.</span></span> <span data-ttu-id="15135-155">Los mecanismos estándares <xref:System.Runtime.Serialization.ISerializable>, <xref:System.SerializableAttribute> y <xref:System.Xml.Serialization.IXmlSerializable> trabajan para administrar la serialización de sus tipos de datos en los mensajes SOAP subyacentes que los llevan de una aplicación a otra.</span><span class="sxs-lookup"><span data-stu-id="15135-155">The standard <xref:System.Runtime.Serialization.ISerializable>, <xref:System.SerializableAttribute> and <xref:System.Xml.Serialization.IXmlSerializable> mechanisms all work to handle the serialization of your data types into the underlying SOAP messages that carry them from one application to another.</span></span> <span data-ttu-id="15135-156">Puede emplear más estrategias de serialización si sus tipos de datos necesitan una compatibilidad especial.</span><span class="sxs-lookup"><span data-stu-id="15135-156">You can employ more serialization strategies if your data types require special support.</span></span> <span data-ttu-id="15135-157">Para obtener más información sobre las opciones para la serialización de tipos de datos en aplicaciones WCF, vea [especificar transferencia de datos en contratos de servicio](./feature-details/specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="15135-157">For more information about the choices for serialization of data types in WCF applications, see [Specifying Data Transfer in Service Contracts](./feature-details/specifying-data-transfer-in-service-contracts.md).</span></span>  
  
#### <a name="mapping-parameters-and-return-values-to-message-exchanges"></a><span data-ttu-id="15135-158">Asignar los parámetros y los valores devueltos a los intercambios de mensajes</span><span class="sxs-lookup"><span data-stu-id="15135-158">Mapping Parameters and Return Values to Message Exchanges</span></span>  
 <span data-ttu-id="15135-159">Las operaciones de servicio están soportadas por un intercambio subyacente de mensajes SOAP que transfiere los datos de la aplicación, además de los datos requeridos por la aplicación para soportar cierta seguridad estándar, transacción y características relacionadas con la sesión.</span><span class="sxs-lookup"><span data-stu-id="15135-159">Service operations are supported by an underlying exchange of SOAP messages that transfer application data back and forth, in addition to the data required by the application to support certain standard security, transaction, and session-related features.</span></span> <span data-ttu-id="15135-160">Como este es el caso, la firma de una operación de servicio dicta un determinado *patrón de intercambio de mensajes* (MEP) subyacente que puede admitir la transferencia de datos y las características que requiere una operación.</span><span class="sxs-lookup"><span data-stu-id="15135-160">Because this is the case, the signature of a service operation dictates a certain underlying *message exchange pattern* (MEP) that can support the data transfer and the features an operation requires.</span></span> <span data-ttu-id="15135-161">Puede especificar tres patrones en el modelo de programación de WCF: patrones de mensajes de solicitud/respuesta, unidireccionales y dúplex.</span><span class="sxs-lookup"><span data-stu-id="15135-161">You can specify three patterns in the WCF programming model: request/reply, one-way, and duplex message patterns.</span></span>  
  
##### <a name="requestreply"></a><span data-ttu-id="15135-162">Solicitud/Respuesta</span><span class="sxs-lookup"><span data-stu-id="15135-162">Request/Reply</span></span>  
 <span data-ttu-id="15135-163">Un patrón de solicitud/respuesta es uno en el que un remitente de la solicitud (una aplicación cliente) recibe una respuesta con la que está relacionada la solicitud.</span><span class="sxs-lookup"><span data-stu-id="15135-163">A request/reply pattern is one in which a request sender (a client application) receives a reply with which the request is correlated.</span></span> <span data-ttu-id="15135-164">Este es el MEP predeterminado porque admite una operación en la que uno o más parámetros se pasan a la operación y se devuelve un valor de retorno al autor de llamada.</span><span class="sxs-lookup"><span data-stu-id="15135-164">This is the default MEP because it supports an operation in which one or more parameters are passed to the operation and a return value is passed back to the caller.</span></span> <span data-ttu-id="15135-165">Por ejemplo, en el ejemplo de código de C# siguiente, se muestra una operación de servicio básica que toma una cadena y devuelve una cadena.</span><span class="sxs-lookup"><span data-stu-id="15135-165">For example, the following C# code example shows a basic service operation that takes one string and returns a string.</span></span>  
  
```csharp  
[OperationContractAttribute]  
string Hello(string greeting);  
```  
  
 <span data-ttu-id="15135-166">A continuación, se muestra el código equivalente en Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="15135-166">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute()>  
Function Hello (ByVal greeting As String) As String  
```  
  
 <span data-ttu-id="15135-167">Esta firma de operación dicta la forma del intercambio de mensajes subyacente.</span><span class="sxs-lookup"><span data-stu-id="15135-167">This operation signature dictates the form of underlying message exchange.</span></span> <span data-ttu-id="15135-168">Si no existía ninguna correlación, WCF no puede determinar para qué operación está previsto el valor devuelto.</span><span class="sxs-lookup"><span data-stu-id="15135-168">If no correlation existed, WCF cannot determine for which operation the return value is intended.</span></span>  
  
 <span data-ttu-id="15135-169">Tenga en cuenta que, a menos que especifique un patrón de mensaje subyacente diferente, incluso las operaciones de servicio que devuelven `void` ( `Nothing` en Visual Basic) son intercambios de mensajes de solicitud/respuesta.</span><span class="sxs-lookup"><span data-stu-id="15135-169">Note that unless you specify a different underlying message pattern, even service operations that return `void` (`Nothing` in Visual Basic) are request/reply message exchanges.</span></span> <span data-ttu-id="15135-170">El resultado para su operación es que a menos que un cliente invoque de forma asincrónica la operación, el cliente detiene el procesamiento hasta que se reciba el mensaje de retorno, aunque ese mensaje esté normalmente vacío.</span><span class="sxs-lookup"><span data-stu-id="15135-170">The result for your operation is that unless a client invokes the operation asynchronously, the client stops processing until the return message is received, even though that message is empty in the normal case.</span></span> <span data-ttu-id="15135-171">En el ejemplo de código de C# siguiente, se muestra una operación que no regresa hasta que el cliente ha recibido un mensaje vacío como respuesta.</span><span class="sxs-lookup"><span data-stu-id="15135-171">The following C# code example shows an operation that does not return until the client has received an empty message in response.</span></span>  
  
```csharp  
[OperationContractAttribute]  
void Hello(string greeting);  
```  
  
 <span data-ttu-id="15135-172">A continuación, se muestra el código equivalente en Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="15135-172">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute()>  
Sub Hello (ByVal greeting As String)  
```  
  
 <span data-ttu-id="15135-173">El ejemplo anterior puede desacelerar rendimiento del cliente y la receptividad si la operación tarda mucho tiempo en realizarse, pero hay ventajas para las operaciones de solicitud/respuesta incluso cuando devuelven `void`.</span><span class="sxs-lookup"><span data-stu-id="15135-173">The preceding example can slow client performance and responsiveness if the operation takes a long time to perform, but there are advantages to request/reply operations even when they return `void`.</span></span> <span data-ttu-id="15135-174">La más obvia es que los errores SOAP pueden devolverse en el mensaje de respuesta, lo que indica que se ha producido alguna condición de error relacionada con el servicio, bien en la comunicación bien en el procesamiento.</span><span class="sxs-lookup"><span data-stu-id="15135-174">The most obvious one is that SOAP faults can be returned in the response message, which indicates that some service-related error condition has occurred, whether in communication or processing.</span></span> <span data-ttu-id="15135-175">Los errores SOAP que se especifican en un contrato de servicios se pasan a la aplicación cliente como un objeto <xref:System.ServiceModel.FaultException%601>, donde el parámetro de tipo es el tipo especificado en el contrato de servicios.</span><span class="sxs-lookup"><span data-stu-id="15135-175">SOAP faults that are specified in a service contract are passed to the client application as a <xref:System.ServiceModel.FaultException%601> object, where the type parameter is the type specified in the service contract.</span></span> <span data-ttu-id="15135-176">Esto facilita la notificación de las condiciones de error en los servicios WCF.</span><span class="sxs-lookup"><span data-stu-id="15135-176">This makes notifying clients about error conditions in WCF services easy.</span></span> <span data-ttu-id="15135-177">Para obtener más información sobre las excepciones, los errores de SOAP y el control de errores, vea [especificar y controlar errores en contratos y servicios](specifying-and-handling-faults-in-contracts-and-services.md).</span><span class="sxs-lookup"><span data-stu-id="15135-177">For more information about exceptions, SOAP faults, and error handling, see [Specifying and Handling Faults in Contracts and Services](specifying-and-handling-faults-in-contracts-and-services.md).</span></span> <span data-ttu-id="15135-178">Para ver un ejemplo de un servicio de solicitud/respuesta y un cliente, consulte [Cómo: crear un contrato de solicitud-respuesta](./feature-details/how-to-create-a-request-reply-contract.md).</span><span class="sxs-lookup"><span data-stu-id="15135-178">To see an example of a request/reply service and client, see [How to: Create a Request-Reply Contract](./feature-details/how-to-create-a-request-reply-contract.md).</span></span> <span data-ttu-id="15135-179">Para obtener más información sobre los problemas con el patrón de solicitud-respuesta, vea [servicios de solicitud-respuesta](./feature-details/request-reply-services.md).</span><span class="sxs-lookup"><span data-stu-id="15135-179">For more information about issues with the request-reply pattern, see [Request-Reply Services](./feature-details/request-reply-services.md).</span></span>  
  
##### <a name="one-way"></a><span data-ttu-id="15135-180">Unidireccional</span><span class="sxs-lookup"><span data-stu-id="15135-180">One-way</span></span>  
 <span data-ttu-id="15135-181">Si el cliente de una aplicación de servicio WCF no debe esperar a que se complete la operación y no procesa los errores de SOAP, la operación puede especificar un patrón de mensaje unidireccional.</span><span class="sxs-lookup"><span data-stu-id="15135-181">If the client of a WCF service application should not wait for the operation to complete and does not process SOAP faults, the operation can specify a one-way message pattern.</span></span> <span data-ttu-id="15135-182">Una operación unidireccional es aquella en la que un cliente invoca una operación y continúa el procesamiento después de que WCF escriba el mensaje en la red.</span><span class="sxs-lookup"><span data-stu-id="15135-182">A one-way operation is one in which a client invokes an operation and continues processing after WCF writes the message to the network.</span></span> <span data-ttu-id="15135-183">Normalmente, esto significa que, salvo que los datos que se están enviando en el mensaje saliente sean extremadamente grandes, el cliente sigue ejecutándose de manera prácticamente inmediata (a menos que se produzca un error al enviar los datos).</span><span class="sxs-lookup"><span data-stu-id="15135-183">Typically this means that unless the data being sent in the outbound message is extremely large the client continues running almost immediately (unless there is an error sending the data).</span></span> <span data-ttu-id="15135-184">Este tipo de patrón de intercambio de mensajes soporta el comportamiento como evento de un cliente a una aplicación de servicio.</span><span class="sxs-lookup"><span data-stu-id="15135-184">This type of message exchange pattern supports event-like behavior from a client to a service application.</span></span>  
  
 <span data-ttu-id="15135-185">Un intercambio de mensajes en el que se envía un mensaje y no se recibe ninguno no puede soportar una operación de servicio que especifique un valor devuelto distinto de `void`; en este caso se inicia una excepción <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="15135-185">A message exchange in which one message is sent and none are received cannot support a service operation that specifies a return value other than `void`; in this case an <xref:System.InvalidOperationException> exception is thrown.</span></span>  
  
 <span data-ttu-id="15135-186">Por lo tanto, ningún mensaje de retorno significa que no puede haber ningún error SOAP devuelto para indicar cualquier error en el procesamiento o la comunicación.</span><span class="sxs-lookup"><span data-stu-id="15135-186">No return message also means that there can be no SOAP fault returned to indicate any errors in processing or communication.</span></span> <span data-ttu-id="15135-187">(La comunicación de información de error cuando las operaciones son operaciones unidireccionales requiere un patrón de intercambio de mensajes dúplex.)</span><span class="sxs-lookup"><span data-stu-id="15135-187">(Communicating error information when operations are one-way operations requires a duplex message exchange pattern.)</span></span>  
  
 <span data-ttu-id="15135-188">Para especificar un intercambio de mensajes unidireccional para una operación que devuelve `void`, establezca la propiedad <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> en `true`, como en el ejemplo de código de C# siguiente.</span><span class="sxs-lookup"><span data-stu-id="15135-188">To specify a one-way message exchange for an operation that returns `void`, set the <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> property to `true`, as in the following C# code example.</span></span>  
  
```csharp  
[OperationContractAttribute(IsOneWay=true)]  
void Hello(string greeting);  
```  
  
 <span data-ttu-id="15135-189">A continuación, se muestra el código equivalente en Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="15135-189">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute(IsOneWay := True)>  
Sub Hello (ByVal greeting As String)  
```  
  
 <span data-ttu-id="15135-190">Este método es idéntico al ejemplo de solicitud/respuesta anterior, pero estableciendo la propiedad <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> en `true` significa que, aunque el método es idéntico, la operación de servicio no envía un mensaje de retorno y los clientes devuelven inmediatamente una vez el mensaje saliente se ha entregado al nivel del canal.</span><span class="sxs-lookup"><span data-stu-id="15135-190">This method is identical to the preceding request/reply example, but setting the <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> property to `true` means that although the method is identical, the service operation does not send a return message and clients return immediately once the outbound message has been handed to the channel layer.</span></span> <span data-ttu-id="15135-191">Para obtener un ejemplo, vea [Cómo: crear un contrato unidireccional](./feature-details/how-to-create-a-one-way-contract.md).</span><span class="sxs-lookup"><span data-stu-id="15135-191">For an example, see [How to: Create a One-Way Contract](./feature-details/how-to-create-a-one-way-contract.md).</span></span> <span data-ttu-id="15135-192">Para obtener más información sobre el patrón unidireccional, vea [servicios unidireccionales](./feature-details/one-way-services.md).</span><span class="sxs-lookup"><span data-stu-id="15135-192">For more information about the one-way pattern, see [One-Way Services](./feature-details/one-way-services.md).</span></span>  
  
##### <a name="duplex"></a><span data-ttu-id="15135-193">Dúplex</span><span class="sxs-lookup"><span data-stu-id="15135-193">Duplex</span></span>  
 <span data-ttu-id="15135-194">Un patrón dúplex se caracteriza por la capacidad tanto del servicio y como del cliente para enviarse mensajes entre sí independientemente de si se está utilizando una mensajería unidireccional o de solicitud/respuesta.</span><span class="sxs-lookup"><span data-stu-id="15135-194">A duplex pattern is characterized by the ability of both the service and the client to send messages to each other independently whether using one-way or request/reply messaging.</span></span> <span data-ttu-id="15135-195">Esta forma de comunicación bidireccional es útil para los servicios que deben comunicarse directamente con el cliente, o para proporcionar una experiencia asincrónica a cada lado de un intercambio de mensajes, incluido el comportamiento similar a un evento.</span><span class="sxs-lookup"><span data-stu-id="15135-195">This form of two-way communication is useful for services that must communicate directly to the client or for providing an asynchronous experience to either side of a message exchange, including event-like behavior.</span></span>  
  
 <span data-ttu-id="15135-196">El patrón dúplex es ligeramente más complejo que los patrones de solicitud/respuesta o unidireccionales debido al mecanismo adicional para comunicarse con el cliente.</span><span class="sxs-lookup"><span data-stu-id="15135-196">The duplex pattern is slightly more complex than the request/reply or one-way patterns because of the additional mechanism for communicating with the client.</span></span>  
  
 <span data-ttu-id="15135-197">Para diseñar un contrato dúplex, también debe diseñar un contrato de devolución de llamada y asignar el tipo de ese contrato de devolución de llamada a la propiedad <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A> del atributo <xref:System.ServiceModel.ServiceContractAttribute> que marca el contrato de servicio.</span><span class="sxs-lookup"><span data-stu-id="15135-197">To design a duplex contract, you must also design a callback contract and assign the type of that callback contract to the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A> property of the <xref:System.ServiceModel.ServiceContractAttribute> attribute that marks your service contract.</span></span>  
  
 <span data-ttu-id="15135-198">Para implementar un patrón dúplex, debe crear una segunda interfaz que contenga las declaraciones de método a las que se llaman en el cliente.</span><span class="sxs-lookup"><span data-stu-id="15135-198">To implement a duplex pattern, you must create a second interface that contains the method declarations that are called on the client.</span></span>  
  
 <span data-ttu-id="15135-199">Para obtener un ejemplo de creación de un servicio y un cliente que tiene acceso a ese servicio, consulte [Cómo: crear un contrato dúplex](./feature-details/how-to-create-a-duplex-contract.md) y [Cómo: obtener acceso a los servicios con un contrato dúplex](./feature-details/how-to-access-services-with-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="15135-199">For an example of creating a service, and a client that accesses that service, see [How to: Create a Duplex Contract](./feature-details/how-to-create-a-duplex-contract.md) and [How to: Access Services with a Duplex Contract](./feature-details/how-to-access-services-with-a-duplex-contract.md).</span></span> <span data-ttu-id="15135-200">Para obtener un ejemplo funcional, vea [dúplex](./samples/duplex.md).</span><span class="sxs-lookup"><span data-stu-id="15135-200">For a working sample, see [Duplex](./samples/duplex.md).</span></span> <span data-ttu-id="15135-201">Para obtener más información acerca de los problemas de uso de contratos dúplex, vea [servicios dúplex](./feature-details/duplex-services.md).</span><span class="sxs-lookup"><span data-stu-id="15135-201">For more information about issues using duplex contracts, see [Duplex Services](./feature-details/duplex-services.md).</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="15135-202">Cuando un servicio recibe un mensaje dúplex, examina el elemento `ReplyTo` en ese mensaje entrante para determinar dónde enviar la respuesta.</span><span class="sxs-lookup"><span data-stu-id="15135-202">When a service receives a duplex message, it looks at the `ReplyTo` element in that incoming message to determine where to send the reply.</span></span> <span data-ttu-id="15135-203">Si no se protege el canal que se utiliza para recibir el mensaje, un cliente que no es de confianza podría enviar un mensaje malintencionado con un equipo de destino `ReplyTo`, provocando una denegación de servicio (DoS) de ese equipo de destino.</span><span class="sxs-lookup"><span data-stu-id="15135-203">If the channel that is used to receive the message is not secured, then an untrusted client could send a malicious message with a target machine's `ReplyTo`, leading to a denial of service (DOS) of that target machine.</span></span>  
  
##### <a name="out-and-ref-parameters"></a><span data-ttu-id="15135-204">Parámetros out y ref</span><span class="sxs-lookup"><span data-stu-id="15135-204">Out and Ref Parameters</span></span>  
 <span data-ttu-id="15135-205">En la mayoría de los casos, puede usar `in` los parámetros ( `ByVal` en Visual Basic) y `out` `ref` los parámetros ( `ByRef` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="15135-205">In most cases, you can use `in` parameters (`ByVal` in Visual Basic) and `out` and `ref` parameters (`ByRef` in Visual Basic).</span></span> <span data-ttu-id="15135-206">Dado que tanto el parámetro `out` como `ref` indican que los datos son devueltos por una operación, una firma de operación como la siguiente especifica que se requiere una operación de solicitud/respuesta aunque la firma de la operación devuelva `void`.</span><span class="sxs-lookup"><span data-stu-id="15135-206">Because both `out` and `ref` parameters indicate that data is returned from an operation, an operation signature such as the following specifies that a request/reply operation is required even though the operation signature returns `void`.</span></span>  
  
```csharp  
[ServiceContractAttribute]  
public interface IMyContract  
{  
  [OperationContractAttribute]  
  public void PopulateData(ref CustomDataType data);  
}  
```  
  
 <span data-ttu-id="15135-207">A continuación, se muestra el código equivalente en Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="15135-207">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContractAttribute()> _  
Public Interface IMyContract  
  <OperationContractAttribute()> _  
  Public Sub PopulateData(ByRef data As CustomDataType)  
End Interface  
```  
  
 <span data-ttu-id="15135-208">Las únicas excepciones son esos casos en los que su firma tiene una estructura determinada.</span><span class="sxs-lookup"><span data-stu-id="15135-208">The only exceptions are those cases in which your signature has a particular structure.</span></span> <span data-ttu-id="15135-209">Por ejemplo, solo puede utilizar el enlace <xref:System.ServiceModel.NetMsmqBinding> para comunicarse con los clientes si el método usado para declarar una operación devuelve `void`; no puede haber ningún valor de salida, tanto si se trata de un valor devuelto, `ref`, o bien un parámetro `out`.</span><span class="sxs-lookup"><span data-stu-id="15135-209">For example, you can use the <xref:System.ServiceModel.NetMsmqBinding> binding to communicate with clients only if the method used to declare an operation returns `void`; there can be no output value, whether it is a return value, `ref`, or `out` parameter.</span></span>  
  
 <span data-ttu-id="15135-210">Además, la utilización de los parámetros `out` o `ref` requiere que la operación tenga un mensaje de respuesta subyacente para devolver el objeto modificado.</span><span class="sxs-lookup"><span data-stu-id="15135-210">In addition, using `out` or `ref` parameters requires that the operation have an underlying response message to carry back the modified object.</span></span> <span data-ttu-id="15135-211">Si su operación es unidireccional, se inicia una excepción <xref:System.InvalidOperationException> en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="15135-211">If your operation is a one-way operation, an <xref:System.InvalidOperationException> exception is thrown at runtime.</span></span>  
  
### <a name="specify-message-protection-level-on-the-contract"></a><span data-ttu-id="15135-212">Especificar el nivel de protección del mensaje en el contrato</span><span class="sxs-lookup"><span data-stu-id="15135-212">Specify Message Protection Level on the Contract</span></span>  
 <span data-ttu-id="15135-213">Al diseñar su contrato, también debe decidir el nivel de protección del mensaje de los servicios que implementa su contrato.</span><span class="sxs-lookup"><span data-stu-id="15135-213">When designing your contract, you must also decide the message protection level of services that implement your contract.</span></span> <span data-ttu-id="15135-214">Esto solo es necesario si la seguridad del mensaje se aplica al enlace en el extremo del contrato.</span><span class="sxs-lookup"><span data-stu-id="15135-214">This is necessary only if message security is applied to the binding in the contract's endpoint.</span></span> <span data-ttu-id="15135-215">Si el enlace tiene la seguridad desactivada (es decir, si el enlace proporcionado por el sistema establece <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType> en el valor <xref:System.ServiceModel.SecurityMode.None?displayProperty=nameWithType>) no tiene que decidir sobre el nivel de protección del mensaje para el contrato.</span><span class="sxs-lookup"><span data-stu-id="15135-215">If the binding has security turned off (that is, if the system-provided binding sets the <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType> to the value <xref:System.ServiceModel.SecurityMode.None?displayProperty=nameWithType>) then you do not have to decide on the message protection level for the contract.</span></span> <span data-ttu-id="15135-216">En la mayoría de los casos, los enlaces proporcionados por el sistema a los que se aplica la seguridad del nivel de mensaje, ofrecen un nivel de protección suficiente que hace innecesario el nivel de protección para cada operación o mensaje.</span><span class="sxs-lookup"><span data-stu-id="15135-216">In most cases, system-provided bindings with message-level security applied provide a sufficient protection level and you do not have to consider the protection level for each operation or for each message.</span></span>  
  
 <span data-ttu-id="15135-217">El nivel de protección es un valor que especifica si los mensajes (o partes del mensaje) que soportan un servicio están firmados, firmados y cifrados, o si se envían sin firmar o cifrar.</span><span class="sxs-lookup"><span data-stu-id="15135-217">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="15135-218">El nivel de protección se puede establecer en varios ámbitos: en el nivel del servicio, para una operación determinada, para un mensaje dentro de esa operación, o una parte del mensaje.</span><span class="sxs-lookup"><span data-stu-id="15135-218">The protection level can be set at various scopes: At the service level, for a particular operation, for a message within that operation, or a message part.</span></span> <span data-ttu-id="15135-219">Los valores establecidos en un ámbito se convierten en el valor predeterminado para los ámbitos menores a menos que se invalide explícitamente.</span><span class="sxs-lookup"><span data-stu-id="15135-219">Values set at one scope become the default value for smaller scopes unless explicitly overridden.</span></span> <span data-ttu-id="15135-220">Si una configuración de enlace no puede proporcionar el nivel de protección mínimo necesario para el contrato, se produce una excepción.</span><span class="sxs-lookup"><span data-stu-id="15135-220">If a binding configuration cannot provide the required minimum protection level for the contract, an exception is thrown.</span></span> <span data-ttu-id="15135-221">Y cuando ningún valor de nivel de protección se establece explícitamente en el contrato, la configuración de enlace controla el nivel de protección para todos los mensajes si el enlace tiene seguridad de mensajes.</span><span class="sxs-lookup"><span data-stu-id="15135-221">And when no protection level values are explicitly set on the contract, the binding configuration controls the protection level for all messages if the binding has message security.</span></span> <span data-ttu-id="15135-222">Este es el comportamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="15135-222">This is the default behavior.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="15135-223">Decidir si establecer explícitamente varios ámbitos de un contrato en un nivel de protección inferior al nivel de protección completo de <xref:System.Net.Security.ProtectionLevel.EncryptAndSign?displayProperty=nameWithType> generalmente es una decisión que canjea cierto grado de seguridad por un aumento del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="15135-223">Deciding whether to explicitly set various scopes of a contract to less than the full protection level of <xref:System.Net.Security.ProtectionLevel.EncryptAndSign?displayProperty=nameWithType> is generally a decision that trades some degree of security for increased performance.</span></span> <span data-ttu-id="15135-224">En estos casos, las decisiones girarán en torno a las operaciones y al valor de los datos que intercambian.</span><span class="sxs-lookup"><span data-stu-id="15135-224">In these cases, your decisions must revolve around your operations and the value of the data they exchange.</span></span> <span data-ttu-id="15135-225">Para obtener más información, vea [proteger los servicios](securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="15135-225">For more information, see [Securing Services](securing-services.md).</span></span>  
  
 <span data-ttu-id="15135-226">Por ejemplo, el ejemplo de código siguiente no establece la propiedad <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> o <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> en el contrato.</span><span class="sxs-lookup"><span data-stu-id="15135-226">For example, the following code example does not set either the <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> or the <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> property on the contract.</span></span>  
  
```csharp  
[ServiceContract]  
public interface ISampleService  
{  
  [OperationContractAttribute]  
  public string GetString();  
  
  [OperationContractAttribute]  
  public int GetInt();
}  
```  
  
 <span data-ttu-id="15135-227">A continuación, se muestra el código equivalente en Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="15135-227">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContractAttribute()> _  
Public Interface ISampleService  
  
  <OperationContractAttribute()> _  
  Public Function GetString()As String  
  
  <OperationContractAttribute()> _  
  Public Function GetData() As Integer  
  
End Interface  
```  
  
 <span data-ttu-id="15135-228">Al interactuar con una implementación `ISampleService` en un punto de conexión con un <xref:System.ServiceModel.WSHttpBinding> predeterminado (el <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>predeterminado, que es <xref:System.ServiceModel.SecurityMode.Message>), todos los mensajes se cifran y firman dado que es el nivel de protección predeterminado.</span><span class="sxs-lookup"><span data-stu-id="15135-228">When interacting with an `ISampleService` implementation in an endpoint with a default <xref:System.ServiceModel.WSHttpBinding> (the default <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, which is <xref:System.ServiceModel.SecurityMode.Message>), all messages are encrypted and signed because this is the default protection level.</span></span> <span data-ttu-id="15135-229">No obstante, cuando se usa un servicio `ISampleService` con un <xref:System.ServiceModel.BasicHttpBinding> predeterminado (el <xref:System.ServiceModel.SecurityMode> predeterminado, que es <xref:System.ServiceModel.SecurityMode.None>), todos los mensajes se envían como texto, ya que no existe seguridad para este enlace y, por lo tanto, se pasa por alto el nivel de protección (es decir, los mensajes ni se cifran ni se firman).</span><span class="sxs-lookup"><span data-stu-id="15135-229">However, when an `ISampleService` service is used with a default <xref:System.ServiceModel.BasicHttpBinding> (the default <xref:System.ServiceModel.SecurityMode>, which is <xref:System.ServiceModel.SecurityMode.None>), all messages are sent as text because there is no security for this binding and so the protection level is ignored (that is, the messages are neither encrypted nor signed).</span></span> <span data-ttu-id="15135-230">Si se cambia el <xref:System.ServiceModel.SecurityMode> a <xref:System.ServiceModel.SecurityMode.Message>, estos mensajes se cifrarían y firmarían (dado que ése sería el nivel de protección predeterminado del enlace).</span><span class="sxs-lookup"><span data-stu-id="15135-230">If the <xref:System.ServiceModel.SecurityMode> was changed to <xref:System.ServiceModel.SecurityMode.Message>, then these messages would be encrypted and signed (because that would now be the binding's default protection level).</span></span>  
  
 <span data-ttu-id="15135-231">Si desea especificar explícitamente o ajustar los requisitos de protección para su contrato, establezca la propiedad <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> (o cualquier de las propiedades `ProtectionLevel` en un ámbito menor) en el nivel que requiera su contrato de servicios.</span><span class="sxs-lookup"><span data-stu-id="15135-231">If you want to explicitly specify or adjust the protection requirements for your contract, set the <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> property (or any of the `ProtectionLevel` properties at a smaller scope) to the level your service contract requires.</span></span> <span data-ttu-id="15135-232">En este caso, utilizando un valor explícito exige al enlace que soporte ese valor como mínimo para el ámbito utilizado.</span><span class="sxs-lookup"><span data-stu-id="15135-232">In this case, using an explicit setting requires the binding to support that setting at a minimum for the scope used.</span></span> <span data-ttu-id="15135-233">Por ejemplo, el ejemplo de código siguiente especifica explícitamente un valor <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A>, para la operación `GetGuid`.</span><span class="sxs-lookup"><span data-stu-id="15135-233">For example, the following code example specifies one <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> value explicitly, for the `GetGuid` operation.</span></span>  
  
```csharp  
[ServiceContract]  
public interface IExplicitProtectionLevelSampleService  
{  
  [OperationContractAttribute]  
  public string GetString();  
  
  [OperationContractAttribute(ProtectionLevel=ProtectionLevel.None)]  
  public int GetInt();
  [OperationContractAttribute(ProtectionLevel=ProtectionLevel.EncryptAndSign)]  
  public int GetGuid();
}  
```  
  
 <span data-ttu-id="15135-234">A continuación, se muestra el código equivalente en Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="15135-234">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContract()> _
Public Interface IExplicitProtectionLevelSampleService
    <OperationContract()> _
    Public Function GetString() As String
    End Function
  
    <OperationContract(ProtectionLevel := ProtectionLevel.None)> _
    Public Function GetInt() As Integer
    End Function
  
    <OperationContractAttribute(ProtectionLevel := ProtectionLevel.EncryptAndSign)> _
    Public Function GetGuid() As Integer
    End Function
  
End Interface  
```  
  
 <span data-ttu-id="15135-235">Un servicio que implementa este contrato `IExplicitProtectionLevelSampleService` y tiene un extremo que utiliza el <xref:System.ServiceModel.WSHttpBinding> predeterminado (el <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>predeterminado, que es <xref:System.ServiceModel.SecurityMode.Message>) tiene el comportamiento siguiente:</span><span class="sxs-lookup"><span data-stu-id="15135-235">A service that implements this `IExplicitProtectionLevelSampleService` contract and has an endpoint that uses the default <xref:System.ServiceModel.WSHttpBinding> (the default <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, which is <xref:System.ServiceModel.SecurityMode.Message>) has the following behavior:</span></span>  
  
- <span data-ttu-id="15135-236">Los mensajes de operación `GetString` se cifran y firman.</span><span class="sxs-lookup"><span data-stu-id="15135-236">The `GetString` operation messages are encrypted and signed.</span></span>  
  
- <span data-ttu-id="15135-237">Los mensajes de operación `GetInt` se envían como texto sin cifrar ni firmar (es decir, texto sin formato).</span><span class="sxs-lookup"><span data-stu-id="15135-237">The `GetInt` operation messages are sent as unencrypted and unsigned (that is, plain) text.</span></span>  
  
- <span data-ttu-id="15135-238">La operación `GetGuid`<xref:System.Guid?displayProperty=nameWithType> se devuelve en un mensaje que se cifra y se firma.</span><span class="sxs-lookup"><span data-stu-id="15135-238">The `GetGuid` operation <xref:System.Guid?displayProperty=nameWithType> is returned in a message that is encrypted and signed.</span></span>  
  
 <span data-ttu-id="15135-239">Para obtener más información acerca de los niveles de protección y cómo usarlos, vea [Descripción del nivel de protección](understanding-protection-level.md).</span><span class="sxs-lookup"><span data-stu-id="15135-239">For more information about protection levels and how to use them, see [Understanding Protection Level](understanding-protection-level.md).</span></span> <span data-ttu-id="15135-240">Para obtener más información acerca de la seguridad, consulte protección de los [servicios](securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="15135-240">For more information about security, see [Securing Services](securing-services.md).</span></span>  
  
##### <a name="other-operation-signature-requirements"></a><span data-ttu-id="15135-241">Otros requisitos de firma de operación</span><span class="sxs-lookup"><span data-stu-id="15135-241">Other Operation Signature Requirements</span></span>  
 <span data-ttu-id="15135-242">Algunas características de aplicación requieren un tipo determinado de firma de la operación.</span><span class="sxs-lookup"><span data-stu-id="15135-242">Some application features require a particular kind of operation signature.</span></span> <span data-ttu-id="15135-243">Por ejemplo, el enlace <xref:System.ServiceModel.NetMsmqBinding> soporta los servicios duraderos y clientes, en los que una aplicación se puede reiniciar en el medio de la comunicación y se puede retomar donde se dejó sin olvidarse ningún mensaje.</span><span class="sxs-lookup"><span data-stu-id="15135-243">For example, the <xref:System.ServiceModel.NetMsmqBinding> binding supports durable services and clients, in which an application can restart in the middle of communication and pick up where it left off without missing any messages.</span></span> <span data-ttu-id="15135-244">(Para obtener más información, vea [colas en WCF](./feature-details/queues-in-wcf.md)). Sin embargo, las operaciones duraderas deben tomar solo un `in` parámetro y no tener ningún valor devuelto.</span><span class="sxs-lookup"><span data-stu-id="15135-244">(For more information, see [Queues in WCF](./feature-details/queues-in-wcf.md).) However, durable operations must take only one `in` parameter and have no return value.</span></span>  
  
 <span data-ttu-id="15135-245">Otro ejemplo es el uso de los tipos <xref:System.IO.Stream> en operaciones.</span><span class="sxs-lookup"><span data-stu-id="15135-245">Another example is the use of <xref:System.IO.Stream> types in operations.</span></span> <span data-ttu-id="15135-246">Puesto que el parámetro <xref:System.IO.Stream> incluye el cuerpo completo del mensaje, si una entrada o una salida (es decir, parámetro `ref`, parámetro `out` o valor devuelto) es del tipo <xref:System.IO.Stream>, debe ser la única entrada o salida especificada en su operación.</span><span class="sxs-lookup"><span data-stu-id="15135-246">Because the <xref:System.IO.Stream> parameter includes the entire message body, if an input or an output (that is, `ref` parameter, `out` parameter, or return value) is of type <xref:System.IO.Stream>, then it must be the only input or output specified in your operation.</span></span> <span data-ttu-id="15135-247">Además, el parámetro o el tipo devuelto debe ser <xref:System.IO.Stream>, <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> o <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="15135-247">In addition, the parameter or return type must be either <xref:System.IO.Stream>, <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType>, or <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span></span> <span data-ttu-id="15135-248">Para obtener más información sobre las secuencias, consulte [datos y streaming de gran tamaño](./feature-details/large-data-and-streaming.md).</span><span class="sxs-lookup"><span data-stu-id="15135-248">For more information about streams, see [Large Data and Streaming](./feature-details/large-data-and-streaming.md).</span></span>  
  
##### <a name="names-namespaces-and-obfuscation"></a><span data-ttu-id="15135-249">Nombres, espacios de nombres y ofuscación</span><span class="sxs-lookup"><span data-stu-id="15135-249">Names, Namespaces, and Obfuscation</span></span>  
 <span data-ttu-id="15135-250">Los nombres y espacios de nombres de los tipos de .NET en la definición de contratos y operaciones son significativos cuando los contratos se convierten en WSDL y cuando los mensajes de contrato se crean y envían.</span><span class="sxs-lookup"><span data-stu-id="15135-250">The names and namespaces of the .NET types in the definition of contracts and operations are significant when contracts are converted into WSDL and when contract messages are created and sent.</span></span> <span data-ttu-id="15135-251">Por lo tanto, es muy recomendable que los nombres y espacios de nombres de los contratos de servicio se establezcan explícitamente mediante las propiedades `Name` y `Namespace` de todos los atributos de contrato auxiliares, como <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, <xref:System.Runtime.Serialization.DataContractAttribute>, <xref:System.Runtime.Serialization.DataMemberAttribute> y otros atributos de contrato.</span><span class="sxs-lookup"><span data-stu-id="15135-251">Therefore, it is strongly recommended that service contract names and namespaces are explicitly set using the `Name` and `Namespace` properties of all supporting contract attributes such as the <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, <xref:System.Runtime.Serialization.DataContractAttribute>,  <xref:System.Runtime.Serialization.DataMemberAttribute>, and other contract attributes.</span></span>  
  
 <span data-ttu-id="15135-252">Una de las consecuencias es que, si no se establecen explícitamente los nombres y espacios de nombres, el uso de la ofuscación de IL en el ensamblado modifica los nombres y espacios de nombres del tipo de contrato y, por lo tanto, los intercambios de conexión y WSDL modificados generan errores.</span><span class="sxs-lookup"><span data-stu-id="15135-252">One result of this is that if the names and namespaces are not explicitly set, the use of IL obfuscation on the assembly alters the contract type names and namespaces and results in modified WSDL and wire exchanges that typically fail.</span></span> <span data-ttu-id="15135-253">Si no establece los nombres y espacios de nombres de contrato explícitamente pero tiene pensado utilizar la ofuscación, use los atributos <xref:System.Reflection.ObfuscationAttribute> y <xref:System.Reflection.ObfuscateAssemblyAttribute> para evitar la modificación de los nombres y espacios de nombres del tipo de contrato.</span><span class="sxs-lookup"><span data-stu-id="15135-253">If you do not set the contract names and namespaces explicitly but do intend to use obfuscation, use the <xref:System.Reflection.ObfuscationAttribute> and <xref:System.Reflection.ObfuscateAssemblyAttribute> attributes to prevent the modification of the contract type names and namespaces.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="15135-254">Vea también</span><span class="sxs-lookup"><span data-stu-id="15135-254">See also</span></span>

- [<span data-ttu-id="15135-255">Procedimiento para crear un contrato de solicitud-respuesta</span><span class="sxs-lookup"><span data-stu-id="15135-255">How to: Create a Request-Reply Contract</span></span>](./feature-details/how-to-create-a-request-reply-contract.md)
- [<span data-ttu-id="15135-256">Procedimiento para crear un contrato unidireccional</span><span class="sxs-lookup"><span data-stu-id="15135-256">How to: Create a One-Way Contract</span></span>](./feature-details/how-to-create-a-one-way-contract.md)
- [<span data-ttu-id="15135-257">Procedimiento para crear un contrato dúplex</span><span class="sxs-lookup"><span data-stu-id="15135-257">How to: Create a Duplex Contract</span></span>](./feature-details/how-to-create-a-duplex-contract.md)
- [<span data-ttu-id="15135-258">Especificación de transferencia de datos en contratos de servicio</span><span class="sxs-lookup"><span data-stu-id="15135-258">Specifying Data Transfer in Service Contracts</span></span>](./feature-details/specifying-data-transfer-in-service-contracts.md)
- [<span data-ttu-id="15135-259">Especificación y administración de errores en contratos y servicios</span><span class="sxs-lookup"><span data-stu-id="15135-259">Specifying and Handling Faults in Contracts and Services</span></span>](specifying-and-handling-faults-in-contracts-and-services.md)
- [<span data-ttu-id="15135-260">Uso de sesiones</span><span class="sxs-lookup"><span data-stu-id="15135-260">Using Sessions</span></span>](using-sessions.md)
- [<span data-ttu-id="15135-261">Operaciones sincrónicas y asincrónicas</span><span class="sxs-lookup"><span data-stu-id="15135-261">Synchronous and Asynchronous Operations</span></span>](synchronous-and-asynchronous-operations.md)
- [<span data-ttu-id="15135-262">Reliable Services</span><span class="sxs-lookup"><span data-stu-id="15135-262">Reliable Services</span></span>](reliable-services.md)
- [<span data-ttu-id="15135-263">Servicios y transacciones</span><span class="sxs-lookup"><span data-stu-id="15135-263">Services and Transactions</span></span>](services-and-transactions.md)
