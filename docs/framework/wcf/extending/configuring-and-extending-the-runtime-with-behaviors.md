---
title: Configuración y extensión del tiempo de ejecución con comportamientos
ms.date: 03/30/2017
helpviewer_keywords:
- attaching extensions using behaviors [WCF]
ms.assetid: 149b99b6-6eb6-4f45-be22-c967279677d9
ms.openlocfilehash: 67db06649d6059ff6b6e6fb8d84058621fcc7dab
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185655"
---
# <a name="configuring-and-extending-the-runtime-with-behaviors"></a><span data-ttu-id="8dc41-102">Configuración y extensión del tiempo de ejecución con comportamientos</span><span class="sxs-lookup"><span data-stu-id="8dc41-102">Configuring and Extending the Runtime with Behaviors</span></span>
<span data-ttu-id="8dc41-103">Los comportamientos permiten modificar el comportamiento predeterminado y agregar extensiones personalizadas que inspeccionan y validan la configuración del servicio o modifican el comportamiento en tiempo de ejecución en aplicaciones cliente y de servicio de Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="8dc41-103">Behaviors enable you to modify default behavior and add custom extensions that inspect and validate service configuration or modify runtime behavior in Windows Communication Foundation (WCF) client and service applications.</span></span> <span data-ttu-id="8dc41-104">En este tema se describen las interfaces de comportamiento, cómo implementarlas y cómo agregarlas mediante programación a la descripción del servicio (en una aplicación de servicio) o punto de conexión (en una aplicación cliente) o en un archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="8dc41-104">This topic describes the behavior interfaces, how to implement them, and how to add them to the service description (in a service application) or endpoint (in a client application) programmatically or in a configuration file.</span></span> <span data-ttu-id="8dc41-105">Para obtener más información sobre el uso de comportamientos proporcionados por el sistema, vea Especificar el comportamiento en tiempo de [ejecución](../specifying-service-run-time-behavior.md) del servicio y Especificar el comportamiento en tiempo de ejecución del [cliente](../specifying-client-run-time-behavior.md).</span><span class="sxs-lookup"><span data-stu-id="8dc41-105">For more information about using system-provided behaviors, see [Specifying Service Run-Time Behavior](../specifying-service-run-time-behavior.md) and [Specifying Client Run-Time Behavior](../specifying-client-run-time-behavior.md).</span></span>  
  
## <a name="behaviors"></a><span data-ttu-id="8dc41-106">Comportamientos</span><span class="sxs-lookup"><span data-stu-id="8dc41-106">Behaviors</span></span>  
 <span data-ttu-id="8dc41-107">Los tipos de comportamiento se agregan a los objetos de descripción de extremo de servicio o servicio (en el servicio o cliente, respectivamente) antes de que Windows Communication Foundation (WCF) use esos objetos para crear un tiempo de ejecución que ejecute un servicio WCF o un cliente WCF.</span><span class="sxs-lookup"><span data-stu-id="8dc41-107">Behavior types are added to the service or service endpoint description objects (on the service or client, respectively) before those objects are used by Windows Communication Foundation (WCF) to create a runtime that executes a WCF service or a WCF client.</span></span> <span data-ttu-id="8dc41-108">Cuando se llama a estos comportamientos durante el proceso de construcción en tiempo de ejecución, podrá tener acceso a las propiedades y métodos en tiempo de ejecución que modifican el tiempo de ejecución construido por el contrato, enlaces y direcciones.</span><span class="sxs-lookup"><span data-stu-id="8dc41-108">When these behaviors are called during the runtime construction process they are then able to access runtime properties and methods that modify the runtime constructed by the contract, bindings, and addresses.</span></span>  
  
### <a name="behavior-methods"></a><span data-ttu-id="8dc41-109">Métodos de comportamiento</span><span class="sxs-lookup"><span data-stu-id="8dc41-109">Behavior Methods</span></span>  
 <span data-ttu-id="8dc41-110">Todo los comportamientos tienen un método `AddBindingParameters`, un método `ApplyDispatchBehavior`, un método `Validate` y un método `ApplyClientBehavior` con una excepción: como <xref:System.ServiceModel.Description.IServiceBehavior> no puede ejecutarse en un cliente, no implementará `ApplyClientBehavior`.</span><span class="sxs-lookup"><span data-stu-id="8dc41-110">All behaviors have an `AddBindingParameters` method, an `ApplyDispatchBehavior` method, a `Validate` method, and an `ApplyClientBehavior` method with one exception: Because <xref:System.ServiceModel.Description.IServiceBehavior> cannot execute in a client, it does not implement `ApplyClientBehavior`.</span></span>  
  
- <span data-ttu-id="8dc41-111">Utilice el método `AddBindingParameters` para modificar o agregar los objetos personalizados a una colección a la que los enlaces personalizados pueden tener acceso para su uso cuando se construya el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="8dc41-111">Use the `AddBindingParameters` method to modify or add custom objects to a collection that custom bindings can access for their use when the runtime is constructed.</span></span> <span data-ttu-id="8dc41-112">Por ejemplo, la forma en que se especifican los requisitos de protección que afectan a la manera en que se crea el canal pero no es conocido por el desarrollador de canales.</span><span class="sxs-lookup"><span data-stu-id="8dc41-112">For example, this how protection requirements are specified that affect the way the channel is built, but are not known by the channel developer.</span></span>  
  
- <span data-ttu-id="8dc41-113">Utilice el método `Validate` para examinar el árbol de descripción y el objeto del tiempo de ejecución correspondiente para garantizar que se ajusta a algún conjunto de criterios.</span><span class="sxs-lookup"><span data-stu-id="8dc41-113">Use the `Validate` method to examine the description tree and corresponding runtime object to ensure it conforms to some set of criteria.</span></span>  
  
- <span data-ttu-id="8dc41-114">Utilice los métodos `ApplyDispatchBehavior` y `ApplyClientBehavior` para examinar el árbol de descripción y modificar el tiempo de ejecución para un ámbito determinado en el servicio o el cliente.</span><span class="sxs-lookup"><span data-stu-id="8dc41-114">Use the `ApplyDispatchBehavior` and `ApplyClientBehavior` methods to examine the description tree and modify the runtime for a particular scope on either the service or the client.</span></span> <span data-ttu-id="8dc41-115">También puede insertar los objetos de extensión.</span><span class="sxs-lookup"><span data-stu-id="8dc41-115">You can also insert extension objects as well.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="8dc41-116">Aunque se proporciona un árbol de descripción en estos métodos, solo es para el examen.</span><span class="sxs-lookup"><span data-stu-id="8dc41-116">Although a description tree is provided in these methods, it is for examination only.</span></span> <span data-ttu-id="8dc41-117">Si se modifica un árbol de descripción, el comportamiento es indefinido.</span><span class="sxs-lookup"><span data-stu-id="8dc41-117">If a description tree is modified, the behavior is undefined.</span></span>  
  
 <span data-ttu-id="8dc41-118">Se tiene acceso a las propiedades que puede modificar y las interfaces de personalización que puede implementar a través de las clases de tiempo de ejecución de servicio y de cliente.</span><span class="sxs-lookup"><span data-stu-id="8dc41-118">The properties you can modify and the customization interfaces you can implement are accessed through the service and client runtime classes.</span></span> <span data-ttu-id="8dc41-119">Los tipos de servicio son las clases <xref:System.ServiceModel.Dispatcher.DispatchRuntime> y <xref:System.ServiceModel.Dispatcher.DispatchOperation>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-119">The service types are the <xref:System.ServiceModel.Dispatcher.DispatchRuntime> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes.</span></span> <span data-ttu-id="8dc41-120">Los tipos de cliente con las clases <xref:System.ServiceModel.Dispatcher.ClientRuntime> y <xref:System.ServiceModel.Dispatcher.ClientOperation>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-120">The client types are the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes.</span></span> <span data-ttu-id="8dc41-121">Las clases <xref:System.ServiceModel.Dispatcher.ClientRuntime> y <xref:System.ServiceModel.Dispatcher.DispatchRuntime> son los puntos de entrada de la extensibilidad para tener acceso a las propiedades en tiempo de ejecución del cliente y del servicio y las colecciones de extensión, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="8dc41-121">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes are the extensibility entry points to access client-wide and service-wide runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="8dc41-122">De igual forma, las clases <xref:System.ServiceModel.Dispatcher.ClientOperation> y <xref:System.ServiceModel.Dispatcher.DispatchOperation> exponen las propiedades del tiempo de ejecución de la operación del cliente y de la operación de servicio, y las colecciones de extensiones, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="8dc41-122">Similarly, the <xref:System.ServiceModel.Dispatcher.ClientOperation> and  <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes expose client operation and service operation runtime properties and extension collections, respectively.</span></span> <span data-ttu-id="8dc41-123">Puede, sin embargo, tener acceso al objeto en tiempo de ejecución de un ámbito más amplio a partir del objeto de tiempo de ejecución de la operación y viceversa, si fuera necesario.</span><span class="sxs-lookup"><span data-stu-id="8dc41-123">You can, however, access the wider scoped runtime object from the operation runtime object and vice versa if need be.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="8dc41-124">Para obtener una explicación de las propiedades en tiempo de ejecución y los tipos de extensión que puede usar para modificar el comportamiento de ejecución de un cliente, vea [Extender clientes](extending-clients.md).</span><span class="sxs-lookup"><span data-stu-id="8dc41-124">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a client, see [Extending Clients](extending-clients.md).</span></span> <span data-ttu-id="8dc41-125">Para obtener una explicación de las propiedades en tiempo de ejecución y los tipos de extensión que puede usar para modificar el comportamiento de ejecución de un distribuidor de servicios, vea [Extender distribuidores](extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="8dc41-125">For a discussion of runtime properties and extension types that you can use to modify the execution behavior of a service dispatcher, see [Extending Dispatchers](extending-dispatchers.md).</span></span>  
  
 <span data-ttu-id="8dc41-126">La mayoría de los usuarios de WCF no interactúan directamente con el tiempo de ejecución; en su lugar, usan construcciones de modelos de programación principales como puntos de conexión, contratos, enlaces, direcciones y atributos de comportamiento en clases o comportamientos en archivos de configuración.</span><span class="sxs-lookup"><span data-stu-id="8dc41-126">Most WCF users do not interact with the runtime directly; instead they use core programming model constructs like endpoints, contracts, bindings, addresses, and behavior attributes on classes or behaviors in configuration files.</span></span> <span data-ttu-id="8dc41-127">Estas construcciones conforman el árbol de *descripción,* que es la especificación completa para construir un tiempo de ejecución para admitir un servicio o cliente descrito por el árbol de descripción.</span><span class="sxs-lookup"><span data-stu-id="8dc41-127">These constructs make up the *description tree*, which is the complete specification for constructing a runtime to support a service or client described by the description tree.</span></span>  
  
 <span data-ttu-id="8dc41-128">Hay cuatro tipos de comportamientos en WCF:</span><span class="sxs-lookup"><span data-stu-id="8dc41-128">There are four kinds of behaviors in WCF:</span></span>  
  
- <span data-ttu-id="8dc41-129">Los comportamientos de servicio (tipos <xref:System.ServiceModel.Description.IServiceBehavior>) permiten la personalización del tiempo de ejecución del servicio completo incluido <xref:System.ServiceModel.ServiceHostBase>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-129">Service behaviors (<xref:System.ServiceModel.Description.IServiceBehavior> types) enable the customization of the entire service runtime including <xref:System.ServiceModel.ServiceHostBase>.</span></span>  
  
- <span data-ttu-id="8dc41-130">Los comportamientos del extremo (tipos <xref:System.ServiceModel.Description.IEndpointBehavior>) permiten la personalización de los extremos de servicio y sus objetos <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> asociados.</span><span class="sxs-lookup"><span data-stu-id="8dc41-130">Endpoint behaviors (<xref:System.ServiceModel.Description.IEndpointBehavior> types) enable the customization of service endpoints and their associated <xref:System.ServiceModel.Dispatcher.EndpointDispatcher> objects.</span></span>  
  
- <span data-ttu-id="8dc41-131">Los comportamientos del contrato (tipos <xref:System.ServiceModel.Description.IContractBehavior>) permiten la personalización de las clases <xref:System.ServiceModel.Dispatcher.ClientRuntime> y <xref:System.ServiceModel.Dispatcher.DispatchRuntime> en las aplicaciones de cliente y servicio, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="8dc41-131">Contract behaviors (<xref:System.ServiceModel.Description.IContractBehavior> types) enable the customization of both the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.DispatchRuntime> classes in client and service applications, respectively.</span></span>  
  
- <span data-ttu-id="8dc41-132">Los comportamientos de la operación (tipos <xref:System.ServiceModel.Description.IOperationBehavior>) permiten la personalización de las clases <xref:System.ServiceModel.Dispatcher.ClientOperation> y <xref:System.ServiceModel.Dispatcher.DispatchOperation>, de nuevo, en el cliente y el servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-132">Operation behaviors (<xref:System.ServiceModel.Description.IOperationBehavior> types) enable the customization of the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.DispatchOperation> classes, again, on the client and service.</span></span>  
  
 <span data-ttu-id="8dc41-133">Puede agregar estos comportamientos a los distintos objetos de descripción implementando los atributos personalizados, utilizando los archivos de configuración de la aplicación, o directamente agregándolos a la colección de comportamientos en el objeto de descripción adecuado.</span><span class="sxs-lookup"><span data-stu-id="8dc41-133">You can add these behaviors to the various description objects by implementing custom attributes, using application configuration files, or directly by adding them to the behaviors collection on the appropriate description object.</span></span> <span data-ttu-id="8dc41-134">Sin embargo, deben agregarse a la descripción del servicio o a un objeto de descripción del punto de conexión del servicio antes de llamar a <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> en <xref:System.ServiceModel.ServiceHost> o <xref:System.ServiceModel.ChannelFactory%601>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-134">The must, however, be added to a service description or service endpoint description object prior to calling <xref:System.ServiceModel.ICommunicationObject.Open%2A?displayProperty=nameWithType> on the <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>.</span></span>  
  
### <a name="behavior-scopes"></a><span data-ttu-id="8dc41-135">Ámbitos de comportamiento</span><span class="sxs-lookup"><span data-stu-id="8dc41-135">Behavior Scopes</span></span>  
 <span data-ttu-id="8dc41-136">Hay cuatro tipos de comportamiento, cada uno de los cuales se corresponde con un ámbito determinado de acceso en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="8dc41-136">There are four behavior types, each of which corresponds to a particular scope of runtime access.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="8dc41-137">Comportamientos de servicio</span><span class="sxs-lookup"><span data-stu-id="8dc41-137">Service Behaviors</span></span>  
 <span data-ttu-id="8dc41-138">Los comportamientos de servicio, que implementan <xref:System.ServiceModel.Description.IServiceBehavior>, son el mecanismo principal por medio del cual modifica el tiempo de ejecución del servicio completo.</span><span class="sxs-lookup"><span data-stu-id="8dc41-138">Service behaviors, which implement <xref:System.ServiceModel.Description.IServiceBehavior>, are the primary mechanism by which you modify the entire service runtime.</span></span> <span data-ttu-id="8dc41-139">Hay tres mecanismos para agregar los comportamientos de servicio a un servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-139">There are three mechanisms for adding service behaviors to a service.</span></span>  
  
1. <span data-ttu-id="8dc41-140">Utilizar un atributo en la clase de servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-140">Using an attribute on the service class.</span></span>  <span data-ttu-id="8dc41-141">Cuando se construye un <xref:System.ServiceModel.ServiceHost>, la implementación de <xref:System.ServiceModel.ServiceHost> utiliza la reflexión para detectar el conjunto de atributos en el tipo del servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-141">When a <xref:System.ServiceModel.ServiceHost> is constructed, the <xref:System.ServiceModel.ServiceHost> implementation uses reflection to discover the set of attributes on the type of the service.</span></span> <span data-ttu-id="8dc41-142">Si cualquiera de estos atributos es una implementación de <xref:System.ServiceModel.Description.IServiceBehavior>, se agregan a la colección de comportamientos en <xref:System.ServiceModel.Description.ServiceDescription>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-142">If any of those attributes are implementations of <xref:System.ServiceModel.Description.IServiceBehavior>, they are added to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="8dc41-143">Esto permite a esos comportamientos participar en la construcción del tiempo de ejecución del servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-143">This allows those behaviors to participate in the construction of the service run time.</span></span>  
  
2. <span data-ttu-id="8dc41-144">Agregar mediante programación el comportamiento a la colección de comportamientos en <xref:System.ServiceModel.Description.ServiceDescription>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-144">Programmatically adding the behavior to the behaviors collection on <xref:System.ServiceModel.Description.ServiceDescription>.</span></span> <span data-ttu-id="8dc41-145">Esto se puede lograr con las siguientes líneas de código:</span><span class="sxs-lookup"><span data-stu-id="8dc41-145">This can be accomplished with the following lines of code:</span></span>  
  
    ```csharp
    ServiceHost host = new ServiceHost(/* Parameters */);  
    host.Description.Behaviors.Add(/* Service Behavior */);  
    ```  
  
3. <span data-ttu-id="8dc41-146">Implementar un <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizado que extiende la configuración.</span><span class="sxs-lookup"><span data-stu-id="8dc41-146">Implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span> <span data-ttu-id="8dc41-147">Esto permite el uso del comportamiento de servicio a partir de los archivos de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8dc41-147">This enables the use of the service behavior from application configuration files.</span></span>  
  
 <span data-ttu-id="8dc41-148">Ejemplos de comportamientos de <xref:System.ServiceModel.ServiceBehaviorAttribute> servicio en <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>WCF <xref:System.ServiceModel.Description.ServiceMetadataBehavior> incluyen el atributo, el , y el comportamiento.</span><span class="sxs-lookup"><span data-stu-id="8dc41-148">Examples of service behaviors in WCF include the <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute, the <xref:System.ServiceModel.Description.ServiceThrottlingBehavior>, and the <xref:System.ServiceModel.Description.ServiceMetadataBehavior> behavior.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="8dc41-149">Comportamientos de contrato</span><span class="sxs-lookup"><span data-stu-id="8dc41-149">Contract Behaviors</span></span>  
 <span data-ttu-id="8dc41-150">Los comportamientos de contrato, que implementan la interfaz <xref:System.ServiceModel.Description.IContractBehavior>, se utilizan para extender el tiempo de ejecución del cliente y el servicio en un contrato.</span><span class="sxs-lookup"><span data-stu-id="8dc41-150">Contract behaviors, which implement the <xref:System.ServiceModel.Description.IContractBehavior> interface, are used to extend both the client and service runtime across a contract.</span></span>  
  
 <span data-ttu-id="8dc41-151">Hay dos mecanismos para agregar los comportamientos del contrato a un contrato.</span><span class="sxs-lookup"><span data-stu-id="8dc41-151">There are two mechanisms for adding contract behaviors to a contract.</span></span>  <span data-ttu-id="8dc41-152">El primer mecanismo es crear un atributo personalizado que se va a utilizar en la interfaz de contrato.</span><span class="sxs-lookup"><span data-stu-id="8dc41-152">The first mechanism is to create a custom attribute to be used on the contract interface.</span></span> <span data-ttu-id="8dc41-153">Cuando se pasa una interfaz de contrato a a <xref:System.ServiceModel.ServiceHost> o a <xref:System.ServiceModel.ChannelFactory%601>, WCF examina los atributos de la interfaz.</span><span class="sxs-lookup"><span data-stu-id="8dc41-153">When a contract interface is passed to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory%601>, WCF examines the attributes on the interface.</span></span> <span data-ttu-id="8dc41-154">Si los atributos son implementaciones de <xref:System.ServiceModel.Description.IContractBehavior>, se agregarán a la colección de comportamientos en el <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> creado para esa interfaz.</span><span class="sxs-lookup"><span data-stu-id="8dc41-154">If any attributes are implementations of <xref:System.ServiceModel.Description.IContractBehavior>, those are added to the behaviors collection on the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> created for that interface.</span></span>  
  
 <span data-ttu-id="8dc41-155">También puede implementar <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> en el atributo de comportamiento de contrato personalizado.</span><span class="sxs-lookup"><span data-stu-id="8dc41-155">You can also implement the <xref:System.ServiceModel.Description.IContractBehaviorAttribute?displayProperty=nameWithType> on the custom contract behavior attribute.</span></span> <span data-ttu-id="8dc41-156">En este caso, el comportamiento es como sigue cuando se aplica a:</span><span class="sxs-lookup"><span data-stu-id="8dc41-156">In this case, the behavior is as follows when applied to:</span></span>  
  
 <span data-ttu-id="8dc41-157">•Una interfaz de contrato.</span><span class="sxs-lookup"><span data-stu-id="8dc41-157">•A contract interface.</span></span> <span data-ttu-id="8dc41-158">En este caso, el comportamiento se aplica a todos los contratos de <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> ese tipo en cualquier extremo y WCF omite el valor de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="8dc41-158">In this case, the behavior is applied to all contracts of that type in any endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A?displayProperty=nameWithType> property.</span></span>  
  
 <span data-ttu-id="8dc41-159">•Una clase de servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-159">•A service class.</span></span> <span data-ttu-id="8dc41-160">En este caso, el comportamiento se aplica solo a los puntos de conexión cuyo contrato es el valor de la propiedad <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-160">In this case, the behavior is applied only to endpoints the contract of which is the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="8dc41-161">•Una clase de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="8dc41-161">•A callback class.</span></span> <span data-ttu-id="8dc41-162">En este caso, el comportamiento se aplica al extremo del cliente <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> dúplex y WCF omite el valor de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="8dc41-162">In this case, the behavior is applied to the duplex client's endpoint and WCF ignores the value of the <xref:System.ServiceModel.Description.IContractBehaviorAttribute.TargetContract%2A> property.</span></span>  
  
 <span data-ttu-id="8dc41-163">El segundo mecanismo es agregar el comportamiento a la colección de comportamientos en <xref:System.ServiceModel.Description.ContractDescription>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-163">The second mechanism is to add the behavior to the behaviors collection on a <xref:System.ServiceModel.Description.ContractDescription>.</span></span>  
  
 <span data-ttu-id="8dc41-164">Ejemplos de comportamientos de <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType> contrato en WCF incluyen el atributo.</span><span class="sxs-lookup"><span data-stu-id="8dc41-164">Examples of contract behaviors in WCF include the <xref:System.ServiceModel.DeliveryRequirementsAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="8dc41-165">Para obtener más información y un ejemplo, vea el tema de referencia.</span><span class="sxs-lookup"><span data-stu-id="8dc41-165">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="endpoint-behaviors"></a><span data-ttu-id="8dc41-166">Comportamientos del extremo</span><span class="sxs-lookup"><span data-stu-id="8dc41-166">Endpoint Behaviors</span></span>  
 <span data-ttu-id="8dc41-167">Los comportamientos del punto de conexión, que implementan <xref:System.ServiceModel.Description.IEndpointBehavior>, son el mecanismo principal por medio del cual modifica todo el servicio o el tiempo de ejecución del cliente para un punto de conexión concreto.</span><span class="sxs-lookup"><span data-stu-id="8dc41-167">Endpoint behaviors, which implement <xref:System.ServiceModel.Description.IEndpointBehavior>, are the primary mechanism by which you modify the entire service or client run time for a specific endpoint.</span></span>  
  
 <span data-ttu-id="8dc41-168">Hay dos mecanismos para agregar los comportamientos del extremo a un servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-168">There are two mechanisms for adding endpoint behaviors to a service.</span></span>  
  
1. <span data-ttu-id="8dc41-169">Agregue el comportamiento a la propiedad <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-169">Add the behavior to the <xref:System.ServiceModel.Description.ServiceEndpoint.Behaviors%2A> property.</span></span>  
  
2. <span data-ttu-id="8dc41-170">Implementar un <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizado que extiende la configuración.</span><span class="sxs-lookup"><span data-stu-id="8dc41-170">Implement a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> that extends configuration.</span></span>  
  
 <span data-ttu-id="8dc41-171">Para obtener más información y un ejemplo, vea el tema de referencia.</span><span class="sxs-lookup"><span data-stu-id="8dc41-171">For more information and an example, see the reference topic.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="8dc41-172">Comportamientos de la operación</span><span class="sxs-lookup"><span data-stu-id="8dc41-172">Operation Behaviors</span></span>  
 <span data-ttu-id="8dc41-173">Los comportamientos de la operación, que implementan la interfaz <xref:System.ServiceModel.Description.IOperationBehavior>, se utilizan para extender el tiempo de ejecución del cliente y el servicio para cada operación.</span><span class="sxs-lookup"><span data-stu-id="8dc41-173">Operation behaviors, which implement the <xref:System.ServiceModel.Description.IOperationBehavior> interface, are used to extend both the client and service runtime for each operation.</span></span>  
  
 <span data-ttu-id="8dc41-174">Hay dos mecanismos para agregar los comportamientos de la operación a una operación.</span><span class="sxs-lookup"><span data-stu-id="8dc41-174">There are two mechanisms for adding operation behaviors to an operation.</span></span> <span data-ttu-id="8dc41-175">El primero es crear un atributo personalizado que se va a utilizar en el método que modela la operación.</span><span class="sxs-lookup"><span data-stu-id="8dc41-175">The first mechanism is to create a custom attribute to be used on the method that models the operation.</span></span> <span data-ttu-id="8dc41-176">Cuando se agrega una <xref:System.ServiceModel.ServiceHost> operación <xref:System.ServiceModel.ChannelFactory>a a <xref:System.ServiceModel.Description.IOperationBehavior> o a , WCF <xref:System.ServiceModel.Description.OperationDescription> agrega los atributos a la colección de comportamientos en el creado para esa operación.</span><span class="sxs-lookup"><span data-stu-id="8dc41-176">When an operation is added to either a <xref:System.ServiceModel.ServiceHost> or a <xref:System.ServiceModel.ChannelFactory>, WCF adds any  <xref:System.ServiceModel.Description.IOperationBehavior> attributes to the behaviors collection on the <xref:System.ServiceModel.Description.OperationDescription> created for that operation.</span></span>  
  
 <span data-ttu-id="8dc41-177">El segundo mecanismo es agregar directamente el comportamiento a la colección de comportamientos en un <xref:System.ServiceModel.Description.OperationDescription>construido.</span><span class="sxs-lookup"><span data-stu-id="8dc41-177">The second mechanism is by directly adding the behavior to the behaviors collection on a constructed <xref:System.ServiceModel.Description.OperationDescription>.</span></span>  
  
 <span data-ttu-id="8dc41-178">Ejemplos de comportamientos de <xref:System.ServiceModel.OperationBehaviorAttribute> operación <xref:System.ServiceModel.TransactionFlowAttribute>en WCF incluyen el y el .</span><span class="sxs-lookup"><span data-stu-id="8dc41-178">Examples of operation behaviors in WCF include the <xref:System.ServiceModel.OperationBehaviorAttribute> and the <xref:System.ServiceModel.TransactionFlowAttribute>.</span></span>  
  
 <span data-ttu-id="8dc41-179">Para obtener más información y un ejemplo, vea el tema de referencia.</span><span class="sxs-lookup"><span data-stu-id="8dc41-179">For more information and an example, see the reference topic.</span></span>  
  
### <a name="using-configuration-to-create-behaviors"></a><span data-ttu-id="8dc41-180">Uso de la configuración para crear comportamientos</span><span class="sxs-lookup"><span data-stu-id="8dc41-180">Using Configuration to Create Behaviors</span></span>  
 <span data-ttu-id="8dc41-181">Los comportamientos de servicio y extremo, y contrato pueden diseñarse para que se especifiquen en el código o utilicen atributos; solo se pueden configurar los comportamientos de servicio y extremo mediante la aplicación o los archivos de configuración web.</span><span class="sxs-lookup"><span data-stu-id="8dc41-181">Service and endpoint, and contract behaviors can by designed to be specified in code or using attributes; only service and endpoint behaviors can be configured using application or Web configuration files.</span></span> <span data-ttu-id="8dc41-182">La exposición de comportamientos con atributos permite a los desarrolladores especificar un comportamiento en el momento de la compilación que no puede agregarse, eliminarse ni modificarse en el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="8dc41-182">Exposing behaviors using attributes allows developers to specify a behavior at compilation-time that cannot be added, removed, or modified at runtime.</span></span> <span data-ttu-id="8dc41-183">Esto es a menudo conveniente para los comportamientos que siempre se necesitan para la operación correcta de un servicio (por ejemplo, los parámetros relacionados con la transacción al atributo <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="8dc41-183">This is often suitable for behaviors that are always required for the correct operation of a service (for example, the transaction-related parameters to the <xref:System.ServiceModel.ServiceBehaviorAttribute?displayProperty=nameWithType> attribute).</span></span> <span data-ttu-id="8dc41-184">Exponer comportamientos que utilizan la configuración permite a los desarrolladores dejar la especificación y la configuración de dichos comportamientos a los que implementan el servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-184">Exposing behaviors using configuration allows developers to leave the specification and configuration of those behaviors to those who deploy the service.</span></span> <span data-ttu-id="8dc41-185">Esto es conveniente para los comportamientos que son componentes opcionales u otra configuración específica de la implementación, por ejemplo, si los metadatos se exponen para el servicio o la configuración de autorización determinada para un servicio.</span><span class="sxs-lookup"><span data-stu-id="8dc41-185">This is suitable for behaviors that are optional components or other deployment-specific configuration, such as whether metadata is exposed for the service or the particular authorization configuration for a service.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="8dc41-186">También puede utilizar comportamientos que admiten la configuración para exigir las directivas de aplicación de la empresa insertándolas en el archivo de configuración machine.config y bloqueando esos elementos.</span><span class="sxs-lookup"><span data-stu-id="8dc41-186">You can also use behaviors that support configuration to enforce company application policies by inserting them into the machine.config configuration file and locking those items down.</span></span> <span data-ttu-id="8dc41-187">Para obtener una descripción y un ejemplo, consulte [Cómo: bloquear puntos de conexión en la empresa](how-to-lock-down-endpoints-in-the-enterprise.md).</span><span class="sxs-lookup"><span data-stu-id="8dc41-187">For a description and an example, see [How to: Lock Down Endpoints in the Enterprise](how-to-lock-down-endpoints-in-the-enterprise.md).</span></span>  
  
 <span data-ttu-id="8dc41-188">Para exponer un comportamiento mediante la configuración, un desarrollador debe crear una clase derivada de <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> y, a continuación, registrar esa extensión con la configuración.</span><span class="sxs-lookup"><span data-stu-id="8dc41-188">To expose a behavior using configuration, a developer must create a derived class of <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> and then register that extension with configuration.</span></span>  
  
 <span data-ttu-id="8dc41-189">El siguiente ejemplo de código muestra cómo <xref:System.ServiceModel.Description.IEndpointBehavior> implementa <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>:</span><span class="sxs-lookup"><span data-stu-id="8dc41-189">The following code example shows how an  <xref:System.ServiceModel.Description.IEndpointBehavior> implements <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>:</span></span>  
  
```csharp
// BehaviorExtensionElement members  
public override Type BehaviorType  
{  
  get { return typeof(EndpointBehaviorMessageInspector); }  
}  
  
protected override object CreateBehavior()  
{  
  return new EndpointBehaviorMessageInspector();  
}  
```  
  
 <span data-ttu-id="8dc41-190">Para que el sistema de configuración cargue un <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizado, se debe registrar como una extensión.</span><span class="sxs-lookup"><span data-stu-id="8dc41-190">In order for the configuration system to load a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>, it must be registered as an extension.</span></span> <span data-ttu-id="8dc41-191">El ejemplo de código siguiente muestra el archivo de configuración para el comportamiento del extremo anterior:</span><span class="sxs-lookup"><span data-stu-id="8dc41-191">The following code example shows the configuration file for the preceding endpoint behavior:</span></span>  
  
```xml  
<configuration>  
  <system.serviceModel>  
    <services>  
      <service
        name="Microsoft.WCF.Documentation.SampleService"  
        behaviorConfiguration="metadataSupport"  
      >  
        <host>  
          <baseAddresses>  
            <add baseAddress="http://localhost:8080/ServiceMetadata" />  
          </baseAddresses>  
        </host>  
        <endpoint  
          address="/SampleService"  
          binding="wsHttpBinding"  
          behaviorConfiguration="withMessageInspector"
          contract="Microsoft.WCF.Documentation.ISampleService"  
        />  
        <endpoint  
           address="mex"  
           binding="mexHttpBinding"  
           contract="IMetadataExchange"  
        />  
      </service>  
    </services>  
    <behaviors>  
      <serviceBehaviors>  
      <behavior name="metadataSupport">  
        <serviceMetadata httpGetEnabled="true" httpGetUrl=""/>  
      </behavior>  
      </serviceBehaviors>  
      <endpointBehaviors>  
        <behavior name="withMessageInspector">  
          <endpointMessageInspector />  
        </behavior>  
      </endpointBehaviors>  
    </behaviors>  
    <extensions>  
      <behaviorExtensions>  
        <add
          name="endpointMessageInspector"  
          type="Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector, HostApplication, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null"  
        />  
      </behaviorExtensions>  
    </extensions>  
  </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="8dc41-192">Dónde `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` está el `HostApplication` tipo de extensión de comportamiento y es el nombre del ensamblado en el que se ha compilado esa clase.</span><span class="sxs-lookup"><span data-stu-id="8dc41-192">Where `Microsoft.WCF.Documentation.EndpointBehaviorMessageInspector` is the behavior extension type and `HostApplication` is the name of the assembly into which that class has been compiled.</span></span>  
  
### <a name="evaluation-order"></a><span data-ttu-id="8dc41-193">Orden de evaluación</span><span class="sxs-lookup"><span data-stu-id="8dc41-193">Evaluation Order</span></span>  
 <span data-ttu-id="8dc41-194"><xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> y <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> son responsables de generar el tiempo de ejecución del modelo de programación y descripción.</span><span class="sxs-lookup"><span data-stu-id="8dc41-194">The <xref:System.ServiceModel.ChannelFactory%601?displayProperty=nameWithType> and the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> are responsible for building the runtime from the programming model and description.</span></span> <span data-ttu-id="8dc41-195">Los comportamientos, tal y como se han descritos previamente, contribuyen a ese proceso de creación en el servicio, punto de conexión, contrato y operación.</span><span class="sxs-lookup"><span data-stu-id="8dc41-195">Behaviors, as previously described, contribute to that build process at the service, endpoint, contract, and operation.</span></span>  
  
 <span data-ttu-id="8dc41-196"><xref:System.ServiceModel.ServiceHost> aplica los comportamientos en el orden siguiente:</span><span class="sxs-lookup"><span data-stu-id="8dc41-196">The <xref:System.ServiceModel.ServiceHost> applies behaviors in the following order:</span></span>  
  
1. <span data-ttu-id="8dc41-197">Servicio</span><span class="sxs-lookup"><span data-stu-id="8dc41-197">Service</span></span>  
  
2. <span data-ttu-id="8dc41-198">Contrato</span><span class="sxs-lookup"><span data-stu-id="8dc41-198">Contract</span></span>  
  
3. <span data-ttu-id="8dc41-199">Punto de conexión</span><span class="sxs-lookup"><span data-stu-id="8dc41-199">Endpoint</span></span>  
  
4. <span data-ttu-id="8dc41-200">Operación</span><span class="sxs-lookup"><span data-stu-id="8dc41-200">Operation</span></span>  
  
 <span data-ttu-id="8dc41-201">Dentro de cualquier colección de comportamientos, no se garantiza ningún orden.</span><span class="sxs-lookup"><span data-stu-id="8dc41-201">Within any collection of behaviors, no order is guaranteed.</span></span>  
  
 <span data-ttu-id="8dc41-202"><xref:System.ServiceModel.ChannelFactory%601> aplica los comportamientos en el orden siguiente:</span><span class="sxs-lookup"><span data-stu-id="8dc41-202">The <xref:System.ServiceModel.ChannelFactory%601> applies behaviors in the following order:</span></span>  
  
1. <span data-ttu-id="8dc41-203">Contrato</span><span class="sxs-lookup"><span data-stu-id="8dc41-203">Contract</span></span>  
  
2. <span data-ttu-id="8dc41-204">Punto de conexión</span><span class="sxs-lookup"><span data-stu-id="8dc41-204">Endpoint</span></span>  
  
3. <span data-ttu-id="8dc41-205">Operación</span><span class="sxs-lookup"><span data-stu-id="8dc41-205">Operation</span></span>  
  
 <span data-ttu-id="8dc41-206">De nuevo, dentro de cualquier colección de comportamientos, no se garantiza ningún orden.</span><span class="sxs-lookup"><span data-stu-id="8dc41-206">Within any collection of behaviors, again, no order is guaranteed.</span></span>  
  
### <a name="adding-behaviors-programmatically"></a><span data-ttu-id="8dc41-207">Adición de comportamientos mediante programación</span><span class="sxs-lookup"><span data-stu-id="8dc41-207">Adding Behaviors Programmatically</span></span>  
 <span data-ttu-id="8dc41-208">Las propiedades de <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> en la aplicación de servicio no se deben modificar después del método <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> en <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-208">Properties of the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> in the service application must not be modified subsequent to the <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType> method on <xref:System.ServiceModel.ServiceHostBase?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8dc41-209">Algunos miembros, como la propiedad <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> y los métodos `AddServiceEndpoint` en <xref:System.ServiceModel.ServiceHostBase> y <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, producen una excepción si se modificas pasados ese punto.</span><span class="sxs-lookup"><span data-stu-id="8dc41-209">Some members, like the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A?displayProperty=nameWithType> property and the `AddServiceEndpoint` methods on <xref:System.ServiceModel.ServiceHostBase> and <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType>, throw an exception if modified past that point.</span></span> <span data-ttu-id="8dc41-210">Otros permiten modificarlos, pero el resultado no está definido.</span><span class="sxs-lookup"><span data-stu-id="8dc41-210">Others permit you to modify them, but the result is undefined.</span></span>  
  
 <span data-ttu-id="8dc41-211">De igual forma, en el cliente no se deben modificar los valores <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> después de la llamada a <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> en <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-211">Similarly, on the client the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> values must not be modified after the call to <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A> on the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8dc41-212">La propiedad <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> produce una excepción si se modifica pasado ese punto, pero los otros valores de descripción del cliente se pueden modificar sin el error.</span><span class="sxs-lookup"><span data-stu-id="8dc41-212">The <xref:System.ServiceModel.ChannelFactory.Credentials%2A?displayProperty=nameWithType> property throws an exception if modified past that point, but the other client description values can be modified without error.</span></span> <span data-ttu-id="8dc41-213">El resultado, sin embargo, es indefinido.</span><span class="sxs-lookup"><span data-stu-id="8dc41-213">The result, however, is undefined.</span></span>  
  
 <span data-ttu-id="8dc41-214">Tanto si es para el servicio como para el cliente, se recomienda modificar la descripción antes de llamar a <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-214">Whether for the service or client, it is recommended that you modify the description prior to calling <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType>.</span></span>  
  
### <a name="inheritance-rules-for-behavior-attributes"></a><span data-ttu-id="8dc41-215">La herencia gobierna para los atributos de comportamiento</span><span class="sxs-lookup"><span data-stu-id="8dc41-215">Inheritance Rules for Behavior Attributes</span></span>  
 <span data-ttu-id="8dc41-216">Los cuatro tipos de comportamientos se pueden rellenar utilizando los atributos: los comportamientos de servicio y de contrato.</span><span class="sxs-lookup"><span data-stu-id="8dc41-216">All four types of behaviors can be populated using attributes – service behaviors and contract behaviors.</span></span> <span data-ttu-id="8dc41-217">Debido a que los atributos se definen en los objetos y miembros administrados y estos admiten la herencia, será necesario definir cómo funcionan los atributos en el contexto de la herencia.</span><span class="sxs-lookup"><span data-stu-id="8dc41-217">Because attributes are defined on managed objects and members, and managed objects and members support inheritance, it is necessary to define how behavior attributes work in the context of inheritance.</span></span>  
  
 <span data-ttu-id="8dc41-218">En un nivel alto, la regla es que para un ámbito determinado (por ejemplo, servicio, contrato u operación) se aplican todos los atributos de comportamiento en la jerarquía de la herencia para ese ámbito.</span><span class="sxs-lookup"><span data-stu-id="8dc41-218">At a high level, the rule is that for a particular scope (for example, service, contract, or operation), all behavior attributes in the inheritance hierarchy for that scope are applied.</span></span> <span data-ttu-id="8dc41-219">Si hay dos atributos de comportamiento del mismo tipo, solo se utiliza el tipo más derivado.</span><span class="sxs-lookup"><span data-stu-id="8dc41-219">If there are two behavior attributes of the same type, only the most-derived type is used.</span></span>  
  
#### <a name="service-behaviors"></a><span data-ttu-id="8dc41-220">Comportamientos de servicio</span><span class="sxs-lookup"><span data-stu-id="8dc41-220">Service Behaviors</span></span>  
 <span data-ttu-id="8dc41-221">Para una clase de servicio determinada, se aplicarán todos los atributos de comportamiento del servicio en esa clase y en los elementos primarios de esa clase.</span><span class="sxs-lookup"><span data-stu-id="8dc41-221">For a given service class, all service behavior attributes on that class, and on parents of that class, are applied.</span></span> <span data-ttu-id="8dc41-222">Si el mismo tipo de atributo se aplica en varios lugares en la jerarquía de la herencia, se usará el tipo más derivado.</span><span class="sxs-lookup"><span data-stu-id="8dc41-222">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
```csharp  
[ServiceBehavior(ConcurrencyMode = ConcurrencyMode.Multiple)]  
[AspNetCompatibilityRequirementsAttribute(  
    AspNetCompatibilityRequirementsMode = AspNetCompatibilityRequirementsMode.Allowed)]  
public class A { /* … */ }  
  
[ServiceBehavior(InstanceContextMode = InstanceContextMode.Single)]  
public class B : A { /* … */}  
```  
  
 <span data-ttu-id="8dc41-223">Por ejemplo, en el caso anterior, el servicio B finaliza con un <xref:System.ServiceModel.InstanceContextMode> de <xref:System.ServiceModel.InstanceContextMode.Single>, un modo <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> de <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> y un <xref:System.ServiceModel.ConcurrencyMode> de <xref:System.ServiceModel.ConcurrencyMode.Single>.</span><span class="sxs-lookup"><span data-stu-id="8dc41-223">For example, in the preceding case, the service B ends up with an <xref:System.ServiceModel.InstanceContextMode> of <xref:System.ServiceModel.InstanceContextMode.Single>, an <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode> mode of <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed>, and a <xref:System.ServiceModel.ConcurrencyMode> of <xref:System.ServiceModel.ConcurrencyMode.Single>.</span></span> <span data-ttu-id="8dc41-224"><xref:System.ServiceModel.ConcurrencyMode> es <xref:System.ServiceModel.ConcurrencyMode.Single>, porque el atributo <xref:System.ServiceModel.ServiceBehaviorAttribute> en el servicio B está "más derivado" que en el servicio A.</span><span class="sxs-lookup"><span data-stu-id="8dc41-224">The <xref:System.ServiceModel.ConcurrencyMode> is <xref:System.ServiceModel.ConcurrencyMode.Single>, because <xref:System.ServiceModel.ServiceBehaviorAttribute> attribute on service B is on "more derived" than that on service A.</span></span>  
  
#### <a name="contract-behaviors"></a><span data-ttu-id="8dc41-225">Comportamientos de contrato</span><span class="sxs-lookup"><span data-stu-id="8dc41-225">Contract Behaviors</span></span>  
 <span data-ttu-id="8dc41-226">Para un contrato determinado, se aplicarán todos los atributos de comportamiento de contrato en esa interfaz y en los elementos primarios de esa interfaz.</span><span class="sxs-lookup"><span data-stu-id="8dc41-226">For a given contract, all contract behavior attributes on that interface and on parents of that interface, are applied.</span></span> <span data-ttu-id="8dc41-227">Si el mismo tipo de atributo se aplica en varios lugares en la jerarquía de la herencia, se usará el tipo más derivado.</span><span class="sxs-lookup"><span data-stu-id="8dc41-227">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>  
  
#### <a name="operation-behaviors"></a><span data-ttu-id="8dc41-228">Comportamientos de la operación</span><span class="sxs-lookup"><span data-stu-id="8dc41-228">Operation Behaviors</span></span>  
 <span data-ttu-id="8dc41-229">Si una operación determinada no invalida ningún resumen existente ni la operación virtual, no se aplicará ninguna regla de herencia.</span><span class="sxs-lookup"><span data-stu-id="8dc41-229">If a given operation does not override an existing abstract or virtual operation, no inheritance rules apply.</span></span>  
  
 <span data-ttu-id="8dc41-230">Si una operación invalida una operación existente, se aplicarán todos los atributos de comportamiento de operación en esa operación y en los elementos primarios de esa operación.</span><span class="sxs-lookup"><span data-stu-id="8dc41-230">If an operation does override an existing operation, then all operation behavior attributes on that operation and on parents of that operation, are applied.</span></span>  <span data-ttu-id="8dc41-231">Si el mismo tipo de atributo se aplica en varios lugares en la jerarquía de la herencia, se usará el tipo más derivado.</span><span class="sxs-lookup"><span data-stu-id="8dc41-231">If the same type of attribute is applied at multiple places in the inheritance hierarchy, the most-derived type is used.</span></span>
