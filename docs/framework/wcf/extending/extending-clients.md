---
description: Más información acerca de cómo extender clientes
title: Extensión de clientes
ms.date: 03/30/2017
helpviewer_keywords:
- proxy extensions [WCF]
ms.assetid: 1328c61c-06e5-455f-9ebd-ceefb59d3867
ms.openlocfilehash: 259136b3d8c35c47edbab1badf55139eb315d2f5
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99685756"
---
# <a name="extending-clients"></a><span data-ttu-id="c8abe-103">Extensión de clientes</span><span class="sxs-lookup"><span data-stu-id="c8abe-103">Extending Clients</span></span>

<span data-ttu-id="c8abe-104">En una aplicación que realiza la llamada, el nivel de modelo de servicio es responsable de traducir invocaciones de método en el código de la aplicación a mensajes salientes, insertarlos en los canales subyacentes, traducir los resultados en valores devueltos y los parámetros de salida en el código de la aplicación, y devolver los resultados al autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="c8abe-104">In a calling application, the service model layer is responsible for translating method invocations in application code into outbound messages, pushing them to the underlying channels, translating results back into return values and out parameters in application code, and returning the results back to the caller.</span></span> <span data-ttu-id="c8abe-105">Las extensiones de modelo de servicio modifican o implementan el comportamiento de la comunicación o la ejecución y características implicadas en la funcionalidad de distribuidor o cliente, comportamientos personalizados, interceptación de mensajes y parámetros, y otra funcionalidad de extensibilidad.</span><span class="sxs-lookup"><span data-stu-id="c8abe-105">Service model extensions modify or implement execution or communication behavior and features involving client or dispatcher functionality, custom behaviors, message and parameter interception, and other extensibility functionality.</span></span>  
  
 <span data-ttu-id="c8abe-106">En este tema se describe cómo utilizar <xref:System.ServiceModel.Dispatcher.ClientRuntime> las <xref:System.ServiceModel.Dispatcher.ClientOperation> clases y en una aplicación cliente de Windows Communication Foundation (WCF) para modificar el comportamiento de ejecución predeterminado de un cliente WCF o para interceptar o modificar mensajes, parámetros o valores devueltos antes o después de enviarlos o recuperarlos de la capa del canal.</span><span class="sxs-lookup"><span data-stu-id="c8abe-106">This topic describes how to use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes in a Windows Communication Foundation (WCF) client application to modify the default execution behavior of a WCF client or to intercept or modify messages, parameters, or return values prior to or subsequent to sending or retrieving them from the channel layer.</span></span> <span data-ttu-id="c8abe-107">Para obtener más información sobre cómo extender el tiempo de ejecución del servicio, consulte [extensión de distribuidores](extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-107">For more information about extending the service runtime, see [Extending Dispatchers](extending-dispatchers.md).</span></span> <span data-ttu-id="c8abe-108">Para obtener más información sobre los comportamientos que modifican e insertan objetos de personalización en el tiempo de ejecución del cliente, vea [configuración y extensión del tiempo de ejecución con comportamientos](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-108">For more information about the behaviors that modify and insert customization objects into the client runtime, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="clients"></a><span data-ttu-id="c8abe-109">Clientes</span><span class="sxs-lookup"><span data-stu-id="c8abe-109">Clients</span></span>  

 <span data-ttu-id="c8abe-110">En un cliente, un objeto de cliente de WCF o un canal de cliente convierte las invocaciones de método en mensajes salientes y los mensajes entrantes en los resultados de la operación que se devuelven a la aplicación que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="c8abe-110">On a client, a WCF client object or client channel converts method invocations into outgoing messages and incoming messages to operation results that are returned to the calling application.</span></span> <span data-ttu-id="c8abe-111">(Para obtener más información acerca de los tipos de cliente, vea [arquitectura de cliente de WCF](../feature-details/client-architecture.md)).</span><span class="sxs-lookup"><span data-stu-id="c8abe-111">(For more information about client types, see [WCF Client Architecture](../feature-details/client-architecture.md).)</span></span>  
  
 <span data-ttu-id="c8abe-112">Los tipos de cliente de WCF tienen tipos en tiempo de ejecución que controlan esta funcionalidad de nivel de punto de conexión y de operación.</span><span class="sxs-lookup"><span data-stu-id="c8abe-112">WCF client types have runtime types that handle this endpoint- and operation-level functionality.</span></span> <span data-ttu-id="c8abe-113">Cuando una aplicación llama a una operación, <xref:System.ServiceModel.Dispatcher.ClientOperation> traduce los objetos salientes en un mensaje, procesa los interceptores, confirma que la llamada saliente cumple con el contrato de destino y entrega el mensaje saliente a <xref:System.ServiceModel.Dispatcher.ClientRuntime>, que es responsable de crear y administrar los canales salientes (y canales entrantes en el caso de los servicios dúplex), administrar el procesamiento de mensajes salientes adicionales (como la modificación del encabezado), procesar los interceptores de mensajes en ambas direcciones y enrutar las llamadas dúplex entrantes hacia el objeto <xref:System.ServiceModel.Dispatcher.DispatchRuntime> en el lado del cliente adecuado.</span><span class="sxs-lookup"><span data-stu-id="c8abe-113">When an application calls an operation, the <xref:System.ServiceModel.Dispatcher.ClientOperation> translates the outbound objects into a message, processes interceptors, confirms that the outbound call conforms to the target contract, and hands the outbound message to the <xref:System.ServiceModel.Dispatcher.ClientRuntime>, which is responsible for creating and managing outbound channels (and inbound channels in the case of duplex services), handling extra outbound message processing (such as header modification), processing message interceptors in both directions, and routing inbound duplex calls to the appropriate client-side <xref:System.ServiceModel.Dispatcher.DispatchRuntime> object.</span></span> <span data-ttu-id="c8abe-114"><xref:System.ServiceModel.Dispatcher.ClientOperation> y <xref:System.ServiceModel.Dispatcher.ClientRuntime> proporcionan servicios similares cuando los mensajes (incluidos los errores) se devuelven al cliente.</span><span class="sxs-lookup"><span data-stu-id="c8abe-114">Both the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.ClientRuntime> provide similar services when messages (including faults) are returned to the client.</span></span>  
  
 <span data-ttu-id="c8abe-115">Estas dos clases en tiempo de ejecución son la extensión principal para personalizar el procesamiento de objetos y canales de cliente de WCF.</span><span class="sxs-lookup"><span data-stu-id="c8abe-115">These two runtime classes are the main extension to customize the processing of WCF client objects and channels.</span></span> <span data-ttu-id="c8abe-116">La clase <xref:System.ServiceModel.Dispatcher.ClientRuntime> permite a los usuarios interceptar y extender la ejecución del cliente por todos los mensajes en el contrato.</span><span class="sxs-lookup"><span data-stu-id="c8abe-116">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class allows users to intercept and extend client execution across all messages in the contract.</span></span> <span data-ttu-id="c8abe-117">La clase <xref:System.ServiceModel.Dispatcher.ClientOperation> permite a los usuarios interceptar y extender la ejecución del cliente para todos los mensajes en una operación determinada.</span><span class="sxs-lookup"><span data-stu-id="c8abe-117">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class allows users to intercept and extend client execution for all messages in a given operation.</span></span>  
  
 <span data-ttu-id="c8abe-118">La modificación de las propiedades o la inserción de personalizaciones se realiza mediante los comportamientos del contrato, del extremo y de la operación.</span><span class="sxs-lookup"><span data-stu-id="c8abe-118">Modifying the properties or inserting customizations are done by using contract, endpoint, and operation behaviors.</span></span> <span data-ttu-id="c8abe-119">Para obtener más información sobre cómo usar estos tipos de comportamientos para realizar personalizaciones en tiempo de ejecución del cliente, vea [configuración y extensión del tiempo de ejecución con comportamientos](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-119">For more information about how to use these types of behaviors to perform client runtime customizations, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="scenarios"></a><span data-ttu-id="c8abe-120">Escenarios</span><span class="sxs-lookup"><span data-stu-id="c8abe-120">Scenarios</span></span>  

 <span data-ttu-id="c8abe-121">Hay varias razones para extender el sistema cliente, incluidas:</span><span class="sxs-lookup"><span data-stu-id="c8abe-121">There a number of reasons to extend the client system, including:</span></span>  
  
- <span data-ttu-id="c8abe-122">Validación personalizada del mensaje.</span><span class="sxs-lookup"><span data-stu-id="c8abe-122">Custom Message Validation.</span></span> <span data-ttu-id="c8abe-123">Un usuario puede querer exigir que un mensaje sea válido para un determinado esquema.</span><span class="sxs-lookup"><span data-stu-id="c8abe-123">A user may want to enforce that a message is valid for a certain schema.</span></span> <span data-ttu-id="c8abe-124">Esto se puede hacer implementando la interfaz <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> y asignando la implementación en la propiedad <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A>.</span><span class="sxs-lookup"><span data-stu-id="c8abe-124">This can be done by implementing the <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> interface and assigning the implementation to the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A> property.</span></span> <span data-ttu-id="c8abe-125">Para obtener ejemplos, vea [Cómo: inspeccionar o modificar mensajes en el cliente](how-to-inspect-or-modify-messages-on-the-client.md) y [Cómo: inspeccionar o modificar mensajes en el cliente](how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-125">For examples, see [How to: Inspect or Modify Messages on the Client](how-to-inspect-or-modify-messages-on-the-client.md) and [How to: Inspect or Modify Messages on the Client](how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
- <span data-ttu-id="c8abe-126">Registro personalizado de mensajes.</span><span class="sxs-lookup"><span data-stu-id="c8abe-126">Custom Message Logging.</span></span> <span data-ttu-id="c8abe-127">Un usuario puede desear inspeccionar y registrar un conjunto de mensajes de la aplicación que fluyen a través de un extremo.</span><span class="sxs-lookup"><span data-stu-id="c8abe-127">A user may want to inspect and log some set of application messages that flow through an endpoint.</span></span> <span data-ttu-id="c8abe-128">Esto también se puede lograr con las interfaces del interceptor de mensajes.</span><span class="sxs-lookup"><span data-stu-id="c8abe-128">This can also be accomplished with the message interceptor interfaces.</span></span>  
  
- <span data-ttu-id="c8abe-129">Transformaciones personalizadas del mensaje.</span><span class="sxs-lookup"><span data-stu-id="c8abe-129">Custom Message Transformations.</span></span> <span data-ttu-id="c8abe-130">En lugar de modificar el código de aplicación, el usuario puede querer aplicar ciertas transformaciones al mensaje en el tiempo de ejecución (por ejemplo, para controlar las versiones).</span><span class="sxs-lookup"><span data-stu-id="c8abe-130">Rather than modifying application code, the user may want to apply certain transformations to the message in the runtime (for example, for versioning).</span></span> <span data-ttu-id="c8abe-131">Esto también se puede lograr, de nuevo, con las interfaces del interceptor de mensajes.</span><span class="sxs-lookup"><span data-stu-id="c8abe-131">This can be accomplished, again, with the message interceptor interfaces.</span></span>  
  
- <span data-ttu-id="c8abe-132">Modelo de datos personalizado.</span><span class="sxs-lookup"><span data-stu-id="c8abe-132">Custom Data Model.</span></span> <span data-ttu-id="c8abe-133">Es posible que un usuario desee tener un modelo de datos o de serialización distinto de los que se admiten de forma predeterminada en WCF (es decir, los <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType> <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType> objetos, y <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> ).</span><span class="sxs-lookup"><span data-stu-id="c8abe-133">A user may want to have a data or serialization model other than those supported by default in WCF (namely, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> objects).</span></span> <span data-ttu-id="c8abe-134">Esto se puede hacer implementando las interfaces del formateador de mensajes.</span><span class="sxs-lookup"><span data-stu-id="c8abe-134">This can be done by implementing the message formatter interfaces.</span></span> <span data-ttu-id="c8abe-135">Para obtener más información, vea <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType> y la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="c8abe-135">For more information, see <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType> and the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="c8abe-136">Validación personalizada de parámetros.</span><span class="sxs-lookup"><span data-stu-id="c8abe-136">Custom Parameter Validation.</span></span> <span data-ttu-id="c8abe-137">Un usuario puede querer exigir que los parámetros con tipo sean válidos (por oposición a XML).</span><span class="sxs-lookup"><span data-stu-id="c8abe-137">A user may want to enforce that typed parameters are valid (as opposed to XML).</span></span> <span data-ttu-id="c8abe-138">Esto puede hacerse mediante las interfaces del inspector de parámetros.</span><span class="sxs-lookup"><span data-stu-id="c8abe-138">This can be done using the parameter inspector interfaces.</span></span> <span data-ttu-id="c8abe-139">Para obtener un ejemplo, consulte [Cómo: inspeccionar o modificar parámetros o la](how-to-inspect-or-modify-parameters.md) [validación de clientes](../samples/client-validation.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-139">For an example, see [How to: Inspect or Modify Parameters](how-to-inspect-or-modify-parameters.md) or [Client Validation](../samples/client-validation.md).</span></span>  
  
### <a name="using-the-clientruntime-class"></a><span data-ttu-id="c8abe-140">Uso de la clase ClientRuntime</span><span class="sxs-lookup"><span data-stu-id="c8abe-140">Using the ClientRuntime Class</span></span>  

 <span data-ttu-id="c8abe-141">La clase <xref:System.ServiceModel.Dispatcher.ClientRuntime> es un punto de extensibilidad al que puede agregar objetos de extensión que interceptan los mensajes y extienden el comportamiento del cliente.</span><span class="sxs-lookup"><span data-stu-id="c8abe-141">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class is an extensibility point to which you can add extension objects that intercept messages and extend client behavior.</span></span> <span data-ttu-id="c8abe-142">Los objetos de interceptación pueden procesar todos los mensajes de un contrato determinado, procesar solo los mensajes para operaciones determinadas, realizar la inicialización personalizada de canales e implementar otro comportamiento de aplicación cliente personalizado.</span><span class="sxs-lookup"><span data-stu-id="c8abe-142">Interception objects can process all messages in a particular contract, process only messages for particular operations, perform custom channel initialization, and implement other custom client application behavior.</span></span>  
  
- <span data-ttu-id="c8abe-143">La propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> devuelve el objeto en tiempo de ejecución de envío para los clientes de devolución de llamada iniciados por el servicio.</span><span class="sxs-lookup"><span data-stu-id="c8abe-143">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> property returns the dispatch run-time object for service-initiated callback clients.</span></span>  
  
- <span data-ttu-id="c8abe-144">La propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A> acepta un objeto de selector de operación personalizado.</span><span class="sxs-lookup"><span data-stu-id="c8abe-144">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A> property accepts a custom operation selector object.</span></span>  
  
- <span data-ttu-id="c8abe-145">La propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A> habilita la adición de un inicializador de canales que puede inspeccionar o modificar el canal del cliente.</span><span class="sxs-lookup"><span data-stu-id="c8abe-145">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A> property enables the addition of a channel initializer that can inspect or modify the client channel.</span></span>  
  
- <span data-ttu-id="c8abe-146">La propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> obtiene una colección de objetos <xref:System.ServiceModel.Dispatcher.ClientOperation> a la que puede agregar interceptores de mensajes personalizados que proporcionan funcionalidad específica a los mensajes de esa operación.</span><span class="sxs-lookup"><span data-stu-id="c8abe-146">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.ClientOperation> objects to which you can add custom message interceptors that provide functionality specific to the messages of that operation.</span></span>  
  
- <span data-ttu-id="c8abe-147">La propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A> permite a una aplicación desactivar algunos encabezados de direccionamiento automáticos para controlar directamente el direccionamiento.</span><span class="sxs-lookup"><span data-stu-id="c8abe-147">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A> property enables an application to turn off some automatic addressing headers to directly control addressing.</span></span>  
  
- <span data-ttu-id="c8abe-148">La propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A> establece el valor del destino del mensaje en el nivel de transporte para admitir intermediarios y otros escenarios.</span><span class="sxs-lookup"><span data-stu-id="c8abe-148">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A> property sets the value of the destination of the message at the transport level to support intermediaries and other scenarios.</span></span>  
  
- <span data-ttu-id="c8abe-149">La <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> propiedad obtiene una colección de <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> objetos a la que puede Agregar interceptores de mensajes personalizados para todos los mensajes que viajan a través de un cliente de WCF.</span><span class="sxs-lookup"><span data-stu-id="c8abe-149">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> objects to which you can add custom message interceptors for all messages traveling through a WCF client.</span></span>  
  
 <span data-ttu-id="c8abe-150">Además, hay varias propiedades que recuperan la información del contrato:</span><span class="sxs-lookup"><span data-stu-id="c8abe-150">In addition, there are a number of other properties that retrieve the contract information:</span></span>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractName%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractNamespace%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractClientType%2A>  
  
 <span data-ttu-id="c8abe-151">Si el cliente de WCF es un cliente de WCF dúplex, las propiedades siguientes también recuperan la información de cliente de WCF de devolución de llamada:</span><span class="sxs-lookup"><span data-stu-id="c8abe-151">If the WCF client is a duplex WCF client, the following properties also retrieve the callback WCF client information:</span></span>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackClientType%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A>  
  
 <span data-ttu-id="c8abe-152">Para extender la ejecución del cliente WCF a través de un cliente WCF completo, revise las propiedades disponibles en la <xref:System.ServiceModel.Dispatcher.ClientRuntime> clase para ver si la modificación de una propiedad o la implementación de una interfaz y su adición a una propiedad crea la funcionalidad que está buscando.</span><span class="sxs-lookup"><span data-stu-id="c8abe-152">To extend WCF client execution across an entire WCF client, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="c8abe-153">Una vez que haya elegido una extensión determinada que desea crear, inserte su extensión en la propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime> adecuada implementando un comportamiento de cliente que proporciona el acceso a la clase <xref:System.ServiceModel.Dispatcher.ClientRuntime> cuando se invoca.</span><span class="sxs-lookup"><span data-stu-id="c8abe-153">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientRuntime> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class when invoked.</span></span>  
  
 <span data-ttu-id="c8abe-154">Puede insertar los objetos de extensión personalizados en una colección utilizando un comportamiento de la operación (un objeto que implementa <xref:System.ServiceModel.Description.IOperationBehavior>), un comportamiento del contrato (un objeto que implementa <xref:System.ServiceModel.Description.IContractBehavior>) o un comportamiento del extremo (un objeto que implementa <xref:System.ServiceModel.Description.IEndpointBehavior>).</span><span class="sxs-lookup"><span data-stu-id="c8abe-154">You can insert custom extension objects into a collection using an operation behavior (an object that implements <xref:System.ServiceModel.Description.IOperationBehavior>), a contract behavior (an object that implements <xref:System.ServiceModel.Description.IContractBehavior>), or an endpoint behavior (an object that implements <xref:System.ServiceModel.Description.IEndpointBehavior>).</span></span> <span data-ttu-id="c8abe-155">El objeto de comportamiento de instalación se agrega mediante programación a la colección adecuada de comportamientos, mediante declaración (implementando un atributo personalizado) o implementando un objeto <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizado para permitir insertar el comportamiento con un archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c8abe-155">The installing behavior object is added to the appropriate collection of behaviors either programmatically, declaratively (by implementing a custom attribute), or by implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> object to enable the behavior to be inserted using an application configuration file.</span></span> <span data-ttu-id="c8abe-156">Para obtener más información, consulte [configuración y extensión del tiempo de ejecución con comportamientos](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-156">For details, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="c8abe-157">Para obtener ejemplos que muestran la interceptación en un cliente de WCF, consulte [Cómo: inspeccionar o modificar mensajes en el cliente](how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-157">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Messages on the Client](how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
### <a name="using-the-clientoperation-class"></a><span data-ttu-id="c8abe-158">Uso de la clase ClientOperation</span><span class="sxs-lookup"><span data-stu-id="c8abe-158">Using the ClientOperation Class</span></span>  

 <span data-ttu-id="c8abe-159">La clase <xref:System.ServiceModel.Dispatcher.ClientOperation> es la ubicación para las modificaciones del cliente en tiempo de ejecución y el punto de inserción para las extensiones personalizadas cuyo ámbito es solo una operación de servicio.</span><span class="sxs-lookup"><span data-stu-id="c8abe-159">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class is the location for client run-time modifications and insertion point for custom extensions that are scoped to only one service operation.</span></span> <span data-ttu-id="c8abe-160">(Para modificar el comportamiento del tiempo de ejecución del cliente para todos los mensajes de un contrato, use la clase <xref:System.ServiceModel.Dispatcher.ClientRuntime>.)</span><span class="sxs-lookup"><span data-stu-id="c8abe-160">(To modify client run-time behavior for all messages in a contract, use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class.)</span></span>  
  
 <span data-ttu-id="c8abe-161">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> para buscar el objeto <xref:System.ServiceModel.Dispatcher.ClientOperation> que representa una operación de servicio determinada.</span><span class="sxs-lookup"><span data-stu-id="c8abe-161">Use the <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property to locate the <xref:System.ServiceModel.Dispatcher.ClientOperation> object that represents a particular service operation.</span></span> <span data-ttu-id="c8abe-162">Las siguientes propiedades permiten insertar objetos personalizados en el sistema cliente de WCF:</span><span class="sxs-lookup"><span data-stu-id="c8abe-162">The following properties enable you to insert custom objects into the WCF client system:</span></span>  
  
- <span data-ttu-id="c8abe-163">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> para insertar una implementación personalizada de <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> para una operación o modificar el formateador actual.</span><span class="sxs-lookup"><span data-stu-id="c8abe-163">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> implementation for an operation or modify the current formatter.</span></span>  
  
- <span data-ttu-id="c8abe-164">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A> para insertar una implementación personalizada de <xref:System.ServiceModel.Dispatcher.IParameterInspector> o modificar la actual.</span><span class="sxs-lookup"><span data-stu-id="c8abe-164">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IParameterInspector> implementation or to modify the current one.</span></span>  
  
 <span data-ttu-id="c8abe-165">Las propiedades siguientes le permiten modificar el sistema interactuando con el formateador y los inspectores de parámetro personalizados:</span><span class="sxs-lookup"><span data-stu-id="c8abe-165">The following properties enable you to modify the system in interaction with the formatter and custom parameter inspectors:</span></span>  
  
- <span data-ttu-id="c8abe-166">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A> para controlar la serialización de un mensaje saliente.</span><span class="sxs-lookup"><span data-stu-id="c8abe-166">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A> property to control the serialization of an outbound message.</span></span>  
  
- <span data-ttu-id="c8abe-167">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A> para controlar la deserialización de un mensaje entrante.</span><span class="sxs-lookup"><span data-stu-id="c8abe-167">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A> property to control the deserialization of an inbound message.</span></span>  
  
- <span data-ttu-id="c8abe-168">Utilice la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A> para controlar la acción de WS-Addressing del mensaje de solicitud.</span><span class="sxs-lookup"><span data-stu-id="c8abe-168">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A> property to control the WS-Addressing action of the request message.</span></span>  
  
- <span data-ttu-id="c8abe-169">Utilice <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> y <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> para especificar qué métodos de cliente WCF están asociados a una operación asincrónica.</span><span class="sxs-lookup"><span data-stu-id="c8abe-169">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> to specify which WCF client methods are associated with an asynchronous operation.</span></span>  
  
- <span data-ttu-id="c8abe-170">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A> para obtener una colección que contiene los tipos que pueden aparecer en errores de SOAP como tipo de detalle.</span><span class="sxs-lookup"><span data-stu-id="c8abe-170">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A> property to get a collection that contains the types that can appear in SOAP faults as the detail type.</span></span>  
  
- <span data-ttu-id="c8abe-171">Use las propiedades <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A> y <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A> para controlar si una sesión se inicia o se anula, respectivamente, cuando se llama a la operación.</span><span class="sxs-lookup"><span data-stu-id="c8abe-171">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A> properties to control whether a session is initiated or is torn down, respectively, when the operation is called.</span></span>  
  
- <span data-ttu-id="c8abe-172">Utilice la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A> para controlar si la operación es unidireccional.</span><span class="sxs-lookup"><span data-stu-id="c8abe-172">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A> property to control whether the operation is a one-way operation.</span></span>  
  
- <span data-ttu-id="c8abe-173">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A> para obtener el objeto <xref:System.ServiceModel.Dispatcher.ClientRuntime> contenedor.</span><span class="sxs-lookup"><span data-stu-id="c8abe-173">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A> property to obtain the containing <xref:System.ServiceModel.Dispatcher.ClientRuntime> object.</span></span>  
  
- <span data-ttu-id="c8abe-174">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A> para obtener el nombre de la operación.</span><span class="sxs-lookup"><span data-stu-id="c8abe-174">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A> property to get the name of the operation.</span></span>  
  
- <span data-ttu-id="c8abe-175">Use la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A> para controlar qué método se asigna a la operación.</span><span class="sxs-lookup"><span data-stu-id="c8abe-175">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A> property to control which method is mapped to the operation.</span></span>  
  
 <span data-ttu-id="c8abe-176">Para extender la ejecución del cliente WCF en una sola operación de servicio, revise las propiedades disponibles en la <xref:System.ServiceModel.Dispatcher.ClientOperation> clase para ver si la modificación de una propiedad o la implementación de una interfaz y su adición a una propiedad crea la funcionalidad que busca.</span><span class="sxs-lookup"><span data-stu-id="c8abe-176">To extend WCF client execution across only one service operation, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientOperation> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="c8abe-177">Una vez que haya elegido una extensión determinada que desea crear, inserte su extensión en la propiedad <xref:System.ServiceModel.Dispatcher.ClientOperation> adecuada implementando un comportamiento de cliente que proporciona el acceso a la clase <xref:System.ServiceModel.Dispatcher.ClientOperation> cuando se invoca.</span><span class="sxs-lookup"><span data-stu-id="c8abe-177">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientOperation> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientOperation> class when invoked.</span></span> <span data-ttu-id="c8abe-178">Dentro de ese comportamiento, podrá modificar a continuación la propiedad <xref:System.ServiceModel.Dispatcher.ClientRuntime> para ajustarse a sus requisitos.</span><span class="sxs-lookup"><span data-stu-id="c8abe-178">Inside that behavior you can then modify the <xref:System.ServiceModel.Dispatcher.ClientRuntime> property to fit your requirements.</span></span>  
  
 <span data-ttu-id="c8abe-179">Normalmente, implementar un comportamiento de la operación (un objeto que implementa la interfaz <xref:System.ServiceModel.Description.IOperationBehavior>) es suficiente, pero también puede utilizar comportamientos del punto de conexión y del contrato para lograr lo mismo buscando <xref:System.ServiceModel.Description.OperationDescription> para una operación determinada y adjuntando allí el comportamiento.</span><span class="sxs-lookup"><span data-stu-id="c8abe-179">Typically, implementing an operation behavior (an object that implements the <xref:System.ServiceModel.Description.IOperationBehavior> interface) suffices, but you can also use endpoint behaviors and contract behaviors to accomplish the same thing by locating the <xref:System.ServiceModel.Description.OperationDescription> for a particular operation and attaching the behavior there.</span></span> <span data-ttu-id="c8abe-180">Para obtener más información, consulte [configuración y extensión del tiempo de ejecución con comportamientos](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-180">For details, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="c8abe-181">Para utilizar su comportamiento personalizado de la configuración, instale el comportamiento mediante un controlador de la sección de configuración de comportamiento personalizado.</span><span class="sxs-lookup"><span data-stu-id="c8abe-181">To use your custom behavior from configuration, install your behavior using a custom behavior configuration section handler.</span></span> <span data-ttu-id="c8abe-182">También puede instalar su comportamiento creando un atributo personalizado.</span><span class="sxs-lookup"><span data-stu-id="c8abe-182">You can also install your behavior by creating a custom attribute.</span></span>  
  
 <span data-ttu-id="c8abe-183">Para obtener ejemplos que muestran la interceptación en un cliente de WCF, vea [Cómo: inspeccionar o modificar parámetros](how-to-inspect-or-modify-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="c8abe-183">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Parameters](how-to-inspect-or-modify-parameters.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c8abe-184">Vea también</span><span class="sxs-lookup"><span data-stu-id="c8abe-184">See also</span></span>

- <xref:System.ServiceModel.Dispatcher.ClientRuntime>
- <xref:System.ServiceModel.Dispatcher.ClientOperation>
- [<span data-ttu-id="c8abe-185">Procedimiento para inspeccionar o modificar mensajes en el cliente</span><span class="sxs-lookup"><span data-stu-id="c8abe-185">How to: Inspect or Modify Messages on the Client</span></span>](how-to-inspect-or-modify-messages-on-the-client.md)
- [<span data-ttu-id="c8abe-186">Procedimiento para inspeccionar o modificar parámetros</span><span class="sxs-lookup"><span data-stu-id="c8abe-186">How to: Inspect or Modify Parameters</span></span>](how-to-inspect-or-modify-parameters.md)
