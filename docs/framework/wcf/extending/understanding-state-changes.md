---
description: 'Más información acerca de: Descripción de los cambios de estado'
title: Introducción a los cambios de estado
ms.date: 03/30/2017
ms.assetid: a79ed2aa-e49a-47a8-845a-c9f436ec9987
ms.openlocfilehash: e537a7421ffa8ab924e4e9e4ab841343245534b2
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99644013"
---
# <a name="understanding-state-changes"></a><span data-ttu-id="cd7c5-103">Introducción a los cambios de estado</span><span class="sxs-lookup"><span data-stu-id="cd7c5-103">Understanding State Changes</span></span>

<span data-ttu-id="cd7c5-104">En este tema se discuten los estados y transiciones que los canales tienen, los tipos utilizados para estructurar los estados del canal, y cómo implementarlos.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-104">This topic discusses the states and transitions that channels have, the types used to structure channel states, and how to implement them.</span></span>  
  
## <a name="state-machines-and-channels"></a><span data-ttu-id="cd7c5-105">Equipos de estado y canales</span><span class="sxs-lookup"><span data-stu-id="cd7c5-105">State Machines and Channels</span></span>  

 <span data-ttu-id="cd7c5-106">Los objetos que están relacionados con la comunicación, por ejemplo los sockets, normalmente presentan un equipo de estado cuyas transiciones de estado están relacionadas con asignar los recursos de la red, realizar o aceptar conexiones, cerrar conexiones y finalizar la comunicación.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-106">Objects that deal with communication, for example sockets, usually present a state machine whose state transitions relate to allocating network resources, making or accepting connections, closing connections and terminating communication.</span></span> <span data-ttu-id="cd7c5-107">La máquina de estados del canal proporciona un modelo uniforme de los estados de un objeto de comunicación que abstrae la implementación subyacente de ese objeto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-107">The channel state machine provides a uniform model of the states of a communication object that abstracts the underlying implementation of that object.</span></span> <span data-ttu-id="cd7c5-108">La interfaz <xref:System.ServiceModel.ICommunicationObject> proporciona un conjunto de estados, métodos de transición de estado y eventos de transición de estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-108">The <xref:System.ServiceModel.ICommunicationObject> interface provides a set of states, state transition methods and state transition events.</span></span> <span data-ttu-id="cd7c5-109">Todos los canales, generadores de canales y escuchas de canal implementan la máquina de estados del canal.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-109">All channels, channel factories and channel listeners implement the channel state machine.</span></span>  
  
 <span data-ttu-id="cd7c5-110">Los eventos Cerrado, Cerrando, Error, Abierto y Abriendo señalan un observador externo después de que se produzca una transición de estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-110">The events Closed, Closing, Faulted, Opened and Opening signal an external observer after a state transition occurs.</span></span>  
  
 <span data-ttu-id="cd7c5-111">La métodos Anular, Cerrar, y Abrir (y sus equivalentes asincrónicos) producen las transiciones de estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-111">The methods Abort, Close, and Open (and their asynchronous equivalents) cause state transitions.</span></span>  
  
 <span data-ttu-id="cd7c5-112">La propiedad de estado devuelve el estado actual como definido por <xref:System.ServiceModel.CommunicationState>:</span><span class="sxs-lookup"><span data-stu-id="cd7c5-112">The state property returns the current state as defined by <xref:System.ServiceModel.CommunicationState>:</span></span>  
  
## <a name="icommunicationobject-communicationobject-and-states-and-state-transition"></a><span data-ttu-id="cd7c5-113">ICommunicationObject, CommunicationObject y estados y transición de estado</span><span class="sxs-lookup"><span data-stu-id="cd7c5-113">ICommunicationObject, CommunicationObject, and States and State Transition</span></span>  

 <span data-ttu-id="cd7c5-114"><xref:System.ServiceModel.ICommunicationObject> empieza en el estado Creado donde se pueden configurar sus diferentes propiedades.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-114">An <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state where its various properties can be configured.</span></span> <span data-ttu-id="cd7c5-115">Una vez en el estado Abierto, el objeto se puede utilizar para enviar y recibir mensajes pero sus propiedades se consideran inmutables.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-115">Once in the Opened state, the object is usable for sending and receiving messages but its properties are considered immutable.</span></span> <span data-ttu-id="cd7c5-116">Una vez en el estado Cerrando, el objeto ya no puede procesar nuevas solicitudes de envío o recepción, pero las solicitudes existentes tiene una oportunidad para completarse hasta que se alcance el tiempo de espera de Cerrar.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-116">Once in the Closing state, the object can no longer process new send or receive requests, but existing requests have a chance to complete until the Close timeout is reached.</span></span>  <span data-ttu-id="cd7c5-117">Si se produce un error irrecuperable, el objeto pasa al estado Error donde se puede inspeccionar para obtener información sobre el error y finalmente cerrarlo.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-117">If an unrecoverable error occurs, the object transitions to the Faulted state where it can be inspected for information about the error and ultimately closed.</span></span> <span data-ttu-id="cd7c5-118">Cuando en el estado Cerrado el objeto ha llegado esencialmente al fin de la máquina de estados.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-118">When in the Closed state the object has essentially reached the end of the state machine.</span></span> <span data-ttu-id="cd7c5-119">Cuando objeto pasa de un estado al siguiente, no regresa a un estado anterior.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-119">Once an object transitions from one state to the next, it does not go back to a previous state.</span></span>  
  
 <span data-ttu-id="cd7c5-120">El diagrama siguiente muestra los estados <xref:System.ServiceModel.ICommunicationObject> y transiciones de estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-120">The following diagram shows the <xref:System.ServiceModel.ICommunicationObject> states and state transitions.</span></span> <span data-ttu-id="cd7c5-121">Las transiciones de estado se pueden producir llamando a uno de los tres métodos: Anular, Abrir o Cerrar.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-121">State transitions can be caused by calling one of the three methods: Abort, Open, or Close.</span></span> <span data-ttu-id="cd7c5-122">También se pueden producir llamando a otros métodos específicos de la implementación.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-122">They could also be caused by calling other implementation-specific methods.</span></span> <span data-ttu-id="cd7c5-123">La transición al estado Error se podría producir como resultado de los errores mientras se abre o después de haber abierto el objeto de comunicación.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-123">Transitioning to the Faulted state could happen as a result of errors while opening or after having opened the communication object.</span></span>  
  
 <span data-ttu-id="cd7c5-124">Cada <xref:System.ServiceModel.ICommunicationObject> empieza en el estado Creado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-124">Every <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state.</span></span> <span data-ttu-id="cd7c5-125">En este estado, una aplicación puede configurar el objeto estableciendo sus propiedades.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-125">In this state, an application can configure the object by setting its properties.</span></span> <span data-ttu-id="cd7c5-126">Cuando un objeto está en un estado diferente a Creado, se considera inmutable.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-126">Once an object is in a state other than Created, it is considered immutable.</span></span>  
  
 ![Diagrama de flujo de entrada de la transición de estado del canal.](./media/understanding-state-changes/channel-state-transitions.gif)  
<span data-ttu-id="cd7c5-128">Figura 1.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-128">Figure 1.</span></span> <span data-ttu-id="cd7c5-129">La máquina de estados de ICommunicationObject.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-129">The ICommunicationObject State Machine.</span></span>  
  
 <span data-ttu-id="cd7c5-130">Windows Communication Foundation (WCF) proporciona una clase base abstracta denominada <xref:System.ServiceModel.Channels.CommunicationObject> que implementa <xref:System.ServiceModel.ICommunicationObject> y la máquina de Estados del canal.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-130">Windows Communication Foundation (WCF) provides an abstract base class named <xref:System.ServiceModel.Channels.CommunicationObject> that implements <xref:System.ServiceModel.ICommunicationObject> and the channel state machine.</span></span> <span data-ttu-id="cd7c5-131">El gráfico siguiente es un diagrama de estados modificado que es específico de <xref:System.ServiceModel.Channels.CommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-131">The following graphic is a modified state diagram that is specific to <xref:System.ServiceModel.Channels.CommunicationObject>.</span></span> <span data-ttu-id="cd7c5-132">Además de la máquina de estados <xref:System.ServiceModel.ICommunicationObject>, muestra el control de tiempo cuando se invocan métodos <xref:System.ServiceModel.Channels.CommunicationObject> adicionales.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-132">In addition to the <xref:System.ServiceModel.ICommunicationObject> state machine, it shows the timing when additional <xref:System.ServiceModel.Channels.CommunicationObject> methods are invoked.</span></span>  
  
 <span data-ttu-id="cd7c5-133">![Diagrama de flujo de entrada de los cambios de estado de implementación de CommunicationObject.](./media/understanding-state-changes/communicationobject-implementation-state-machine.gif)</span><span class="sxs-lookup"><span data-stu-id="cd7c5-133">![Dataflow diagram of CommunicationObject implementation state changes.](./media/understanding-state-changes/communicationobject-implementation-state-machine.gif)</span></span>
<span data-ttu-id="cd7c5-134">Ilustración 2.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-134">Figure 2.</span></span> <span data-ttu-id="cd7c5-135">La implementación de CommunicationObject del equipo de estados ICommunicationObject incluidas las llamadas a eventos y métodos protegidos.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-135">The CommunicationObject implementation of the ICommunicationObject state machine including calls to events and protected methods.</span></span>  
  
### <a name="icommunicationobject-events"></a><span data-ttu-id="cd7c5-136">Eventos ICommunicationObject</span><span class="sxs-lookup"><span data-stu-id="cd7c5-136">ICommunicationObject Events</span></span>  

 <span data-ttu-id="cd7c5-137"><xref:System.ServiceModel.Channels.CommunicationObject> expone los cinco eventos definidos por <xref:System.ServiceModel.ICommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-137"><xref:System.ServiceModel.Channels.CommunicationObject> exposes the five events defined by <xref:System.ServiceModel.ICommunicationObject>.</span></span> <span data-ttu-id="cd7c5-138">Estos eventos están diseñados para el código que utiliza el objeto de comunicación al que notificar las transiciones de estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-138">These events are designed for code using the communication object to be notified of state transitions.</span></span> <span data-ttu-id="cd7c5-139">Como se muestra en la figura 2 anterior, se desencadena cada evento después de las transiciones de estado del objeto al estado denominado por el evento.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-139">As shown in Figure 2 above, each event is fired once after the object’s state transitions to the state named by the event.</span></span> <span data-ttu-id="cd7c5-140">Los cinco eventos son del tipo `EventHandler` que se define como:</span><span class="sxs-lookup"><span data-stu-id="cd7c5-140">All five events are of the `EventHandler` type which is defined as:</span></span>  
  
 `public delegate void EventHandler(object sender, EventArgs e);`  
  
 <span data-ttu-id="cd7c5-141">En la implementación <xref:System.ServiceModel.Channels.CommunicationObject>, el remitente es el propio <xref:System.ServiceModel.Channels.CommunicationObject> o lo que se pasó como remitente al constructor <xref:System.ServiceModel.Channels.CommunicationObject> (si se utilizó esa sobrecarga de constructor).</span><span class="sxs-lookup"><span data-stu-id="cd7c5-141">In the <xref:System.ServiceModel.Channels.CommunicationObject> implementation, the sender is either the <xref:System.ServiceModel.Channels.CommunicationObject> itself or whatever was passed in as the sender to the <xref:System.ServiceModel.Channels.CommunicationObject> constructor (if that constructor overload was used).</span></span> <span data-ttu-id="cd7c5-142">El parámetro EventArgs, `e`, siempre es `EventArgs.Empty`.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-142">The EventArgs parameter, `e`, is always `EventArgs.Empty`.</span></span>  
  
### <a name="derived-object-callbacks"></a><span data-ttu-id="cd7c5-143">Devoluciones de llamada de objetos derivados</span><span class="sxs-lookup"><span data-stu-id="cd7c5-143">Derived Object Callbacks</span></span>  

 <span data-ttu-id="cd7c5-144">Además de los cinco eventos, <xref:System.ServiceModel.Channels.CommunicationObject> declara ocho métodos virtuales protegidos diseñados para permitir a un objeto derivado volver a llamar antes y después de que se produzcan las transiciones de estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-144">In addition to the five events, <xref:System.ServiceModel.Channels.CommunicationObject> declares eight protected virtual methods designed to allow a derived object to be called back before and after state transitions occur.</span></span>  
  
 <span data-ttu-id="cd7c5-145">Los métodos <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> y <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> tienen tres devoluciones de llamada de este tipo asociadas a cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-145">The <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> methods have three such callbacks associated with each of them.</span></span> <span data-ttu-id="cd7c5-146">Por ejemplo, correspondiendo a <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> hay <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>y <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-146">For example, corresponding to <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> there is <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cd7c5-147">Se asocian a <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> los métodos <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, y <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-147">Associated with <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> are the <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> methods.</span></span>  
  
 <span data-ttu-id="cd7c5-148">De igual forma, el método <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> tiene un <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>correspondiente.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-148">Similarly, the <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> method has a corresponding <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="cd7c5-149">Aunque <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>y <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> no tienen ninguna implementación predeterminada, las otras devoluciones de llamada tienen una implementación predeterminada que es necesaria para la exactitud de la máquina de estados.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-149">While <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> have no default implementation, the other callbacks do have a default implementation which is necessary for state machine correctness.</span></span> <span data-ttu-id="cd7c5-150">Si invalida esos métodos asegúrese de llamar a la implementación base o reemplazarla correctamente.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-150">If you override those methods be sure to call the base implementation or correctly replace it.</span></span>  
  
 <span data-ttu-id="cd7c5-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> y <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> desencadenan los eventos <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> y <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> correspondientes.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="cd7c5-152"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> y <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> establecen el estado de objeto en Opened y Closed respectivamente y, después, desencadenan los eventos <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> y <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> correspondientes.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-152"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> set the object state to Opened and Closed respectively then fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> events.</span></span>  
  
### <a name="state-transition-methods"></a><span data-ttu-id="cd7c5-153">Métodos de transición de estado</span><span class="sxs-lookup"><span data-stu-id="cd7c5-153">State Transition Methods</span></span>  

 <span data-ttu-id="cd7c5-154"><xref:System.ServiceModel.Channels.CommunicationObject> proporciona implementaciones de Anular, Cerrar y Abrir.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-154"><xref:System.ServiceModel.Channels.CommunicationObject> provides implementations of Abort, Close and Open.</span></span> <span data-ttu-id="cd7c5-155">También proporciona un método Error que provoca una transición de estado al estado Error.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-155">It also provides a Fault method which causes a state transition to the Faulted state.</span></span> <span data-ttu-id="cd7c5-156">La figura 2 muestra la máquina de estados <xref:System.ServiceModel.ICommunicationObject> con cada transición etiquetada por el método que la produce (las transiciones no etiquetadas tienen lugar dentro de la implementación del método que produjo la última transición etiquetada).</span><span class="sxs-lookup"><span data-stu-id="cd7c5-156">Figure 2 shows the <xref:System.ServiceModel.ICommunicationObject> state machine with each transition labeled by the method that causes it (unlabeled transitions happen inside the implementation of the method that caused the last labeled transition).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="cd7c5-157">Todas las implementaciones <xref:System.ServiceModel.Channels.CommunicationObject> de estado de comunicación obtener/establecer están sincronizadas por subproceso.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-157">All <xref:System.ServiceModel.Channels.CommunicationObject> implementations of communication state gets/sets are thread-synchronized.</span></span>  
  
 <span data-ttu-id="cd7c5-158">Constructor</span><span class="sxs-lookup"><span data-stu-id="cd7c5-158">Constructor</span></span>  
  
 <span data-ttu-id="cd7c5-159"><xref:System.ServiceModel.Channels.CommunicationObject> proporciona tres constructores; todos ellos dejan el objeto en el estado Creado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-159"><xref:System.ServiceModel.Channels.CommunicationObject> provides three constructors, all of which leave the object in the Created state.</span></span> <span data-ttu-id="cd7c5-160">Los constructores se definen como:</span><span class="sxs-lookup"><span data-stu-id="cd7c5-160">The constructors are defined as:</span></span>  
  
 <span data-ttu-id="cd7c5-161">El primer constructor es un constructor sin parámetros que delega a la sobrecarga del constructor que toma un objeto:</span><span class="sxs-lookup"><span data-stu-id="cd7c5-161">The first constructor is a parameterless constructor that delegates to the constructor overload that takes an object:</span></span>  
  
 `protected CommunicationObject() : this(new object()) { … }`  
  
 <span data-ttu-id="cd7c5-162">El constructor que toma un objeto utiliza ese parámetro como el objeto a bloquear al sincronizar el acceso con el estado de objeto de comunicación:</span><span class="sxs-lookup"><span data-stu-id="cd7c5-162">The constructor that takes an object uses that parameter as the object to be locked when synchronizing access to communication object state:</span></span>  
  
 `protected CommunicationObject(object mutex) { … }`  
  
 <span data-ttu-id="cd7c5-163">Finalmente, un tercer constructor toma un parámetro adicional que se utiliza como argumento de remitente cuando se desencadenan los eventos <xref:System.ServiceModel.ICommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-163">Finally, a third constructor takes an additional parameter that is used as the sender argument when <xref:System.ServiceModel.ICommunicationObject> events are fired.</span></span>  
  
 `protected CommunicationObject(object mutex, object eventSender) { … }`  
  
 <span data-ttu-id="cd7c5-164">Los dos constructores anteriores establecen el remitente en esto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-164">The previous two constructors set the sender to this.</span></span>  
  
 <span data-ttu-id="cd7c5-165">Método Abrir</span><span class="sxs-lookup"><span data-stu-id="cd7c5-165">Open Method</span></span>  
  
 <span data-ttu-id="cd7c5-166">Condición previa: el estado está Creado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-166">Precondition: State is Created.</span></span>  
  
 <span data-ttu-id="cd7c5-167">Condición posterior: el estado está Abierto o tiene un Error.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-167">Post-condition: State is Opened or Faulted.</span></span> <span data-ttu-id="cd7c5-168">Podría iniciar una excepción.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-168">May throw an exception.</span></span>  
  
 <span data-ttu-id="cd7c5-169">El método Open () intentará abrir el objeto de comunicación y establecer el estado en Abierto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-169">The Open() method will try to open the communication object and set the state to Opened.</span></span> <span data-ttu-id="cd7c5-170">Si encuentra un error, establecerá el estado en Error.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-170">If it encounters an error, it will set the state to Faulted.</span></span>  
  
 <span data-ttu-id="cd7c5-171">El método comprueba primero que el estado actual sea Creado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-171">The method first checks that the current state is Created.</span></span> <span data-ttu-id="cd7c5-172">Si el estado actual es Abriendo o Abierto inicia <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-172">If the current state is Opening or Opened it throws an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="cd7c5-173">Si el estado actual es Cerrando o Cerrado, inicia <xref:System.ServiceModel.CommunicationObjectAbortedException> si se ha finalizado el objeto y <xref:System.ObjectDisposedException>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-173">If the current state is Closing or Closed, it throws a <xref:System.ServiceModel.CommunicationObjectAbortedException> if the object has been terminated and <xref:System.ObjectDisposedException> otherwise.</span></span> <span data-ttu-id="cd7c5-174">Si el estado actual es Error, inicia <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-174">If the current state is Faulted, it throws a <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span></span>  
  
 <span data-ttu-id="cd7c5-175">A continuación establece el estado en Abriendo y llama a OnOpening () (que desencadena el evento Abriendo), OnOpen () y OnOpened () en ese orden.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-175">It then sets the state to Opening and calls OnOpening() (which raises the Opening event), OnOpen() and OnOpened() in that order.</span></span> <span data-ttu-id="cd7c5-176">OnOpened () establece el estado en Abierto y desencadena el evento Abierto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-176">OnOpened() sets the state to Opened and raises the Opened event.</span></span> <span data-ttu-id="cd7c5-177">Si cualquiera de estas operaciones provoca una excepción, Open() llama a Fault() y permite que se produzca la excepción.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-177">If any of these throws an exception, Open()calls Fault() and lets the exception bubble up.</span></span> <span data-ttu-id="cd7c5-178">El diagrama siguiente muestra con más detalle el proceso Abrir.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-178">The following diagram shows the Open process in more detail.</span></span>  
  
 ![Diagrama de flujo de entrada de los cambios de estado de ICommunicationObject. Open.](./media/understanding-state-changes/ico-open-process-override-onopen.gif)  
<span data-ttu-id="cd7c5-180">Invalide el método OnOpen para implementar lógica abierta personalizada como abrir un objeto de comunicación interno.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-180">Override the OnOpen method to implement custom open logic such as opening an inner communication object.</span></span>  
  
 <span data-ttu-id="cd7c5-181">Close (Método)</span><span class="sxs-lookup"><span data-stu-id="cd7c5-181">Close Method</span></span>  
  
 <span data-ttu-id="cd7c5-182">Condición previa: ninguna.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-182">Precondition: None.</span></span>  
  
 <span data-ttu-id="cd7c5-183">Condición posterior: el estado es Cerrado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-183">Post-condition: State is Closed.</span></span> <span data-ttu-id="cd7c5-184">Podría iniciar una excepción.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-184">May throw an exception.</span></span>  
  
 <span data-ttu-id="cd7c5-185">Se puede llamar al método Close() en cualquier estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-185">The Close() method can be called at any state.</span></span> <span data-ttu-id="cd7c5-186">Intenta cerrar normalmente el objeto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-186">It tries to close the object normally.</span></span> <span data-ttu-id="cd7c5-187">Si se encuentra un error, finaliza el objeto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-187">If an error is encountered, it terminates the object.</span></span> <span data-ttu-id="cd7c5-188">El método no hace nada si el estado actual es Cerrando o Cerrado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-188">The method does nothing if the current state is Closing or Closed.</span></span> <span data-ttu-id="cd7c5-189">De lo contrario establece el estado en Cerrando.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-189">Otherwise it sets the state to Closing.</span></span> <span data-ttu-id="cd7c5-190">Si el estado original era Creado, Abriendo o Error, llama a Abort() (vea el diagrama siguiente).</span><span class="sxs-lookup"><span data-stu-id="cd7c5-190">If the original state was Created, Opening or Faulted, it calls Abort() (see the following diagram).</span></span> <span data-ttu-id="cd7c5-191">Si el estado original era Abierto, llama a OnClosing() (que desencadena el evento Cerrando), OnClose() y OnClosed() en ese orden.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-191">If the original state was Opened, it calls OnClosing() (which raises the Closing event), OnClose() and OnClosed() in that order.</span></span> <span data-ttu-id="cd7c5-192">Si cualquiera de estas operaciones provoca una excepción, Close() llama a Abort() y permite que se produzca la excepción.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-192">If any of these throws an exception, Close()calls Abort() and lets the exception bubble up.</span></span> <span data-ttu-id="cd7c5-193">OnClosed() establece el estado en Cerrado y desencadena el evento Cerrado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-193">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="cd7c5-194">El diagrama siguiente muestra con más detalle el proceso Cerrar.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-194">The following diagram shows the Close process in more detail.</span></span>  
  
 ![Diagrama de flujo de entrada de los cambios de estado de ICommunicationObject. Close.](./media/understanding-state-changes/ico-close-process-override-onclose.gif)  
<span data-ttu-id="cd7c5-196">Invalide el método OnClose para implementar la lógica del cierre personalizada, como cerrar un objeto de comunicación interno.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-196">Override the OnClose method to implement custom close logic, such as closing an inner communication object.</span></span> <span data-ttu-id="cd7c5-197">Toda lógica de cierre elegante que se pueda bloquear durante mucho tiempo (por ejemplo, esperando a que el otro lado responda) se debería implementar en OnClose() porque toma un parámetro de tiempo de espera y porque no se llama como parte de Abort().</span><span class="sxs-lookup"><span data-stu-id="cd7c5-197">All graceful closing logic that may block for a long time (for example, waiting for the other side to respond) should be implemented in OnClose() because it takes a timeout parameter and because it is not called as part of Abort().</span></span>  
  
 <span data-ttu-id="cd7c5-198">Abort</span><span class="sxs-lookup"><span data-stu-id="cd7c5-198">Abort</span></span>  
  
 <span data-ttu-id="cd7c5-199">Condición previa: ninguna.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-199">Precondition: None.</span></span>  
<span data-ttu-id="cd7c5-200">Condición posterior: el estado es Cerrado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-200">Post-condition: State is Closed.</span></span> <span data-ttu-id="cd7c5-201">Podría iniciar una excepción.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-201">May throw an exception.</span></span>  
  
 <span data-ttu-id="cd7c5-202">El método Abort() no hace nada si el estado actual es Cerrado o si el objeto se ha finalizado antes (por ejemplo, posiblemente teniendo Abort() ejecutándose en otro subproceso).</span><span class="sxs-lookup"><span data-stu-id="cd7c5-202">The Abort() method does nothing if the current state is Closed or if the object has been terminated before (for example, possibly by having Abort() executing on another thread).</span></span> <span data-ttu-id="cd7c5-203">De lo contrario establece el estado a Cerrando y llama a OnClosing() (que desencadena el evento Cerrando), OnAbort() y OnClosed() en ese orden (no llama a OnClose porque se está finalizando el objeto, no cerrado).</span><span class="sxs-lookup"><span data-stu-id="cd7c5-203">Otherwise it sets the state to Closing and calls OnClosing() (which raises the Closing event), OnAbort(), and OnClosed() in that order (does not call OnClose because the object is being terminated, not closed).</span></span> <span data-ttu-id="cd7c5-204">OnClosed() establece el estado en Cerrado y desencadena el evento Cerrado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-204">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="cd7c5-205">Si cualquiera de estas operaciones provoca una excepción, se reinicia el llamador de Anular.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-205">If any of these throw an exception, it is re-thrown to the caller of Abort.</span></span> <span data-ttu-id="cd7c5-206">Las implementaciones de OnClosing(), OnClosed() y OnAbort() no se deberían bloquear (por ejemplo, en entrada/salida).</span><span class="sxs-lookup"><span data-stu-id="cd7c5-206">Implementations of OnClosing(), OnClosed() and OnAbort() should not block (for example, on input/output).</span></span> <span data-ttu-id="cd7c5-207">El diagrama siguiente muestra con más detalle el proceso Anular.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-207">The following diagram shows the Abort process in more detail.</span></span>  
  
 ![Diagrama de flujo de entrada de los cambios de estado de ICommunicationObject. Abort.](./media/understanding-state-changes/ico-abort-process-override-onabort.gif)  
<span data-ttu-id="cd7c5-209">Invalide el método OnAbort para implementar lógica de finalización personalizada como finalizar un objeto de comunicación interno.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-209">Override the OnAbort method to implement custom terminate logic such as terminating an inner communication object.</span></span>  
  
 <span data-ttu-id="cd7c5-210">Error</span><span class="sxs-lookup"><span data-stu-id="cd7c5-210">Fault</span></span>  
  
 <span data-ttu-id="cd7c5-211">El método Error es específico de <xref:System.ServiceModel.Channels.CommunicationObject> y no forma parte de la interfaz <xref:System.ServiceModel.ICommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-211">The Fault method is specific to <xref:System.ServiceModel.Channels.CommunicationObject> and is not part of the <xref:System.ServiceModel.ICommunicationObject> interface.</span></span> <span data-ttu-id="cd7c5-212">Se incluye aquí para proporcionar información completa.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-212">It is included here for completeness.</span></span>  
  
 <span data-ttu-id="cd7c5-213">Condición previa: ninguna.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-213">Precondition: None.</span></span>  
  
 <span data-ttu-id="cd7c5-214">Condición posterior: el estado es Error.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-214">Post-condition: State is Faulted.</span></span> <span data-ttu-id="cd7c5-215">Podría iniciar una excepción.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-215">May throw an exception.</span></span>  
  
 <span data-ttu-id="cd7c5-216">El método Fault() no hace nada si el estado actual es Error o Cerrado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-216">The Fault() method does nothing if the current state is Faulted or Closed.</span></span> <span data-ttu-id="cd7c5-217">De lo contrario establece el estado a Error y llama a OnFaulted(), que desencadena el evento Error.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-217">Otherwise it sets the state to Faulted and call OnFaulted(), which raises the Faulted event.</span></span> <span data-ttu-id="cd7c5-218">Si OnFaulted producir una excepción se reinicia.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-218">If OnFaulted throws an exception it is re-thrown.</span></span>  
  
### <a name="throwifxxx-methods"></a><span data-ttu-id="cd7c5-219">Métodos ThrowIfXxx</span><span class="sxs-lookup"><span data-stu-id="cd7c5-219">ThrowIfXxx Methods</span></span>  

 <span data-ttu-id="cd7c5-220">CommunicationObject tiene tres métodos protegidos que se pueden utilizar para producir excepciones si el objeto está en un estado concreto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-220">CommunicationObject has three protected methods that can be used to throw exceptions if the object is in a specific state.</span></span>  
  
 <span data-ttu-id="cd7c5-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> produce una excepción si el estado es Cerrando, Cerrado o Error.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> throws an exception if the state is Closing, Closed or Faulted.</span></span>  
  
 <span data-ttu-id="cd7c5-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> produce una excepción si el estado no es Creado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> throws an exception if the state is not Created.</span></span>  
  
 <span data-ttu-id="cd7c5-223"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> produce una excepción si el estado no es Abierto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-223"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> throws an exception if the state is not Opened.</span></span>  
  
 <span data-ttu-id="cd7c5-224">Las excepciones iniciadas dependen del estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-224">The exceptions thrown depend on the state.</span></span> <span data-ttu-id="cd7c5-225">La tabla siguiente muestra los diferentes estados y el tipo de excepción correspondiente iniciados llamando a ThrowIfXxx que se inicia en ese estado.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-225">The following table shows the different states and the corresponding exception type thrown by calling a ThrowIfXxx that throws on that state.</span></span>  
  
|<span data-ttu-id="cd7c5-226">Estado</span><span class="sxs-lookup"><span data-stu-id="cd7c5-226">State</span></span>|<span data-ttu-id="cd7c5-227">¿Se ha llamado a Anular?</span><span class="sxs-lookup"><span data-stu-id="cd7c5-227">Has Abort been called?</span></span>|<span data-ttu-id="cd7c5-228">Excepción</span><span class="sxs-lookup"><span data-stu-id="cd7c5-228">Exception</span></span>|  
|-----------|----------------------------|---------------|  
|<span data-ttu-id="cd7c5-229">Creado</span><span class="sxs-lookup"><span data-stu-id="cd7c5-229">Created</span></span>|<span data-ttu-id="cd7c5-230">N/D</span><span class="sxs-lookup"><span data-stu-id="cd7c5-230">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="cd7c5-231">Apertura</span><span class="sxs-lookup"><span data-stu-id="cd7c5-231">Opening</span></span>|<span data-ttu-id="cd7c5-232">N/D</span><span class="sxs-lookup"><span data-stu-id="cd7c5-232">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="cd7c5-233">Abierto</span><span class="sxs-lookup"><span data-stu-id="cd7c5-233">Opened</span></span>|<span data-ttu-id="cd7c5-234">N/D</span><span class="sxs-lookup"><span data-stu-id="cd7c5-234">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="cd7c5-235">Cierre</span><span class="sxs-lookup"><span data-stu-id="cd7c5-235">Closing</span></span>|<span data-ttu-id="cd7c5-236">Sí</span><span class="sxs-lookup"><span data-stu-id="cd7c5-236">Yes</span></span>|<xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType>|  
|<span data-ttu-id="cd7c5-237">Cierre</span><span class="sxs-lookup"><span data-stu-id="cd7c5-237">Closing</span></span>|<span data-ttu-id="cd7c5-238">No</span><span class="sxs-lookup"><span data-stu-id="cd7c5-238">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="cd7c5-239">Closed</span><span class="sxs-lookup"><span data-stu-id="cd7c5-239">Closed</span></span>|<span data-ttu-id="cd7c5-240">Sí</span><span class="sxs-lookup"><span data-stu-id="cd7c5-240">Yes</span></span>|<span data-ttu-id="cd7c5-241"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> en el caso de que una llamada anterior y explícita de Anular cerrara un objeto.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-241"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> in the case that an object was closed by a previous and explicit call of Abort.</span></span> <span data-ttu-id="cd7c5-242">Si llama a Cerrar en el objeto, se produce <xref:System.ObjectDisposedException?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-242">If you call Close on the object then an <xref:System.ObjectDisposedException?displayProperty=nameWithType> is thrown.</span></span>|  
|<span data-ttu-id="cd7c5-243">Closed</span><span class="sxs-lookup"><span data-stu-id="cd7c5-243">Closed</span></span>|<span data-ttu-id="cd7c5-244">No</span><span class="sxs-lookup"><span data-stu-id="cd7c5-244">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="cd7c5-245">Error</span><span class="sxs-lookup"><span data-stu-id="cd7c5-245">Faulted</span></span>|<span data-ttu-id="cd7c5-246">N/D</span><span class="sxs-lookup"><span data-stu-id="cd7c5-246">N/A</span></span>|<xref:System.ServiceModel.CommunicationObjectFaultedException?displayProperty=nameWithType>|  
  
### <a name="timeouts"></a><span data-ttu-id="cd7c5-247">Tiempos de expiración</span><span class="sxs-lookup"><span data-stu-id="cd7c5-247">Timeouts</span></span>  

 <span data-ttu-id="cd7c5-248">Algunos de los métodos que hemos abordado utilizan parámetros de tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-248">Several of the methods we discussed take timeout parameters.</span></span> <span data-ttu-id="cd7c5-249">Son Cerrar, Abrir (ciertas sobrecargas y versiones asincrónicas), OnClose y OnOpen.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-249">These are Close, Open (certain overloads and asynchronous versions), OnClose and OnOpen.</span></span> <span data-ttu-id="cd7c5-250">Estos métodos están diseñados para permitir las operaciones largas (por ejemplo, bloquear en entrada/salida mientras se cierra una conexión) de modo que el parámetro de tiempo de espera indica cuánto tiempo pueden tardar tales operaciones antes de ser interrumpidas.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-250">These methods are designed to allow for lengthy operations (for example, blocking on input/output while gracefully closing down a connection) so the timeout parameter indicates how long such operations can take before being interrupted.</span></span> <span data-ttu-id="cd7c5-251">Las implementaciones de cualquiera de estos métodos deberían utilizar el valor de tiempo de espera proporcionado para garantizar que vuelvan al llamador dentro de ese tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-251">Implementations of any of these methods should use the supplied timeout value to ensure it returns to the caller within that timeout.</span></span> <span data-ttu-id="cd7c5-252">Las implementaciones de otros métodos que no tienen un tiempo de espera no están diseñadas para las operaciones largas y no se bloquean en entrada/salida.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-252">Implementations of other methods that do not take a timeout are not designed for lengthy operations and should not block on input/output.</span></span>  
  
 <span data-ttu-id="cd7c5-253">Las excepciones son las sobrecargas de Open() y Close() que no tienen un tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-253">The exception are the Open() and Close() overloads that do not take a timeout.</span></span> <span data-ttu-id="cd7c5-254">Estos usan un valor de tiempo de espera predeterminado proporcionado por la clase derivada.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-254">These use a default timeout value supplied by the derived class.</span></span> <span data-ttu-id="cd7c5-255"><xref:System.ServiceModel.Channels.CommunicationObject> expone dos propiedades abstractas protegidas denominadas <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> y <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> definidas como:</span><span class="sxs-lookup"><span data-stu-id="cd7c5-255"><xref:System.ServiceModel.Channels.CommunicationObject> exposes two protected abstract properties named <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> and <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> defined as:</span></span>  
  
 `protected abstract TimeSpan DefaultCloseTimeout { get; }`  
  
 `protected abstract TimeSpan DefaultOpenTimeout { get; }`  
  
 <span data-ttu-id="cd7c5-256">Una clase derivada implementa estas propiedades para proporcionar el tiempo de espera predeterminado para las sobrecargas Open() y Close() que no tienen un valor de tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-256">A derived class implements these properties to provide the default timeout for the Open() and Close() overloads that do not take a timeout value.</span></span> <span data-ttu-id="cd7c5-257">A continuación, las implementaciones de Open() y Close() delegan a la sobrecarga que tiene un tiempo de espera que les pase el valor de tiempo de espera predeterminado, por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="cd7c5-257">Then the Open() and Close() implementations delegate to the overload that takes a timeout passing it the default timeout value, for example:</span></span>  
  
 `public void Open()`  
  
 `{`  
  
 `this.Open(this.DefaultOpenTimeout);`  
  
 `}`  
  
#### <a name="idefaultcommunicationtimeouts"></a><span data-ttu-id="cd7c5-258">IDefaultCommunicationTimeouts</span><span class="sxs-lookup"><span data-stu-id="cd7c5-258">IDefaultCommunicationTimeouts</span></span>  

 <span data-ttu-id="cd7c5-259">Esta interfaz tiene cuatro propiedades de solo lectura para proporcionar los valores de tiempo de espera predeterminados para abrir, enviar, recibir y cerrar.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-259">This interface has four read-only properties for providing default timeout values for open, send, receive, and close.</span></span> <span data-ttu-id="cd7c5-260">Cada implementación es responsable de obtener los valores predeterminados de la manera apropiada.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-260">Each implementation is responsible for obtaining the default values in whatever manner appropriate.</span></span> <span data-ttu-id="cd7c5-261">Como una comodidad, <xref:System.ServiceModel.Channels.ChannelFactoryBase> y <xref:System.ServiceModel.Channels.ChannelListenerBase> tienen como valor predeterminado de estos valores 1 minuto cada uno.</span><span class="sxs-lookup"><span data-stu-id="cd7c5-261">As a convenience, <xref:System.ServiceModel.Channels.ChannelFactoryBase> and <xref:System.ServiceModel.Channels.ChannelListenerBase> default these values to 1 minute each.</span></span>
