---
title: Servicio HTTP básico
ms.date: 03/30/2017
ms.assetid: 27048b43-8a54-4f2a-9952-594bbfab10ad
ms.openlocfilehash: 8dfcd5a751bcef6aa24b5cb4a200c8820c43fe81
ms.sourcegitcommit: 5fb5b6520b06d7f5e6131ec2ad854da302a28f2e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/03/2019
ms.locfileid: "74716101"
---
# <a name="basic-http-service"></a><span data-ttu-id="a2ed0-102">Servicio HTTP básico</span><span class="sxs-lookup"><span data-stu-id="a2ed0-102">Basic HTTP Service</span></span>

<span data-ttu-id="a2ed0-103">En este ejemplo se muestra cómo implementar un servicio basado en RPC basado en HTTP que se conoce comúnmente como servicio "POX" (XML sin formato), mediante el modelo de programación REST de Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="a2ed0-103">This sample demonstrates how to implement an HTTP-based, RPC-based service - popularly referred to as "POX" (Plain Old XML) service – using the Windows Communication Foundation (WCF) REST Programming model.</span></span> <span data-ttu-id="a2ed0-104">Este ejemplo consta de dos componentes: un servicio HTTP de WCF autohospedado (Service.cs) y una aplicación de consola (Program.cs) que crea el servicio y realiza llamadas a él.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-104">This sample consists of two components: a self-hosted WCF HTTP service (Service.cs) and a console application (Program.cs) that creates the service and makes calls to it.</span></span>

## <a name="sample-details"></a><span data-ttu-id="a2ed0-105">Detalles del ejemplo</span><span class="sxs-lookup"><span data-stu-id="a2ed0-105">Sample Details</span></span>

<span data-ttu-id="a2ed0-106">El servicio WCF expone dos operaciones, `EchoWithGet` y `EchoWithPost`, que devuelve la cadena que se pasó como entrada.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-106">The WCF service exposes 2 operations, `EchoWithGet` and `EchoWithPost`, which returns the string that was passed as input.</span></span>

<span data-ttu-id="a2ed0-107">La operación `EchoWithGet` se anota con <xref:System.ServiceModel.Web.WebGetAttribute>, que indica que la operación procesa las solicitudes `GET` de HTTP.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-107">The `EchoWithGet` operation is annotated with <xref:System.ServiceModel.Web.WebGetAttribute>, which indicates that the operation processes HTTP `GET` requests.</span></span> <span data-ttu-id="a2ed0-108">Dado que el <xref:System.ServiceModel.Web.WebGetAttribute> no especifica un objeto <xref:System.UriTemplate> explícitamente, la operación espera a que se pase la cadena de entrada con un parámetro de cadena de consulta con el nombre `s`.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-108">Because the <xref:System.ServiceModel.Web.WebGetAttribute> does not explicitly specify a <xref:System.UriTemplate>, the operation expects the input string to be passed in using a query string parameter with name `s`.</span></span> <span data-ttu-id="a2ed0-109">Observe que el formato del URI que el servicio espera se puede personalizar utilizando la propiedad <xref:System.ServiceModel.Web.WebGetAttribute.UriTemplate%2A>.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-109">Note that the format of the URI that the service expects can be customized using the <xref:System.ServiceModel.Web.WebGetAttribute.UriTemplate%2A> property.</span></span>

<span data-ttu-id="a2ed0-110">La operación `EchoWithPost` se anota con <xref:System.ServiceModel.Web.WebInvokeAttribute>, que indica que no es una operación `GET` (tiene efectos secundarios).</span><span class="sxs-lookup"><span data-stu-id="a2ed0-110">The `EchoWithPost` operation is annotated with <xref:System.ServiceModel.Web.WebInvokeAttribute>, which indicates it is not a `GET` operation (it has side effects).</span></span> <span data-ttu-id="a2ed0-111">Dado que el <xref:System.ServiceModel.Web.WebInvokeAttribute> no especifica un `Method` explícitamente, la operación procesa las solicitudes `POST` de HTTP que tienen la cadena en el cuerpo de la solicitud (en el formato XML, por ejemplo).</span><span class="sxs-lookup"><span data-stu-id="a2ed0-111">Because the <xref:System.ServiceModel.Web.WebInvokeAttribute> does not explicitly specify a `Method`, the operation processes HTTP `POST` requests that have the string in the request body (in the XML format, for instance).</span></span> <span data-ttu-id="a2ed0-112">Observe que el método HTTP y el formato del URI para la solicitud se pueden personalizar utilizando las propiedades <xref:System.ServiceModel.Web.WebInvokeAttribute.Method%2A> y <xref:System.ServiceModel.Web.WebInvokeAttribute.UriTemplate>, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-112">Note that the HTTP method and the format of the URI for the request can be customized using the <xref:System.ServiceModel.Web.WebInvokeAttribute.Method%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.UriTemplate> properties respectively.</span></span>

<span data-ttu-id="a2ed0-113">El archivo App.config configura el servicio WCF con un <xref:System.ServiceModel.Description.WebHttpEndpoint> predeterminado que tiene la propiedad <xref:System.ServiceModel.Description.WebHttpEndpoint.HelpEnabled%2A> establecida en `true`.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-113">The App.config file configures the WCF service with a default <xref:System.ServiceModel.Description.WebHttpEndpoint> that has the <xref:System.ServiceModel.Description.WebHttpEndpoint.HelpEnabled%2A> property set to `true`.</span></span> <span data-ttu-id="a2ed0-114">Como resultado, la infraestructura de WCF crea una página de ayuda basada en HTML automática en `http://localhost:8000/Customers/help` que proporciona información sobre cómo construir las solicitudes HTTP al servicio y cómo consumir la respuesta HTTP del servicio.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-114">As a result, the WCF infrastructure creates an automatic HTML based help page at `http://localhost:8000/Customers/help` that provides information about how to construct HTTP requests to the service and how to consume the service’s HTTP response.</span></span>

<span data-ttu-id="a2ed0-115">Program.cs muestra cómo se puede usar un generador de canales de WCF para realizar llamadas al servicio y procesar las respuestas.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-115">Program.cs demonstrates how a WCF channel factory can be used to make calls to the service and process responses.</span></span> <span data-ttu-id="a2ed0-116">Observe que se trata simplemente de una manera de tener acceso a un servicio de WCF.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-116">Note that this is just one way to access a WCF service.</span></span> <span data-ttu-id="a2ed0-117">También es posible tener acceso al servicio utilizando otras clases de .NET Framework como <xref:System.Net.HttpWebRequest> y <xref:System.Net.WebClient>.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-117">It is also possible to access the service using other .NET Framework classes like <xref:System.Net.HttpWebRequest> and <xref:System.Net.WebClient>.</span></span>

<span data-ttu-id="a2ed0-118">El ejemplo consta de un servicio autohospedado y un cliente que se ejecutan ambos dentro de una aplicación de consola.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-118">The sample consists a self-hosted service and a client that both run within a console application.</span></span> <span data-ttu-id="a2ed0-119">A medida que se ejecuta la aplicación de consola, el cliente realiza solicitudes al servicio y escribe la información pertinente de las respuestas en la ventana de la consola.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-119">As the console application runs, the client makes requests to the service and writes the pertinent information from the responses to the console window.</span></span>

#### <a name="to-use-this-sample"></a><span data-ttu-id="a2ed0-120">Para utilizar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="a2ed0-120">To use this sample</span></span>

1. <span data-ttu-id="a2ed0-121">Abra la solución del ejemplo de servicio HTTP básico.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-121">Open the solution for the Basic Http Service Sample.</span></span> <span data-ttu-id="a2ed0-122">Al iniciar Visual Studio 2012, debe ejecutar como administrador para que el ejemplo se ejecute correctamente.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-122">When launching Visual Studio 2012, you must run as an administrator for the sample to execute successfully.</span></span> <span data-ttu-id="a2ed0-123">Para ello, haga clic con el botón secundario en el icono de Visual Studio 2012 y seleccione **Ejecutar como administrador** en el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-123">Do this by right-clicking the Visual Studio 2012 icon and selecting **Run as Administrator** from the context menu.</span></span>

2. <span data-ttu-id="a2ed0-124">Presione CTRL+MAYÚS+B para compilar la solución y, a continuación, presione Ctrl+F5 para ejecutar la aplicación de consola sin depurar.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-124">Press CTRL+SHIFT+B to build the solution and then press Ctrl+F5 to run the console application without debugging.</span></span> <span data-ttu-id="a2ed0-125">La ventana de la consola aparece y proporciona el URI del servicio en ejecución y el URI de la página de Ayuda HTML para este.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-125">The console window appears and provides the URI of the running service and the URI of the HTML help page for the running service.</span></span> <span data-ttu-id="a2ed0-126">Puede ver la página de Ayuda HTML en cualquier momento escribiendo su URI en un explorador.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-126">At any point in time you can view the HTML help page by typing the URI of the help page in a browser.</span></span> <span data-ttu-id="a2ed0-127">A medida que el ejemplo se ejecuta, el cliente escribe el estado de la actividad actual.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-127">As the sample runs, the client writes the status of the current activity.</span></span>

3. <span data-ttu-id="a2ed0-128">Presione cualquier tecla para terminar el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-128">Press any key to terminate the sample.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a2ed0-129">Puede que los ejemplos ya estén instalados en su equipo.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-129">The samples may already be installed on your machine.</span></span> <span data-ttu-id="a2ed0-130">Compruebe el siguiente directorio (predeterminado) antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-130">Check for the following (default) directory before continuing.</span></span>
>
> `<InstallDrive>:\WF_WCF_Samples`
>
> <span data-ttu-id="a2ed0-131">Si este directorio no existe, vaya a [ejemplos de Windows Communication Foundation (WCF) y Windows Workflow Foundation (WF) para .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=21459) para descargar todos los ejemplos de Windows Communication Foundation (WCF) y [!INCLUDE[wf1](../../../../includes/wf1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a2ed0-131">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=21459) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="a2ed0-132">Este ejemplo se encuentra en el siguiente directorio.</span><span class="sxs-lookup"><span data-stu-id="a2ed0-132">This sample is located in the following directory.</span></span>
>
> `<InstallDrive>:\WF_WCF_Samples\WCF\Basic\Web\BasicHttpService`
