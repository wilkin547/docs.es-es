---
title: Perfil seguro confiable
ms.date: 03/30/2017
ms.assetid: 921edc41-e91b-40f9-bde9-b6148b633e61
author: BrucePerlerMS
ms.openlocfilehash: 8bb7c6f9835fc7c0926e918563f85a28281f8a89
ms.sourcegitcommit: 213292dfbb0c37d83f62709959ff55c50af5560d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/25/2018
ms.locfileid: "47073572"
---
# <a name="reliable-secure-profile"></a><span data-ttu-id="a1f42-102">Perfil seguro confiable</span><span class="sxs-lookup"><span data-stu-id="a1f42-102">Reliable Secure Profile</span></span>
<span data-ttu-id="a1f42-103">En este ejemplo se muestra cómo crear WCF y [perfil seguro confiable](https://go.microsoft.com/fwlink/?LinkId=178140) (RSP).</span><span class="sxs-lookup"><span data-stu-id="a1f42-103">This sample demonstrates how to compose WCF and [Reliable Secure Profile](https://go.microsoft.com/fwlink/?LinkId=178140) (RSP).</span></span> <span data-ttu-id="a1f42-104">Este ejemplo muestra la implementación de un [establecer conexión](https://go.microsoft.com/fwlink/?LinkId=178141) canal que se puede componer junto con mensajería confiable y, opcionalmente, un canal seguro para crear un enlace de protección confiable basado en la especificación RSP.</span><span class="sxs-lookup"><span data-stu-id="a1f42-104">This sample demonstrates the implementation of a [Make Connection](https://go.microsoft.com/fwlink/?LinkId=178141) channel which can be composed together with Reliable Messaging and optionally a secure channel to create a Reliable Secure Binding based on the RSP specification.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a1f42-105">Puede que los ejemplos ya estén instalados en su equipo.</span><span class="sxs-lookup"><span data-stu-id="a1f42-105">The samples may already be installed on your machine.</span></span> <span data-ttu-id="a1f42-106">Compruebe el siguiente directorio (predeterminado) antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="a1f42-106">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="a1f42-107">Si no existe este directorio, vaya a [Windows Communication Foundation (WCF) y Windows Workflow Foundation (WF) Samples para .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) para descargar todos los Windows Communication Foundation (WCF) y [!INCLUDE[wf1](../../../../includes/wf1-md.md)] ejemplos.</span><span class="sxs-lookup"><span data-stu-id="a1f42-107">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="a1f42-108">Este ejemplo se encuentra en el siguiente directorio.</span><span class="sxs-lookup"><span data-stu-id="a1f42-108">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WCF\Extensibility\Channels\ReliableSecureProfile`  
  
## <a name="discussion"></a><span data-ttu-id="a1f42-109">Explicación</span><span class="sxs-lookup"><span data-stu-id="a1f42-109">Discussion</span></span>  
 <span data-ttu-id="a1f42-110">En este ejemplo se muestra un escenario de intercambio de mensajes bidireccional asincrónico confiable.</span><span class="sxs-lookup"><span data-stu-id="a1f42-110">This sample demonstrates a reliable asynchronous two-way message exchange scenario.</span></span> <span data-ttu-id="a1f42-111">El servicio tiene un contrato dúplex y el cliente implementa el contrato de devolución de llamadas dúplex.</span><span class="sxs-lookup"><span data-stu-id="a1f42-111">The service has a duplex contract and the client implements the duplex callback contract.</span></span> <span data-ttu-id="a1f42-112">El cliente inicia una solicitud a un servicio, para el que se espera una respuesta en una conexión independiente.</span><span class="sxs-lookup"><span data-stu-id="a1f42-112">The client initiates a request to a service, for which a response is expected on a separate connection.</span></span> <span data-ttu-id="a1f42-113">El mensaje de solicitud se envía de forma confiable.</span><span class="sxs-lookup"><span data-stu-id="a1f42-113">The request message is sent reliably.</span></span> <span data-ttu-id="a1f42-114">El cliente no desea abrir un extremo para realizar escuchas hasta el fin.</span><span class="sxs-lookup"><span data-stu-id="a1f42-114">The client does not want to open a listening endpoint at its end.</span></span> <span data-ttu-id="a1f42-115">Por tanto, sondea el servicio con solicitudes de 'Establecer conexión' para el servicio de modo que la respuesta se devuelva en el canal secundario de esta solicitud de 'Establecer conexión'.</span><span class="sxs-lookup"><span data-stu-id="a1f42-115">Thus, it polls the service with ‘Make Connection’ requests for the service to send back the response on the back channel of this ‘Make Connection’ request.</span></span> <span data-ttu-id="a1f42-116">En este ejemplo se muestra cómo conseguir una comunicación dúplex, confiable y segura a través de HTTP sin que el cliente exponga un punto de conexión para realizar escuchas (y cree una excepción de firewall).</span><span class="sxs-lookup"><span data-stu-id="a1f42-116">This sample demonstrates how to have secure reliable duplex communication over HTTP without the client exposing a listening endpoint (and creating a firewall exception).</span></span>  
  
## <a name="to-set-up-build-and-run-the-sample"></a><span data-ttu-id="a1f42-117">Configurar, compilar y ejecutar el ejemplo</span><span class="sxs-lookup"><span data-stu-id="a1f42-117">To set up, build, and run the sample</span></span>  
  
1.  <span data-ttu-id="a1f42-118">Abra el **ReliableSecureProfile** solución.</span><span class="sxs-lookup"><span data-stu-id="a1f42-118">Open the **ReliableSecureProfile** solution.</span></span>  
  
2.  <span data-ttu-id="a1f42-119">Haga clic en el **servicio** proyecto **el Explorador de soluciones**, seleccione **depurar**, **Iniciar nueva instancia** en el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="a1f42-119">Right click the **Service** project in **Solution Explorer**, select **Debug**, **Start new instance** from the context menu.</span></span> <span data-ttu-id="a1f42-120">De esta forma se inicia el host de servicio.</span><span class="sxs-lookup"><span data-stu-id="a1f42-120">This starts up the service host.</span></span>  
  
3.  <span data-ttu-id="a1f42-121">Haga clic en el **cliente** proyecto **el Explorador de soluciones**, seleccione **depurar**, **Iniciar nueva instancia** en el menú contextual.</span><span class="sxs-lookup"><span data-stu-id="a1f42-121">Right click the **Client** project in **Solution Explorer**, select **Debug**, **Start new instance** from the context menu.</span></span> <span data-ttu-id="a1f42-122">De esta forma se inicia el cliente.</span><span class="sxs-lookup"><span data-stu-id="a1f42-122">This starts up the client.</span></span>  
  
4.  <span data-ttu-id="a1f42-123">Escriba una cadena en el símbolo del sistema de la ventana de la consola del cliente y haga clic en ENTRAR. De este modo se envía la cadena de entrada al servicio, que calcula un valor hash de la misma.</span><span class="sxs-lookup"><span data-stu-id="a1f42-123">Type in any string in the prompt on the client console window and click ENTER.This sends the input string to the service, which computes a hash of this string.</span></span>  
  
5.  <span data-ttu-id="a1f42-124">Vea el resultado en las ventanas de cliente cuando el servicio llama de nuevo a la operación de contrato de devolución de llamada dúplex para mostrar el resultado en la ventana de la consola del cliente.</span><span class="sxs-lookup"><span data-stu-id="a1f42-124">View the result on the client windows when the service calls back the duplex callback contract operation to display the result on the client console window.</span></span> <span data-ttu-id="a1f42-125">Hay un retraso intencionado en el servicio para simular una operación que tarda en ejecutarse y procesa los datos.</span><span class="sxs-lookup"><span data-stu-id="a1f42-125">There is an intentional delay on the service to simulate a long running operation of processing the data.</span></span>  
  
6.  <span data-ttu-id="a1f42-126">Al supervisar el tráfico HTTP (mediante alguna de las herramientas de supervisión de red en línea, como Monitor de red, Fiddler, etc.), se muestra que se establece una secuencia para la comunicación entre el cliente y el servicio que el Perfil de protección confiable rechaza, y cómo sondea el cliente dicho servicio con las solicitudes 'Establecer conexión'.</span><span class="sxs-lookup"><span data-stu-id="a1f42-126">Monitoring the HTTP traffic (by any of the online network monitoring tools like Network Monitor, Fiddler and so on) shows that a sequence for communication is established between the client and the service as laid down by the Reliable Secure Profile, and how the client polls the service with ‘Make Connection’ requests.</span></span> <span data-ttu-id="a1f42-127">Cuando el servicio está preparado para devolver la respuesta procesada, utiliza el canal secundario de la última solicitud 'Establecer conexión' para enviar de vuelta los resultados.</span><span class="sxs-lookup"><span data-stu-id="a1f42-127">When the service gets ready to send back the processed response, it uses the back channel of the last ‘Make Connection’ request to send back the results.</span></span>  
  
7.  <span data-ttu-id="a1f42-128">Presione ENTRAR en la ventana de la consola del servicio para cerrar el servicio.</span><span class="sxs-lookup"><span data-stu-id="a1f42-128">Press ENTER on the service console window to close the service.</span></span> <span data-ttu-id="a1f42-129">Presione ENTRAR en la ventana de la consola de cliente para cerrar el cliente.</span><span class="sxs-lookup"><span data-stu-id="a1f42-129">Press ENTER on the client console window to close the client.</span></span>
