---
title: Arquitectura de Windows Communication Foundation
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Windows Communication Foundation [WCF], architecture
- WCF [WCF], architecture
- architecture [WCF]
ms.assetid: a3bcb0a1-56ea-4ba6-9736-d260d90dade5
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 1bc7383c5b93203b144c965f06fa7365c864de27
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/22/2017
---
# <a name="windows-communication-foundation-architecture"></a><span data-ttu-id="e3545-102">Arquitectura de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="e3545-102">Windows Communication Foundation Architecture</span></span>
<span data-ttu-id="e3545-103">El gráfico siguiente muestra las capas principales de la arquitectura [!INCLUDE[indigo1](../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3545-103">The following graphic illustrates the major layers of the [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] architecture.</span></span>  
  
## <a name="wcf-architecture"></a><span data-ttu-id="e3545-104">Arquitectura de WCF</span><span class="sxs-lookup"><span data-stu-id="e3545-104">WCF Architecture</span></span>  
 <span data-ttu-id="e3545-105">![La arquitectura WCF](../../../docs/framework/wcf/media/wcf-architecture.gif "WCF_Architecture")</span><span class="sxs-lookup"><span data-stu-id="e3545-105">![The WCF Architecture](../../../docs/framework/wcf/media/wcf-architecture.gif "WCF_Architecture")</span></span>  
  
### <a name="contracts-and-descriptions"></a><span data-ttu-id="e3545-106">Contratos y descripciones</span><span class="sxs-lookup"><span data-stu-id="e3545-106">Contracts and Descriptions</span></span>  
 <span data-ttu-id="e3545-107">Los contratos definen varios aspectos del sistema de mensajes.</span><span class="sxs-lookup"><span data-stu-id="e3545-107">Contracts define various aspects of the message system.</span></span> <span data-ttu-id="e3545-108">El contrato de datos describe cada parámetro que constituye cada mensaje que un servicio puede crear o utilizar.</span><span class="sxs-lookup"><span data-stu-id="e3545-108">The data contract describes every parameter that makes up every message that a service can create or consume.</span></span> <span data-ttu-id="e3545-109">Los documentos de Lenguaje de definición de esquemas XML (XSD) definen los parámetros de mensaje, permitiendo a cualquier sistema que entienda XML procesar los documentos.</span><span class="sxs-lookup"><span data-stu-id="e3545-109">The message parameters are defined by XML Schema definition language (XSD) documents, enabling any system that understands XML to process the documents.</span></span> <span data-ttu-id="e3545-110">El contrato del mensaje define partes específicas del mensaje utilizando los protocolos SOAP y permite el control más fino sobre las partes del mensaje, cuando la interoperabilidad exige tal precisión.</span><span class="sxs-lookup"><span data-stu-id="e3545-110">The message contract defines specific message parts using SOAP protocols, and allows finer-grained control over parts of the message, when interoperability demands such precision.</span></span> <span data-ttu-id="e3545-111">El contrato de servicios especifica las firmas de método actuales del servicio y se distribuye como una interfaz en uno de los lenguajes de programación compatibles, como Visual Basic o Visual C#.</span><span class="sxs-lookup"><span data-stu-id="e3545-111">The service contract specifies the actual method signatures of the service, and is distributed as an interface in one of the supported programming languages, such as Visual Basic or Visual C#.</span></span>  
  
 <span data-ttu-id="e3545-112">Las directivas y enlaces estipulan las condiciones exigidas para comunicarse con un servicio.</span><span class="sxs-lookup"><span data-stu-id="e3545-112">Policies and bindings stipulate the conditions required to communicate with a service.</span></span>  <span data-ttu-id="e3545-113">Por ejemplo, el enlace debe especificar (como mínimo) el transporte utilizado (por ejemplo, HTTP o TCP) y una codificación.</span><span class="sxs-lookup"><span data-stu-id="e3545-113">For example, the binding must (at a minimum) specify the transport used (for example, HTTP or TCP), and an encoding.</span></span> <span data-ttu-id="e3545-114">Las directivas incluyen los requisitos de seguridad y otras condiciones que se deben cumplir para comunicarse con un servicio.</span><span class="sxs-lookup"><span data-stu-id="e3545-114">Policies include security requirements and other conditions that must be met to communicate with a service.</span></span>  
  
### <a name="service-runtime"></a><span data-ttu-id="e3545-115">Tiempo de ejecución de servicio</span><span class="sxs-lookup"><span data-stu-id="e3545-115">Service Runtime</span></span>  
 <span data-ttu-id="e3545-116">La capa del tiempo de ejecución del servicio contiene los comportamientos que solo se producen durante la operación actual del servicio, es decir, los comportamientos en tiempo de ejecución del servicio.</span><span class="sxs-lookup"><span data-stu-id="e3545-116">The service runtime layer contains the behaviors that occur only during the actual operation of the service, that is, the runtime behaviors of the service.</span></span> <span data-ttu-id="e3545-117">La limitación de peticiones controla cuántos mensajes se procesan que puede variar si la demanda para el servicio crece a un límite preestablecido.</span><span class="sxs-lookup"><span data-stu-id="e3545-117">Throttling controls how many messages are processed, which can be varied if the demand for the service grows to a preset limit.</span></span> <span data-ttu-id="e3545-118">Un comportamiento de error especifica lo que sucede cuando se produce un error interno en el servicio, por ejemplo, controlando qué información se comunica al cliente.</span><span class="sxs-lookup"><span data-stu-id="e3545-118">An error behavior specifies what occurs when an internal error occurs on the service, for example, by controlling what information is communicated to the client.</span></span> <span data-ttu-id="e3545-119">(Demasiada información puede dar ventaja a un usuario malintencionado para organizar un ataque.) El comportamiento de los metadatos rige cómo y si los metadatos se ponen a disposición del mundo externo.</span><span class="sxs-lookup"><span data-stu-id="e3545-119">(Too much information can give a malicious user an advantage in mounting an attack.) Metadata behavior governs how and whether metadata is made available to the outside world.</span></span> <span data-ttu-id="e3545-120">El comportamiento de la instancia especifica cuántas instancias del servicio se pueden ejecutar (por ejemplo, un singleton especifica solo una instancia para procesar todos los mensajes).</span><span class="sxs-lookup"><span data-stu-id="e3545-120">Instance behavior specifies how many instances of the service can be run (for example, a singleton specifies only one instance to process all messages).</span></span> <span data-ttu-id="e3545-121">El comportamiento de la transacción habilita la recuperación de operaciones de transacción si se produce un error.</span><span class="sxs-lookup"><span data-stu-id="e3545-121">Transaction behavior enables the rollback of transacted operations if a failure occurs.</span></span> <span data-ttu-id="e3545-122">El comportamiento de la expedición es el control de cómo la infraestructura [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] procesa un mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-122">Dispatch behavior is the control of how a message is processed by the [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] infrastructure.</span></span>  
  
 <span data-ttu-id="e3545-123">La extensibilidad habilita la personalización de procesos en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="e3545-123">Extensibility enables customization of runtime processes.</span></span> <span data-ttu-id="e3545-124">Por ejemplo, la inspección del mensaje es la facilidad para inspeccionar partes de un mensaje y la filtración de parámetros permite que se realicen acciones preestablecidas basándose en filtros que actúan en encabezados del mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-124">For example, message inspection is the facility to inspect parts of a message, and parameter filtering enables preset actions to occur based on filters acting on message headers.</span></span>  
  
### <a name="messaging"></a><span data-ttu-id="e3545-125">Mensajería</span><span class="sxs-lookup"><span data-stu-id="e3545-125">Messaging</span></span>  
 <span data-ttu-id="e3545-126">La capa de mensajería se compone de *canales*.</span><span class="sxs-lookup"><span data-stu-id="e3545-126">The messaging layer is composed of *channels*.</span></span> <span data-ttu-id="e3545-127">Un canal es un componente que procesa un mensaje de alguna manera, por ejemplo, autenticando un mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-127">A channel is a component that processes a message in some way, for example, by authenticating a message.</span></span> <span data-ttu-id="e3545-128">Un conjunto de canales es también conocido como un *pila del canal*.</span><span class="sxs-lookup"><span data-stu-id="e3545-128">A set of channels is also known as a *channel stack*.</span></span> <span data-ttu-id="e3545-129">Los canales funcionan en los mensajes y encabezados del mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-129">Channels operate on messages and message headers.</span></span> <span data-ttu-id="e3545-130">Esto es diferente de la capa en tiempo de ejecución del servicio, que se ocupa principalmente de procesar el contenido de los cuerpos de los mensajes.</span><span class="sxs-lookup"><span data-stu-id="e3545-130">This is different from the service runtime layer, which is primarily concerned about processing the contents of message bodies.</span></span>  
  
 <span data-ttu-id="e3545-131">Hay dos tipos de canales: canales de transporte y canales de protocolo.</span><span class="sxs-lookup"><span data-stu-id="e3545-131">There are two types of channels: transport channels and protocol channels.</span></span>  
  
 <span data-ttu-id="e3545-132">Los canales de transporte leen y escriben mensajes de la red (o algún otro punto de la comunicación con el mundo externo).</span><span class="sxs-lookup"><span data-stu-id="e3545-132">Transport channels read and write messages from the network (or some other communication point with the outside world).</span></span> <span data-ttu-id="e3545-133">Algunos transportes utilizan un codificador para convertir los mensajes (que se representan como conjuntos de información XMLs) hacia y desde la representación de la secuencia de bytes utilizada por la red.</span><span class="sxs-lookup"><span data-stu-id="e3545-133">Some transports use an encoder to convert messages (which are represented as XML Infosets) to and from the byte stream representation used by the network.</span></span> <span data-ttu-id="e3545-134">Son ejemplos de transportes HTTP, canalizaciones con nombre, TCP y MSMQ.</span><span class="sxs-lookup"><span data-stu-id="e3545-134">Examples of transports are HTTP, named pipes, TCP, and MSMQ.</span></span> <span data-ttu-id="e3545-135">Son ejemplos de codificaciones XML y binario optimizado.</span><span class="sxs-lookup"><span data-stu-id="e3545-135">Examples of encodings are XML and optimized binary.</span></span>  
  
 <span data-ttu-id="e3545-136">Los canales de protocolo implementan protocolos de procesamiento de mensajes, a menudo leyendo o escribiendo encabezados adicionales en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-136">Protocol channels implement message processing protocols, often by reading or writing additional headers to the message.</span></span> <span data-ttu-id="e3545-137">Los ejemplos de tales protocolos incluyen WS-Security y WS-Reliability.</span><span class="sxs-lookup"><span data-stu-id="e3545-137">Examples of such protocols include WS-Security and WS-Reliability.</span></span>  
  
 <span data-ttu-id="e3545-138">La capa de la mensajería muestra los posibles formatos y patrones de intercambio de los datos.</span><span class="sxs-lookup"><span data-stu-id="e3545-138">The messaging layer illustrates the possible formats and exchange patterns of the data.</span></span> <span data-ttu-id="e3545-139">WS-Security es una implementación de la especificación WS-Security que habilita la seguridad en la capa del mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-139">WS-Security is an implementation of the WS-Security specification enabling security at the message layer.</span></span> <span data-ttu-id="e3545-140">El canal de mensajería WS-Reliable habilita la garantía de entrega del mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-140">The WS-Reliable Messaging channel enables the guarantee of message delivery.</span></span> <span data-ttu-id="e3545-141">Los codificadores presentan una variedad de codificaciones que se pueden utilizar para satisfacer las necesidades del mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-141">The encoders present a variety of encodings that can be used to suit the needs of the message.</span></span> <span data-ttu-id="e3545-142">El canal HTTP especifica que el Protocolo de transporte de hipertexto se utiliza para la entrega del mensaje.</span><span class="sxs-lookup"><span data-stu-id="e3545-142">The HTTP channel specifies that the HyperText Transport Protocol is used for message delivery.</span></span> <span data-ttu-id="e3545-143">El canal TCP especifica de manera similar el protocolo TCP.</span><span class="sxs-lookup"><span data-stu-id="e3545-143">The TCP channel similarly specifies the TCP protocol.</span></span> <span data-ttu-id="e3545-144">El canal de flujo de transacciones rige los patrones de mensajes de transacción.</span><span class="sxs-lookup"><span data-stu-id="e3545-144">The Transaction Flow channel governs transacted message patterns.</span></span> <span data-ttu-id="e3545-145">El canal de la canalización con nombre habilita la comunicación entre procesos.</span><span class="sxs-lookup"><span data-stu-id="e3545-145">The Named Pipe channel enables interprocess communication.</span></span> <span data-ttu-id="e3545-146">El canal de MSMQ habilita la interoperación con aplicaciones MSMQ.</span><span class="sxs-lookup"><span data-stu-id="e3545-146">The MSMQ channel enables interoperation with MSMQ applications.</span></span>  
  
### <a name="hosting-and-activation"></a><span data-ttu-id="e3545-147">Alojamiento y activación</span><span class="sxs-lookup"><span data-stu-id="e3545-147">Hosting and Activation</span></span>  
 <span data-ttu-id="e3545-148">En su forma final, un servicio es un programa.</span><span class="sxs-lookup"><span data-stu-id="e3545-148">In its final form, a service is a program.</span></span> <span data-ttu-id="e3545-149">Como otros programas, un servicio se debe ejecutar en un ejecutable.</span><span class="sxs-lookup"><span data-stu-id="e3545-149">Like other programs, a service must be run in an executable.</span></span> <span data-ttu-id="e3545-150">Esto se conoce como un *hospeda a sí mismo* servicio.</span><span class="sxs-lookup"><span data-stu-id="e3545-150">This is known as a *self-hosted* service.</span></span>  
  
 <span data-ttu-id="e3545-151">También pueden ser servicios *hospedado*, o ejecutar en un ejecutable administrado por un agente externo, como IIS o servicio de activación de Windows (WAS).</span><span class="sxs-lookup"><span data-stu-id="e3545-151">Services can also be *hosted*, or run in an executable managed by an external agent, such as IIS or Windows Activation Service (WAS).</span></span> <span data-ttu-id="e3545-152">WAS permite activar automáticamente aplicaciones [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] cuando se implementan en un equipo que ejecuta WAS.</span><span class="sxs-lookup"><span data-stu-id="e3545-152">WAS enables [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] applications to be activated automatically when deployed on a computer running WAS.</span></span> <span data-ttu-id="e3545-153">Los servicios también se pueden ejecutar manualmente como ejecutables (archivos .exe).</span><span class="sxs-lookup"><span data-stu-id="e3545-153">Services can also be manually run as executables (.exe files).</span></span> <span data-ttu-id="e3545-154">Un servicio también se puede ejecutar automáticamente como un servicio de Windows.</span><span class="sxs-lookup"><span data-stu-id="e3545-154">A service can also be run automatically as a Windows service.</span></span> <span data-ttu-id="e3545-155">Los componentes COM+ también se pueden hospedar como servicios [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e3545-155">COM+ components can also be hosted as [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3545-156">Vea también</span><span class="sxs-lookup"><span data-stu-id="e3545-156">See Also</span></span>  
 [<span data-ttu-id="e3545-157">¿Qué es Windows Communication Foundation?</span><span class="sxs-lookup"><span data-stu-id="e3545-157">What Is Windows Communication Foundation</span></span>](../../../docs/framework/wcf/whats-wcf.md)  
 [<span data-ttu-id="e3545-158">Conceptos básicos de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="e3545-158">Fundamental Windows Communication Foundation Concepts</span></span>](../../../docs/framework/wcf/fundamental-concepts.md)
