---
title: Novedades de .NET Framework
ms.custom: updateeachrelease
ms.date: 04/18/2019
dev_langs:
- csharp
- vb
helpviewer_keywords:
- what's new [.NET Framework]
ms.assetid: 1d971dd7-10fc-4692-8dac-30ca308fc0fa
ms.openlocfilehash: ab14e6cb7d9bd4c1571040280dc35233e9b89d43
ms.sourcegitcommit: 7e2128d4a4c45b4274bea3b8e5760d4694569ca1
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/14/2020
ms.locfileid: "75937980"
---
# <a name="whats-new-in-the-net-framework"></a><span data-ttu-id="04d3a-102">Novedades de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="04d3a-102">What's new in the .NET Framework</span></span>

<span data-ttu-id="04d3a-103">En este artículo se resumen las nuevas características y mejoras en las siguientes versiones de .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="04d3a-103">This article summarizes key new features and improvements in the following versions of the .NET Framework:</span></span>

- [<span data-ttu-id="04d3a-104">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="04d3a-104">.NET Framework 4.8</span></span>](#v48)
- [<span data-ttu-id="04d3a-105">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="04d3a-105">.NET Framework 4.7.2</span></span>](#v472)
- [<span data-ttu-id="04d3a-106">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-106">.NET Framework 4.7.1</span></span>](#v471)
- [<span data-ttu-id="04d3a-107">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="04d3a-107">.NET Framework 4.7</span></span>](#v47)
- [<span data-ttu-id="04d3a-108">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="04d3a-108">.NET Framework 4.6.2</span></span>](#v462)
- [<span data-ttu-id="04d3a-109">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-109">.NET Framework 4.6.1</span></span>](#v461)
- [<span data-ttu-id="04d3a-110">.NET 2015 y .NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="04d3a-110">.NET 2015 and .NET Framework 4.6</span></span>](#v46)
- [<span data-ttu-id="04d3a-111">.NET Framework 4.5.2</span><span class="sxs-lookup"><span data-stu-id="04d3a-111">.NET Framework 4.5.2</span></span>](#v452)
- [<span data-ttu-id="04d3a-112">.NET Framework 4.5.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-112">.NET Framework 4.5.1</span></span>](#v451)
- [<span data-ttu-id="04d3a-113">.NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="04d3a-113">.NET Framework 4.5</span></span>](#v45)

<span data-ttu-id="04d3a-114">Este artículo no proporciona información completa sobre cada una de las características nuevas y puede estar sujeto a cambios.</span><span class="sxs-lookup"><span data-stu-id="04d3a-114">This article does not provide comprehensive information about each new feature and is subject to change.</span></span> <span data-ttu-id="04d3a-115">Para obtener información general sobre .NET Framework, vea [Introducción](../get-started/index.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-115">For general information about the .NET Framework, see [Getting Started](../get-started/index.md).</span></span> <span data-ttu-id="04d3a-116">Para conocer las plataformas compatibles, vea [Requisitos de sistema](../get-started/system-requirements.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-116">For supported platforms, see [System Requirements](../get-started/system-requirements.md).</span></span> <span data-ttu-id="04d3a-117">Para obtener vínculos de descarga e instrucciones de instalación, vea [Instalar](../install/guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-117">For download links and installation instructions, see [Installation Guide](../install/guide-for-developers.md).</span></span>

> [!NOTE]
> <span data-ttu-id="04d3a-118">El equipo de .NET Framework también publica características fuera de banda con NuGet para expandir la compatibilidad con la plataforma e introducir nuevas funciones (como colecciones invariables y tipos de vector habilitados para SIMD).</span><span class="sxs-lookup"><span data-stu-id="04d3a-118">The .NET Framework team also releases features out of band with NuGet to expand platform support and to introduce new functionality, such as immutable collections and SIMD-enabled vector types.</span></span> <span data-ttu-id="04d3a-119">Para obtener más información, vea [Las API y las bibliotecas de clases adicionales](../additional-apis/index.md) y [.NET Framework y versiones fuera de banda](../get-started/the-net-framework-and-out-of-band-releases.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-119">For more information, see [Additional Class Libraries and APIs](../additional-apis/index.md) and [The .NET Framework and Out-of-Band Releases](../get-started/the-net-framework-and-out-of-band-releases.md).</span></span>
> <span data-ttu-id="04d3a-120">Vea una [lista completa de paquetes NuGet](https://www.nuget.org/profiles/dotnetframework) para .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-120">See a [complete list of NuGet packages](https://www.nuget.org/profiles/dotnetframework) for the .NET Framework.</span></span>

<a name="v48" />

## <a name="introducing-net-framework-48"></a><span data-ttu-id="04d3a-121">Introducción a .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="04d3a-121">Introducing .NET Framework 4.8</span></span>

<span data-ttu-id="04d3a-122">.NET Framework 4.8 se basa en versiones anteriores de .NET Framework 4.x, ya que se han agregado muchas nuevas correcciones y varias características nuevas, sin dejar de ser un producto muy estable.</span><span class="sxs-lookup"><span data-stu-id="04d3a-122">.NET Framework 4.8 builds on previous versions of the .NET Framework 4.x by adding many new fixes and several new features while remaining a very stable product.</span></span>

### <a name="downloading-and-installing-net-framework-48"></a><span data-ttu-id="04d3a-123">Descarga e instalación de .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="04d3a-123">Downloading and installing .NET Framework 4.8</span></span>

<span data-ttu-id="04d3a-124">Puede descargar .NET Framework 4.8 de las ubicaciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-124">You can download .NET Framework 4.8  from the following locations:</span></span>

- [<span data-ttu-id="04d3a-125">Instalador web de .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="04d3a-125">.NET Framework 4.8 Web Installer</span></span>](https://go.microsoft.com/fwlink/?LinkId=2085155)

- [<span data-ttu-id="04d3a-126">Instalador sin conexión de .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="04d3a-126">NET Framework 4.8 Offline Installer</span></span>](https://go.microsoft.com/fwlink/?linkid=2088631)

<span data-ttu-id="04d3a-127">.NET Framework 4.8 se puede instalar en Windows 10, Windows 8.1, Windows 7 SP1 y las plataformas de servidor correspondientes a partir de Windows Server 2008 R2 SP1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-127">.NET Framework 4.8 can be installed on Windows 10, Windows 8.1, Windows 7 SP1, and the corresponding server platforms starting with Windows Server 2008 R2 SP1.</span></span> <span data-ttu-id="04d3a-128">Puede instalar .NET Framework 4.8 mediante el instalador web o el instalador sin conexión.</span><span class="sxs-lookup"><span data-stu-id="04d3a-128">You can install .NET Framework 4.8 by using either the web installer or the offline installer.</span></span> <span data-ttu-id="04d3a-129">La manera recomendada para la mayoría de los usuarios es usar el programa de instalación web.</span><span class="sxs-lookup"><span data-stu-id="04d3a-129">The recommended way for most users is to use the web installer.</span></span>

<span data-ttu-id="04d3a-130">Puede usar como destino .NET Framework 4.8 en Visual Studio 2012 o una versión posterior mediante la instalación del [Paquete de desarrollador de .NET Framework 4.8](https://go.microsoft.com/fwlink/?LinkId=2085167).</span><span class="sxs-lookup"><span data-stu-id="04d3a-130">You can target .NET Framework 4.8 in Visual Studio 2012 or later by installing the [.NET Framework 4.8 Developer Pack](https://go.microsoft.com/fwlink/?LinkId=2085167).</span></span>

### <a name="whats-new-in-net-framework-48"></a><span data-ttu-id="04d3a-131">Novedades de .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="04d3a-131">What's new in .NET Framework 4.8</span></span>

<span data-ttu-id="04d3a-132">.NET Framework 4.8 incluye características nuevas en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-132">.NET Framework 4.8 introduces new features in the following areas:</span></span>

- [<span data-ttu-id="04d3a-133">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-133">Base classes</span></span>](#core48)
- [<span data-ttu-id="04d3a-134">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-134">Windows Communication Foundation (WCF)</span></span>](#wcf48)
- [<span data-ttu-id="04d3a-135">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-135">Windows Presentation Foundation (WPF)</span></span>](#wpf48)
- [<span data-ttu-id="04d3a-136">Common Language Runtime</span><span class="sxs-lookup"><span data-stu-id="04d3a-136">Common language runtime</span></span>](#clr48)

<span data-ttu-id="04d3a-137">La accesibilidad mejorada, que permite que una aplicación proporcione una experiencia adecuada para los usuarios de tecnología de asistencia, sigue siendo uno de los principales aspectos en los que se centra .NET Framework 4.8.</span><span class="sxs-lookup"><span data-stu-id="04d3a-137">Improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology, continues to be a major focus of .NET Framework 4.8.</span></span> <span data-ttu-id="04d3a-138">Para información sobre las mejoras de accesibilidad en .NET Framework 4.8, consulte [Novedades de accesibilidad en .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-138">For information on accessibility improvements in .NET Framework 4.8, see [What's new in accessibility in the .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core48" />

#### <a name="base-classes"></a><span data-ttu-id="04d3a-139">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-139">Base classes</span></span>

<span data-ttu-id="04d3a-140">**Impacto de FIPS reducido sobre la criptografía**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-140">**Reduced FIPS impact on Cryptography**.</span></span> <span data-ttu-id="04d3a-141">En versiones anteriores de .NET Framework, las clases del proveedor de servicios criptográficos administrados, como <xref:System.Security.Cryptography.SHA256Managed>, producen una excepción <xref:System.Security.Cryptography.CryptographicException> cuando las bibliotecas criptográficas del sistema están configuradas en "modo FIPS".</span><span class="sxs-lookup"><span data-stu-id="04d3a-141">In previous versions of the .NET Framework, managed cryptographic provider classes such as <xref:System.Security.Cryptography.SHA256Managed> throw a <xref:System.Security.Cryptography.CryptographicException> when the system cryptographic libraries are configured in “FIPS mode”.</span></span> <span data-ttu-id="04d3a-142">Estas excepciones se producen porque las versiones administradas de las clases de proveedor de servicios criptográficos, a diferencia de las bibliotecas criptográficas, no han pasado por la certificación 140-2 de FIPS (Estándar federal de procesamiento de información).</span><span class="sxs-lookup"><span data-stu-id="04d3a-142">These exceptions are thrown because the managed versions of the cryptographic provider classes, unlike the system cryptographic libraries, have not undergone FIPS (Federal Information Processing Standards) 140-2 certification.</span></span> <span data-ttu-id="04d3a-143">Dado que pocos desarrolladores tienen sus máquinas de desarrollo en modo FIPS, las excepciones se producen normalmente en los sistemas de producción.</span><span class="sxs-lookup"><span data-stu-id="04d3a-143">Because few developers have their development machines in FIPS mode, the exceptions are commonly thrown in production systems.</span></span>

<span data-ttu-id="04d3a-144">De forma predeterminada en las aplicaciones que tienen como destino .NET Framework 4.8, las siguientes clases de criptografía administrada ya no producen una excepción <xref:System.Security.Cryptography.CryptographicException> en este caso:</span><span class="sxs-lookup"><span data-stu-id="04d3a-144">By default in applications that target .NET Framework 4.8, the following managed cryptography classes no longer throw a <xref:System.Security.Cryptography.CryptographicException> in this case:</span></span>

- <xref:System.Security.Cryptography.MD5Cng>
- <xref:System.Security.Cryptography.MD5CryptoServiceProvider>
- <xref:System.Security.Cryptography.RC2CryptoServiceProvider>
- <xref:System.Security.Cryptography.RijndaelManaged>
- <xref:System.Security.Cryptography.RIPEMD160Managed>
- <xref:System.Security.Cryptography.SHA256Managed>

<span data-ttu-id="04d3a-145">En su lugar, estas clases redirigen las operaciones criptográficas a una biblioteca de criptografía del sistema.</span><span class="sxs-lookup"><span data-stu-id="04d3a-145">Instead, these classes redirect cryptographic operations to a system cryptography library.</span></span> <span data-ttu-id="04d3a-146">Este cambio elimina eficazmente una diferencia potencialmente confusa entre los entornos de desarrollo y los entornos de producción y permite que componentes nativos y componentes administrados funcionen bajo la misma directiva criptográfica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-146">This change effectively removes a potentially confusing difference between developer environments and production environments and makes native components and managed components operate under the same cryptographic policy.</span></span> <span data-ttu-id="04d3a-147">Las aplicaciones que dependen de estas excepciones pueden restaurar el comportamiento anterior mediante el establecimiento del modificador de AppContext `Switch.System.Security.Cryptography.UseLegacyFipsThrow` en `true`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-147">Applications that depend on these exceptions can restore the previous behavior by setting the AppContext switch `Switch.System.Security.Cryptography.UseLegacyFipsThrow` to `true`.</span></span> <span data-ttu-id="04d3a-148">Para más información, consulte [Applications that depend on these exceptions can restore the previous behavior by setting the AppContext switch](../migration-guide/retargeting/4.7.2-4.8.md#managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode) (Las aplicaciones que dependen de estas excepciones pueden restaurar el comportamiento anterior mediante el establecimiento del modificador AppContext).</span><span class="sxs-lookup"><span data-stu-id="04d3a-148">For more information, see [Managed cryptography classes do not throw a CryptographyException in FIPS mode](../migration-guide/retargeting/4.7.2-4.8.md#managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode).</span></span>

<span data-ttu-id="04d3a-149">**Uso de la versión actualizada de ZLib**</span><span class="sxs-lookup"><span data-stu-id="04d3a-149">**Use of updated version of ZLib**</span></span>

<span data-ttu-id="04d3a-150">A partir de .NET Framework 4.5, el ensamblado clrcompression.dll usa [ZLib](https://www.zlib.net), una biblioteca externa nativa para la compresión de datos, con el fin de proporcionar una implementación del algoritmo deflate.</span><span class="sxs-lookup"><span data-stu-id="04d3a-150">Starting with .NET Framework 4.5, the clrcompression.dll assembly uses [ZLib](https://www.zlib.net), a native external library for data compression, in order to provide an implementation for the deflate algorithm.</span></span> <span data-ttu-id="04d3a-151">En .NET Framework 4.8, clrcompression.dll se actualiza a ZLib, versión 1.2.11, que incluye varias mejoras y correcciones importantes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-151">The .NET Framework 4.8, clrcompression.dll is updated to use ZLib Version 1.2.11, which includes several key improvements and fixes.</span></span>

<a name="wcf48" />

#### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="04d3a-152">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-152">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="04d3a-153">**Introducción de ServiceHealthBehavior**</span><span class="sxs-lookup"><span data-stu-id="04d3a-153">**Introduction of ServiceHealthBehavior**</span></span>

<span data-ttu-id="04d3a-154">Los puntos de conexión de mantenimiento se usan ampliamente en las herramientas de orquestación para administrar servicios en función de su estado de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-154">Health endpoints are widely used by orchestration tools to manage services based on their health status.</span></span> <span data-ttu-id="04d3a-155">Las comprobaciones de mantenimiento también se pueden usar en las herramientas de supervisión para realizar el seguimiento de la disponibilidad y rendimiento de un servicio y proporcionar notificaciones al respecto.</span><span class="sxs-lookup"><span data-stu-id="04d3a-155">Health checks can also be used by monitoring tools to track and provide notifications about the availability and performance of a service.</span></span>

<span data-ttu-id="04d3a-156">**ServiceHealthBehavior** es un comportamiento del servicio WCF que amplía <xref:System.ServiceModel.Description.IServiceBehavior>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-156">**ServiceHealthBehavior** is a WCF service behavior that extends <xref:System.ServiceModel.Description.IServiceBehavior>.</span></span>  <span data-ttu-id="04d3a-157">Cuando se agrega a la colección <xref:System.ServiceModel.Description.ServiceDescription.Behaviors?displayProperty=nameWithType>, un comportamiento de servicio hace lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-157">When added to the <xref:System.ServiceModel.Description.ServiceDescription.Behaviors?displayProperty=nameWithType> collection, a service behavior does the following:</span></span>

- <span data-ttu-id="04d3a-158">Devuelve el estado de mantenimiento del servicio con códigos de respuesta HTTP.</span><span class="sxs-lookup"><span data-stu-id="04d3a-158">Returns service health status with HTTP response codes.</span></span> <span data-ttu-id="04d3a-159">Puede especificar en una cadena de consulta el código de estado HTTP para una solicitud de sondeo de estado HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-159">You can specify in a query string the HTTP status code for a HTTP/GET health probe request.</span></span>

- <span data-ttu-id="04d3a-160">Publica información sobre el mantenimiento del servicio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-160">Publishes information about service health.</span></span> <span data-ttu-id="04d3a-161">Se pueden mostrar detalles específicos del servicio, como estado del servicio, recuentos de aceleración y capacidad mediante una solicitud HTTP/GET con la cadena de consulta `?health`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-161">Service-specific details, including service state, throttle counts, and capacity can be displayed by using an HTTP/GET request with the `?health` query string.</span></span> <span data-ttu-id="04d3a-162">La facilidad de acceso a dicha información es importante para solucionar los problemas de errores de comportamiento de un servicio WCF.</span><span class="sxs-lookup"><span data-stu-id="04d3a-162">Ease of access to such information is important when troubleshooting a misbehaving WCF service.</span></span>

<span data-ttu-id="04d3a-163">Hay dos maneras de exponer el punto de conexión de mantenimiento y publicar información de mantenimiento del servicio WCF:</span><span class="sxs-lookup"><span data-stu-id="04d3a-163">There are two ways to expose the health endpoint and publish WCF service health information:</span></span>

- <span data-ttu-id="04d3a-164">Mediante el código</span><span class="sxs-lookup"><span data-stu-id="04d3a-164">Through code.</span></span> <span data-ttu-id="04d3a-165">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-165">For example:</span></span>

  ```csharp
  ServiceHost host = new ServiceHost(typeof(Service1),
                     new Uri("http://contoso:81/Service1"));
  ServiceHealthBehavior healthBehavior =
      host.Description.Behaviors.Find<ServiceHealthBehavior>();
  healthBehavior ??= new ServiceHealthBehavior();
  host.Description.Behaviors.Add(healthBehavior);
  ```

  ```vb
  Dim host As New ServiceHost(GetType(Service1),
              New Uri("http://contoso:81/Service1"))
  Dim healthBehavior As ServiceHealthBehavior =
     host.Description.Behaviors.Find(Of ServiceHealthBehavior)()
  If healthBehavior Is Nothing Then
     healthBehavior = New ServiceHealthBehavior()
  End If
  host.Description.Behaviors.Add(healthBehavior)
  ```

- <span data-ttu-id="04d3a-166">Por medio de un archivo de configuración</span><span class="sxs-lookup"><span data-stu-id="04d3a-166">By using a configuration file.</span></span> <span data-ttu-id="04d3a-167">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-167">For example:</span></span>

  ```xml
  <behaviors>
    <serviceBehaviors>
      <behavior name="DefaultBehavior">
        <serviceHealth httpsGetEnabled="true"/>
      </behavior>
    </serviceBehaviors>
  </behaviors>
  ```

<span data-ttu-id="04d3a-168">Se puede consultar el estado de mantenimiento de un servicio mediante parámetros de consulta, como `OnServiceFailure`, `OnDispatcherFailure`, `OnListenerFailure`, `OnThrottlePercentExceeded`), y se puede especificar un código de respuesta HTTP para cada parámetro de consulta.</span><span class="sxs-lookup"><span data-stu-id="04d3a-168">A service's health status can be queried by using query parameters such as `OnServiceFailure`, `OnDispatcherFailure`, `OnListenerFailure`, `OnThrottlePercentExceeded`), and an HTTP response code can be specified for each query parameter.</span></span> <span data-ttu-id="04d3a-169">Si se omite el código de respuesta HTTP para un parámetro de consulta, se usa de forma predeterminada un código de respuesta HTTP 503.</span><span class="sxs-lookup"><span data-stu-id="04d3a-169">If the HTTP response code is omitted for a query parameter, a 503 HTTP response code is used by default.</span></span> <span data-ttu-id="04d3a-170">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-170">For example:</span></span>

- <span data-ttu-id="04d3a-171">OnServiceFailure: `https://contoso:81/Service1?health&OnServiceFailure=450`</span><span class="sxs-lookup"><span data-stu-id="04d3a-171">OnServiceFailure: `https://contoso:81/Service1?health&OnServiceFailure=450`</span></span>

  <span data-ttu-id="04d3a-172">Se devuelve un código de estado de respuesta HTTP 450 cuando [ServiceHost.State](xref:System.ServiceModel.Channels.CommunicationObject.State) es mayor que <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-172">A 450 HTTP response status code is returned when [ServiceHost.State](xref:System.ServiceModel.Channels.CommunicationObject.State) is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>
<span data-ttu-id="04d3a-173">Parámetros de consulta y ejemplos:</span><span class="sxs-lookup"><span data-stu-id="04d3a-173">Query parameters and examples:</span></span>

- <span data-ttu-id="04d3a-174">OnDispatcherFailure: `https://contoso:81/Service1?health&OnDispatcherFailure=455`</span><span class="sxs-lookup"><span data-stu-id="04d3a-174">OnDispatcherFailure: `https://contoso:81/Service1?health&OnDispatcherFailure=455`</span></span>

  <span data-ttu-id="04d3a-175">se devuelve un código de estado de respuesta HTTP 455 cuando el estado de cualquier distribuidor de canal es mayor que <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-175">A 455 HTTP response status code is returned when the state of any of the channel dispatchers is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="04d3a-176">OnListenerFailure: `https://contoso:81/Service1?health&OnListenerFailure=465`</span><span class="sxs-lookup"><span data-stu-id="04d3a-176">OnListenerFailure: `https://contoso:81/Service1?health&OnListenerFailure=465`</span></span>

  <span data-ttu-id="04d3a-177">se devuelve un código de estado de respuesta HTTP 465 cuando el estado de cualquiera de las escuchas de canales es mayor que <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-177">A 465 HTTP response status code is returned when the state of any of the channel listeners is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="04d3a-178">OnThrottlePercentExceeded: `https://contoso:81/Service1?health&OnThrottlePercentExceeded= 70:350,95:500`</span><span class="sxs-lookup"><span data-stu-id="04d3a-178">OnThrottlePercentExceeded: `https://contoso:81/Service1?health&OnThrottlePercentExceeded= 70:350,95:500`</span></span>

  <span data-ttu-id="04d3a-179">especifica el porcentaje {1 a 100} que desencadena la respuesta y su código de respuesta HTTP {200 a 599}.</span><span class="sxs-lookup"><span data-stu-id="04d3a-179">Specifies the percentage {1 – 100} that triggers the response and its HTTP response code {200 – 599}.</span></span> <span data-ttu-id="04d3a-180">En este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-180">In this example:</span></span>

  - <span data-ttu-id="04d3a-181">Si el porcentaje es mayor que 95, se devuelve un código de respuesta HTTP 500.</span><span class="sxs-lookup"><span data-stu-id="04d3a-181">If the percentage is greater than 95, a 500 HTTP response code is returned.</span></span>

  - <span data-ttu-id="04d3a-182">Si el porcentaje está entre 70 y 95, se devuelve 350.</span><span class="sxs-lookup"><span data-stu-id="04d3a-182">If the percentage or between 70 and 95, 350 is returned.</span></span>

  - <span data-ttu-id="04d3a-183">En caso contrario, se devuelve 200.</span><span class="sxs-lookup"><span data-stu-id="04d3a-183">Otherwise, 200 is returned.</span></span>

<span data-ttu-id="04d3a-184">El estado de mantenimiento del servicio se puede mostrar en HTML mediante la especificación de una cadena de consulta como `https://contoso:81/Service1?health` o en XML mediante la especificación de una cadena de consulta como `https://contoso:81/Service1?health&Xml`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-184">The service health status can be displayed either in HTML by specifying a query string like `https://contoso:81/Service1?health` or in XML by specifying a query string like `https://contoso:81/Service1?health&Xml`.</span></span> <span data-ttu-id="04d3a-185">Una cadena de consulta como `https://contoso:81/Service1?health&NoContent` devuelve una página HTML vacía.</span><span class="sxs-lookup"><span data-stu-id="04d3a-185">A query string like `https://contoso:81/Service1?health&NoContent` returns an empty HTML page.</span></span>

<a name="wpf48" />

#### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="04d3a-186">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-186">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="04d3a-187">**Altas mejoras de PPP**</span><span class="sxs-lookup"><span data-stu-id="04d3a-187">**High DPI enhancements**</span></span>

<span data-ttu-id="04d3a-188">En .NET Framework 4.8, WPF proporciona compatibilidad con el reconocimiento de PPP por Monitor V2 y escala de PPP en modo mixto.</span><span class="sxs-lookup"><span data-stu-id="04d3a-188">In .NET Framework 4.8, WPF adds support for Per-Monitor V2 DPI Awareness and Mixed-Mode DPI scaling.</span></span> <span data-ttu-id="04d3a-189">Consulte [High DPI Desktop Application Development on Windows](/windows/win32/hidpi/high-dpi-desktop-application-development-on-windows) (Desarrollo de aplicaciones de escritorio de alto PPP en Windows).</span><span class="sxs-lookup"><span data-stu-id="04d3a-189">See [High DPI Desktop Application Development on Windows](/windows/win32/hidpi/high-dpi-desktop-application-development-on-windows) for additional information about high DPI development.</span></span>

<span data-ttu-id="04d3a-190">.NET Framework 4.8 mejora la compatibilidad con la interoperación de HWND hospedado y Windows Forms en aplicaciones WPF de alto PPP en plataformas que admiten la escalabilidad de PPP en modo mixto (a partir de la actualización de abril de 2018 de Windows 10).</span><span class="sxs-lookup"><span data-stu-id="04d3a-190">.NET Framework 4.8 improves support for hosted HWNDs and Windows Forms interoperation in High-DPI WPF applications on platforms that support Mixed-Mode DPI scaling (starting with Windows 10 April 2018 Update).</span></span> <span data-ttu-id="04d3a-191">Cuando se crean HWND hospedados o controles de Windows Forms como ventanas con escala PPP en modo mixto mediante la llamada a [SetThreadDpiHostingBehavior](/windows/desktop/api/winuser/nf-winuser-setthreaddpihostingbehavior) y [SetThreadDpiAwarenessContext](/windows/desktop/api/winuser/nf-winuser-setthreaddpiawarenesscontext), se pueden hospedar en una aplicación WPF por Monitor V2 y ajustar su tamaño y escalarse correctamente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-191">When hosted HWNDs or Windows Forms controls are created as Mixed-Mode DPI-scaled windows by calling [SetThreadDpiHostingBehavior](/windows/desktop/api/winuser/nf-winuser-setthreaddpihostingbehavior) and [SetThreadDpiAwarenessContext](/windows/desktop/api/winuser/nf-winuser-setthreaddpiawarenesscontext), they can be hosted in a Per-Monitor V2 WPF application and are sized and scaled appropriately.</span></span> <span data-ttu-id="04d3a-192">Este contenido hospedado no se representa en el valor de PPP nativo, sino que el sistema operativo escala el contenido hospedado al tamaño adecuado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-192">Such hosted content is not rendered at the native DPI; instead, the operating system scales the hosted content to the appropriate size.</span></span> <span data-ttu-id="04d3a-193">La compatibilidad con el modo de reconocimiento de PPP por Monitor v2 también permite hospedar los controles de WPF (es decir, convertir en elementos primarios) en una ventana nativa de una aplicación de alto PPP.</span><span class="sxs-lookup"><span data-stu-id="04d3a-193">The support for Per-Monitor v2 DPI awareness mode also allows WPF controls to be hosted (i.e., parented) in a native window in a high-DPI application.</span></span>

<span data-ttu-id="04d3a-194">Para permitir la compatibilidad con la escalabilidad de alto PPP en modo mixto, puede establecer los siguientes modificadores [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) en el archivo de configuración de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="04d3a-194">To enable support for Mixed-Mode High DPI scaling, you can set the following [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) switches the application configuration file:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value = "Switch.System.Windows.DoNotScaleForDpiChanges=false; Switch.System.Windows.DoNotUsePresentationDpiCapabilityTier2OrGreater=false"/>
</runtime>
```

<a name="clr48" />

#### <a name="common-language-runtime"></a><span data-ttu-id="04d3a-195">Common Language Runtime</span><span class="sxs-lookup"><span data-stu-id="04d3a-195">Common language runtime</span></span>

<span data-ttu-id="04d3a-196">El entorno de ejecución de .NET Framework 4.8 incluye los siguientes cambios y mejoras:</span><span class="sxs-lookup"><span data-stu-id="04d3a-196">The runtime in .NET Framework 4.8 includes the following changes and improvements:</span></span>

<span data-ttu-id="04d3a-197">**Mejoras en el compilador JIT**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-197">**Improvements to the JIT compiler**.</span></span> <span data-ttu-id="04d3a-198">El compilador Just-in-time (JIT) de .NET Framework 4.8 se basa en el compilador JIT de .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-198">The Just-in-time (JIT) compiler in .NET Framework 4.8 is based on the JIT compiler in .NET Core 2.1.</span></span> <span data-ttu-id="04d3a-199">Muchas de las optimizaciones y todas las correcciones de errores realizadas en el compilador JIT de .NET Core 2.1 se incluyen en el compilador JIT de .NET Framework 4.8.</span><span class="sxs-lookup"><span data-stu-id="04d3a-199">Many of the optimizations and all of the bug fixes made to the .NET Core 2.1 JIT compiler are included in the .NET Framework 4.8 JIT compiler.</span></span>

<span data-ttu-id="04d3a-200">**Mejoras de NGEN**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-200">**NGEN improvements**.</span></span> <span data-ttu-id="04d3a-201">El entorno de ejecución ha mejorado la administración de memoria para las imágenes del [Generador de imágenes nativo](../tools/ngen-exe-native-image-generator.md) (NGEN) de forma que los datos asignados a partir de imágenes NGEN no son residentes en memoria.</span><span class="sxs-lookup"><span data-stu-id="04d3a-201">The runtime has improved its memory management for [Native Image Generator](../tools/ngen-exe-native-image-generator.md) (NGEN) images so that data mapped from NGEN images are not memory-resident.</span></span> <span data-ttu-id="04d3a-202">Esto reduce la superficie expuesta a ataques que intentan ejecutar código arbitrario mediante la modificación de la memoria que se va a ejecutar.</span><span class="sxs-lookup"><span data-stu-id="04d3a-202">This reduces the surface area available to attacks that attempt to execute arbitrary code by modifying memory that will be executed.</span></span>

<span data-ttu-id="04d3a-203">**Examen de todos los ensamblados con antimalware**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-203">**Antimalware scanning for all assemblies**.</span></span> <span data-ttu-id="04d3a-204">En versiones anteriores de .NET Framework, el entorno de ejecución examina todos los ensamblados cargados desde el disco mediante Windows Defender o software antimalware de terceros.</span><span class="sxs-lookup"><span data-stu-id="04d3a-204">In previous versions of the .NET Framework, the runtime scans all assemblies loaded from disk using either Windows Defender or third-party antimalware software.</span></span> <span data-ttu-id="04d3a-205">Sin embargo, los ensamblados cargados desde otros orígenes, como con el método <xref:System.Reflection.Assembly.Load(System.Byte[])?displayProperty=nameWithType>, no se examinan y pueden contener posiblemente software malintencionado no detectado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-205">However, assemblies loaded from other sources, such as by the <xref:System.Reflection.Assembly.Load(System.Byte[])?displayProperty=nameWithType> method, are not scanned and can potentially contain undetected malware.</span></span> <span data-ttu-id="04d3a-206">A partir de .NET Framework 4.8 que se ejecuta en Windows 10, el entorno de ejecución desencadena un examen mediante soluciones antimalware que implementan la [Interfaz de detección de antimalware (AMSI)](/windows/desktop/AMSI/antimalware-scan-interface-portal).</span><span class="sxs-lookup"><span data-stu-id="04d3a-206">Starting with .NET Framework 4.8 running on Windows 10, the runtime triggers a scan by antimalware solutions that implement the [Antimalware Scan Interface (AMSI)](/windows/desktop/AMSI/antimalware-scan-interface-portal).</span></span>

<a name="v472" />

## <a name="whats-new-in-net-framework-472"></a><span data-ttu-id="04d3a-207">Novedades de .NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="04d3a-207">What's new in .NET Framework 4.7.2</span></span>

<span data-ttu-id="04d3a-208">.NET Framework 4.7.2 incluye características nuevas en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-208">.NET Framework 4.7.2 includes new features in the following areas:</span></span>

- [<span data-ttu-id="04d3a-209">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-209">Base classes</span></span>](#core-472)
- [<span data-ttu-id="04d3a-210">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-210">ASP.NET</span></span>](#asp-net472)
- [<span data-ttu-id="04d3a-211">Redes</span><span class="sxs-lookup"><span data-stu-id="04d3a-211">Networking</span></span>](#net472)
- [<span data-ttu-id="04d3a-212">SQL</span><span class="sxs-lookup"><span data-stu-id="04d3a-212">SQL</span></span>](#sql472)
- [<span data-ttu-id="04d3a-213">WPF</span><span class="sxs-lookup"><span data-stu-id="04d3a-213">WPF</span></span>](#wpf472)
- [<span data-ttu-id="04d3a-214">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="04d3a-214">ClickOnce</span></span>](#clickonce)

<span data-ttu-id="04d3a-215">Uno de los aspectos en los que se centra .NET Framework 4.7.2 continuamente es la mejora de la accesibilidad, que permite que una aplicación proporcione una experiencia adecuada para los usuarios de tecnología de asistencia.</span><span class="sxs-lookup"><span data-stu-id="04d3a-215">A continuing focus in .NET Framework 4.7.2 is improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology.</span></span> <span data-ttu-id="04d3a-216">Para información sobre las mejoras de accesibilidad en .NET Framework 4.7.2, consulte [Novedades de accesibilidad en .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-216">For information on accessibility improvements in .NET Framework 4.7.2, see [What's new in accessibility in the .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core-472" />

#### <a name="base-classes"></a><span data-ttu-id="04d3a-217">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-217">Base classes</span></span>

<span data-ttu-id="04d3a-218">.NET Framework 4.7.2 presenta un gran número de mejoras criptográficas, mayor compatibilidad con descompresión de archivos ZIP y API de colección adicionales.</span><span class="sxs-lookup"><span data-stu-id="04d3a-218">.NET Framework 4.7.2 features a large number of cryptographic enhancements, better decompression support for ZIP archives, and additional collection APIs.</span></span>

<span data-ttu-id="04d3a-219">**Nuevas sobrecargas de RSA.Create y DSA.Create**</span><span class="sxs-lookup"><span data-stu-id="04d3a-219">**New overloads of RSA.Create and DSA.Create**</span></span>

<span data-ttu-id="04d3a-220">Los métodos <xref:System.Security.Cryptography.DSA.Create(System.Security.Cryptography.DSAParameters)?displayProperty=nameWithType> y <xref:System.Security.Cryptography.RSA.Create(System.Security.Cryptography.RSAParameters)?displayProperty=nameWithType> permiten especificar parámetros de clave cuando se crea una instancia de una clave <xref:System.Security.Cryptography.DSA> o <xref:System.Security.Cryptography.RSA>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-220">The <xref:System.Security.Cryptography.DSA.Create(System.Security.Cryptography.DSAParameters)?displayProperty=nameWithType> and <xref:System.Security.Cryptography.RSA.Create(System.Security.Cryptography.RSAParameters)?displayProperty=nameWithType> methods let you supply key parameters when instantiating a new <xref:System.Security.Cryptography.DSA> or <xref:System.Security.Cryptography.RSA> key.</span></span> <span data-ttu-id="04d3a-221">Permiten reemplazar código similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-221">They allow you to replace code like the following:</span></span>

```csharp
// Before .NET Framework 4.7.2
using (RSA rsa = RSA.Create())
{
   rsa.ImportParameters(rsaParameters);
   // Other code to execute using the RSA instance.
}
```

```vb
' Before .NET Framework 4.7.2
Using rsa = RSA.Create()
   rsa.ImportParameters(rsaParameters)
   ' Other code to execute using the rsa instance.
End Using
```

<span data-ttu-id="04d3a-222">con código como este:</span><span class="sxs-lookup"><span data-stu-id="04d3a-222">with code like this:</span></span>

```csharp
// Starting with .NET Framework 4.7.2
using (RSA rsa = RSA.Create(rsaParameters))
{
   // Other code to execute using the rsa instance.
}
```

```vb
' Starting with .NET Framework 4.7.2
Using rsa = RSA.Create(rsaParameters)
   ' Other code to execute using the rsa instance.
End Using
```

<span data-ttu-id="04d3a-223">Los métodos <xref:System.Security.Cryptography.DSA.Create(System.Int32)?displayProperty=nameWithType> y <xref:System.Security.Cryptography.RSA.Create(System.Int32)?displayProperty=nameWithType> permiten generar claves <xref:System.Security.Cryptography.DSA> o <xref:System.Security.Cryptography.RSA> nuevas con un tamaño de clave específico.</span><span class="sxs-lookup"><span data-stu-id="04d3a-223">The <xref:System.Security.Cryptography.DSA.Create(System.Int32)?displayProperty=nameWithType> and <xref:System.Security.Cryptography.RSA.Create(System.Int32)?displayProperty=nameWithType> methods let you generate new <xref:System.Security.Cryptography.DSA> or <xref:System.Security.Cryptography.RSA> keys with a specific key size.</span></span> <span data-ttu-id="04d3a-224">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-224">For example:</span></span>

```csharp
using (DSA dsa = DSA.Create(2048))
{
   // Other code to execute using the dsa instance.
}
```

```vb
Using dsa = DSA.Create(2048)
   ' Other code to execute using the dsa instance.
End Using
```

<span data-ttu-id="04d3a-225">**Los constructores de Rfc2898DeriveBytes aceptan un nombre de algoritmo hash**</span><span class="sxs-lookup"><span data-stu-id="04d3a-225">**Rfc2898DeriveBytes constructors accept a hash algorithm name**</span></span>

<span data-ttu-id="04d3a-226">La clase <xref:System.Security.Cryptography.Rfc2898DeriveBytes> tiene tres constructores nuevos con un parámetro <xref:System.Security.Cryptography.HashAlgorithmName> que identifica el algoritmo HMAC que se va a usar en la derivación de las claves.</span><span class="sxs-lookup"><span data-stu-id="04d3a-226">The <xref:System.Security.Cryptography.Rfc2898DeriveBytes> class has three new constructors with a <xref:System.Security.Cryptography.HashAlgorithmName> parameter that identifies the HMAC algorithm to use when deriving keys.</span></span> <span data-ttu-id="04d3a-227">En lugar de usar SHA-1, los programadores deben usar un algoritmo HMAC basado en SHA-2 como SHA-256, como se muestra en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-227">Instead of using SHA-1, developers should use a SHA-2-based HMAC like SHA-256, as shown in the following example:</span></span>

```csharp
private static byte[] DeriveKey(string password, out int iterations, out byte[] salt,
                                out HashAlgorithmName algorithm)
{
   iterations = 100000;
   algorithm = HashAlgorithmName.SHA256;

   const int SaltSize = 32;
   const int DerivedValueSize = 32;

   using (Rfc2898DeriveBytes pbkdf2 = new Rfc2898DeriveBytes(password, SaltSize,
                                                             iterations, algorithm))
   {
      salt = pbkdf2.Salt;
      return pbkdf2.GetBytes(DerivedValueSize);
   }
}
```

```vb
Private Shared Function DeriveKey(password As String, ByRef iterations As Integer,
                                  ByRef salt AS Byte(), ByRef algorithm As HashAlgorithmName) As Byte()
   iterations = 100000
   algorithm = HashAlgorithmName.SHA256

   Const SaltSize As Integer = 32
   Const  DerivedValueSize As Integer = 32

   Using pbkdf2 = New Rfc2898DeriveBytes(password, SaltSize, iterations, algorithm)
      salt = pbkdf2.Salt
      Return pbkdf2.GetBytes(DerivedValueSize)
   End Using
End Function
```

<span data-ttu-id="04d3a-228">**Compatibilidad con claves efímeras**</span><span class="sxs-lookup"><span data-stu-id="04d3a-228">**Support for ephemeral keys**</span></span>

<span data-ttu-id="04d3a-229">La importación de PFX puede cargar de manera opcional las claves privadas directamente desde la memoria, omitiendo la unidad de disco duro.</span><span class="sxs-lookup"><span data-stu-id="04d3a-229">PFX import can optionally load private keys directly from memory, bypassing the hard drive.</span></span><span data-ttu-id="04d3a-230"> Cuando se especifica la marca <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> nueva en un constructor de <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> o una de las sobrecargas del método <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.Import%2A?displayProperty=nameWithType>, las claves privadas se cargarán como claves efímeras.</span><span class="sxs-lookup"><span data-stu-id="04d3a-230"> When the new <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> flag is specified in an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> constructor or one of the overloads of the <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.Import%2A?displayProperty=nameWithType> method, the private keys will be loaded as ephemeral keys.</span></span> <span data-ttu-id="04d3a-231">Esto impide que las claves sean visibles en el disco.</span><span class="sxs-lookup"><span data-stu-id="04d3a-231">This prevents the keys from being visible on the disk.</span></span> <span data-ttu-id="04d3a-232">Pero:</span><span class="sxs-lookup"><span data-stu-id="04d3a-232">However:</span></span>

- <span data-ttu-id="04d3a-233">Como las claves no se conservan en el disco, los certificados que se cargan con esta marca no son buenos candidatos para agregar a un X509Store.</span><span class="sxs-lookup"><span data-stu-id="04d3a-233">Since the keys are not persisted to disk, certificates loaded with this flag are not good candidates to add to an X509Store.</span></span>

- <span data-ttu-id="04d3a-234">Las claves que se cargan de esta manera casi siempre se cargan a través de CNG de Windows.</span><span class="sxs-lookup"><span data-stu-id="04d3a-234">Keys loaded in this manner are almost always loaded via Windows CNG.</span></span> <span data-ttu-id="04d3a-235">Por tanto, los autores de la llamada deben tener acceso a la clave privada mediante la llamada a métodos de extensión, como [cert.GetRSAPrivateKey()](xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A).</span><span class="sxs-lookup"><span data-stu-id="04d3a-235">Therefore, callers must access the private key by calling extension methods, such as [cert.GetRSAPrivateKey()](xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A).</span></span> <span data-ttu-id="04d3a-236">La propiedad <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> no funciona.</span><span class="sxs-lookup"><span data-stu-id="04d3a-236">The <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> property does not function.</span></span>

- <span data-ttu-id="04d3a-237">Como la propiedad <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> heredada no funciona con los certificados, los desarrolladores deben realizar pruebas rigurosas antes de cambiar a las claves efímeras.</span><span class="sxs-lookup"><span data-stu-id="04d3a-237">Since the legacy <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> property does not work with certificates, developers should perform rigorous testing before switching to ephemeral keys.</span></span>

<span data-ttu-id="04d3a-238">**Creación mediante programación de solicitudes de firma de certificación de PKCS#10 y certificados de clave pública X.509**</span><span class="sxs-lookup"><span data-stu-id="04d3a-238">**Programmatic creation of PKCS#10 certification signing requests and X.509 public key certificates**</span></span>

<span data-ttu-id="04d3a-239">A partir de .NET Framework 4.7.2, las cargas de trabajo pueden generar solicitudes de firma de certificado (CSR), que permite que la generación de solicitudes de certificado se almacene provisionalmente en las herramientas existentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-239">Starting with .NET Framework 4.7.2, workloads can generate certificate signing requests (CSRs), which allows certificate request generation to be staged into existing tooling.</span></span> <span data-ttu-id="04d3a-240">Esto es útil en muchas ocasiones en escenarios de prueba.</span><span class="sxs-lookup"><span data-stu-id="04d3a-240">This is frequently useful in test scenarios.</span></span>

<span data-ttu-id="04d3a-241">Para obtener más información y ejemplos de código, vea "Programmatic creation of PKCS#10 certification signing requests and X.509 public key certificates" (Creación mediante programación de solicitudes de firma de certificación de PKCS#10 y certificados de clave pública X.509) en el [blog de .NET](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-241">For more information and code examples, see "Programmatic creation of PKCS#10 certification signing requests and X.509 public key certificates" in the [.NET Blog](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span></span>

<span data-ttu-id="04d3a-242">**Nuevos miembros SignerInfo**</span><span class="sxs-lookup"><span data-stu-id="04d3a-242">**New SignerInfo members**</span></span>

<span data-ttu-id="04d3a-243">A partir de .NET Framework 4.7.2, la clase <xref:System.Security.Cryptography.Pkcs.SignerInfo> expone más información sobre la firma.</span><span class="sxs-lookup"><span data-stu-id="04d3a-243">Starting with .NET Framework 4.7.2, the <xref:System.Security.Cryptography.Pkcs.SignerInfo> class exposes more information about the signature.</span></span> <span data-ttu-id="04d3a-244">Se puede recuperar el valor de la propiedad <xref:System.Security.Cryptography.Pkcs.SignerInfo.SignatureAlgorithm?displayProperty=fullName> para determinar el algoritmo de firma que usa el firmante.</span><span class="sxs-lookup"><span data-stu-id="04d3a-244">You can retrieve the value of the <xref:System.Security.Cryptography.Pkcs.SignerInfo.SignatureAlgorithm?displayProperty=fullName> property to determine the signature algorithm used by the signer.</span></span> <span data-ttu-id="04d3a-245">Se puede llamar a <xref:System.Security.Cryptography.Pkcs.SignerInfo.GetSignature%2A?displayProperty=nameWithType> para obtener una copia de la firma criptográfica para este firmante.</span><span class="sxs-lookup"><span data-stu-id="04d3a-245"><xref:System.Security.Cryptography.Pkcs.SignerInfo.GetSignature%2A?displayProperty=nameWithType> can be called to get a copy of the cryptographic signature for this signer.</span></span>

<span data-ttu-id="04d3a-246">**Mantener abierta una secuencia ajustada después de eliminar CryptoStream**</span><span class="sxs-lookup"><span data-stu-id="04d3a-246">**Leaving a wrapped stream open after CryptoStream is disposed**</span></span>

<span data-ttu-id="04d3a-247">A partir de .NET Framework 4.7.2, la clase <xref:System.Security.Cryptography.CryptoStream> tiene un constructor adicional que permite que <xref:System.Security.Cryptography.CryptoStream.Dispose%2A> no cierre la secuencia ajustada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-247">Starting with .NET Framework 4.7.2, the <xref:System.Security.Cryptography.CryptoStream> class has an additional constructor that allows <xref:System.Security.Cryptography.CryptoStream.Dispose%2A> to not close the wrapped stream.</span></span><span data-ttu-id="04d3a-248"> Para dejar abierta la secuencia ajustada después de eliminar la instancia de <xref:System.Security.Cryptography.CryptoStream>, llame al nuevo constructor de <xref:System.Security.Cryptography.CryptoStream> como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="04d3a-248"> To leave the wrapped stream open after the <xref:System.Security.Cryptography.CryptoStream> instance is disposed, call the new <xref:System.Security.Cryptography.CryptoStream> constructor as follows:</span></span>

```csharp
var cStream = new CryptoStream(stream, transform, mode, leaveOpen: true);
```

```vb
Dim cStream = New CryptoStream(stream, transform, mode, leaveOpen:=true)
```

<span data-ttu-id="04d3a-249">**Cambios de descompresión en DeflateStream**</span><span class="sxs-lookup"><span data-stu-id="04d3a-249">**Decompression changes in DeflateStream**</span></span>

<span data-ttu-id="04d3a-250">A partir de .NET Framework 4.7.2, la implementación de operaciones de descompresión en la clase <xref:System.IO.Compression.DeflateStream> ha cambiado para usar las API nativas de Windows de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-250">Starting with .NET Framework 4.7.2, the implementation of decompression operations in the <xref:System.IO.Compression.DeflateStream> class has changed to use native Windows APIs by default.</span></span> <span data-ttu-id="04d3a-251">Normalmente, esto da como resultado una mejora considerable del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-251">Typically, this results in a substantial performance improvement.</span></span>

<span data-ttu-id="04d3a-252">La compatibilidad para la descompresión mediante las API de Windows está habilitada de forma predeterminada para las aplicaciones que tienen como destino .NET Framework 4.7.2.</span><span class="sxs-lookup"><span data-stu-id="04d3a-252">Support for decompression by using Windows APIs is enabled by default for applications that target .NET Framework 4.7.2.</span></span> <span data-ttu-id="04d3a-253">Las aplicaciones que tienen como destino versiones anteriores de .NET Framework pero que se ejecutan en .NET Framework 4.7.2 pueden participar en este comportamiento mediante la adición del [modificador de AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) siguiente al archivo de configuración de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="04d3a-253">Applications that target earlier versions of .NET Framework but are running under .NET Framework 4.7.2 can opt into this behavior by adding the following [AppContext switch](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) to the application configuration file:</span></span>

```xml
<AppContextSwitchOverrides value="Switch.System.IO.Compression.DoNotUseNativeZipLibraryForDecompression=false" />
```

<span data-ttu-id="04d3a-254">**API de colección adicionales**</span><span class="sxs-lookup"><span data-stu-id="04d3a-254">**Additional collection APIs**</span></span>

<span data-ttu-id="04d3a-255">En .NET Framework 4.7.2 se agregan varias API nuevas a los tipos <xref:System.Collections.Generic.SortedSet%601> y <xref:System.Collections.Generic.HashSet%601>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-255">.NET Framework 4.7.2 adds a number of new APIs to the <xref:System.Collections.Generic.SortedSet%601> and <xref:System.Collections.Generic.HashSet%601> types.</span></span> <span data-ttu-id="04d3a-256">Se incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-256">These include:</span></span>

- <span data-ttu-id="04d3a-257">Los métodos `TryGetValue`, que amplían el patrón de try que se usa en otros tipos de colección a estos dos tipos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-257">`TryGetValue` methods, which extend the try pattern used in other collection types to these two types.</span></span> <span data-ttu-id="04d3a-258">Los métodos son:</span><span class="sxs-lookup"><span data-stu-id="04d3a-258">The methods are:</span></span>

  - [<span data-ttu-id="04d3a-259">public bool HashSet\<T>.TryGetValue(T equalValue, out T actualValue)</span><span class="sxs-lookup"><span data-stu-id="04d3a-259">public bool HashSet\<T>.TryGetValue(T equalValue, out T actualValue)</span></span>](xref:System.Collections.Generic.SortedSet%601.TryGetValue%2A)
  - [<span data-ttu-id="04d3a-260">public bool SortedSet\<T>.TryGetValue(T equalValue, out T actualValue)</span><span class="sxs-lookup"><span data-stu-id="04d3a-260">public bool SortedSet\<T>.TryGetValue(T equalValue, out T actualValue)</span></span>](xref:System.Collections.Generic.SortedSet%601.TryGetValue%2A)

- <span data-ttu-id="04d3a-261">Los métodos de extensión `Enumerable.To*`, que convierten una colección en un <xref:System.Collections.Generic.HashSet%601>:</span><span class="sxs-lookup"><span data-stu-id="04d3a-261">`Enumerable.To*` extension methods, which convert a collection to a <xref:System.Collections.Generic.HashSet%601>:</span></span>

  - [<span data-ttu-id="04d3a-262">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source)</span><span class="sxs-lookup"><span data-stu-id="04d3a-262">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source)</span></span>](xref:System.Linq.Enumerable.ToHashSet%2A)
  - [<span data-ttu-id="04d3a-263">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source, IEqualityComparer\<TSource> comparer)</span><span class="sxs-lookup"><span data-stu-id="04d3a-263">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source, IEqualityComparer\<TSource> comparer)</span></span>](xref:System.Linq.Enumerable.ToHashSet%2A)

- <span data-ttu-id="04d3a-264">Nuevos constructores de <xref:System.Collections.Generic.HashSet%601> que permiten establecer la capacidad de la colección, lo que da como resultado una mejora del rendimiento cuando se conoce el tamaño de <xref:System.Collections.Generic.HashSet%601> con antelación:</span><span class="sxs-lookup"><span data-stu-id="04d3a-264">New <xref:System.Collections.Generic.HashSet%601> constructors that let you set the collection's capacity, which yields a performance benefit when you know the size of the <xref:System.Collections.Generic.HashSet%601> in advance:</span></span>

  - <span data-ttu-id="04d3a-265">[public HashSet(int capacity)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32))</span><span class="sxs-lookup"><span data-stu-id="04d3a-265">[public HashSet(int capacity)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32))</span></span>
  - <span data-ttu-id="04d3a-266">[public HashSet(int capacity, IEqualityComparer\<T> comparer)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32,System.Collections.Generic.IEqualityComparer%7B%600%7D))</span><span class="sxs-lookup"><span data-stu-id="04d3a-266">[public HashSet(int capacity, IEqualityComparer\<T> comparer)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32,System.Collections.Generic.IEqualityComparer%7B%600%7D))</span></span>

<span data-ttu-id="04d3a-267">La clase <xref:System.Collections.Concurrent.ConcurrentDictionary%602> incluye sobrecargas nuevas de los métodos <xref:System.Collections.Concurrent.ConcurrentDictionary%602.AddOrUpdate%2A> y <xref:System.Collections.Concurrent.ConcurrentDictionary%602.GetOrAdd%2A> para recuperar un valor del diccionario o para agregarlo si no se encuentra, y para agregar un valor al diccionario o actualizarlo si ya existe.</span><span class="sxs-lookup"><span data-stu-id="04d3a-267">The <xref:System.Collections.Concurrent.ConcurrentDictionary%602> class includes new overloads of the <xref:System.Collections.Concurrent.ConcurrentDictionary%602.AddOrUpdate%2A> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602.GetOrAdd%2A> methods to retrieve a value from the dictionary or to add it if it is not found, and to add a value to the dictionary or to update it if it already exists.</span></span>

```csharp
public TValue AddOrUpdate<TArg>(TKey key, Func<TKey, TArg, TValue> addValueFactory, Func<TKey, TValue, TArg, TValue> updateValueFactory, TArg factoryArgument)

public TValue GetOrAdd<TArg>(TKey key, Func<TKey, TArg, TValue> valueFactory, TArg factoryArgument)
```

```vb
Public AddOrUpdate(Of TArg)(key As TKey, addValueFactory As Func(Of TKey, TArg, TValue), updateValueFactory As Func(Of TKey, TValue, TArg, TValue), factoryArgument As TArg) As TValue

Public GetOrAdd(Of TArg)(key As TKey, valueFactory As Func(Of TKey, TArg, TValue), factoryArgument As TArg) As TValue
```

<a name="asp-net472" />

#### <a name="aspnet"></a><span data-ttu-id="04d3a-268">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-268">ASP.NET</span></span>

<span data-ttu-id="04d3a-269">**Compatibilidad con la inserción de dependencias en formularios Web Forms**</span><span class="sxs-lookup"><span data-stu-id="04d3a-269">**Support for dependency injection in Web Forms**</span></span>

<span data-ttu-id="04d3a-270">La [inserción de dependencias (DI)](/aspnet/core/fundamentals/dependency-injection#overview-of-dependency-injection) desacopla los objetos y sus dependencias para que ya no sea necesario cambiar el código de un objeto solo porque haya cambiado una dependencia.</span><span class="sxs-lookup"><span data-stu-id="04d3a-270">[Dependency injection (DI)](/aspnet/core/fundamentals/dependency-injection#overview-of-dependency-injection) decouples objects and their dependencies so that an object's code no longer needs to be changed just because a dependency has changed.</span></span> <span data-ttu-id="04d3a-271">Al desarrollar aplicaciones de ASP.NET que tienen como destino .NET Framework 4.7.2, puede:</span><span class="sxs-lookup"><span data-stu-id="04d3a-271">When developing ASP.NET applications that target .NET Framework 4.7.2, you can:</span></span>

- <span data-ttu-id="04d3a-272">Usar la inserción basada en establecedores, interfaces y constructores en [controladores y módulos](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [instancias de Page](xref:System.Web.UI.Page) y [controles de usuario](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) de proyectos de aplicación web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-272">Use setter-based, interface-based, and constructor-based injection in [handlers and modules](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [Page instances](xref:System.Web.UI.Page), and [user controls](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) of ASP.NET web application projects.</span></span>

- <span data-ttu-id="04d3a-273">Usar la inserción basada en establecedores, e interfaces en [controladores y módulos](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [instancias de Page](xref:System.Web.UI.Page) y [controles de usuario](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) de proyectos de sitio web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-273">Use setter-based and interface-based injection in [handlers and modules](https://docs.microsoft.com/previous-versions/aspnet/bb398986(v=vs.100)), [Page instances](xref:System.Web.UI.Page), and [user controls](https://docs.microsoft.com/previous-versions/aspnet/y6wb1a0e(v=vs.100)) of ASP.NET web site projects.</span></span>

- <span data-ttu-id="04d3a-274">Conectar otros marcos de inserción de dependencias.</span><span class="sxs-lookup"><span data-stu-id="04d3a-274">Plug in different dependency injection frameworks.</span></span>

<span data-ttu-id="04d3a-275">**Compatibilidad con cookies de SameSite**</span><span class="sxs-lookup"><span data-stu-id="04d3a-275">**Support for same-site cookies**</span></span>

<span data-ttu-id="04d3a-276">[SameSite](https://tools.ietf.org/html/draft-west-first-party-cookies-07) impide que un explorador envíe una cookie junto con una solicitud entre sitios.</span><span class="sxs-lookup"><span data-stu-id="04d3a-276">[SameSite](https://tools.ietf.org/html/draft-west-first-party-cookies-07) prevents a browser from sending a cookie along with a cross-site request.</span></span> <span data-ttu-id="04d3a-277">.NET Framework 4.7.2 agrega una propiedad <xref:System.Web.HttpCookie.SameSite?displayProperty=nameWithType> cuyo valor es un miembro de la enumeración <xref:System.Web.SameSiteMode?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-277">.NET Framework 4.7.2 adds a <xref:System.Web.HttpCookie.SameSite?displayProperty=nameWithType> property whose value is a <xref:System.Web.SameSiteMode?displayProperty=nameWithType> enumeration member.</span></span> <span data-ttu-id="04d3a-278">Si su valor es <xref:System.Web.SameSiteMode.Strict?displayProperty=nameWithType> o <xref:System.Web.SameSiteMode.Lax?displayProperty=nameWithType>, ASP.NET agrega el atributo `SameSite` al encabezado set-cookie.</span><span class="sxs-lookup"><span data-stu-id="04d3a-278">If its value is <xref:System.Web.SameSiteMode.Strict?displayProperty=nameWithType> or <xref:System.Web.SameSiteMode.Lax?displayProperty=nameWithType>, ASP.NET adds the `SameSite` attribute to the set-cookie header.</span></span> <span data-ttu-id="04d3a-279">La compatibilidad con SameSite se aplica a los objetos <xref:System.Web.HttpCookie>, y también a las cookies <xref:System.Web.Security.FormsAuthentication> y <xref:System.Web.SessionState>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-279">SameSite support applies to <xref:System.Web.HttpCookie> objects, as well as to <xref:System.Web.Security.FormsAuthentication> and <xref:System.Web.SessionState> cookies.</span></span>

<span data-ttu-id="04d3a-280">Puede establecer SameSite para un objeto <xref:System.Web.HttpCookie> de esta forma:</span><span class="sxs-lookup"><span data-stu-id="04d3a-280">You can set SameSite for an <xref:System.Web.HttpCookie> object as follows:</span></span>

```csharp
var c = new HttpCookie("secureCookie", "same origin");
c.SameSite = SameSiteMode.Lax;
```

```vb
Dim c As New HttpCookie("secureCookie", "same origin")
c.SameSite = SameSiteMode.Lax
```

<span data-ttu-id="04d3a-281">También se pueden configurar cookies de SameSite en el nivel de aplicación si se modifica el archivo web.config:</span><span class="sxs-lookup"><span data-stu-id="04d3a-281">You can also configure SameSite cookies at the application level by modifying the web.config file:</span></span>

```xml
<system.web>
   <httpCookies sameSite="Strict" />
</system.web>
```

<span data-ttu-id="04d3a-282">Se puede agregar SameSite para las cookies <xref:System.Web.Security.FormsAuthentication> y <xref:System.Web.SessionState> si se modifica el archivo de configuración web:</span><span class="sxs-lookup"><span data-stu-id="04d3a-282">You can add SameSite for <xref:System.Web.Security.FormsAuthentication> and <xref:System.Web.SessionState> cookies by modifying the web config file:</span></span>

```xml
<system.web>
   <authentication mode="Forms">
      <forms cookieSameSite="Lax">
         <!-- ...   -->
      </forms>
   <authentication />
   <sessionState cookieSameSite="Lax"></sessionState>
</system.web>
```

<a name="net472" />

#### <a name="networking"></a><span data-ttu-id="04d3a-283">Redes</span><span class="sxs-lookup"><span data-stu-id="04d3a-283">Networking</span></span>

<span data-ttu-id="04d3a-284">**Implementación de propiedades de HttpClientHandler**</span><span class="sxs-lookup"><span data-stu-id="04d3a-284">**Implementation of HttpClientHandler properties**</span></span>

<span data-ttu-id="04d3a-285">En .NET Framework 4.7.1 se agregaron ocho propiedades a la clase <xref:System.Net.Http.HttpClientHandler?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-285">.NET Framework 4.7.1 added eight properties to the <xref:System.Net.Http.HttpClientHandler?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="04d3a-286">Pero dos de ellas iniciaban una excepción <xref:System.PlatformNotSupportedException>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-286">However, two threw a <xref:System.PlatformNotSupportedException>.</span></span> <span data-ttu-id="04d3a-287">En .NET Framework 4.7.2 ahora se proporciona una implementación para estas propiedades.</span><span class="sxs-lookup"><span data-stu-id="04d3a-287">.NET Framework 4.7.2 now provides an implementation for these properties.</span></span> <span data-ttu-id="04d3a-288">Las propiedades son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-288">The properties are:</span></span>

- <xref:System.Net.Http.HttpClientHandler.CheckCertificateRevocationList>
- <xref:System.Net.Http.HttpClientHandler.SslProtocols>

<a name="sql472" />

#### <a name="sqlclient"></a><span data-ttu-id="04d3a-289">SQLClient</span><span class="sxs-lookup"><span data-stu-id="04d3a-289">SQLClient</span></span>

<span data-ttu-id="04d3a-290">**Compatibilidad con la autenticación universal y Multi-Factor Authentication de Azure Active Directory**</span><span class="sxs-lookup"><span data-stu-id="04d3a-290">**Support for Azure Active Directory Universal Authentication and Multi-Factor authentication**</span></span>

<span data-ttu-id="04d3a-291">Las necesidades crecientes de seguridad y cumplimiento requieren que muchos clientes usen Multi-Factor Authentication (MFA).</span><span class="sxs-lookup"><span data-stu-id="04d3a-291">Growing compliance and security demands require that many customers use multi-factor authentication (MFA).</span></span> <span data-ttu-id="04d3a-292">Además, los procedimientos recomendados actuales desaconsejan incluir las contraseñas de usuario directamente en las cadenas de conexión.</span><span class="sxs-lookup"><span data-stu-id="04d3a-292">In addition, current best practices discourage including user passwords directly in connection strings.</span></span> <span data-ttu-id="04d3a-293">Para admitir estos cambios, en .NET Framework 4.7.2 se extienden las [cadenas de conexión de SQLClient](xref:System.Data.SqlClient.SqlConnection.ConnectionString) mediante la adición de un nuevo valor, "Active Directory Interactive", para la palabra clave "Authentication" existente para admitir MFA, y [Autenticación de Azure AD](/azure/sql-database/sql-database-aad-authentication-configure).</span><span class="sxs-lookup"><span data-stu-id="04d3a-293">To support these changes, .NET Framework 4.7.2 extends [SQLClient connection strings](xref:System.Data.SqlClient.SqlConnection.ConnectionString) by adding a new value, "Active Directory Interactive", for the existing "Authentication" keyword to support MFA and [Azure AD Authentication](/azure/sql-database/sql-database-aad-authentication-configure).</span></span> <span data-ttu-id="04d3a-294">El nuevo método interactivo admite los usuarios nativos y federados de Azure AD, así como los usuarios invitados de Azure AD.</span><span class="sxs-lookup"><span data-stu-id="04d3a-294">The new interactive method supports native and federated Azure AD users as well as Azure AD guest users.</span></span> <span data-ttu-id="04d3a-295">Cuando se usa este método, se admite la autenticación MFA impuesta por Azure AD para las bases de datos SQL.</span><span class="sxs-lookup"><span data-stu-id="04d3a-295">When this method is used, the MFA authentication imposed by Azure AD is supported for SQL databases.</span></span> <span data-ttu-id="04d3a-296">Además, el proceso de autenticación solicita una contraseña de usuario para cumplir con los procedimientos recomendados de seguridad.</span><span class="sxs-lookup"><span data-stu-id="04d3a-296">In addition, the authentication process requests a user password to adhere to security best practices.</span></span>

<span data-ttu-id="04d3a-297">En versiones anteriores de .NET Framework, la conectividad SQL solo admitía las opciones <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryPassword?displayProperty=nameWithType> y <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryIntegrated?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-297">In previous versions of the .NET Framework, SQL connectivity supported only the <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryPassword?displayProperty=nameWithType> and <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryIntegrated?displayProperty=nameWithType> options.</span></span> <span data-ttu-id="04d3a-298">Ambas forman parte del [protocolo ADAL](/azure/active-directory/develop/active-directory-authentication-libraries) no interactivo, que no admite MFA.</span><span class="sxs-lookup"><span data-stu-id="04d3a-298">Both of these are part of the non-interactive [ADAL protocol](/azure/active-directory/develop/active-directory-authentication-libraries), which does not support MFA.</span></span> <span data-ttu-id="04d3a-299">Con la nueva opción <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryInteractive?displayProperty=nameWithType>, la conectividad SQL es compatible con MFA, así como los métodos de autenticación existentes (contraseña y autenticación integrada), lo que permite a los usuarios escribir las contraseñas de usuario de manera interactiva sin guardarlas en la cadena de conexión.</span><span class="sxs-lookup"><span data-stu-id="04d3a-299">With the new <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryInteractive?displayProperty=nameWithType> option, SQL connectivity supports MFA as well as existing authentication methods (password and integrated authentication), which allows users to enter user passwords interactively without persisting passwords in the connection string.</span></span>

<span data-ttu-id="04d3a-300">Para obtener más información y un ejemplo, vea "SQL -- Azure AD Universal and Multi-factor Authentication Support" (SQL: Compatibilidad con la autenticación universal y Multi-Factor Authentication de Azure AD) en el [blog de .NET](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-300">For more information and an example, see "SQL -- Azure AD Universal and Multi-factor Authentication Support" in the [.NET Blog](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span></span>

<span data-ttu-id="04d3a-301">**Compatibilidad con la versión 2 de Always Encrypted**</span><span class="sxs-lookup"><span data-stu-id="04d3a-301">**Support for Always Encrypted version 2**</span></span>

<span data-ttu-id="04d3a-302">En .NET Framework 4.7.2 se agrega compatibilidad con Always Encrypted basada en enclave.</span><span class="sxs-lookup"><span data-stu-id="04d3a-302">NET Framework 4.7.2 adds supports for enclave-based Always Encrypted.</span></span> <span data-ttu-id="04d3a-303">La versión original de Always Encrypted es una tecnología de cifrado del lado cliente en la que las claves de cifrado nunca salen del cliente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-303">The original version of Always Encrypted is a client-side encryption technology in which encryption keys never leave the client.</span></span> <span data-ttu-id="04d3a-304">En Always Encrypted basada en enclave, el cliente puede enviar opcionalmente las claves de cifrado a un enclave seguro, que es una entidad de cálculo segura que se puede considerar parte de SQL Server pero que el código de SQL Server no puede alterar.</span><span class="sxs-lookup"><span data-stu-id="04d3a-304">In enclave-based Always Encrypted, the client can optionally send the encryption keys to a secure enclave, which is a secure computational entity that can be considered part of SQL Server but that SQL Server code cannot tamper with.</span></span> <span data-ttu-id="04d3a-305">Para admitir Always Encrypted basado en enclave, en .NET Framework 4.7.2 se agregan los tipos y miembros siguientes al espacio de nombres <xref:System.Data.SqlClient>:</span><span class="sxs-lookup"><span data-stu-id="04d3a-305">To support enclave-based Always Encrypted, .NET Framework 4.7.2 adds the following types and members to the <xref:System.Data.SqlClient> namespace:</span></span>

- <span data-ttu-id="04d3a-306"><xref:System.Data.SqlClient.SqlConnectionStringBuilder.EnclaveAttestationUrl?displayProperty=nameWithType>, que especifica el URI para Always Encrypted basada en enclave.</span><span class="sxs-lookup"><span data-stu-id="04d3a-306"><xref:System.Data.SqlClient.SqlConnectionStringBuilder.EnclaveAttestationUrl?displayProperty=nameWithType>, which specifies the Uri for enclave-based Always Encrypted.</span></span>

- <span data-ttu-id="04d3a-307"><xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider>, que es una clase abstracta de la que se derivan todos los proveedores de enclaves.</span><span class="sxs-lookup"><span data-stu-id="04d3a-307"><xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider>, which is an abstract class from which all enclave providers are derived.</span></span>

- <span data-ttu-id="04d3a-308"><xref:System.Data.SqlClient.SqlEnclaveSession>, que encapsula el estado de una sesión de enclave determinada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-308"><xref:System.Data.SqlClient.SqlEnclaveSession>, which encapsulates the state for a given enclave session.</span></span>

- <span data-ttu-id="04d3a-309"><xref:System.Data.SqlClient.SqlEnclaveAttestationParameters>, que proporciona los parámetros de atestación que usa SQL Server para obtener la información necesaria para ejecutar un protocolo de atestación específico.</span><span class="sxs-lookup"><span data-stu-id="04d3a-309"><xref:System.Data.SqlClient.SqlEnclaveAttestationParameters>, which provides the attestation parameters used by SQL Server to get information required to execute a particular Attestation Protocol.</span></span>

<span data-ttu-id="04d3a-310">Después, el archivo de configuración de la aplicación especifica una implementación concreta de la clase abstracta <xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider?displayProperty=nameWithType> en la que se proporciona la funcionalidad para el proveedor de enclaves.</span><span class="sxs-lookup"><span data-stu-id="04d3a-310">The application configuration file then specifies a concrete implementation of the abstract <xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider?displayProperty=nameWithType> class that provides the functionality for the enclave provider.</span></span> <span data-ttu-id="04d3a-311">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-311">For example:</span></span>

```xml
<configuration>
  <configSections>
    <section name="SqlColumnEncryptionEnclaveProviders" type="System.Data.SqlClient.SqlColumnEncryptionEnclaveProviderConfigurationSection,System.Data,Version=4.0.0.0,Culture=neutral,PublicKeyToken=b77a5c561934e089"/> 
  </configSections>
  <SqlColumnEncryptionEnclaveProviders>
    <providers>
      <add name="Azure" type="Microsoft.SqlServer.Management.AlwaysEncrypted.AzureEnclaveProvider,MyApp"/>
      <add name="HGS" type="Microsoft.SqlServer.Management.AlwaysEncrypted.HGSEnclaveProvider,MyApp" />
    </providers>
  </SqlColumnEncryptionEnclaveProviders >
</configuration>
```

<span data-ttu-id="04d3a-312">El flujo básico de Always Encrypted basada en enclave es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-312">The basic flow of enclave-based Always Encrypted is:</span></span>

1. <span data-ttu-id="04d3a-313">El usuario crea una conexión de AlwaysEncrypted a SQL Server que admita Always Encrypted basada en enclave.</span><span class="sxs-lookup"><span data-stu-id="04d3a-313">The user creates an AlwaysEncrypted connection to SQL Server that supported enclave-based Always Encrypted.</span></span> <span data-ttu-id="04d3a-314">El controlador se pone en contacto con el servicio de atestación para asegurarse de que se está conectando al enclave correcto.</span><span class="sxs-lookup"><span data-stu-id="04d3a-314">The driver contacts the attestation service to ensure that it is connecting to right enclave.</span></span>

1. <span data-ttu-id="04d3a-315">Una vez comprobado al enclave, el controlador establece un canal seguro con el enclave seguro alojado en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="04d3a-315">Once the enclave has been attested, the driver establishes a secure channel with the secure enclave hosted on SQL Server.</span></span>

1. <span data-ttu-id="04d3a-316">El controlador comparte las claves de cifrado autorizadas por el cliente con el enclave seguro para la duración de la conexión SQL.</span><span class="sxs-lookup"><span data-stu-id="04d3a-316">The driver shares encryption keys authorized by the client with the secure enclave for the duration of the SQL connection.</span></span>

<a name="wpf472" />

#### <a name="windows-presentation-foundation"></a><span data-ttu-id="04d3a-317">Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="04d3a-317">Windows Presentation Foundation</span></span>

<span data-ttu-id="04d3a-318">**Búsqueda de objetos ResourceDictionary por origen**</span><span class="sxs-lookup"><span data-stu-id="04d3a-318">**Finding ResourceDictionaries by Source**</span></span>

<span data-ttu-id="04d3a-319">A partir de .NET Framework 4.7.2, un asistente de diagnóstico puede localizar los objetos  <xref:System.Windows.Xps.Packaging.IXpsFixedPageReader.ResourceDictionaries> que se han creado desde un URI de origen determinado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-319">Starting with .NET Framework 4.7.2, a diagnostic assistant can locate the <xref:System.Windows.Xps.Packaging.IXpsFixedPageReader.ResourceDictionaries> that have been created from a given source Uri.</span></span><span data-ttu-id="04d3a-320"> (Esta característica es para uso por parte de los asistentes de diagnóstico, no por las aplicaciones de producción). Un asistente de diagnóstico, como la opción "Editar y continuar" de Visual Studio, permite al usuario editar un objeto ResourceDictionary con la intención de que los cambios se puedan aplicar a la aplicación en ejecución.</span><span class="sxs-lookup"><span data-stu-id="04d3a-320"> (This feature is for use by diagnostic assistants, not by production applications.) A diagnostic assistant such as Visual Studio’s “Edit-and-Continue” facility lets its user edit a ResourceDictionary with the intent that the changes be applied to the running application.</span></span> <span data-ttu-id="04d3a-321">Un paso para lograr esto consiste en buscar todos los objetos ResourceDictionary que la aplicación en ejecución ha creado a partir del diccionario que se está editando.</span><span class="sxs-lookup"><span data-stu-id="04d3a-321">One step in achieving this is finding all the ResourceDictionaries that the running application has created from the dictionary that’s being edited.</span></span> <span data-ttu-id="04d3a-322">Por ejemplo, una aplicación puede declarar un objeto ResourceDictionary cuyo contenido se copia desde un URI de origen determinado:</span><span class="sxs-lookup"><span data-stu-id="04d3a-322">For example, an application can declare a ResourceDictionary whose content is copied from a given source URI:</span></span>

```xml
<ResourceDictionary Source="MyRD.xaml">
```

<span data-ttu-id="04d3a-323">Un asistente de diagnóstico que edite el marcado original en *MyRD.xaml*  puede usar la característica nueva para buscar el diccionario.</span><span class="sxs-lookup"><span data-stu-id="04d3a-323">A diagnostic assistant that edits the original markup in *MyRD.xaml* can use the new feature to locate the dictionary.</span></span><span data-ttu-id="04d3a-324"> La característica se implementa mediante un método estático nuevo, <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetResourceDictionariesForSource%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-324"> The feature is implemented by a new static method, <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetResourceDictionariesForSource%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="04d3a-325">El asistente de diagnóstico llama al método nuevo mediante un URI absoluto que identifica el marcado original, como se muestra en el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-325">The diagnostic assistant calls the new method using an absolute Uri that identifies the original markup, as illustrated by the following code:</span></span>

```csharp
IEnumerable<ResourceDictionary> dictionaries = ResourceDictionaryDiagnostics.GetResourceDictionariesForSource(new Uri("pack://application:,,,/MyApp;component/MyRD.xaml"));
```

```vb
Dim dictionaries As IEnumerable(Of ResourceDictionary) = ResourceDictionaryDiagnostics.GetResourceDictionariesForSource(New Uri("pack://application:,,,/MyApp;component/MyRD.xaml"))
```

<span data-ttu-id="04d3a-326">El método devuelve un enumerable vacío a menos que se habilite  <xref:System.Windows.Diagnostics.VisualDiagnostics> y se establezca la variable de entorno [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) .</span><span class="sxs-lookup"><span data-stu-id="04d3a-326">The method returns an empty enumerable unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

<span data-ttu-id="04d3a-327">**Buscar los propietarios de ResourceDictionary**</span><span class="sxs-lookup"><span data-stu-id="04d3a-327">**Finding ResourceDictionary owners**</span></span>

<span data-ttu-id="04d3a-328">A partir de .NET Framework 4.7.2, un asistente de diagnóstico puede localizar los propietarios de un objeto <xref:Windows.UI.Xaml.ResourceDictionary> determinado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-328">Starting with .NET Framework 4.7.2, a diagnostic assistant can locate the owners of a given <xref:Windows.UI.Xaml.ResourceDictionary>.</span></span><span data-ttu-id="04d3a-329"> (La característica está pensada para que la usen los asistentes de diagnóstico, no las aplicaciones de producción). Siempre que se realice un cambio en un <xref:Windows.UI.Xaml.ResourceDictionary>, WPF busca automáticamente todas las referencias [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md) que es posible que se vean afectadas por el cambio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-329"> (The feature is for use by diagnostic assistants and not by production applications.) Whenever a change is made to a <xref:Windows.UI.Xaml.ResourceDictionary>, WPF automatically finds all [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md) references that might be affected by the change.</span></span>

<span data-ttu-id="04d3a-330">Un asistente de diagnóstico como la opción "Editar y continuar" de Visual Studio puede extender esta opción para controlar las referencias [StaticResource](../wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-330">A diagnostic assistant such as Visual Studio’s “Edit-and-Continue” facility may want extend this to handle [StaticResource](../wpf/advanced/staticresource-markup-extension.md) references.</span></span> <span data-ttu-id="04d3a-331">El primer paso de este proceso consiste en encontrar los propietarios del diccionario; es decir, buscar todos los objetos cuya propiedad `Resources` hace referencia al diccionario (ya sea directa o indirectamente a través de la propiedad <xref:System.Windows.ResourceDictionary.MergedDictionaries?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="04d3a-331">The first step in this process is to find the owners of the dictionary; that is, to find all the objects whose `Resources` property refers to the dictionary (either directly, or indirectly via the <xref:System.Windows.ResourceDictionary.MergedDictionaries?displayProperty=nameWithType> property).</span></span> <span data-ttu-id="04d3a-332">Tres métodos estáticos nuevos implementadas en la clase <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics?displayProperty=nameWithType>, uno para cada uno de los tipos base que tengan una propiedad `Resources`, admiten este paso:</span><span class="sxs-lookup"><span data-stu-id="04d3a-332">Three new static methods implemented on the <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics?displayProperty=nameWithType> class, one for each of the base types that has a `Resources` property, support this step:</span></span>

- [`public static IEnumerable<FrameworkElement> GetFrameworkElementOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetFrameworkElementOwners%2A)

- [`public static IEnumerable<FrameworkContentElement> GetFrameworkContentElementOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetFrameworkContentElementOwners%2A)

- [`public static IEnumerable<Application> GetApplicationOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetApplicationOwners%2A)

<span data-ttu-id="04d3a-333">Estos métodos devuelven un enumerable vacío a menos que se habilite  <xref:System.Windows.Diagnostics.VisualDiagnostics> y se establezca la variable de entorno [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) .</span><span class="sxs-lookup"><span data-stu-id="04d3a-333">These methods return an empty enumerable unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

<span data-ttu-id="04d3a-334">**Buscar referencias StaticResource**</span><span class="sxs-lookup"><span data-stu-id="04d3a-334">**Finding StaticResource references**</span></span>

<span data-ttu-id="04d3a-335">Ahora un asistente de diagnóstico puede recibir una notificación cada vez que se resuelva una referencia [StaticResource](../wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-335">A diagnostic assistant can now receive a notification whenever a [StaticResource](../wpf/advanced/staticresource-markup-extension.md) reference is resolved.</span></span><span data-ttu-id="04d3a-336"> (La característica está pensada para que la usen los asistentes de diagnóstico, no las aplicaciones de producción). Es posible que un asistente de diagnóstico, como la opción "Editar y continuar" de Visual Studio, quiera actualizar todos los usos de un recurso cuando cambie su valor en un objeto <xref:Windows.UI.Xaml.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-336"> (The feature is for use by diagnostic assistants, not by production applications.) A diagnostic assistant such as Visual Studio’s “Edit-and-Continue” facility may want to update all uses of a resource when its value in a <xref:Windows.UI.Xaml.ResourceDictionary> changes.</span></span> <span data-ttu-id="04d3a-337">WPF hace esto automáticamente para las referencias [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md), pero no deliberadamente para las referencias [StaticResource](../wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-337">WPF does this automatically for [DynamicResource](../wpf/advanced/dynamicresource-markup-extension.md) references, but it intentionally does not do so for [StaticResource](../wpf/advanced/staticresource-markup-extension.md) references.</span></span> <span data-ttu-id="04d3a-338">A partir de .NET Framework 4.7.2, el asistente de diagnóstico puede usar estas notificaciones para buscar esos usos del recurso estático.</span><span class="sxs-lookup"><span data-stu-id="04d3a-338">Starting with .NET Framework 4.7.2, the diagnostic assistant can use these notifications to locate those uses of the static resource.</span></span>

<span data-ttu-id="04d3a-339">La notificación se implementa mediante el nuevo evento <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.StaticResourceResolved?displayProperty=nameWithType>:</span><span class="sxs-lookup"><span data-stu-id="04d3a-339">The notification is implemented by the new <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.StaticResourceResolved?displayProperty=nameWithType> event:</span></span>

```csharp
public static event EventHandler<StaticResourceResolvedEventArgs> StaticResourceResolved;
```

```vb
Public Shared Event StaticResourceResolved As EventHandler(Of StaticResourceResolvedEventArgs)
```

<span data-ttu-id="04d3a-340">Este evento se desencadena cuando el tiempo de ejecución resuelve una referencia [StaticResource](../wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-340">This event is raised whenever the runtime resolves a [StaticResource](../wpf/advanced/staticresource-markup-extension.md) reference.</span></span><span data-ttu-id="04d3a-341"> Los argumentos de <xref:System.Windows.Diagnostics.StaticResourceResolvedEventArgs> describen la resolución e indican el objeto y la propiedad que hospedan la referencia [StaticResource](../wpf/advanced/staticresource-markup-extension.md) y el objeto  <xref:Windows.UI.Xaml.ResourceDictionary> y la clave que se usan para la resolución:</span><span class="sxs-lookup"><span data-stu-id="04d3a-341"> The <xref:System.Windows.Diagnostics.StaticResourceResolvedEventArgs> arguments describe the resolution, and indicate the object and property that host the [StaticResource](../wpf/advanced/staticresource-markup-extension.md) reference and the <xref:Windows.UI.Xaml.ResourceDictionary> and key used for the resolution:</span></span>

```csharp
public class StaticResourceResolvedEventArgs : EventArgs
{
   public Object TargetObject { get; }

   public Object TargetProperty { get; }

   public ResourceDictionary ResourceDictionary { get; }

   public object ResourceKey { get; }
}
```

```vb
Public Class StaticResourceResolvedEventArgs : Inherits EventArgs
   Public ReadOnly Property TargetObject As Object
   Public ReadOnly Property TargetProperty As Object
   Public ReadOnly Property ResourceDictionary As ResourceDictionary
   Public ReadOnly Property ResourceKey As Object
End Class
```

<span data-ttu-id="04d3a-342">El evento no se desencadena y su descriptor de acceso `add` se ignora, a menos que se habilite  <xref:System.Windows.Diagnostics.VisualDiagnostics> y se establezca la variable de entorno [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) .</span><span class="sxs-lookup"><span data-stu-id="04d3a-342">The event is not raised (and its `add` accessor is ignored) unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

#### <a name="clickonce"></a><span data-ttu-id="04d3a-343">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="04d3a-343">ClickOnce</span></span>

<span data-ttu-id="04d3a-344">Las aplicaciones compatibles con HDPI para Windows Forms, Windows Presentation Foundation (WPF) y Visual Studio Tools para Office (VSTO) se pueden implementar mediante ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="04d3a-344">HDPI-aware applications for Windows Forms, Windows Presentation Foundation (WPF), and Visual Studio Tools for Office (VSTO) can all be deployed by using ClickOnce.</span></span> <span data-ttu-id="04d3a-345">Si la entrada siguiente se encuentra en el manifiesto de aplicación, se podrá completar correctamente la implementación en .NET Framework 4.7.2:</span><span class="sxs-lookup"><span data-stu-id="04d3a-345">If the following entry is found in the application manifest, deployment will succeed under .NET Framework 4.7.2:</span></span>

```xml
<windowsSettings>
   <dpiAware xmlns="http://schemas.microsoft.com/SMI/2005/WindowsSettings">true</dpiAware>
</windowsSettings>
```

<span data-ttu-id="04d3a-346">Para la aplicación de Windows Forms, la solución anterior de establecer el reconocimiento de PPP en el archivo de configuración de la aplicación en lugar de en el manifiesto de aplicación ya no es necesaria para que la implementación de ClickOnce sea correcta.</span><span class="sxs-lookup"><span data-stu-id="04d3a-346">For Windows Forms application, the previous workaround of setting DPI awareness in the application configuration file rather than the application manifest is no longer necessary for ClickOnce deployment to succeed.</span></span>

<a name="v471" />

## <a name="whats-new-in-net-framework-471"></a><span data-ttu-id="04d3a-347">Novedades de .NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-347">What's new in .NET Framework 4.7.1</span></span>

<span data-ttu-id="04d3a-348">.NET Framework 4.7.1 incluye características nuevas en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-348">.NET Framework 4.7.1 includes new features in the following areas:</span></span>

- [<span data-ttu-id="04d3a-349">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-349">Base classes</span></span>](#core471)
- [<span data-ttu-id="04d3a-350">Common Language Runtime (CLR)</span><span class="sxs-lookup"><span data-stu-id="04d3a-350">Common language runtime (CLR)</span></span>](#clr)
- [<span data-ttu-id="04d3a-351">Redes</span><span class="sxs-lookup"><span data-stu-id="04d3a-351">Networking</span></span>](#net471)
- [<span data-ttu-id="04d3a-352">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-352">ASP.NET</span></span>](#asp-net471)

<span data-ttu-id="04d3a-353">Además, uno de los principales aspectos en los que se centra .NET Framework 4.7.1 es en la mejora de accesibilidad, que permite que una aplicación proporcione una experiencia adecuada para los usuarios de tecnología de asistencia.</span><span class="sxs-lookup"><span data-stu-id="04d3a-353">In addition, a major focus in .NET Framework 4.7.1 is improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology.</span></span> <span data-ttu-id="04d3a-354">Para información sobre las mejoras de la accesibilidad en .NET Framework 4.7.1, consulte [Novedades de accesibilidad en .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-354">For information on accessibility improvements in .NET Framework 4.7.1, see [What's new in accessibility in the .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core471" />

#### <a name="base-classes"></a><span data-ttu-id="04d3a-355">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-355">Base classes</span></span>

<span data-ttu-id="04d3a-356">**Compatibilidad con .NET Standard 2.0**</span><span class="sxs-lookup"><span data-stu-id="04d3a-356">**Support for .NET Standard 2.0**</span></span>

<span data-ttu-id="04d3a-357">[.NET Standard](../../standard/net-standard.md) define un conjunto de API que debe estar disponible en cada implementación de .NET que cumple con esa versión de Standard.</span><span class="sxs-lookup"><span data-stu-id="04d3a-357">[.NET Standard](../../standard/net-standard.md) defines a set of APIs that must be available on each .NET implementation that supports that version of the standard.</span></span> <span data-ttu-id="04d3a-358">.NET Framework 4.7.1 es totalmente compatible con .NET Standard 2.0 y agrega [unas 200 API](https://github.com/dotnet/standard/blob/master/netstandard/src/ApiCompatBaseline.net461.txt) definidas en .NET Standard 2.0 que no se encuentran en .NET Framework 4.6.1, 4.6.2 y 4.7.</span><span class="sxs-lookup"><span data-stu-id="04d3a-358">.NET Framework 4.7.1 fully supports .NET Standard 2.0 and adds [about 200 APIs](https://github.com/dotnet/standard/blob/master/netstandard/src/ApiCompatBaseline.net461.txt) that are defined in .NET Standard 2.0 and are missing from .NET Framework 4.6.1, 4.6.2, and 4.7.</span></span> <span data-ttu-id="04d3a-359">(Tenga en cuenta que estas versiones de .NET Framework son compatibles con .NET Standard 2.0 solo si también se implementan los archivos de compatibilidad adicionales de .NET Standard en el sistema de destino). Para más información, vea "BCL - .NET Standard 2.0 Support" (BCL: compatibilidad con .NET Standard 2.0) en la entrada de blog [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) (Características del compilador y del tiempo de ejecución de NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-359">(Note that these versions of the .NET Framework support .NET Standard 2.0 only if additional .NET Standard support files are also deployed on the target system.) For more information, see "BCL - .NET Standard 2.0 Support" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<span data-ttu-id="04d3a-360">**Compatibilidad con los generadores de configuración**</span><span class="sxs-lookup"><span data-stu-id="04d3a-360">**Support for configuration builders**</span></span>

<span data-ttu-id="04d3a-361">Los generadores de configuración permiten a los desarrolladores insertar y crear valores de configuración de forma dinámica para aplicaciones en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="04d3a-361">Configuration builders allow developers to inject and build configuration settings for applications dynamically at run time.</span></span> <span data-ttu-id="04d3a-362">Se pueden usar generadores de configuración personalizados para modificar datos existentes de una sección de configuración o para crear una sección de configuración totalmente desde cero.</span><span class="sxs-lookup"><span data-stu-id="04d3a-362">Custom configuration builders can be used to modify existing data in a configuration section or to build a configuration section entirely from scratch.</span></span> <span data-ttu-id="04d3a-363">Sin los generadores de configuración, los archivos .config son estáticos y sus valores se definen algún tiempo antes de que se inicie la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-363">Without configuration builders, .config files are static, and their settings are defined some time before an application is launched.</span></span>

<span data-ttu-id="04d3a-364">Para crear un generador de configuración personalizado, derive el generador de la clase <xref:System.Configuration.ConfigurationBuilder> abstracta y reemplace sus métodos <xref:System.Configuration.ConfigurationBuilder.ProcessConfigurationSection%2A?displayProperty=nameWithType> y <xref:System.Configuration.ConfigurationBuilder.ProcessRawXml%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-364">To create a custom configuration builder, you derive your builder from the abstract <xref:System.Configuration.ConfigurationBuilder> class and override its <xref:System.Configuration.ConfigurationBuilder.ProcessConfigurationSection%2A?displayProperty=nameWithType> and <xref:System.Configuration.ConfigurationBuilder.ProcessRawXml%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="04d3a-365">También debe definir los generadores en el archivo .config.</span><span class="sxs-lookup"><span data-stu-id="04d3a-365">You also define your builders in your .config file.</span></span> <span data-ttu-id="04d3a-366">Para más información, vea la sección "Configuration Builders" (Generadores de configuración) en la entrada de blog [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) (Características de configuración y ASP.NET en .NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-366">For more information, see the "Configuration Builders" section in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="04d3a-367">**Detección de características en tiempo de ejecución**</span><span class="sxs-lookup"><span data-stu-id="04d3a-367">**Run-time feature detection**</span></span>

<span data-ttu-id="04d3a-368">La clase <xref:System.Runtime.CompilerServices.RuntimeFeature?displayProperty=nameWithType> proporciona un mecanismo para determinar si se admite una característica predefinida en una determinada implementación de .NET en tiempo de compilación o en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="04d3a-368">The <xref:System.Runtime.CompilerServices.RuntimeFeature?displayProperty=nameWithType> class provides a mechanism for determine whether a predefined feature is supported on a given .NET implementation at compile time or run time.</span></span> <span data-ttu-id="04d3a-369">En tiempo de compilación, un compilador puede comprobar si existe un campo especificado para determinar si se admite la característica; si es así, puede emitir código que aprovecha las ventajas de la característica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-369">At compile time, a compiler can check whether a specified field exists to determine whether the feature is supported; if so, it can emit code that takes advantage of that feature.</span></span> <span data-ttu-id="04d3a-370">En tiempo de ejecución, una aplicación puede llamar al método <xref:System.Runtime.CompilerServices.RuntimeFeature.IsSupported%2A?displayProperty=nameWithType> antes de emitir el código en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="04d3a-370">At run time, an application can call the <xref:System.Runtime.CompilerServices.RuntimeFeature.IsSupported%2A?displayProperty=nameWithType> method before emitting code at runtime.</span></span> <span data-ttu-id="04d3a-371">Para obtener más información, vea [Add helper method to describe features supported by the runtime](https://github.com/dotnet/corefx/issues/17116) (Adición de un método del asistente para describir características admitidas en tiempo de ejecución).</span><span class="sxs-lookup"><span data-stu-id="04d3a-371">For more information, see [Add helper method to describe features supported by the runtime](https://github.com/dotnet/corefx/issues/17116).</span></span>

<span data-ttu-id="04d3a-372">**Los tipos value tuple son serializables**</span><span class="sxs-lookup"><span data-stu-id="04d3a-372">**Value tuple types are serializable**</span></span>

<span data-ttu-id="04d3a-373">A partir de .NET Framework 4.7.1, <xref:System.ValueTuple?displayProperty=nameWithType> y sus tipos genéricos asociados se marcan como [serializables](xref:System.SerializableAttribute), lo que permite la serialización binaria.</span><span class="sxs-lookup"><span data-stu-id="04d3a-373">Starting with .NET Framework 4.7.1, <xref:System.ValueTuple?displayProperty=nameWithType> and its associated generic types are marked as [Serializable](xref:System.SerializableAttribute), which allows binary serialization.</span></span> <span data-ttu-id="04d3a-374">Esto facilita la migración de tipos tuple, como <xref:System.Tuple%603> y <xref:System.Tuple%604>, a tipos value tuple.</span><span class="sxs-lookup"><span data-stu-id="04d3a-374">This should make migrating Tuple types, such as <xref:System.Tuple%603> and <xref:System.Tuple%604>, to value tuple types easier.</span></span> <span data-ttu-id="04d3a-375">Para más información, vea "Compiler -- ValueTuple is Serializable" (Compilador: ValueTuple serializable) en la entrada de blog [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) (Características del compilador y del tiempo de ejecución de .NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-375">For more information, see "Compiler -- ValueTuple is Serializable" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<span data-ttu-id="04d3a-376">**Compatibilidad con referencias de solo lectura**</span><span class="sxs-lookup"><span data-stu-id="04d3a-376">**Support for read-only references**</span></span>

<span data-ttu-id="04d3a-377">.NET Framework 4.7.1 agrega <xref:System.Runtime.CompilerServices.IsReadOnlyAttribute?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-377">.NET Framework 4.7.1 adds the <xref:System.Runtime.CompilerServices.IsReadOnlyAttribute?displayProperty=nameWithType>.</span></span> <span data-ttu-id="04d3a-378">Los compiladores de lenguaje utilizan este atributo para marcar los miembros que tienen parámetros o tipos de valor devuelto con referencias de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="04d3a-378">This attribute is used by language compilers to mark members that have read-only ref return types or parameters.</span></span> <span data-ttu-id="04d3a-379">Para más información, vea "Compiler -- Support for ReadOnlyReferences" (Compilador: compatibilidad con referencias de solo lectura) en la entrada de blog [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) (Características del compilador y del tiempo de ejecución de NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-379">For more information, see "Compiler -- Support for ReadOnlyReferences" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span> <span data-ttu-id="04d3a-380">Para obtener información sobre los valores devueltos de referencia, vea [Valores devueltos y variables locales de tipo ref (Guía de C#)](../../csharp/programming-guide/classes-and-structs/ref-returns.md) y [Valores devueltos de referencia (Visual Basic)](../../visual-basic/programming-guide/language-features/procedures/ref-return-values.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-380">For information on ref return values, see [Ref return values and ref locals (C# Guide)](../../csharp/programming-guide/classes-and-structs/ref-returns.md) and [Ref return values (Visual Basic)](../../visual-basic/programming-guide/language-features/procedures/ref-return-values.md).</span></span>

<a name="clr" />

#### <a name="common-language-runtime-clr"></a><span data-ttu-id="04d3a-381">Common Language Runtime (CLR)</span><span class="sxs-lookup"><span data-stu-id="04d3a-381">Common language runtime (CLR)</span></span>

<span data-ttu-id="04d3a-382">**Mejoras de rendimiento de la recolección de elementos no utilizados**</span><span class="sxs-lookup"><span data-stu-id="04d3a-382">**Garbage collection performance improvements**</span></span>

<span data-ttu-id="04d3a-383">Los cambios en la recolección de elementos no utilizados en .NET Framework 4.7.1 mejoran el rendimiento general, sobre todo para las asignaciones del montón de objetos grandes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-383">Changes to garbage collection (GC) in .NET Framework 4.7.1 improve overall performance, especially for large object heap (LOH) allocations.</span></span> <span data-ttu-id="04d3a-384">En .NET Framework 4.7.1, se usan bloqueos independientes para las asignaciones de montón de objetos pequeños y de montón de objetos grandes, lo que permite que se realicen asignaciones de montón de objetos grandes cuando la operación de recolección de elementos no utilizados en segundo plano barre el montón de objetos pequeños.</span><span class="sxs-lookup"><span data-stu-id="04d3a-384">In .NET Framework 4.7.1, separate locks are used for small object heap (SOH) and LOH allocations, which allows LOH allocations to occur when background GC is sweeping the SOH.</span></span> <span data-ttu-id="04d3a-385">Como resultado, las aplicaciones que realizan un número elevado de asignaciones de montón de objetos grandes deben observar una reducción de la contención del bloqueo de asignación y un rendimiento mejorado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-385">As a result, applications that make a large number of LOH allocations should see a reduction in allocation lock contention and improved performance.</span></span> <span data-ttu-id="04d3a-386">Para más información, vea la sección "Runtime - GC Performance Improvements" (Tiempo de ejecución: mejoras de rendimiento de GC) en la entrada de blog [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) (Características del compilador y del tiempo de ejecución de NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-386">For more information, see the "Runtime -- GC Performance Improvements" section in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<a name="net471"/>

#### <a name="networking"></a><span data-ttu-id="04d3a-387">Redes</span><span class="sxs-lookup"><span data-stu-id="04d3a-387">Networking</span></span>

<span data-ttu-id="04d3a-388">**Compatibilidad de SHA-2 con Message.HashAlgorithm**</span><span class="sxs-lookup"><span data-stu-id="04d3a-388">**SHA-2 support for Message.HashAlgorithm**</span></span>

<span data-ttu-id="04d3a-389">En .NET Framework 4.7 y versiones anteriores, la propiedad <xref:System.Messaging.Message.HashAlgorithm%2A?displayProperty=nameWithType> solo admitía los valores <xref:System.Messaging.HashAlgorithm.Md5?displayProperty=nameWithType> y <xref:System.Messaging.HashAlgorithm.Sha?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-389">In .NET Framework 4.7 and earlier versions, the <xref:System.Messaging.Message.HashAlgorithm%2A?displayProperty=nameWithType> property supported values of <xref:System.Messaging.HashAlgorithm.Md5?displayProperty=nameWithType> and <xref:System.Messaging.HashAlgorithm.Sha?displayProperty=nameWithType> only.</span></span> <span data-ttu-id="04d3a-390">A partir de .NET Framework 4.7.1, también se admiten <xref:System.Messaging.HashAlgorithm.Sha256?displayProperty=nameWithType>, <xref:System.Messaging.HashAlgorithm.Sha384?displayProperty=nameWithType> y <xref:System.Messaging.HashAlgorithm.Sha512?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-390">Starting with .NET Framework 4.7.1, <xref:System.Messaging.HashAlgorithm.Sha256?displayProperty=nameWithType>, <xref:System.Messaging.HashAlgorithm.Sha384?displayProperty=nameWithType>, and <xref:System.Messaging.HashAlgorithm.Sha512?displayProperty=nameWithType> are also supported.</span></span> <span data-ttu-id="04d3a-391">Si este valor se usa realmente, depende de MSMQ, ya que la propia instancia <xref:System.Messaging.Message> no tiene ninguna función hash, sino que solo pasa los valores a MSMQ.</span><span class="sxs-lookup"><span data-stu-id="04d3a-391">Whether this value is actually used depends on MSMQ, since the <xref:System.Messaging.Message> instance itself does no hashing but simply passes on values to MSMQ.</span></span> <span data-ttu-id="04d3a-392">Para más información, vea la sección "SHA-2 support for Message.HashAlgorithm" (Compatibilidad de SHA-2 con Message.HashAlgorithm) en la entrada de blog [.NET Framework 2 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) (Características de configuración y ASP.NET en .NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-392">For more information, see the "SHA-2 support for Message.HashAlgorithm" section in the [.NET Framework 4.7.1 ASP.NET and Configuration features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<a name="asp-net471" />

#### <a name="aspnet"></a><span data-ttu-id="04d3a-393">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-393">ASP.NET</span></span>

<span data-ttu-id="04d3a-394">**Pasos de ejecución en aplicaciones ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="04d3a-394">**Execution steps in ASP.NET applications**</span></span>

<span data-ttu-id="04d3a-395">ASP.NET procesa las solicitudes en una canalización predefinida que incluye veintitrés eventos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-395">ASP.NET processes requests in a predefined pipeline that includes 23 events.</span></span> <span data-ttu-id="04d3a-396">ASP.NET ejecuta cada controlador de eventos como un paso de ejecución.</span><span class="sxs-lookup"><span data-stu-id="04d3a-396">ASP.NET executes each event handler as an execution step.</span></span> <span data-ttu-id="04d3a-397">En las versiones de ASP.NET hasta .NET Framework 4.7, ASP.NET no puede permitir el flujo del contexto de ejecución debido al cambio entre subprocesos nativos y administrados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-397">In versions of ASP.NET up to .NET Framework 4.7, ASP.NET can't flow the execution context due to switching between native and managed threads.</span></span> <span data-ttu-id="04d3a-398">En su lugar, ASP.NET solo crea un flujo selectivo de <xref:System.Web.HttpContext>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-398">Instead, ASP.NET selectively flows only the <xref:System.Web.HttpContext>.</span></span> <span data-ttu-id="04d3a-399">A partir de .NET Framework 4.7.1, el método <xref:System.Web.HttpApplication.OnExecuteRequestStep(System.Action{System.Web.HttpContextBase,System.Action})?displayProperty=nameWithType> también permite que los módulos restauren los datos de ambiente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-399">Starting with .NET Framework 4.7.1, the <xref:System.Web.HttpApplication.OnExecuteRequestStep(System.Action{System.Web.HttpContextBase,System.Action})?displayProperty=nameWithType> method also allows modules to restore ambient data.</span></span> <span data-ttu-id="04d3a-400">Esta característica está orientada a las bibliotecas que tratan sobre el seguimiento, la generación de perfiles, el diagnóstico o las transacciones, que, por ejemplo, abordan el flujo de ejecución de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-400">This feature is targeted at libraries concerned with tracing, profiling, diagnostics, or transactions, for example, that care about the execution flow of the application.</span></span> <span data-ttu-id="04d3a-401">Para más información, vea la sección "ASP.NET Execution Step Feature" (Característica de pasos de ejecución de ASP.NET) en la entrada de blog [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) (Características de configuración y ASP.NET en .NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-401">For more information, see the "ASP.NET Execution Step Feature" in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="04d3a-402">**Análisis HttpCookie de ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="04d3a-402">**ASP.NET HttpCookie parsing**</span></span>

<span data-ttu-id="04d3a-403">.NET Framework 4.7.1 incluye un nuevo método, <xref:System.Web.HttpCookie.TryParse%2A?displayProperty=nameWithType>, que ofrece una forma estandarizada de crear un objeto <xref:System.Web.HttpCookie> a partir de una cadena y asignar con precisión valores de cookie, como la fecha de expiración y la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="04d3a-403">.NET Framework 4.7.1 includes a new method, <xref:System.Web.HttpCookie.TryParse%2A?displayProperty=nameWithType>, that provides a standardized way to create an <xref:System.Web.HttpCookie> object from a string and accurately assign cookie values such as expiration date and path.</span></span> <span data-ttu-id="04d3a-404">Para más información, vea la sección "ASP.NET HttpCookie parsing" (Análisis HttpCookie de ASP.NET) en la entrada de blog [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) (Características de configuración y ASP.NET en .NET Framework 4.7.1).</span><span class="sxs-lookup"><span data-stu-id="04d3a-404">For more information, see "ASP.NET HttpCookie parsing" in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="04d3a-405">**Compatibilidad con opciones hash SHA-2 para las credenciales de autenticación de formularios de ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="04d3a-405">**SHA-2 hash options for ASP.NET forms authentication credentials**</span></span>

<span data-ttu-id="04d3a-406">En .NET Framework 4.7 y versiones anteriores, ASP.NET permitía a los desarrolladores almacenar credenciales de usuario con contraseña a las que se les había aplicado el algoritmo hash en archivos de configuración que usan MD5 o SHA1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-406">In .NET Framework 4.7 and earlier versions, ASP.NET allowed developers to store user credentials with hashed passwords in configuration files using either MD5 or SHA1.</span></span> <span data-ttu-id="04d3a-407">A partir de .NET Framework 4.7.1, ASP.NET también admite nuevas opciones hash SHA-2 seguras, como SHA256, SHA384 y SHA512.</span><span class="sxs-lookup"><span data-stu-id="04d3a-407">Starting with .NET Framework 4.7.1, ASP.NET also supports new secure SHA-2 hash options such as SHA256, SHA384, and SHA512.</span></span> <span data-ttu-id="04d3a-408">SHA1 sigue siendo la opción predeterminada, aunque se puede definir un algoritmo hash no predeterminado en el archivo de configuración web.</span><span class="sxs-lookup"><span data-stu-id="04d3a-408">SHA1 remains the default, and a non-default hash algorithm can be defined in the web configuration file.</span></span> <span data-ttu-id="04d3a-409">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-409">For example:</span></span>

```xml
<system.web>
    <authentication mode="Forms">
        <forms loginUrl="~/login.aspx">
          <credentials passwordFormat="SHA512">
            <user name="jdoe" password="6D003E98EA1C7F04ABF8FCB375388907B7F3EE06F278DB966BE960E7CBBD103DF30CA6D61F7E7FD981B2E4E3A64D43C836A4BEDCA165C33B163E6BCDC538A664" />
          </credentials>
        </forms>
    </authentication>
</system.web>
```

<a name="v47" />

## <a name="whats-new-in-net-framework-47"></a><span data-ttu-id="04d3a-410">Novedades de .NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="04d3a-410">What's new in .NET Framework 4.7</span></span>

<span data-ttu-id="04d3a-411">.NET Framework 4.7 incluye características nuevas en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-411">.NET Framework 4.7 includes new features in the following areas:</span></span>

- [<span data-ttu-id="04d3a-412">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-412">Base classes</span></span>](#Core47)
- [<span data-ttu-id="04d3a-413">Redes</span><span class="sxs-lookup"><span data-stu-id="04d3a-413">Networking</span></span>](#net47)
- [<span data-ttu-id="04d3a-414">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-414">ASP.NET</span></span>](#ASP-NET47)
- [<span data-ttu-id="04d3a-415">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-415">Windows Communication Foundation (WCF)</span></span>](#wcf47)
- [<span data-ttu-id="04d3a-416">Windows Forms</span><span class="sxs-lookup"><span data-stu-id="04d3a-416">Windows Forms</span></span>](#wf47)
- [<span data-ttu-id="04d3a-417">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-417">Windows Presentation Foundation (WPF)</span></span>](#WPF47)

<span data-ttu-id="04d3a-418">Para ver una lista de las nuevas API agregadas a .NET Framework 4.7, consulte [.NET Framework 4.7 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-api-changes.md) (Cambios de API de .NET Framework 4.7) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="04d3a-418">For a list of new APIs added to .NET Framework 4.7, see [.NET Framework 4.7 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-api-changes.md) on GitHub.</span></span> <span data-ttu-id="04d3a-419">Para ver una lista de las mejoras de características y correcciones de errores en .NET Framework 4.7, consulte [.NET Framework 4.7 List of Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-changes.md) (Lista de cambios de .NET Framework 4.7) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="04d3a-419">For a list of feature improvements and bug fixes in .NET Framework 4.7, see [.NET Framework 4.7 List of Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-changes.md) on GitHub.</span></span>  <span data-ttu-id="04d3a-420">Para más información, vea [Announcing .NET Framework 4.7](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-7/) (Anuncio de .NET Framework 4.7) en el blog de .NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-420">For additional information, see [Announcing the .NET Framework 4.7](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-7/) in the .NET blog.</span></span>

<a name="Core47" />

#### <a name="base-classes"></a><span data-ttu-id="04d3a-421">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-421">Base classes</span></span>

<span data-ttu-id="04d3a-422">.NET Framework 4.7 mejora la serialización con <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer>:</span><span class="sxs-lookup"><span data-stu-id="04d3a-422">.NET Framework 4.7 improves serialization by the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer>:</span></span>

<span data-ttu-id="04d3a-423">**Funcionalidad mejorada con criptografía de curva elíptica (ECC)** \*</span><span class="sxs-lookup"><span data-stu-id="04d3a-423">**Enhanced functionality with Elliptic Curve Cryptography (ECC)**\*</span></span>

<span data-ttu-id="04d3a-424">En .NET Framework 4.7, los métodos `ImportParameters(ECParameters)` se han agregado a las clases <xref:System.Security.Cryptography.ECDsa> y <xref:System.Security.Cryptography.ECDiffieHellman> para permitir que un objeto represente una clave establecida previamente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-424">In .NET Framework 4.7, `ImportParameters(ECParameters)` methods were added to the <xref:System.Security.Cryptography.ECDsa> and <xref:System.Security.Cryptography.ECDiffieHellman> classes to allow for an object to represent an already-established key.</span></span> <span data-ttu-id="04d3a-425">También se agregó un método `ExportParameters(Boolean)` para exportar la clave mediante parámetros de curva explícitos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-425">An `ExportParameters(Boolean)` method was also added for exporting the key using explicit curve parameters.</span></span>

<span data-ttu-id="04d3a-426">.NET Framework 4.7 también admite curvas adicionales, como el conjunto de curvas Brainpool, y se han agregado definiciones predefinidas para facilitar la creación mediante los nuevos patrones de diseño Factory Method <xref:System.Security.Cryptography.ECDsa.Create%2A> y <xref:System.Security.Cryptography.ECDiffieHellman.Create%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-426">.NET Framework 4.7 also adds support for additional curves (including the Brainpool curve suite), and has added predefined definitions for ease-of-creation through the new <xref:System.Security.Cryptography.ECDsa.Create%2A> and <xref:System.Security.Cryptography.ECDiffieHellman.Create%2A> factory methods.</span></span>

<span data-ttu-id="04d3a-427">Puede ver un [ejemplo de las mejoras de criptografía de .NET Framework 4.7](https://gist.github.com/richlander/5a182899895a87a296c21ada97f7a54e) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="04d3a-427">You can see an [example of .NET Framework 4.7 cryptography improvements](https://gist.github.com/richlander/5a182899895a87a296c21ada97f7a54e) on GitHub.</span></span>

<span data-ttu-id="04d3a-428">**Mayor compatibilidad para caracteres de control mediante DataContractJsonSerializer**</span><span class="sxs-lookup"><span data-stu-id="04d3a-428">**Better support for control characters by the DataContractJsonSerializer**</span></span>

<span data-ttu-id="04d3a-429">En .NET Framework 4.7, <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> serializa los caracteres de control en conformidad con el estándar ECMAScript 6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-429">In .NET Framework 4.7, the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> serializes control characters in conformity with the ECMAScript 6 standard.</span></span> <span data-ttu-id="04d3a-430">Este comportamiento está habilitado de manera predeterminada para aplicaciones que tienen .NET Framework 4.7 como destino y es una característica opcional para las aplicaciones que se ejecutan en .NET Framework 4.7 pero tienen como destino una versión anterior de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-430">This behavior is enabled by default for applications that target .NET Framework 4.7, and is an opt-in feature for applications that are running under .NET Framework 4.7 but target a previous version of the .NET Framework.</span></span> <span data-ttu-id="04d3a-431">Para más información, consulte [Cambios de redestinación en .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-431">For more information, see [Retargeting Changes in the .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span></span>

<a name="net47" />

#### <a name="networking"></a><span data-ttu-id="04d3a-432">Redes</span><span class="sxs-lookup"><span data-stu-id="04d3a-432">Networking</span></span>

<span data-ttu-id="04d3a-433">.NET Framework 4.7 agrega la siguiente característica relacionada con la red:</span><span class="sxs-lookup"><span data-stu-id="04d3a-433">.NET Framework 4.7 adds the following network-related feature:</span></span>

<span data-ttu-id="04d3a-434">**Compatibilidad predeterminada del sistema operativo con protocolos TLS**\*</span><span class="sxs-lookup"><span data-stu-id="04d3a-434">**Default operating system support for TLS protocols**\*</span></span>

<span data-ttu-id="04d3a-435">La pila TLS, que la usan <xref:System.Net.Security.SslStream?displayProperty=nameWithType> y los componentes que se encuentran por encima de la pila, como HTTP, FTP y SMTP, permite a los desarrolladores usar los protocolos TLS predeterminados compatibles con el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-435">The TLS stack, which is used by <xref:System.Net.Security.SslStream?displayProperty=nameWithType> and up-stack components such as HTTP, FTP, and SMTP, allows developers to use the default TLS protocols supported by the operating system.</span></span> <span data-ttu-id="04d3a-436">Ya no es necesario que los desarrolladores codifiquen una versión de TLS de forma rígida.</span><span class="sxs-lookup"><span data-stu-id="04d3a-436">Developers need no longer hard-code a TLS version.</span></span>

<a name="ASP-NET47" />

#### <a name="aspnet"></a><span data-ttu-id="04d3a-437">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-437">ASP.NET</span></span>

<span data-ttu-id="04d3a-438">En .NET Framework 4.7, ASP.NET incluye las siguientes características nuevas:</span><span class="sxs-lookup"><span data-stu-id="04d3a-438">In .NET Framework 4.7, ASP.NET includes the following new features:</span></span>

<span data-ttu-id="04d3a-439">**Extensibilidad de caché de objetos**</span><span class="sxs-lookup"><span data-stu-id="04d3a-439">**Object Cache Extensibility**</span></span>

<span data-ttu-id="04d3a-440">A partir de .NET Framework 4.7, ASP.NET agrega un nuevo conjunto de API que permiten que los desarrolladores reemplacen las implementaciones predeterminadas de ASP.NET por la supervisión de memoria y el almacenamiento en caché de objetos en memoria.</span><span class="sxs-lookup"><span data-stu-id="04d3a-440">Starting with .NET Framework 4.7, ASP.NET adds a new set of APIs that allow developers to replace the default ASP.NET implementations for in-memory object caching and memory monitoring.</span></span> <span data-ttu-id="04d3a-441">Ahora los desarrolladores pueden reemplazar cualquiera de los siguientes tres componentes si la implementación de ASP.NET no es adecuada:</span><span class="sxs-lookup"><span data-stu-id="04d3a-441">Developers can now replace any of the following three components if the ASP.NET implementation is not adequate:</span></span>

- <span data-ttu-id="04d3a-442">**Almacén de caché de objetos**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-442">**Object Cache Store**.</span></span> <span data-ttu-id="04d3a-443">En la nueva sección de configuración de proveedores de caché, los desarrolladores pueden insertar implementaciones nuevas de una caché de objetos para una aplicación de ASP.NET mediante la nueva interfaz **ICacheStoreProvider**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-443">By using the new cache providers configuration section, developers can plug in new implementations of an object cache for an ASP.NET application by using the new **ICacheStoreProvider** interface.</span></span>

- <span data-ttu-id="04d3a-444">**Supervisión de memoria**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-444">**Memory monitoring**.</span></span> <span data-ttu-id="04d3a-445">El monitor de memoria predeterminado de ASP.NET notifica a las aplicaciones cuando se ejecutan cerca del límite de bytes privado configurado para el proceso o cuando queda poca RAM física total disponible en la máquina.</span><span class="sxs-lookup"><span data-stu-id="04d3a-445">The default memory monitor in ASP.NET notifies applications when they are running close to the configured private bytes limit for the process, or when the machine is low on total available physical RAM.</span></span> <span data-ttu-id="04d3a-446">Las notificaciones se activan cuando se está cerca de estos límites.</span><span class="sxs-lookup"><span data-stu-id="04d3a-446">When these limits are near, notifications are fired.</span></span> <span data-ttu-id="04d3a-447">En el caso de algunas aplicaciones, las notificaciones se activan demasiado cerca de los límites configurados como para permitir reacciones que sean útiles.</span><span class="sxs-lookup"><span data-stu-id="04d3a-447">For some applications, notifications are fired too close to the configured limits to allow for useful reactions.</span></span> <span data-ttu-id="04d3a-448">Los desarrolladores ahora pueden usar la propiedad <xref:System.Web.Hosting.ApplicationMonitors.MemoryMonitor%2A?displayProperty=nameWithType> para escribir sus propios monitores de memoria y, así, reemplazar el predeterminado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-448">Developers can now write their own memory monitors to replace the default by using the <xref:System.Web.Hosting.ApplicationMonitors.MemoryMonitor%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="04d3a-449">**Reacciones por límite de memoria**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-449">**Memory Limit Reactions**.</span></span> <span data-ttu-id="04d3a-450">De forma predeterminada, ASP.NET intenta recortar la caché de objetos y llama periódicamente a <xref:System.GC.Collect%2A?displayProperty=nameWithType> cuando se está cerca del límite de proceso de bytes privados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-450">By default, ASP.NET attempts to trim the object cache and periodically call <xref:System.GC.Collect%2A?displayProperty=nameWithType> when the private byte process limit is near.</span></span> <span data-ttu-id="04d3a-451">En algunas aplicaciones, la frecuencia de llamadas a <xref:System.GC.Collect%2A?displayProperty=nameWithType> o la cantidad de caché que se recorta no son suficientes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-451">For some applications, the frequency of calls to <xref:System.GC.Collect%2A?displayProperty=nameWithType> or the amount of cache that is trimmed are inefficient.</span></span> <span data-ttu-id="04d3a-452">Ahora los desarrolladores puede reemplazar o complementar el comportamiento predeterminado si suscriben las implementaciones de **IObserver** al monitor de memoria de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-452">Developers can now replace or supplement the default behavior by subscribing **IObserver** implementations to the application's memory monitor.</span></span>

<a name="wcf47" />

#### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="04d3a-453">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-453">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="04d3a-454">Windows Communication Foundation (WCF) agrega las siguientes características y cambios:</span><span class="sxs-lookup"><span data-stu-id="04d3a-454">Windows Communication Foundation (WCF) adds the following features and changes:</span></span>

<span data-ttu-id="04d3a-455">**Capacidad de configurar las opciones de seguridad de mensaje predeterminadas en TLS 1.1 o TLS 1.2**</span><span class="sxs-lookup"><span data-stu-id="04d3a-455">**Ability to configure the default message security settings to TLS 1.1 or TLS 1.2**</span></span>

<span data-ttu-id="04d3a-456">A partir de .NET Framework 4.7, WCF le permite configurar TSL 1.1 o TLS 1.2 además de SSL 3.0 y TSL 1.0 como protocolo de seguridad de mensajes predeterminado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-456">Starting with .NET Framework 4.7, WCF allows you to configure TSL 1.1 or TLS 1.2 in addition to SSL 3.0 and TSL 1.0 as the default message security protocol.</span></span> <span data-ttu-id="04d3a-457">Esta es una configuración opcional; para habilitarla, debe agregar la entrada siguiente al archivo de configuración de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="04d3a-457">This is an opt-in setting; to enable it, you must add the following entry to your application configuration file:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value="Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols=false;Switch.System.Net.DontEnableSchUseStrongCrypto=false" />
</runtime>
```

<span data-ttu-id="04d3a-458">**Confiabilidad mejorada de las aplicaciones WFC y la serialización WCF**</span><span class="sxs-lookup"><span data-stu-id="04d3a-458">**Improved reliability of WCF applications and WCF serialization**</span></span>

<span data-ttu-id="04d3a-459">WCF incluye varios cambios de código que eliminan condiciones de carrera, por lo que se mejora el rendimiento y la confiabilidad de las opciones de serialización.</span><span class="sxs-lookup"><span data-stu-id="04d3a-459">WCF includes a number of code changes that eliminate race conditions, thereby improving performance and the reliability of serialization options.</span></span> <span data-ttu-id="04d3a-460">Se incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-460">These include:</span></span>

- <span data-ttu-id="04d3a-461">Mayor compatibilidad para combinar código asincrónico y sincrónico en las llamadas a **SocketConnection.BeginRead** y **SocketConnection.Read**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-461">Better support for mixing asynchronous and synchronous code in calls to **SocketConnection.BeginRead** and **SocketConnection.Read**.</span></span>
- <span data-ttu-id="04d3a-462">Confiabilidad mejorada cuando se anula una conexión con **SharedConnectionListener** y **DuplexChannelBinder**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-462">Improved reliability when aborting a connection with **SharedConnectionListener** and **DuplexChannelBinder**.</span></span>
- <span data-ttu-id="04d3a-463">Confiabilidad mejorada de las operaciones de serialización al llamar al método <xref:System.Runtime.Serialization.FormatterServices.GetSerializableMembers%28System.Type%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-463">Improved reliability of serialization operations when calling the <xref:System.Runtime.Serialization.FormatterServices.GetSerializableMembers%28System.Type%29?displayProperty=nameWithType> method.</span></span>
- <span data-ttu-id="04d3a-464">Confiabilidad mejorada cuando se elimina un objeto waiter mediante una llamada al método **ChannelSynchronizer.RemoveWaiter**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-464">Improved reliability when removing a waiter by calling the **ChannelSynchronizer.RemoveWaiter** method.</span></span>

<a name="wf47" />

#### <a name="windows-forms"></a><span data-ttu-id="04d3a-465">Windows Forms</span><span class="sxs-lookup"><span data-stu-id="04d3a-465">Windows Forms</span></span>

<span data-ttu-id="04d3a-466">En .NET Framework 4.7, Windows Forms mejora la compatibilidad con monitores con valores altos de PPP.</span><span class="sxs-lookup"><span data-stu-id="04d3a-466">In .NET Framework 4.7, Windows Forms improves support for high DPI monitors.</span></span>

<span data-ttu-id="04d3a-467">**Compatibilidad con valores altos de PPP**</span><span class="sxs-lookup"><span data-stu-id="04d3a-467">**High DPI support**</span></span>

<span data-ttu-id="04d3a-468">A partir de las aplicaciones que tienen .NET Framework 4.7 como destino, .NET Framework cuenta con compatibilidad con valores altos de PPP y PPP dinámicos en aplicaciones de Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="04d3a-468">Starting with applications that target .NET Framework 4.7, the .NET Framework features high DPI and dynamic DPI support for Windows Forms applications.</span></span> <span data-ttu-id="04d3a-469">La compatibilidad con valores altos de PPP mejora el diseño y la apariencia de los formularios y controles en monitores con valores altos de PPP.</span><span class="sxs-lookup"><span data-stu-id="04d3a-469">High DPI support improves the layout and appearance of forms and controls on high DPI monitors.</span></span> <span data-ttu-id="04d3a-470">PPP dinámicos cambia el diseño y la apariencia de los formularios y controles cuando el usuario cambia los PPP o el factor de escala de visualización de una aplicación en ejecución.</span><span class="sxs-lookup"><span data-stu-id="04d3a-470">Dynamic DPI changes the layout and appearance of forms and controls when the user changes the DPI or display scale factor of a running application.</span></span>

<span data-ttu-id="04d3a-471">Compatibilidad con valores altos de PPP es una característica opcional que se configura definiendo una sección [\<System.Windows.Forms.ConfigurationSection>](../configure-apps/file-schema/winforms/index.md) en el archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-471">High DPI support is an opt-in feature that you configure by defining a [\<System.Windows.Forms.ConfigurationSection>](../configure-apps/file-schema/winforms/index.md) section in your application configuration file.</span></span> <span data-ttu-id="04d3a-472">Para más información sobre cómo agregar compatibilidad con valores altos de PPP y PPP dinámicos a la aplicación de Windows Forms, consulte [Compatibilidad con valores altos de PPP en Windows Forms](../winforms/high-dpi-support-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-472">For more information on adding high DPI support and dynamic DPI support to your Windows Forms application, see [High DPI Support in Windows Forms](../winforms/high-dpi-support-in-windows-forms.md).</span></span>

<a name="WPF47" />

#### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="04d3a-473">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-473">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="04d3a-474">En .NET Framework 4.7, WPF incluye las siguientes mejoras:</span><span class="sxs-lookup"><span data-stu-id="04d3a-474">In .NET Framework 4.7, WPF includes the following enhancements:</span></span>

<span data-ttu-id="04d3a-475">**Compatibilidad con una pila de entrada táctil o de lápiz basada en mensajes WM_POINTER de Windows**</span><span class="sxs-lookup"><span data-stu-id="04d3a-475">**Support for a touch/stylus stack based on Windows WM_POINTER messages**</span></span>

<span data-ttu-id="04d3a-476">Ahora tiene la opción de usar una pila de entrada táctil o de lápiz basada en [mensajes WM_POINTER](https://docs.microsoft.com/previous-versions/windows/desktop/InputMsg/messages) en lugar de Windows Ink Services Platform (WISP).</span><span class="sxs-lookup"><span data-stu-id="04d3a-476">You now have the option of using a touch/stylus stack based on [WM_POINTER messages](https://docs.microsoft.com/previous-versions/windows/desktop/InputMsg/messages) instead of the Windows Ink Services Platform (WISP).</span></span> <span data-ttu-id="04d3a-477">Se trata de una característica opcional de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-477">This is an opt-in feature in the .NET Framework.</span></span> <span data-ttu-id="04d3a-478">Para más información, consulte [Cambios de redestinación en .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-478">For more information, see [Retargeting Changes in the .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span></span>

<span data-ttu-id="04d3a-479">**Nueva implementación para API de impresión de WPF**</span><span class="sxs-lookup"><span data-stu-id="04d3a-479">**New implementation for WPF printing APIs**</span></span>

<span data-ttu-id="04d3a-480">Las API de impresión de WPF de la clase <xref:System.Printing.PrintQueue?displayProperty=nameWithType> llaman a la [API Print Document Package](/windows/desktop/printdocs/tailored-app-printing-api) de Windows en lugar de a la [API XPS Print](/windows/desktop/printdocs/xps-printing), que está en desuso.</span><span class="sxs-lookup"><span data-stu-id="04d3a-480">WPF's printing APIs in the <xref:System.Printing.PrintQueue?displayProperty=nameWithType> class call the Windows [Print Document Package API](/windows/desktop/printdocs/tailored-app-printing-api) instead of the deprecated [XPS Print API](/windows/desktop/printdocs/xps-printing).</span></span> <span data-ttu-id="04d3a-481">Para ver el impacto que este cambio tiene en la compatibilidad de aplicaciones, consulte [Cambios de redestinación en .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-481">For the impact of this change on application compatibility, see [Retargeting Changes in the .NET Framework 4.7](../migration-guide/retargeting-changes-in-the-net-framework-4-7.md).</span></span>

<a name="v462" />

## <a name="whats-new-in-net-framework-462"></a><span data-ttu-id="04d3a-482">Novedades de .NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="04d3a-482">What's new in .NET Framework 4.6.2</span></span>

<span data-ttu-id="04d3a-483">.NET Framework 4.6.2 incluye nuevas características en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-483">The .NET Framework 4.6.2 includes new features in the following areas:</span></span>

- [<span data-ttu-id="04d3a-484">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-484">ASP.NET</span></span>](#ASPNET462)

- [<span data-ttu-id="04d3a-485">Categorías de caracteres</span><span class="sxs-lookup"><span data-stu-id="04d3a-485">Character categories</span></span>](#Strings)

- [<span data-ttu-id="04d3a-486">Criptografía</span><span class="sxs-lookup"><span data-stu-id="04d3a-486">Cryptography</span></span>](#Crypto462)

- [<span data-ttu-id="04d3a-487">SqlClient</span><span class="sxs-lookup"><span data-stu-id="04d3a-487">SqlClient</span></span>](#SQLClient)

- [<span data-ttu-id="04d3a-488">Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="04d3a-488">Windows Communication Foundation</span></span>](#WCF)

- [<span data-ttu-id="04d3a-489">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-489">Windows Presentation Foundation (WPF)</span></span>](#WPF462)

- [<span data-ttu-id="04d3a-490">Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-490">Windows Workflow Foundation (WF)</span></span>](#WF462)

- [<span data-ttu-id="04d3a-491">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="04d3a-491">ClickOnce</span></span>](#clickonce-1)

- [<span data-ttu-id="04d3a-492">Conversión de aplicaciones de Windows Forms y WPF a aplicaciones de UWP</span><span class="sxs-lookup"><span data-stu-id="04d3a-492">Converting Windows Forms and WPF apps to UWP apps</span></span>](#UWPConvert)

- [<span data-ttu-id="04d3a-493">Mejoras en la depuración</span><span class="sxs-lookup"><span data-stu-id="04d3a-493">Debugging improvements</span></span>](#Debug462)

<span data-ttu-id="04d3a-494">Para ver una lista de las nuevas API agregadas a .NET Framework 4.6.2, consulte [.NET Framework 4.6.2 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-api-changes.md) (Cambios de API de .NET Framework 4.6.2) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="04d3a-494">For a list of new APIs added to .NET Framework 4.6.2, see [.NET Framework 4.6.2 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-api-changes.md) on GitHub.</span></span> <span data-ttu-id="04d3a-495">Para ver una lista de las mejoras de características y correcciones de errores en .NET Framework 4.6.2, consulte [.NET Framework 4.6.2 List of Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-changes.md) (Lista de cambios de .NET Framework 4.6.2) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="04d3a-495">For a list of feature improvements and bug fixes in .NET Framework 4.6.2, see [.NET Framework 4.6.2 List of Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-changes.md) on GitHub.</span></span> <span data-ttu-id="04d3a-496">Para obtener más información, vea [Announcing .NET Framework 4.6.2](https://devblogs.microsoft.com/dotnet/announcing-net-framework-4-6-2/) (Anuncio de .NET Framework 4.6.2) en el blog de .NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-496">For additional information, see [Announcing .NET Framework 4.6.2](https://devblogs.microsoft.com/dotnet/announcing-net-framework-4-6-2/) in the .NET blog.</span></span>

<a name="ASPNET462" />

### <a name="aspnet"></a><span data-ttu-id="04d3a-497">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-497">ASP.NET</span></span>

<span data-ttu-id="04d3a-498">En .NET Framework 4.6.2, ASP.NET incluye las siguientes mejoras:</span><span class="sxs-lookup"><span data-stu-id="04d3a-498">In the .NET Framework 4.6.2, ASP.NET includes the following enhancements:</span></span>

<span data-ttu-id="04d3a-499">**Compatibilidad mejorada para los mensajes de error localizado de validadores de anotación de datos**</span><span class="sxs-lookup"><span data-stu-id="04d3a-499">**Improved support for localized error messages in data annotation validators**</span></span>

<span data-ttu-id="04d3a-500">Los validadores de anotación de datos permiten realizar la validación agregando uno o varios atributos a una propiedad de clase.</span><span class="sxs-lookup"><span data-stu-id="04d3a-500">Data annotation validators enable you to perform validation by adding one or more attributes to a class property.</span></span> <span data-ttu-id="04d3a-501">El elemento <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> del atributo define el texto del mensaje de error si se produce un error de validación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-501">The attribute's <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> element defines the text of the error message if validation fails.</span></span> <span data-ttu-id="04d3a-502">A partir de .NET Framework 4.6.2, ASP.NET facilita la tarea de localizar mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="04d3a-502">Starting with the .NET Framework 4.6.2, ASP.NET makes it easy to localize error messages.</span></span> <span data-ttu-id="04d3a-503">Los mensajes de error se localizarán si:</span><span class="sxs-lookup"><span data-stu-id="04d3a-503">Error messages will be localized if:</span></span>

1. <span data-ttu-id="04d3a-504">Se proporciona <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> en el atributo de validación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-504">The <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> is provided in the validation attribute.</span></span>

2. <span data-ttu-id="04d3a-505">El archivo de recursos está almacenado en la carpeta App_LocalResources.</span><span class="sxs-lookup"><span data-stu-id="04d3a-505">The resource file is stored in the App_LocalResources folder.</span></span>

3. <span data-ttu-id="04d3a-506">El nombre del archivo de recursos localizados tiene la forma `DataAnnotation.Localization.{`*nombre*`}.resx`, donde *nombre* es un nombre de referencia cultural en el formato *códigoDeIdioma*`-`*códigoDePaís/Región* o *códigoDeIdioma*.</span><span class="sxs-lookup"><span data-stu-id="04d3a-506">The name of the localized resources file has the form `DataAnnotation.Localization.{`*name*`}.resx`, where *name* is a culture name in the format *languageCode*`-`*country/regionCode* or *languageCode*.</span></span>

4. <span data-ttu-id="04d3a-507">El nombre de clave del recurso es la cadena asignada al atributo <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> y su valor es el mensaje de error localizado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-507">The key name of the resource is the string assigned to the <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> attribute,  and its value is the localized error message.</span></span>

<span data-ttu-id="04d3a-508">Por ejemplo, el siguiente atributo de anotación de datos define el mensaje de error de la referencia cultural predeterminada para una clasificación no válida.</span><span class="sxs-lookup"><span data-stu-id="04d3a-508">For example, the following data annotation attribute defines the default culture's error message for an invalid rating.</span></span>

```csharp
public class RatingInfo
{
   [Required(ErrorMessage = "The rating must be between 1 and 10.")]
   [Display(Name = "Your Rating")]
   public int Rating { get; set; }
}
```

```vb
Public Class RatingInfo
   <Required(ErrorMessage = "The rating must be between 1 and 10.")>
   <Display(Name = "Your Rating")>
   Public Property Rating As Integer = 1
End Class
```

<span data-ttu-id="04d3a-509">A continuación, puede crear un archivo de recursos DataAnnotation.Localization.fr.resx cuya clave sea la cadena del mensaje de error y cuyo valor sea el mensaje de error localizado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-509">You can then create a resource file, DataAnnotation.Localization.fr.resx, whose key is the error message string and whose value is the localized error message.</span></span> <span data-ttu-id="04d3a-510">El archivo debe encontrarse en la carpeta `App.LocalResources`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-510">The file must be found in the `App.LocalResources` folder.</span></span> <span data-ttu-id="04d3a-511">Por ejemplo, a continuación se muestra la clave y su valor en un mensaje de error localizado en idioma francés (fr):</span><span class="sxs-lookup"><span data-stu-id="04d3a-511">For example, the following is the key and its value in a localized French (fr) language error message:</span></span>

| <span data-ttu-id="04d3a-512">NOMBRE</span><span class="sxs-lookup"><span data-stu-id="04d3a-512">Name</span></span>                                 | <span data-ttu-id="04d3a-513">Valor</span><span class="sxs-lookup"><span data-stu-id="04d3a-513">Value</span></span>                                     |
| ------------------------------------ | ----------------------------------------- |
| <span data-ttu-id="04d3a-514">La clasificación debe estar entre 1 y 10.</span><span class="sxs-lookup"><span data-stu-id="04d3a-514">The rating must be between 1 and 10.</span></span> | <span data-ttu-id="04d3a-515">La note doit être comprise entre 1 et 10.</span><span class="sxs-lookup"><span data-stu-id="04d3a-515">La note doit être comprise entre 1 et 10.</span></span> |

 <span data-ttu-id="04d3a-516">Además, la localización de anotaciones de datos es extensible.</span><span class="sxs-lookup"><span data-stu-id="04d3a-516">In addition, data annotation localization is extensible.</span></span> <span data-ttu-id="04d3a-517">Los desarrolladores pueden conectar su propio proveedor de localizador de cadenas mediante la implementación de la interfaz <xref:System.Web.Globalization.IStringLocalizerProvider> para almacenar la cadena de localización en un lugar distinto de un archivo de recursos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-517">Developers can plug in their own string localizer provider by implementing the <xref:System.Web.Globalization.IStringLocalizerProvider> interface to store localization string somewhere other than in a resource file.</span></span>

 <span data-ttu-id="04d3a-518">**Compatibilidad asincrónica con proveedores de almacenes de estados de sesión**</span><span class="sxs-lookup"><span data-stu-id="04d3a-518">**Async support with session-state store providers**</span></span>

 <span data-ttu-id="04d3a-519">Actualmente, ASP.NET permite el uso de métodos de devolución de tareas con proveedores de almacenes de estados de sesión, lo que permite que las aplicaciones ASP.NET aprovechen las ventajas de escalabilidad de la asincronía.</span><span class="sxs-lookup"><span data-stu-id="04d3a-519">ASP.NET now allows task-returning methods to be used with session-state store providers, thereby allowing ASP.NET apps to get the scalability benefits of async.</span></span> <span data-ttu-id="04d3a-520">Para admitir operaciones asincrónicas con proveedores de almacenes de estados de sesión, ASP.NET incluye una nueva interfaz, <xref:System.Web.SessionState.ISessionStateModule?displayProperty=nameWithType>, que se hereda de <xref:System.Web.IHttpModule> y permite a los desarrolladores implementar sus propios módulos de estados de sesión y proveedores de almacenes de sesión asincrónica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-520">To supports asynchronous operations with session state store providers, ASP.NET includes  a new interface, <xref:System.Web.SessionState.ISessionStateModule?displayProperty=nameWithType>, which inherits from <xref:System.Web.IHttpModule> and allows developers to implement their own session-state module and async session store providers.</span></span> <span data-ttu-id="04d3a-521">La interfaz se define de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="04d3a-521">The interface is defined as follows:</span></span>

```csharp
public interface ISessionStateModule : IHttpModule {
    void ReleaseSessionState(HttpContext context);
    Task ReleaseSessionStateAsync(HttpContext context);
}
```

```vb
Public Interface ISessionStateModule : Inherits IHttpModule
   Sub ReleaseSessionState(context As HttpContext)
   Function ReleaseSessionStateAsync(context As HttpContext) As Task
End Interface
```

 <span data-ttu-id="04d3a-522">Además, la clase <xref:System.Web.SessionState.SessionStateUtility> incluye dos nuevos métodos, <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateReadOnly%2A> y <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateRequired%2A>, que se pueden usar para admitir operaciones asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-522">In addition, the <xref:System.Web.SessionState.SessionStateUtility> class includes two new methods, <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateReadOnly%2A> and <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateRequired%2A>, that can be used to support asynchronous operations.</span></span>

 <span data-ttu-id="04d3a-523">**Compatibilidad asincrónica con proveedores de caché de resultados**</span><span class="sxs-lookup"><span data-stu-id="04d3a-523">**Async support for output-cache providers**</span></span>

 <span data-ttu-id="04d3a-524">A partir de .NET Framework 4.6.2, pueden usarse métodos de devolución de tarea con proveedores de caché de resultados para proporcionar las ventajas de escalabilidad de la asincronía.</span><span class="sxs-lookup"><span data-stu-id="04d3a-524">Starting with the .NET Framework 4.6.2, task-returning methods can be used with output-cache providers to provide the scalability benefits of async.</span></span>  <span data-ttu-id="04d3a-525">Los proveedores que implementan estos métodos reducen el bloqueo de subprocesos en un servidor web y mejoran la escalabilidad de un servicio de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-525">Providers that implement these methods reduce thread-blocking on a web server and improve the scalability of an ASP.NET service.</span></span>

 <span data-ttu-id="04d3a-526">Se han agregado las API siguientes para ofrecer compatibilidad con proveedores de caché de resultados asincrónicos:</span><span class="sxs-lookup"><span data-stu-id="04d3a-526">The following APIs have been added to support asynchronous output-cache providers:</span></span>

- <span data-ttu-id="04d3a-527">La clase <xref:System.Web.Caching.OutputCacheProviderAsync?displayProperty=nameWithType>, que se hereda de <xref:System.Web.Caching.OutputCacheProvider?displayProperty=nameWithType> y permite a los desarrolladores implementar un proveedor de caché de resultados asincrónicos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-527">The <xref:System.Web.Caching.OutputCacheProviderAsync?displayProperty=nameWithType> class, which inherits from <xref:System.Web.Caching.OutputCacheProvider?displayProperty=nameWithType> and allows developers to implement an asynchronous output-cache provider.</span></span>

- <span data-ttu-id="04d3a-528">La clase <xref:System.Web.Caching.OutputCacheUtility>, que proporciona métodos del asistente para configurar la caché de resultados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-528">The <xref:System.Web.Caching.OutputCacheUtility> class, which provides helper methods for configuring the output cache.</span></span>

- <span data-ttu-id="04d3a-529">18 métodos nuevos en la clase <xref:System.Web.HttpCachePolicy?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-529">18 new methods in the <xref:System.Web.HttpCachePolicy?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="04d3a-530">Entre estos se incluyen <xref:System.Web.HttpCachePolicy.GetCacheability%2A>, <xref:System.Web.HttpCachePolicy.GetCacheExtensions%2A>, <xref:System.Web.HttpCachePolicy.GetETag%2A>, <xref:System.Web.HttpCachePolicy.GetETagFromFileDependencies%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetNoStore%2A>, <xref:System.Web.HttpCachePolicy.GetNoTransforms%2A>, <xref:System.Web.HttpCachePolicy.GetOmitVaryStar%2A>, <xref:System.Web.HttpCachePolicy.GetProxyMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetRevalidation%2A>, <xref:System.Web.HttpCachePolicy.GetUtcLastModified%2A>, <xref:System.Web.HttpCachePolicy.GetVaryByCustom%2A>, <xref:System.Web.HttpCachePolicy.HasSlidingExpiration%2A> y <xref:System.Web.HttpCachePolicy.IsValidUntilExpires%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-530">These include <xref:System.Web.HttpCachePolicy.GetCacheability%2A>, <xref:System.Web.HttpCachePolicy.GetCacheExtensions%2A>, <xref:System.Web.HttpCachePolicy.GetETag%2A>, <xref:System.Web.HttpCachePolicy.GetETagFromFileDependencies%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetNoStore%2A>, <xref:System.Web.HttpCachePolicy.GetNoTransforms%2A>, <xref:System.Web.HttpCachePolicy.GetOmitVaryStar%2A>, <xref:System.Web.HttpCachePolicy.GetProxyMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetRevalidation%2A>, <xref:System.Web.HttpCachePolicy.GetUtcLastModified%2A>, <xref:System.Web.HttpCachePolicy.GetVaryByCustom%2A>, <xref:System.Web.HttpCachePolicy.HasSlidingExpiration%2A>, and <xref:System.Web.HttpCachePolicy.IsValidUntilExpires%2A>.</span></span>

- <span data-ttu-id="04d3a-531">2 métodos nuevos en la clase <xref:System.Web.HttpCacheVaryByContentEncodings?displayProperty=nameWithType>: <xref:System.Web.HttpCacheVaryByContentEncodings.GetContentEncodings%2A> y <xref:System.Web.HttpCacheVaryByContentEncodings.SetContentEncodings%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-531">2 new methods in the <xref:System.Web.HttpCacheVaryByContentEncodings?displayProperty=nameWithType> class:  <xref:System.Web.HttpCacheVaryByContentEncodings.GetContentEncodings%2A> and <xref:System.Web.HttpCacheVaryByContentEncodings.SetContentEncodings%2A>.</span></span>

- <span data-ttu-id="04d3a-532">2 métodos nuevos en la clase <xref:System.Web.HttpCacheVaryByHeaders?displayProperty=nameWithType>: <xref:System.Web.HttpCacheVaryByHeaders.GetHeaders%2A> y <xref:System.Web.HttpCacheVaryByHeaders.SetHeaders%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-532">2 new methods in the <xref:System.Web.HttpCacheVaryByHeaders?displayProperty=nameWithType> class: <xref:System.Web.HttpCacheVaryByHeaders.GetHeaders%2A> and <xref:System.Web.HttpCacheVaryByHeaders.SetHeaders%2A>.</span></span>

- <span data-ttu-id="04d3a-533">2 métodos nuevos en la clase <xref:System.Web.HttpCacheVaryByParams?displayProperty=nameWithType>: <xref:System.Web.HttpCacheVaryByParams.GetParams%2A> y <xref:System.Web.HttpCacheVaryByParams.SetParams%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-533">2 new methods in the <xref:System.Web.HttpCacheVaryByParams?displayProperty=nameWithType> class: <xref:System.Web.HttpCacheVaryByParams.GetParams%2A> and <xref:System.Web.HttpCacheVaryByParams.SetParams%2A>.</span></span>

- <span data-ttu-id="04d3a-534">En la clase <xref:System.Web.Caching.AggregateCacheDependency?displayProperty=nameWithType>, el método <xref:System.Web.Caching.AggregateCacheDependency.GetFileDependencies%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-534">In the <xref:System.Web.Caching.AggregateCacheDependency?displayProperty=nameWithType> class, the <xref:System.Web.Caching.AggregateCacheDependency.GetFileDependencies%2A> method.</span></span>

- <span data-ttu-id="04d3a-535">En la clase <xref:System.Web.Caching.CacheDependency>, el método <xref:System.Web.Caching.CacheDependency.GetFileDependencies%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-535">In the <xref:System.Web.Caching.CacheDependency>, the <xref:System.Web.Caching.CacheDependency.GetFileDependencies%2A> method.</span></span>

<a name="Strings" />

### <a name="character-categories"></a><span data-ttu-id="04d3a-536">Categorías de caracteres</span><span class="sxs-lookup"><span data-stu-id="04d3a-536">Character categories</span></span>

<span data-ttu-id="04d3a-537">Los caracteres de .NET Framework 4.6.2 se clasifican según el [estándar Unicode, versión 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-537">Characters in the .NET Framework 4.6.2 are classified based on the [Unicode Standard, Version 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/).</span></span> <span data-ttu-id="04d3a-538">En .NET Framework 4.6 y .NET Framework 4.6.1, los caracteres están clasificados según las categorías de caracteres Unicode 6.3.</span><span class="sxs-lookup"><span data-stu-id="04d3a-538">In .NET Framework 4.6 and .NET Framework 4.6.1, characters were classified based on Unicode 6.3 character categories.</span></span>

<span data-ttu-id="04d3a-539">La compatibilidad con Unicode 8.0 está limitada a la clasificación de caracteres mediante la clase <xref:System.Globalization.CharUnicodeInfo> y a los tipos y los métodos que se basan en ella.</span><span class="sxs-lookup"><span data-stu-id="04d3a-539">Support for Unicode 8.0 is limited to the classification of characters by the <xref:System.Globalization.CharUnicodeInfo> class and to types and methods that rely on it.</span></span> <span data-ttu-id="04d3a-540">Entre ellos se incluyen la clase <xref:System.Globalization.StringInfo>, el método sobrecargado <xref:System.Char.GetUnicodeCategory%2A?displayProperty=nameWithType> y las [clases de caracteres](../../standard/base-types/character-classes-in-regular-expressions.md) reconocidas por el motor de expresiones regulares de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-540">These include the <xref:System.Globalization.StringInfo> class, the overloaded <xref:System.Char.GetUnicodeCategory%2A?displayProperty=nameWithType> method, and the [character classes](../../standard/base-types/character-classes-in-regular-expressions.md) recognized by the .NET Framework regular expression engine.</span></span>  <span data-ttu-id="04d3a-541">La comparación y la ordenación de caracteres y cadenas no se ven afectadas por este cambio y siguen dependiendo del sistema operativo subyacente o, en el caso de los sistemas Windows 7, de los datos de caracteres proporcionados por .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-541">Character and string comparison and sorting is unaffected by this change and continues to rely on the underlying operating system or, on Windows 7 systems, on character data provided by the .NET Framework.</span></span>

<span data-ttu-id="04d3a-542">Para realizar cambios en las categorías de caracteres de Unicode 6.0 a Unicode 7.0, consulte la página sobre [el estándar Unicode, versión 7.0.0](https://www.unicode.org/versions/Unicode7.0.0/) en el sitio web de The Unicode Consortium.</span><span class="sxs-lookup"><span data-stu-id="04d3a-542">For changes in character categories from Unicode 6.0 to Unicode 7.0, see [The Unicode Standard, Version 7.0.0](https://www.unicode.org/versions/Unicode7.0.0/) at The Unicode Consortium website.</span></span> <span data-ttu-id="04d3a-543">Para realizar cambios de caracteres de Unicode 7.0 a Unicode 8.0, consulte la página sobre [el estándar Unicode, versión 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/) en el sitio web de The Unicode Consortium.</span><span class="sxs-lookup"><span data-stu-id="04d3a-543">For changes from Unicode 7.0 to Unicode 8.0, see [The Unicode Standard, Version 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/) at The Unicode Consortium website.</span></span>

<a name="Crypto462" />

### <a name="cryptography"></a><span data-ttu-id="04d3a-544">Criptografía</span><span class="sxs-lookup"><span data-stu-id="04d3a-544">Cryptography</span></span>

<span data-ttu-id="04d3a-545">**Compatibilidad con certificados X509 que contienen DSA de FIPS 186-3**</span><span class="sxs-lookup"><span data-stu-id="04d3a-545">**Support for X509 certificates containing FIPS 186-3 DSA**</span></span>

<span data-ttu-id="04d3a-546">.NET Framework 4.6.2 agrega compatibilidad con certificados X509 de DSA (algoritmo de firma digital) cuyas claves superan el límite de 1024 bits de FIPS 186-2.</span><span class="sxs-lookup"><span data-stu-id="04d3a-546">The .NET Framework 4.6.2 adds support for DSA (Digital Signature Algorithm) X509 certificates whose keys exceed the FIPS 186-2 1024-bit limit.</span></span>

<span data-ttu-id="04d3a-547">Además de admitir los tamaños de clave más grandes de FIPS 186-3, .NET Framework 4.6.2 permite calcular firmas con la familia SHA-2 de algoritmos hash (SHA256, SHA384 y SHA512).</span><span class="sxs-lookup"><span data-stu-id="04d3a-547">In addition to supporting the larger key sizes of FIPS 186-3, the .NET Framework 4.6.2 allows computing signatures with the SHA-2 family of hash algorithms (SHA256, SHA384, and SHA512).</span></span> <span data-ttu-id="04d3a-548">La compatibilidad con FIPS 186-3 se proporciona mediante la nueva clase <xref:System.Security.Cryptography.DSACng?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-548">FIPS 186-3 support is provided by the new <xref:System.Security.Cryptography.DSACng?displayProperty=nameWithType> class.</span></span>

<span data-ttu-id="04d3a-549">Para conservar los cambios recientes en la clase <xref:System.Security.Cryptography.RSA> de .NET Framework 4.6 y la clase <xref:System.Security.Cryptography.ECDsa> de .NET Framework 4.6.1, la clase base abstracta <xref:System.Security.Cryptography.DSA> de .NET Framework 4.6.2 tiene métodos adicionales que permiten que los autores de llamada usen esta funcionalidad sin conversión.</span><span class="sxs-lookup"><span data-stu-id="04d3a-549">In keeping with recent changes to the <xref:System.Security.Cryptography.RSA> class in .NET Framework 4.6 and the <xref:System.Security.Cryptography.ECDsa> class in .NET Framework 4.6.1, the <xref:System.Security.Cryptography.DSA> abstract base class in .NET Framework 4.6.2 has additional methods to allow callers to use this functionality without casting.</span></span> <span data-ttu-id="04d3a-550">Puede llamar al método de extensión <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A?displayProperty=nameWithType> para firmar los datos, como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-550">You can call the <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A?displayProperty=nameWithType> extension method to sign data, as the following example shows.</span></span>

```csharp
public static byte[] SignDataDsaSha384(byte[] data, X509Certificate2 cert)
{
    using (DSA dsa = cert.GetDSAPrivateKey())
    {
        return dsa.SignData(data, HashAlgorithmName.SHA384);
    }
}
```

```vb
Public Shared Function SignDataDsaSha384(data As Byte(), cert As X509Certificate2) As Byte()
    Using DSA As DSA = cert.GetDSAPrivateKey()
        Return DSA.SignData(data, HashAlgorithmName.SHA384)
    End Using
End Function
```

<span data-ttu-id="04d3a-551">También puede llamar al método de extensión <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A?displayProperty=nameWithType> para comprobar los datos firmados, como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-551">And you can call the <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A?displayProperty=nameWithType> extension method to verify signed data, as the following example shows.</span></span>

```csharp
public static bool VerifyDataDsaSha384(byte[] data, byte[] signature, X509Certificate2 cert)
{
    using (DSA dsa = cert.GetDSAPublicKey())
    {
        return dsa.VerifyData(data, signature, HashAlgorithmName.SHA384);
    }
}
```

```vb
 Public Shared Function VerifyDataDsaSha384(data As Byte(), signature As Byte(), cert As X509Certificate2) As Boolean
    Using dsa As DSA = cert.GetDSAPublicKey()
        Return dsa.VerifyData(data, signature, HashAlgorithmName.SHA384)
    End Using
End Function
```

<span data-ttu-id="04d3a-552">**Mayor claridad para las entradas en rutinas de derivación de claves ECDiffieHellman**</span><span class="sxs-lookup"><span data-stu-id="04d3a-552">**Increased clarity for inputs to ECDiffieHellman key derivation routines**</span></span>

<span data-ttu-id="04d3a-553">.NET Framework 3.5 incluía compatibilidad con el acuerdo de claves Diffie-Hellman de curva elíptica con tres rutinas diferentes de función de derivación de claves (KDF).</span><span class="sxs-lookup"><span data-stu-id="04d3a-553">.NET Framework 3.5 added support for Elliptic Curve Diffie-Hellman Key Agreement with three different Key Derivation Function (KDF) routines.</span></span> <span data-ttu-id="04d3a-554">Las entradas en las rutinas y las propias rutinas se configuraban mediante propiedades en el objeto <xref:System.Security.Cryptography.ECDiffieHellmanCng>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-554">The inputs to the routines, and the routines themselves, were configured via properties on the <xref:System.Security.Cryptography.ECDiffieHellmanCng> object.</span></span> <span data-ttu-id="04d3a-555">Pero como no todas las rutinas leían todas las propiedades de entrada, esto podía provocar confusión al desarrollador.</span><span class="sxs-lookup"><span data-stu-id="04d3a-555">But since not every routine read every input property, there was ample room for confusion on the past of the developer.</span></span>

<span data-ttu-id="04d3a-556">Para solucionarlo en .NET Framework 4.6.2, se han agregado los tres métodos siguientes a la clase base <xref:System.Security.Cryptography.ECDiffieHellman> para manifestar con mayor claridad estas rutinas KDF y sus entradas:</span><span class="sxs-lookup"><span data-stu-id="04d3a-556">To address this in the .NET Framework 4.6.2, the following three methods have been added to the  <xref:System.Security.Cryptography.ECDiffieHellman> base class to more clearly represent these KDF routines and their inputs:</span></span>

|<span data-ttu-id="04d3a-557">Método ECDiffieHellman</span><span class="sxs-lookup"><span data-stu-id="04d3a-557">ECDiffieHellman method</span></span>|<span data-ttu-id="04d3a-558">Descripción</span><span class="sxs-lookup"><span data-stu-id="04d3a-558">Description</span></span>|
|----------------------------|-----------------|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyFromHash%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Security.Cryptography.HashAlgorithmName%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="04d3a-559">Deriva el material de clave mediante la fórmula</span><span class="sxs-lookup"><span data-stu-id="04d3a-559">Derives key material using the formula</span></span><br /><br /> <span data-ttu-id="04d3a-560">HASH(secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span><span class="sxs-lookup"><span data-stu-id="04d3a-560">HASH(secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span></span><br /><br /> <span data-ttu-id="04d3a-561">HASH(secretPrepend OrElse *x* OrElse secretAppend)</span><span class="sxs-lookup"><span data-stu-id="04d3a-561">HASH(secretPrepend OrElse *x* OrElse secretAppend)</span></span><br /><br /> <span data-ttu-id="04d3a-562">donde *x* es el resultado calculado del algoritmo de Diffie-Hellman de curva elíptica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-562">where *x* is the computed result of the EC Diffie-Hellman algorithm.</span></span>|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyFromHmac%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Security.Cryptography.HashAlgorithmName%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="04d3a-563">Deriva el material de clave mediante la fórmula</span><span class="sxs-lookup"><span data-stu-id="04d3a-563">Derives key material using the formula</span></span><br /><br /> <span data-ttu-id="04d3a-564">HMAC(hmacKey, secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span><span class="sxs-lookup"><span data-stu-id="04d3a-564">HMAC(hmacKey, secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span></span><br /><br /> <span data-ttu-id="04d3a-565">HMAC(hmacKey, secretPrepend OrElse *x* OrElse secretAppend)</span><span class="sxs-lookup"><span data-stu-id="04d3a-565">HMAC(hmacKey, secretPrepend OrElse *x* OrElse secretAppend)</span></span><br /><br /> <span data-ttu-id="04d3a-566">donde *x* es el resultado calculado del algoritmo de Diffie-Hellman de curva elíptica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-566">where *x* is the computed result of the EC Diffie-Hellman algorithm.</span></span>|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyTls%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="04d3a-567">Deriva el material de clave mediante el algoritmo de derivación de función pseudoaleatoria (PRF) de TLS.</span><span class="sxs-lookup"><span data-stu-id="04d3a-567">Derives key material using the TLS pseudo-random function (PRF) derivation algorithm.</span></span>|

<span data-ttu-id="04d3a-568">**Compatibilidad con el cifrado simétrico de clave persistente**</span><span class="sxs-lookup"><span data-stu-id="04d3a-568">**Support for persisted-key symmetric encryption**</span></span>

<span data-ttu-id="04d3a-569">La biblioteca de criptografía (CNG) de Windows agrega compatibilidad para almacenar claves simétricas persistentes y para usar claves simétricas almacenadas en el hardware, y .NET Framework 4.6.2 hace posible que los desarrolladores usen esta característica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-569">The Windows cryptography library (CNG) added support for storing persisted symmetric keys and using hardware-stored symmetric keys, and the .NET Framework 4.6.2 made it possible for developers to make use of this feature.</span></span>  <span data-ttu-id="04d3a-570">Como el concepto de nombres de clave y proveedores de clave depende de la implementación, el uso de esta característica obliga a emplear el constructor de los tipos de la implementación concreta, en lugar del enfoque de fábrica preferido (por ejemplo, llamar a `Aes.Create`).</span><span class="sxs-lookup"><span data-stu-id="04d3a-570">Since the notion of key names and key providers is implementation-specific, using this feature requires utilizing the constructor of the concrete implementation types instead of the preferred factory approach (such as calling `Aes.Create`).</span></span>

<span data-ttu-id="04d3a-571">Existe compatibilidad con el cifrado simétrico de clave persistente para los algoritmos AES (<xref:System.Security.Cryptography.AesCng>) y 3DES (<xref:System.Security.Cryptography.TripleDESCng>).</span><span class="sxs-lookup"><span data-stu-id="04d3a-571">Persisted-key symmetric encryption support exists for the AES (<xref:System.Security.Cryptography.AesCng>) and 3DES (<xref:System.Security.Cryptography.TripleDESCng>) algorithms.</span></span> <span data-ttu-id="04d3a-572">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="04d3a-572">For example:</span></span>

```csharp
public static byte[] EncryptDataWithPersistedKey(byte[] data, byte[] iv)
{
    using (Aes aes = new AesCng("AesDemoKey", CngProvider.MicrosoftSoftwareKeyStorageProvider))
    {
        aes.IV = iv;

        // Using the zero-argument overload is required to make use of the persisted key
        using (ICryptoTransform encryptor = aes.CreateEncryptor())
        {
            if (!encryptor.CanTransformMultipleBlocks)
            {
                throw new InvalidOperationException("This is a sample, this case wasn’t handled...");
            }

            return encryptor.TransformFinalBlock(data, 0, data.Length);
        }
    }
}
```

```vb
Public Shared Function EncryptDataWithPersistedKey(data As Byte(), iv As Byte()) As Byte()
    Using Aes As Aes = New AesCng("AesDemoKey", CngProvider.MicrosoftSoftwareKeyStorageProvider)
        Aes.IV = iv

        ' Using the zero-argument overload Is required to make use of the persisted key
        Using encryptor As ICryptoTransform = Aes.CreateEncryptor()
            If Not encryptor.CanTransformMultipleBlocks Then
                Throw New InvalidOperationException("This is a sample, this case wasn’t handled...")
            End If
            Return encryptor.TransformFinalBlock(data, 0, data.Length)
        End Using
    End Using
End Function
```

<span data-ttu-id="04d3a-573">**Compatibilidad con SignedXml para hash SHA-2**</span><span class="sxs-lookup"><span data-stu-id="04d3a-573">**SignedXml support for SHA-2 hashing**</span></span>

<span data-ttu-id="04d3a-574">.NET Framework 4.6.2 agrega compatibilidad con la clase <xref:System.Security.Cryptography.Xml.SignedXml> para los métodos de firma PKCS#1 RSA-SHA256, RSA-SHA384 y RSA-SHA512, y para los algoritmos de resumen de referencia SHA256, SHA384 y SHA512.</span><span class="sxs-lookup"><span data-stu-id="04d3a-574">The .NET Framework 4.6.2 adds support to  the <xref:System.Security.Cryptography.Xml.SignedXml> class for RSA-SHA256, RSA-SHA384, and RSA-SHA512 PKCS#1 signature methods, and SHA256, SHA384, and SHA512 reference digest algorithms.</span></span>

<span data-ttu-id="04d3a-575">Todas las constantes URI se exponen en <xref:System.Security.Cryptography.Xml.SignedXml>:</span><span class="sxs-lookup"><span data-stu-id="04d3a-575">The URI constants are all exposed on <xref:System.Security.Cryptography.Xml.SignedXml>:</span></span>

|<span data-ttu-id="04d3a-576">Campo SignedXml</span><span class="sxs-lookup"><span data-stu-id="04d3a-576">SignedXml field</span></span>|<span data-ttu-id="04d3a-577">Constante</span><span class="sxs-lookup"><span data-stu-id="04d3a-577">Constant</span></span>|
|---------------------|--------------|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA256Url>|<span data-ttu-id="04d3a-578">"http://www.w3.org/2001/04/xmlenc#sha256"</span><span class="sxs-lookup"><span data-stu-id="04d3a-578">"http://www.w3.org/2001/04/xmlenc#sha256"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA256Url>|<span data-ttu-id="04d3a-579">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"</span><span class="sxs-lookup"><span data-stu-id="04d3a-579">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA384Url>|<span data-ttu-id="04d3a-580">"http://www.w3.org/2001/04/xmldsig-more#sha384"</span><span class="sxs-lookup"><span data-stu-id="04d3a-580">"http://www.w3.org/2001/04/xmldsig-more#sha384"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA384Url>|<span data-ttu-id="04d3a-581">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"</span><span class="sxs-lookup"><span data-stu-id="04d3a-581">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA512Url>|<span data-ttu-id="04d3a-582">"http://www.w3.org/2001/04/xmlenc#sha512"</span><span class="sxs-lookup"><span data-stu-id="04d3a-582">"http://www.w3.org/2001/04/xmlenc#sha512"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA512Url>|<span data-ttu-id="04d3a-583">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"</span><span class="sxs-lookup"><span data-stu-id="04d3a-583">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"</span></span>|

 <span data-ttu-id="04d3a-584">Todos los programas que hayan registrado un controlador <xref:System.Security.Cryptography.SignatureDescription> personalizado en <xref:System.Security.Cryptography.CryptoConfig> para agregar compatibilidad para estos algoritmos seguirán funcionando como antes, pero como ahora hay valores predeterminados de la plataforma, ya no es necesario el registro de <xref:System.Security.Cryptography.CryptoConfig>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-584">Any programs that have registered a custom <xref:System.Security.Cryptography.SignatureDescription> handler into <xref:System.Security.Cryptography.CryptoConfig> to add support for these algorithms will continue to function as they did in the past, but since there are now platform defaults, the <xref:System.Security.Cryptography.CryptoConfig> registration is no longer necessary.</span></span>

<a name="SQLClient" />

### <a name="sqlclient"></a><span data-ttu-id="04d3a-585">SqlClient</span><span class="sxs-lookup"><span data-stu-id="04d3a-585">SqlClient</span></span>

<span data-ttu-id="04d3a-586">El proveedor de datos .NET Framework para SQL Server (<xref:System.Data.SqlClient?displayProperty=nameWithType>) incluye las siguientes características nuevas en .NET Framework 4.6.2:</span><span class="sxs-lookup"><span data-stu-id="04d3a-586">.NET Framework Data Provider for SQL Server (<xref:System.Data.SqlClient?displayProperty=nameWithType>) includes the following new features in the .NET Framework 4.6.2:</span></span>

<span data-ttu-id="04d3a-587">**Agrupación de conexiones y tiempos de espera con bases de datos SQL de Azure**</span><span class="sxs-lookup"><span data-stu-id="04d3a-587">**Connection pooling and timeouts with Azure SQL databases**</span></span>

<span data-ttu-id="04d3a-588">Cuando se habilita la agrupación de conexiones y se produce un error de tiempo de espera u otro tipo de error de inicio de sesión, se almacena en caché una excepción que se produce en todos los intentos de conexión posteriores que se realicen en un plazo de entre 5 segundos y 1 minuto.</span><span class="sxs-lookup"><span data-stu-id="04d3a-588">When connection pooling is enabled and a timeout or other login error occurs, an exception is cached, and the cached exception is thrown on any subsequent connection attempt for the next 5 seconds  to 1 minute.</span></span>  <span data-ttu-id="04d3a-589">Para obtener más información, vea [Agrupación de conexiones en SQL Server (ADO.NET)](../data/adonet/sql-server-connection-pooling.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-589">For more details, see [SQL Server Connection Pooling (ADO.NET)](../data/adonet/sql-server-connection-pooling.md).</span></span>

<span data-ttu-id="04d3a-590">Este comportamiento no es el deseable al conectarse a bases de datos SQL de Azure, ya que en los intentos de conexión se pueden producir errores transitorios que normalmente se recuperan rápidamente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-590">This behavior is not desirable when connecting to Azure SQL Databases, since connection attempts can fail with transient errors that are typically recovered quickly.</span></span> <span data-ttu-id="04d3a-591">Para optimizar la experiencia de reintento de conexión, se elimina el comportamiento del período de bloqueo del grupo de conexiones cuando se produce un error en las conexiones a bases de datos SQL de Azure.</span><span class="sxs-lookup"><span data-stu-id="04d3a-591">To better optimize the connection retry experience, the connection pool blocking period behavior is removed when connections to Azure SQL Databases fail.</span></span>

<span data-ttu-id="04d3a-592">La adición de la nueva palabra clave `PoolBlockingPeriod` permite seleccionar el período de bloqueo más adecuado para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-592">The addition of the new `PoolBlockingPeriod` keyword lets you to select the blocking period best suited for your app.</span></span> <span data-ttu-id="04d3a-593">Estos valores incluyen:</span><span class="sxs-lookup"><span data-stu-id="04d3a-593">Values include:</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.Auto>

<span data-ttu-id="04d3a-594">El período de bloqueo del grupo de conexiones para una aplicación que se conecta a una base de datos SQL de Azure está deshabilitado, mientras que el período de bloqueo del grupo de conexiones para una aplicación que se conecta a cualquier otra instancia de SQL Server está habilitado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-594">The connection pool blocking period for an application that connects to an Azure SQL Database is disabled, and the connection pool blocking period for an application that connects to any other SQL Server instance is enabled.</span></span> <span data-ttu-id="04d3a-595">Este es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-595">This is the default value.</span></span> <span data-ttu-id="04d3a-596">Si el nombre del punto de conexión del servidor termina de alguna de las siguientes maneras, se considera que se trata de bases de datos SQL de Azure:</span><span class="sxs-lookup"><span data-stu-id="04d3a-596">If the Server endpoint name ends with any of the following, they are considered Azure SQL Databases:</span></span>

- <span data-ttu-id="04d3a-597">.database.windows.net</span><span class="sxs-lookup"><span data-stu-id="04d3a-597">.database.windows.net</span></span>

- <span data-ttu-id="04d3a-598">.database.chinacloudapi.cn</span><span class="sxs-lookup"><span data-stu-id="04d3a-598">.database.chinacloudapi.cn</span></span>

- <span data-ttu-id="04d3a-599">.database.usgovcloudapi.net</span><span class="sxs-lookup"><span data-stu-id="04d3a-599">.database.usgovcloudapi.net</span></span>

- <span data-ttu-id="04d3a-600">.database.cloudapi.de</span><span class="sxs-lookup"><span data-stu-id="04d3a-600">.database.cloudapi.de</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>

<span data-ttu-id="04d3a-601">El período de bloqueo del grupo de conexión siempre está habilitado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-601">The connection pool blocking period is always enabled.</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock>

<span data-ttu-id="04d3a-602">El período de bloqueo del grupo de conexión siempre está deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-602">The connection pool blocking period is always disabled.</span></span>

<span data-ttu-id="04d3a-603">**Mejoras para Always Encrypted**</span><span class="sxs-lookup"><span data-stu-id="04d3a-603">**Enhancements for Always Encrypted**</span></span>

<span data-ttu-id="04d3a-604">SQLClient presenta dos mejoras para Always Encrypted:</span><span class="sxs-lookup"><span data-stu-id="04d3a-604">SQLClient introduces two enhancements for Always Encrypted:</span></span>

- <span data-ttu-id="04d3a-605">Para mejorar el rendimiento de las consultas con parámetros en las columnas de una base de datos cifrada, ahora se almacenan en caché los metadatos de cifrado de los parámetros de consulta.</span><span class="sxs-lookup"><span data-stu-id="04d3a-605">To improve performance of parameterized queries against encrypted database columns, encryption metadata for query parameters is now cached.</span></span> <span data-ttu-id="04d3a-606">Con la propiedad <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionQueryMetadataCacheEnabled%2A?displayProperty=nameWithType> establecida en `true` (que es el valor predeterminado), si se llama varias veces a la misma consulta, el cliente recupera los metadatos de parámetros del servidor una sola vez.</span><span class="sxs-lookup"><span data-stu-id="04d3a-606">With the <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionQueryMetadataCacheEnabled%2A?displayProperty=nameWithType> property set to `true` (which is the default value), if the same query is called multiple times, the client retrieves parameter metadata from the server only once.</span></span>

- <span data-ttu-id="04d3a-607">Ahora, las entradas de clave de cifrado de columna incluidas en la caché de claves se expulsan después de un intervalo de tiempo configurable, que se establece mediante la propiedad <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionKeyCacheTtl%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-607">Column encryption key entries in the key cache are now evicted after a configurable time interval, set using the <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionKeyCacheTtl%2A?displayProperty=nameWithType> property.</span></span>

<a name="WCF" />

### <a name="windows-communication-foundation"></a><span data-ttu-id="04d3a-608">Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="04d3a-608">Windows Communication Foundation</span></span>

<span data-ttu-id="04d3a-609">En .NET Framework 4.6.2, Windows Communication Foundation se ha mejorado en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-609">In the .NET Framework 4.6.2, Windows Communication Foundation has been enhanced in the following areas:</span></span>

<span data-ttu-id="04d3a-610">**Compatibilidad con la seguridad de transporte de WCF para los certificados almacenados con CNG**</span><span class="sxs-lookup"><span data-stu-id="04d3a-610">**WCF transport security support for certificates stored using CNG**</span></span>

<span data-ttu-id="04d3a-611">La seguridad de transporte de WCF es compatible con los certificados almacenados mediante la biblioteca de criptografía (CNG) de Windows.</span><span class="sxs-lookup"><span data-stu-id="04d3a-611">WCF transport security supports certificates stored using the Windows cryptography library (CNG).</span></span> <span data-ttu-id="04d3a-612">En .NET Framework 4.6.2, esta compatibilidad está limitada al uso de certificados con una clave pública que tenga un exponente con una longitud no superior a 32 bits.</span><span class="sxs-lookup"><span data-stu-id="04d3a-612">In the .NET Framework 4.6.2, this support is limited to using certificates with a public key that has an exponent no more than 32 bits in length.</span></span> <span data-ttu-id="04d3a-613">Cuando una aplicación tiene .NET Framework 4.6.2 como destino, esta característica está activada de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-613">When an application targets the .NET Framework 4.6.2, this feature is on by default.</span></span>

<span data-ttu-id="04d3a-614">En el caso de las aplicaciones que tengan como destino .NET Framework 4.6.1 y versiones anteriores, pero se ejecuten en .NET Framework 4.6.2, esta característica se puede activar agregando la siguiente línea a la sección [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) del archivo app.config o web.config.</span><span class="sxs-lookup"><span data-stu-id="04d3a-614">For applications that target the .NET Framework 4.6.1 and earlier but are running on the .NET Framework 4.6.2, this feature can be enabled by adding the following line to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of the app.config or web.config file.</span></span>

```xml
<AppContextSwitchOverrides
    value="Switch.System.ServiceModel.DisableCngCertificates=false"
/>
```

<span data-ttu-id="04d3a-615">Esto también se puede hacer mediante programación con código similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-615">This can also be done programmatically with code like the following:</span></span>

```csharp
private const string DisableCngCertificates = @"Switch.System.ServiceModel.DisableCngCertificates";
AppContext.SetSwitch(disableCngCertificates, false);
```

```vb
Const DisableCngCertificates As String = "Switch.System.ServiceModel.DisableCngCertificates"
AppContext.SetSwitch(disableCngCertificates, False)
```

<span data-ttu-id="04d3a-616">**Mejor compatibilidad para varias reglas de ajuste al horario de verano mediante la clase DataContractJsonSerializer**</span><span class="sxs-lookup"><span data-stu-id="04d3a-616">**Better support for multiple daylight saving time adjustment rules by the DataContractJsonSerializer class**</span></span>

<span data-ttu-id="04d3a-617">Los clientes pueden usar una opción de configuración de la aplicación para determinar si la clase <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> admite varias reglas de ajuste para una sola zona horaria.</span><span class="sxs-lookup"><span data-stu-id="04d3a-617">Customers can use an application configuration setting to determine whether the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> class supports multiple adjustment rules for a single time zone.</span></span> <span data-ttu-id="04d3a-618">Esta característica es opcional.</span><span class="sxs-lookup"><span data-stu-id="04d3a-618">This is an opt-in feature.</span></span> <span data-ttu-id="04d3a-619">Para habilitarla, agregue la siguiente opción de configuración al archivo app.config:</span><span class="sxs-lookup"><span data-stu-id="04d3a-619">To enable it, add the following setting to your app.config file:</span></span>

```xml
<runtime>
     <AppContextSwitchOverrides value="Switch.System.Runtime.Serialization.DoNotUseTimeZoneInfo=false" />
</runtime>
```

<span data-ttu-id="04d3a-620">Cuando se habilita esta característica, un objeto <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> usa el tipo <xref:System.TimeZoneInfo> en lugar del tipo <xref:System.TimeZone> para deserializar los datos de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="04d3a-620">When this feature is enabled, a <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> object uses the <xref:System.TimeZoneInfo> type instead of the <xref:System.TimeZone> type to deserialize date and time data.</span></span> <span data-ttu-id="04d3a-621"><xref:System.TimeZoneInfo> admite varias reglas de ajuste, lo que permite trabajar con datos históricos de zona horaria, mientras que <xref:System.TimeZone> no las admite.</span><span class="sxs-lookup"><span data-stu-id="04d3a-621"><xref:System.TimeZoneInfo> supports multiple adjustment rules, which makes it possible to work with historic time zone data;   <xref:System.TimeZone> does not.</span></span>

<span data-ttu-id="04d3a-622">Para obtener más información sobre la estructura <xref:System.TimeZoneInfo> y los ajustes de zona horaria, consulte [Información general sobre zonas horarias](../../standard/datetime/time-zone-overview.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-622">For more information on the <xref:System.TimeZoneInfo> structure and time zone adjustments, see [Time Zone Overview](../../standard/datetime/time-zone-overview.md).</span></span>

<span data-ttu-id="04d3a-623">**Mejor coincidencia de NetNamedPipeBinding**</span><span class="sxs-lookup"><span data-stu-id="04d3a-623">**NetNamedPipeBinding best match**</span></span>

<span data-ttu-id="04d3a-624">WCF tiene una nueva opción de la aplicación que se puede establecer en las aplicaciones cliente para garantizar que siempre se conecten al servicio que escucha en el URI que mejor coincida con el que solicitan.</span><span class="sxs-lookup"><span data-stu-id="04d3a-624">WCF has a new app setting that can be set on client applications to ensure they always connect to the service listening on the URI that best matches the one that they request.</span></span> <span data-ttu-id="04d3a-625">Con esta opción de la aplicación establecida en `false` (valor predeterminado), es posible que los clientes que usan <xref:System.ServiceModel.NetNamedPipeBinding> intenten conectarse a un servicio que escucha en un URI que es una subcadena del URI solicitado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-625">With this app setting set to `false` (the default), it is possible for clients using <xref:System.ServiceModel.NetNamedPipeBinding> to attempt to connect to a service listening on a URI that is a substring of the requested URI.</span></span>

<span data-ttu-id="04d3a-626">Por ejemplo, un cliente intenta conectarse a un servicio que escucha en `net.pipe://localhost/Service1`, pero un servicio diferente en ese equipo que se ejecuta con privilegios de administrador escucha en `net.pipe://localhost`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-626">For example, a client tries to connect to a service listening at `net.pipe://localhost/Service1`, but a different service on that machine running with administrator privilege is listening at `net.pipe://localhost`.</span></span> <span data-ttu-id="04d3a-627">Con esta opción de la aplicación establecida en `false`, el cliente intentará conectarse al servicio incorrecto.</span><span class="sxs-lookup"><span data-stu-id="04d3a-627">With this app setting set to `false`, the client would attempt to connect to the wrong service.</span></span> <span data-ttu-id="04d3a-628">Después de establecer la opción de la aplicación en `true`, el cliente siempre se conectará al mejor servicio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-628">After setting the app setting to `true`, the client will always connect to the best matching service.</span></span>

> [!NOTE]
> <span data-ttu-id="04d3a-629">Los clientes que usan <xref:System.ServiceModel.NetNamedPipeBinding> encuentran servicios basados en la dirección base del servicio (si existe) en lugar de la dirección del punto de conexión completo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-629">Clients using <xref:System.ServiceModel.NetNamedPipeBinding> find services based on the service's base address (if it exists) rather than the full endpoint address.</span></span> <span data-ttu-id="04d3a-630">Para garantizar que esta opción siempre funcione, el servicio debe usar una dirección base única.</span><span class="sxs-lookup"><span data-stu-id="04d3a-630">To ensure this setting always works the service should use a unique base address.</span></span>

<span data-ttu-id="04d3a-631">Para habilitar este cambio, agregue la siguiente opción de la aplicación al archivo App.config o Web.config de la aplicación cliente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-631">To enable this change, add the following app setting to your client application's App.config or Web.config file:</span></span>

```xml
<configuration>
    <appSettings>
        <add key="wcf:useBestMatchNamedPipeUri" value="true" />
    </appSettings>
</configuration>
```

<span data-ttu-id="04d3a-632">**SSL 3.0 no es el protocolo predeterminado**</span><span class="sxs-lookup"><span data-stu-id="04d3a-632">**SSL 3.0 is not a default protocol**</span></span>

<span data-ttu-id="04d3a-633">Al usar NetTcp con seguridad de transporte y un tipo de credencial de certificado, SSL 3.0 ya no es el protocolo predeterminado para negociar una conexión segura.</span><span class="sxs-lookup"><span data-stu-id="04d3a-633">When using NetTcp with transport security and a credential type of certificate, SSL 3.0 is no longer a default protocol used for negotiating a secure connection.</span></span> <span data-ttu-id="04d3a-634">En la mayoría de los casos, esto no debería afectar a las aplicaciones existentes, porque TLS 1.0 está incluido en la lista de protocolos para NetTcp.</span><span class="sxs-lookup"><span data-stu-id="04d3a-634">In most cases, there should be no impact to existing apps, because TLS 1.0 is included in the protocol list for NetTcp.</span></span> <span data-ttu-id="04d3a-635">Todos los clientes deberían poder negociar una conexión usando como mínimo TLS 1.0.</span><span class="sxs-lookup"><span data-stu-id="04d3a-635">All existing clients should be able to negotiate a connection using at least TLS 1.0.</span></span> <span data-ttu-id="04d3a-636">Si se requiere Ssl3, use uno de los siguientes mecanismos de configuración para agregarlo a la lista de protocolos negociados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-636">If Ssl3 is required, use one of the following configuration mechanisms to add it to the list of negotiated protocols.</span></span>

- <span data-ttu-id="04d3a-637">La propiedad <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="04d3a-637">The <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols%2A?displayProperty=nameWithType> property</span></span>

- <span data-ttu-id="04d3a-638">La propiedad <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="04d3a-638">The <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A?displayProperty=nameWithType> property</span></span>

- <span data-ttu-id="04d3a-639">La sección [\<transport>](../configure-apps/file-schema/wcf/transport-of-nettcpbinding.md) de la sección [\<netTcpBinding>](../configure-apps/file-schema/wcf/nettcpbinding.md)</span><span class="sxs-lookup"><span data-stu-id="04d3a-639">The [\<transport>](../configure-apps/file-schema/wcf/transport-of-nettcpbinding.md) section of the [\<netTcpBinding>](../configure-apps/file-schema/wcf/nettcpbinding.md) section</span></span>

- <span data-ttu-id="04d3a-640">La sección [\<sslStreamSecurity>](../configure-apps/file-schema/wcf/sslstreamsecurity.md) de la sección [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md)</span><span class="sxs-lookup"><span data-stu-id="04d3a-640">The [\<sslStreamSecurity>](../configure-apps/file-schema/wcf/sslstreamsecurity.md) section of the [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md) section</span></span>

<a name="WPF462" />

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="04d3a-641">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-641">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="04d3a-642">En .NET Framework 4.6.2, Windows Presentation Foundation se ha mejorado en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-642">In the .NET Framework 4.6.2, Windows Presentation Foundation has been enhanced in the following areas:</span></span>

<span data-ttu-id="04d3a-643">**Ordenación de grupos**</span><span class="sxs-lookup"><span data-stu-id="04d3a-643">**Group sorting**</span></span>

<span data-ttu-id="04d3a-644">Ahora, una aplicación que use un objeto <xref:System.Windows.Data.CollectionView> para agrupar los datos puede declarar explícitamente cómo ordenar los grupos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-644">An application that uses a <xref:System.Windows.Data.CollectionView> object to group data can now explicitly declare how to  sort the groups.</span></span> <span data-ttu-id="04d3a-645">La ordenación explícita resuelve el problema de la ordenación no intuitiva que se produce cuando una aplicación agrega o elimina grupos dinámicamente, o cuando cambia el valor de las propiedades de elementos implicadas en la agrupación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-645">Explicit sorting addresses the problem of non-intuitive ordering that occurs when an app dynamically adds or removes groups, or when it changes the value of item properties involved in grouping.</span></span> <span data-ttu-id="04d3a-646">También puede mejorar el rendimiento del proceso de creación de grupos, ya que mueve las comparaciones de las propiedades de agrupación de la ordenación de la colección completa a la ordenación de los grupos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-646">It can also improve the performance of the group creation process by moving comparisons of the grouping properties from the sort of the full collection to the sort of the groups.</span></span>

<span data-ttu-id="04d3a-647">Para admitir la ordenación de grupos, las nuevas propiedades <xref:System.ComponentModel.GroupDescription.SortDescriptions%2A?displayProperty=nameWithType> y <xref:System.ComponentModel.GroupDescription.CustomSort%2A?displayProperty=nameWithType> describen cómo ordenar la colección de grupos generada por el objeto <xref:System.ComponentModel.GroupDescription>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-647">To support group sorting, the new <xref:System.ComponentModel.GroupDescription.SortDescriptions%2A?displayProperty=nameWithType> and <xref:System.ComponentModel.GroupDescription.CustomSort%2A?displayProperty=nameWithType> properties describe how to sort the collection of groups produced by the <xref:System.ComponentModel.GroupDescription> object.</span></span> <span data-ttu-id="04d3a-648">Esto es análogo a la forma en que las propiedades <xref:System.Windows.Data.ListCollectionView> con el mismo nombre describen cómo se ordenan los elementos de datos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-648">This is analogous to the way the identically named <xref:System.Windows.Data.ListCollectionView> properties describe how to sort the data items.</span></span>

<span data-ttu-id="04d3a-649">Dos nuevas propiedades estáticas de la clase <xref:System.Windows.Data.PropertyGroupDescription>, <xref:System.Windows.Data.PropertyGroupDescription.CompareNameAscending%2A> y <xref:System.Windows.Data.PropertyGroupDescription.CompareNameDescending%2A>, se pueden usar para los casos más comunes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-649">Two new static properties of the <xref:System.Windows.Data.PropertyGroupDescription> class,  <xref:System.Windows.Data.PropertyGroupDescription.CompareNameAscending%2A> and <xref:System.Windows.Data.PropertyGroupDescription.CompareNameDescending%2A>, can be used for the most common cases.</span></span>

<span data-ttu-id="04d3a-650">Por ejemplo, el siguiente código XAML agrupa los datos por edad, ordena los grupos de edad en orden ascendente y agrupa los elementos de cada grupo de edad por apellido.</span><span class="sxs-lookup"><span data-stu-id="04d3a-650">For example, the following XAML groups data by age, sort the age groups in ascending order, and group the items within each age group by last name.</span></span>

```xaml
<GroupDescriptions>
     <PropertyGroupDescription
         PropertyName="Age"
         CustomSort=
              "{x:Static PropertyGroupDescription.CompareNamesAscending}"/>
     </PropertyGroupDescription>
</GroupDescriptions>

<SortDescriptions>
     <SortDescription PropertyName="LastName"/>
</SortDescriptions>
```

<span data-ttu-id="04d3a-651">**Compatibilidad con teclado en pantalla**</span><span class="sxs-lookup"><span data-stu-id="04d3a-651">**Soft keyboard support**</span></span>

<span data-ttu-id="04d3a-652">La compatibilidad con teclado en pantalla permite el seguimiento del foco en aplicaciones WPF, ya que invoca y descarta automáticamente el nuevo teclado en pantalla de Windows 10 cuando un control que acepta entrada de texto recibe la entrada táctil.</span><span class="sxs-lookup"><span data-stu-id="04d3a-652">Soft Keyboard support enables focus tracking in a WPF applications by automatically invoking and dismissing the new Soft Keyboard in Windows 10 when the touch input is received by a control that can take textual input.</span></span>

<span data-ttu-id="04d3a-653">En versiones anteriores de .NET Framework, las aplicaciones WPF no pueden optar por el seguimiento del foco sin deshabilitar la compatibilidad con lápiz o movimiento táctil en WPF.</span><span class="sxs-lookup"><span data-stu-id="04d3a-653">In previous versions of the .NET Framework, WPF applications cannot opt into the focus tracking without disabling WPF pen/touch gesture support.</span></span>  <span data-ttu-id="04d3a-654">Como resultado, las aplicaciones WPF deben elegir entre compatibilidad táctil completa en WPF o basarse en la promoción del mouse de Windows.</span><span class="sxs-lookup"><span data-stu-id="04d3a-654">As a result, WPF applications must choose between full WPF touch support or rely on Windows mouse promotion.</span></span>

<span data-ttu-id="04d3a-655">**PPP por monitor**</span><span class="sxs-lookup"><span data-stu-id="04d3a-655">**Per-monitor DPI**</span></span>

<span data-ttu-id="04d3a-656">Para admitir la reciente proliferación de entornos con valores altos o híbridos de PPP para las aplicaciones WPF, WPF en .NET Framework 4.6.2 habilita el reconocimiento de monitor.</span><span class="sxs-lookup"><span data-stu-id="04d3a-656">To support the recent proliferation of high-DPI and hybrid-DPI environments for WPF apps, WPF in the .NET Framework 4.6.2 enables per-monitor awareness.</span></span> <span data-ttu-id="04d3a-657">Consulte [los ejemplos y la guía para desarrolladores](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI) en GitHub para obtener más información sobre cómo activar el reconocimiento de PPP por monitor en la aplicación WPF.</span><span class="sxs-lookup"><span data-stu-id="04d3a-657">See the [samples and developer guide](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI) on GitHub for more information about how to enable your WPF app to become per-monitor DPI aware.</span></span>

<span data-ttu-id="04d3a-658">En versiones anteriores de .NET Framework, las aplicaciones WPF tienen habilitado el reconocimiento de PPP del sistema.</span><span class="sxs-lookup"><span data-stu-id="04d3a-658">In previous versions of the .NET Framework, WPF apps are system-DPI aware.</span></span> <span data-ttu-id="04d3a-659">En otras palabras, el sistema operativo escala la interfaz de usuario de la aplicación según corresponda, en función del valor de PPP del monitor en el que se representa la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-659">In other words, the application's UI is scaled by the OS as appropriate, depending on the DPI of the monitor on which the app is rendered.</span></span>

<span data-ttu-id="04d3a-660">Para aplicaciones que se ejecutan en .NET Framework 4.6.2, puede deshabilitar los cambios de PPP por monitor en las aplicaciones WPF. Para ello, agregue una instrucción de configuración en la sección [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) del archivo de configuración de la aplicación de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="04d3a-660">For apps running under the .NET Framework 4.6.2, you can disable per-monitor DPI changes in WPF apps by adding a configuration statement to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of your application configuration file, as follows:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value="Switch.System.Windows.DoNotScaleForDpiChanges=false"/>
</runtime>
```

<a name="WF462" />

### <a name="windows-workflow-foundation-wf"></a><span data-ttu-id="04d3a-661">Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-661">Windows Workflow Foundation (WF)</span></span>

<span data-ttu-id="04d3a-662">En .NET Framework 4.6.2, Windows Workflow Foundation se ha mejorado en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-662">In the .NET Framework 4.6.2, Windows Workflow Foundation has been enhanced in the following area:</span></span>

<span data-ttu-id="04d3a-663">**Compatibilidad con expresiones de C# e IntelliSense en el Diseñador de WF rehospedado**</span><span class="sxs-lookup"><span data-stu-id="04d3a-663">**Support for C# expressions and IntelliSense in the Re-hosted WF Designer**</span></span>

<span data-ttu-id="04d3a-664">A partir de .NET Framework 4.5, WF admite expresiones de C# en el diseñador de Visual Studio y en los flujos de trabajo de código.</span><span class="sxs-lookup"><span data-stu-id="04d3a-664">Starting with the .NET Framework 4.5, WF supports C# expressions in both the Visual Studio Designer and in code workflows.</span></span> <span data-ttu-id="04d3a-665">El Diseñador de flujo de trabajo rehospedado es una característica clave de WF que permite que el Diseñador de flujo de trabajo esté en una aplicación fuera de Visual Studio (por ejemplo, en WPF).</span><span class="sxs-lookup"><span data-stu-id="04d3a-665">The Re-hosted Workflow Designer is a key feature of WF that allows for the Workflow Designer to be in an application outside Visual Studio (for example, in WPF).</span></span>  <span data-ttu-id="04d3a-666">Windows Workflow Foundation permite admitir expresiones de C# e IntelliSense en el Diseñador de flujo de trabajo rehospedado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-666">Windows Workflow Foundation provides the ability to support C# expressions and IntelliSense in the Re-hosted Workflow Designer.</span></span> <span data-ttu-id="04d3a-667">Para obtener más información, consulte el [blog de Windows Workflow Foundation](https://docs.microsoft.com/archive/blogs/workflowteam/building-c-expressions-support-and-intellisense-in-the-rehosted-workflow-designer).</span><span class="sxs-lookup"><span data-stu-id="04d3a-667">For more information, see the [Windows Workflow Foundation blog](https://docs.microsoft.com/archive/blogs/workflowteam/building-c-expressions-support-and-intellisense-in-the-rehosted-workflow-designer).</span></span>

<span data-ttu-id="04d3a-668">`Availability of IntelliSense when a customer rebuilds a workflow project from Visual Studio` En las versiones de .NET Framework anteriores a .NET Framework 4.6.2, IntelliSense del Diseñador de WF se interrumpe cuando un cliente vuelve a compilar un proyecto de flujo de trabajo desde Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-668">`Availability of IntelliSense when a customer rebuilds a workflow project from Visual Studio` In versions of the .NET Framework prior to the .NET Framework 4.6.2, WF Designer IntelliSense is broken when a customer rebuilds a workflow project from Visual Studio.</span></span> <span data-ttu-id="04d3a-669">Aunque la compilación del proyecto es correcta, los tipos de flujo de trabajo no se encuentran en el diseñador y en la ventana **Lista de errores** aparecen advertencias de IntelliSense que indican los tipos de flujo de trabajo que faltan.</span><span class="sxs-lookup"><span data-stu-id="04d3a-669">While the project build is successful, the workflow types are not found on the designer, and warnings from IntelliSense for the missing workflow types appear in the **Error List** window.</span></span> <span data-ttu-id="04d3a-670">.NET Framework 4.6.2 soluciona este problema y hace que IntelliSense esté disponible.</span><span class="sxs-lookup"><span data-stu-id="04d3a-670">The .NET Framework 4.6.2 addresses this issue and makes IntelliSense available.</span></span>

<span data-ttu-id="04d3a-671">**Las aplicaciones V1 de flujo de trabajo con seguimiento del flujo de trabajo ahora se ejecutan en modo FIPS**</span><span class="sxs-lookup"><span data-stu-id="04d3a-671">**Workflow V1 applications with Workflow Tracking on now run under FIPS-mode**</span></span>

<span data-ttu-id="04d3a-672">Los equipos que tienen habilitado el modo de cumplimiento de FIPS ahora pueden ejecutar correctamente una aplicación de versión 1 de flujo de trabajo con el seguimiento del flujo de trabajo habilitado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-672">Machines with FIPS Compliance Mode enabled can now successfully run a workflow Version 1-style application with Workflow tracking on.</span></span> <span data-ttu-id="04d3a-673">Para habilitar este escenario, debe realizar el cambio siguiente en el archivo app.config:</span><span class="sxs-lookup"><span data-stu-id="04d3a-673">To enable this scenario, you must make the following change to your app.config file:</span></span>

```xml
<add key="microsoft:WorkflowRuntime:FIPSRequired" value="true" />
```

<span data-ttu-id="04d3a-674">Si este escenario no está habilitado, al ejecutar la aplicación se sigue generando una excepción con el mensaje "Esta implementación no forma parte de los algoritmos criptográficos validados por Windows Platform FIPS".</span><span class="sxs-lookup"><span data-stu-id="04d3a-674">If this scenario is not enabled, running the application continues to generate an exception with the message, "This implementation is not part of the Windows Platform FIPS validated cryptographic algorithms."</span></span>

<span data-ttu-id="04d3a-675">**Mejoras en el flujo de trabajo al usar la actualización dinámica con el Diseñador de flujo de trabajo de Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="04d3a-675">**Workflow Improvements when using Dynamic Update with Visual Studio Workflow Designer**</span></span>

<span data-ttu-id="04d3a-676">El Diseñador de flujo de trabajo, el Diseñador de actividad de diagrama de flujo y otros diseñadores de actividad de flujo de trabajo ahora cargan y muestran correctamente los flujos de trabajo que se han guardado después de llamar al método <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-676">The Workflow Designer, FlowChart Activity Designer, and other Workflow Activity Designers now successfully load and display workflows that have been saved after calling  the <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="04d3a-677">En versiones de .NET Framework anteriores a .NET Framework 4.6.2, la carga de un archivo XAML en Visual Studio para un flujo de trabajo guardado después de llamar a <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> puede producir los problemas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-677">In versions of the .NET Framework before .NET Framework 4.6.2, loading a XAML file in Visual Studio for a workflow that has been saved after calling <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> can result in the following issues:</span></span>

- <span data-ttu-id="04d3a-678">El Diseñador de flujo de trabajo no se puede cargar el archivo XAML correctamente (cuando <xref:System.Activities.Presentation.ViewState.ViewStateData.Id%2A?displayProperty=nameWithType> se encuentra al final de la línea).</span><span class="sxs-lookup"><span data-stu-id="04d3a-678">The Workflow Designer can't load the XAML file correctly (when the <xref:System.Activities.Presentation.ViewState.ViewStateData.Id%2A?displayProperty=nameWithType> is at the end of the line).</span></span>

- <span data-ttu-id="04d3a-679">El Diseñador de actividad de diagrama de flujo u otros diseñadores de actividad de flujo de trabajo pueden mostrar todos los objetos en sus ubicaciones predeterminadas en lugar de los valores de la propiedad adjunta.</span><span class="sxs-lookup"><span data-stu-id="04d3a-679">Flowchart Activity Designer or other Workflow Activity Designers may display all objects in their default locations as opposed to attached property values.</span></span>

<a name="clickonce-1" />

### <a name="clickonce"></a><span data-ttu-id="04d3a-680">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="04d3a-680">ClickOnce</span></span>

<span data-ttu-id="04d3a-681">Se ha actualizado ClickOnce para que admita TLS 1.1 y TLS 1.2 además del protocolo 1.0, que ya se admite.</span><span class="sxs-lookup"><span data-stu-id="04d3a-681">ClickOnce has been updated to support TLS 1.1 and TLS 1.2 in addition to the 1.0 protocol, which it already supports.</span></span> <span data-ttu-id="04d3a-682">ClickOnce detecta automáticamente qué protocolo se requiere; no es necesario realizar ningún paso adicional en la aplicación ClickOnce para habilitar la compatibilidad con TLS 1.1 y 1.2.</span><span class="sxs-lookup"><span data-stu-id="04d3a-682">ClickOnce automatically detects which protocol is required; no extra steps within the ClickOnce application are required to enable TLS 1.1 and 1.2 support.</span></span>

<a name="UWPConvert" />

### <a name="converting-windows-forms-and-wpf-apps-to--uwp-apps"></a><span data-ttu-id="04d3a-683">Conversión de aplicaciones de Windows Forms y WPF a aplicaciones de UWP</span><span class="sxs-lookup"><span data-stu-id="04d3a-683">Converting Windows Forms and WPF apps to  UWP apps</span></span>

<span data-ttu-id="04d3a-684">Windows ahora ofrece funciones para llevar aplicaciones existentes de escritorio de Windows, incluidas aplicaciones de Windows Forms y WPF, a la Plataforma universal de Windows (UWP).</span><span class="sxs-lookup"><span data-stu-id="04d3a-684">Windows now offers capabilities to bring existing Windows desktop apps, including WPF and Windows Forms apps, to the Universal Windows Platform (UWP).</span></span> <span data-ttu-id="04d3a-685">Esta tecnología actúa como un puente, ya que permite migrar gradualmente su base de código existente a UWP, lo que lleva su aplicación a todos los dispositivos Windows 10.</span><span class="sxs-lookup"><span data-stu-id="04d3a-685">This technology acts as a bridge by enabling you to gradually migrate your existing code base to UWP, thereby bringing your app to all Windows 10 devices.</span></span>

<span data-ttu-id="04d3a-686">Las aplicaciones de escritorio convertidas obtienen una identidad de aplicación similar a la identidad de aplicación de las aplicaciones de UWP, lo que hace que las API de UWP sean accesibles para habilitar características como iconos dinámicos y notificaciones.</span><span class="sxs-lookup"><span data-stu-id="04d3a-686">Converted desktop apps gain an app identity similar to the app identity of UWP apps, which makes UWP APIs accessible to enable features such as Live Tiles and notifications.</span></span> <span data-ttu-id="04d3a-687">La aplicación sigue comportándose como antes y se ejecuta como una aplicación de plena confianza.</span><span class="sxs-lookup"><span data-stu-id="04d3a-687">The app continues to behave as before and runs as a full trust app.</span></span> <span data-ttu-id="04d3a-688">Una vez convertida la aplicación, se puede agregar un proceso de contenedor de la aplicación al proceso de plena confianza existente para agregar una interfaz de usuario adaptable.</span><span class="sxs-lookup"><span data-stu-id="04d3a-688">Once the app is converted, an app container process can be added to the existing full trust process to add an adaptive user interface.</span></span> <span data-ttu-id="04d3a-689">Cuando todas las funciones se hayan movido al proceso de contenedor de la aplicación, se puede quitar el proceso de plena confianza y la nueva aplicación de UWP estará disponible para todos los dispositivos Windows 10.</span><span class="sxs-lookup"><span data-stu-id="04d3a-689">When all functionality is moved to the app container process, the full trust process can be removed and the new UWP app can be made available to all Windows 10 devices.</span></span>

<a name="Debug462" />

### <a name="debugging-improvements"></a><span data-ttu-id="04d3a-690">Mejoras en la depuración</span><span class="sxs-lookup"><span data-stu-id="04d3a-690">Debugging improvements</span></span>

<span data-ttu-id="04d3a-691">La *API de depuración no administrada* se ha mejorado en .NET Framework 4.6.2 para que realice análisis adicionales cuando se produzca una excepción <xref:System.NullReferenceException>, de modo que sea posible determinar qué variable de una sola línea de código fuente es `null`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-691">The *unmanaged debugging API* has been enhanced in the .NET Framework 4.6.2 to perform additional analysis when a <xref:System.NullReferenceException> is thrown so that it is possible to determine which variable in a single line of source code is `null`.</span></span>   <span data-ttu-id="04d3a-692">Para admitir este escenario, se han agregado las API siguientes a la API de depuración no administrada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-692">To support this scenario, the following APIs have been added to the unmanaged debugging API.</span></span>

- <span data-ttu-id="04d3a-693">Las interfaces [ICorDebugCode4](../unmanaged-api/debugging/icordebugcode4-interface.md), [ICorDebugVariableHome](../unmanaged-api/debugging/icordebugvariablehome-interface.md) e [ICorDebugVariableHomeEnum](../unmanaged-api/debugging/icordebugvariablehomeenum-interface.md), que exponen las ubicaciones nativas de las variables administradas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-693">The [ICorDebugCode4](../unmanaged-api/debugging/icordebugcode4-interface.md), [ICorDebugVariableHome](../unmanaged-api/debugging/icordebugvariablehome-interface.md), and [ICorDebugVariableHomeEnum](../unmanaged-api/debugging/icordebugvariablehomeenum-interface.md) interfaces, which expose the native homes of managed variables.</span></span> <span data-ttu-id="04d3a-694">Esto permite a los depuradores realizar un análisis de flujo de código cuando se produce una excepción <xref:System.NullReferenceException> y trabajar hacia atrás para determinar la variable administrada que se corresponde con la ubicación nativa que era `null`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-694">This enables debuggers to do some code flow analysis when a  <xref:System.NullReferenceException> occurs and to work backwards to determine the managed variable that corresponds to the native location that was `null`.</span></span>

- <span data-ttu-id="04d3a-695">El método [ICorDebugType2::GetTypeID](../unmanaged-api/debugging/icordebugtype2-gettypeid-method.md) proporciona una asignación para ICorDebugType a [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md), lo que permite al depurador obtener un valor [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) sin una instancia de ICorDebugType.</span><span class="sxs-lookup"><span data-stu-id="04d3a-695">The [ICorDebugType2::GetTypeID](../unmanaged-api/debugging/icordebugtype2-gettypeid-method.md) method provides a mapping for ICorDebugType to [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md), which allows the debugger to obtain a [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) without an instance of the ICorDebugType.</span></span> <span data-ttu-id="04d3a-696">Después, las API existentes en [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) pueden usarse para determinar el diseño de clase del tipo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-696">Existing APIs on [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) can then be used to determine the class layout of the type.</span></span>

<a name="v461" />

## <a name="whats-new-in-net-framework-461"></a><span data-ttu-id="04d3a-697">Novedades de .NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-697">What's new in .NET Framework 4.6.1</span></span>

<span data-ttu-id="04d3a-698">.NET Framework 4.6.1 incluye nuevas características en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-698">The .NET Framework 4.6.1 includes new features in the following areas:</span></span>

- [<span data-ttu-id="04d3a-699">Criptografía</span><span class="sxs-lookup"><span data-stu-id="04d3a-699">Cryptography</span></span>](#Crypto)

- [<span data-ttu-id="04d3a-700">ADO.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-700">ADO.NET</span></span>](#ADO.NET461)

- [<span data-ttu-id="04d3a-701">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-701">Windows Presentation Foundation (WPF)</span></span>](#WPF461)

- [<span data-ttu-id="04d3a-702">Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="04d3a-702">Windows Workflow Foundation</span></span>](#WWF461)

- [<span data-ttu-id="04d3a-703">Generación de perfiles</span><span class="sxs-lookup"><span data-stu-id="04d3a-703">Profiling</span></span>](#Profile461)

- [<span data-ttu-id="04d3a-704">NGen</span><span class="sxs-lookup"><span data-stu-id="04d3a-704">NGen</span></span>](#NGEN461)

<span data-ttu-id="04d3a-705">Para más información sobre .NET Framework 4.6.1, consulte los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-705">For more information on the .NET Framework 4.6.1, see the following topics:</span></span>

- [<span data-ttu-id="04d3a-706">Lista de cambios de .NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-706">.NET Framework 4.6.1 list of changes</span></span>](https://github.com/Microsoft/dotnet/blob/master/releases/net461/dotnet461-changes.md)

- [<span data-ttu-id="04d3a-707">Compatibilidad de aplicaciones en 4.6.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-707">Application Compatibility in 4.6.1</span></span>](../migration-guide/application-compatibility.md)

- <span data-ttu-id="04d3a-708">[Diferencia de la API de .NET Framework](https://github.com/Microsoft/dotnet/blob/master/releases/net461/dotnet461-api-changes.md) (en GitHub)</span><span class="sxs-lookup"><span data-stu-id="04d3a-708">[.NET Framework API diff](https://github.com/Microsoft/dotnet/blob/master/releases/net461/dotnet461-api-changes.md) (on GitHub)</span></span>

<a name="Crypto" />

### <a name="cryptography-support-for-x509-certificates-containing-ecdsa"></a><span data-ttu-id="04d3a-709">Criptografía: Compatibilidad con certificados X509 que contienen ECDSA</span><span class="sxs-lookup"><span data-stu-id="04d3a-709">Cryptography: Support for X509 certificates containing ECDSA</span></span>

<span data-ttu-id="04d3a-710">.NET Framework 4.6 agregó compatibilidad con RSACng para certificados X509.</span><span class="sxs-lookup"><span data-stu-id="04d3a-710">.NET Framework 4.6 added RSACng support for X509 certificates.</span></span> <span data-ttu-id="04d3a-711">.NET Framework 4.6.1 agrega compatibilidad para certificados X509 ECDSA (Elliptic Curve Digital Signature Algorithm).</span><span class="sxs-lookup"><span data-stu-id="04d3a-711">The .NET Framework 4.6.1 adds support for ECDSA (Elliptic Curve Digital Signature Algorithm) X509 certificates.</span></span>

<span data-ttu-id="04d3a-712">ECDSA ofrece un mejor rendimiento y es un algoritmo de cifrado más seguro que RSA, lo que lo convierte en una excelente elección cuando están en juego la escalabilidad y el rendimiento de la seguridad de capa de transporte (TLS).</span><span class="sxs-lookup"><span data-stu-id="04d3a-712">ECDSA offers better performance and is a more secure cryptography algorithm than RSA, providing an excellent choice where Transport Layer Security (TLS) performance and scalability is a concern.</span></span> <span data-ttu-id="04d3a-713">La implementación de .NET Framework encapsula las llamadas en funciones de Windows existentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-713">The .NET Framework implementation wraps calls into existing Windows functionality.</span></span>

<span data-ttu-id="04d3a-714">El ejemplo de código siguiente muestra lo fácil que es generar una firma para una secuencia de bytes mediante la nueva compatibilidad para certificados X509 de ECDSA incluidos en .NET Framework 4.6.1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-714">The following example code shows how easy it is to generate a signature for a byte stream by using the new  support for ECDSA  X509 certificates included in the .NET Framework 4.6.1.</span></span>

[!code-csharp[whatsnew.461.crypto#1](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.461.crypto/cs/Code46.cs#1)]
[!code-vb[whatsnew.461.crypto#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.461.crypto/vb/Code461.vb#1)]

<span data-ttu-id="04d3a-715">Esto ofrece un marcado contraste con el código necesario para generar una firma en .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-715">This offers a marked contrast to the code needed to generate a signature in .NET Framework 4.6.</span></span>

[!code-csharp[whatsnew.461.crypto#2](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.461.crypto/cs/Code46.cs#2)]
[!code-vb[whatsnew.461.crypto#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.461.crypto/vb/Code46.vb#2)]

<a name="ADO.NET461" />

### <a name="adonet"></a><span data-ttu-id="04d3a-716">ADO.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-716">ADO.NET</span></span>

<span data-ttu-id="04d3a-717">Se agregó lo siguiente a ADO.NET:</span><span class="sxs-lookup"><span data-stu-id="04d3a-717">The following have been added to ADO.NET:</span></span>

<span data-ttu-id="04d3a-718">**Compatibilidad con Always Encrypted para claves protegidas por hardware**</span><span class="sxs-lookup"><span data-stu-id="04d3a-718">**Always Encrypted support for hardware protected keys**</span></span>

<span data-ttu-id="04d3a-719">ADO.NET ahora permite almacenar claves maestras de la columna Always Encrypted de forma nativa en módulos de seguridad de hardware (HSM).</span><span class="sxs-lookup"><span data-stu-id="04d3a-719">ADO.NET now supports storing Always Encrypted column master keys natively in Hardware Security Modules (HSMs).</span></span> <span data-ttu-id="04d3a-720">Con esta compatibilidad, los clientes pueden aprovechar las claves asimétricas almacenadas en HSM sin tener que escribir proveedores de almacenes de clave maestra de la columna personalizada ni registrarlos en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="04d3a-720">With this support, customers can leverage asymmetric keys stored in HSMs without having to write custom column master key store providers and registering them in applications.</span></span>

<span data-ttu-id="04d3a-721">Los clientes necesitan instalar el proveedor CSP proporcionado por el fabricante HSM o los proveedores de almacén de claves de CNG en los servidores de aplicación o en los equipos cliente para tener acceso a los datos que Always Encrypted ha protegido con las claves maestras de columna almacenadas en un HSM.</span><span class="sxs-lookup"><span data-stu-id="04d3a-721">Customers need to install the HSM vendor-provided CSP provider or CNG key store providers on the app servers or client computers in order to access Always Encrypted data protected with column master keys stored in a HSM.</span></span>

<span data-ttu-id="04d3a-722">**Comportamiento de la conexión de <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> mejorado para AlwaysOn**</span><span class="sxs-lookup"><span data-stu-id="04d3a-722">**Improved <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> connection behavior for AlwaysOn**</span></span>

<span data-ttu-id="04d3a-723">Ahora SqlClient proporciona de forma automática conexiones más rápidas a un grupo de disponibilidad AlwaysOn (AG).</span><span class="sxs-lookup"><span data-stu-id="04d3a-723">SqlClient now automatically provides faster connections to an AlwaysOn Availability Group (AG).</span></span> <span data-ttu-id="04d3a-724">Detecta de forma transparente si la aplicación se conecta a un grupo de disponibilidad AlwaysOn (AG) en una subred diferente y detecta rápidamente el servidor activo actual y proporciona una conexión al servidor.</span><span class="sxs-lookup"><span data-stu-id="04d3a-724">It transparently detects whether your application is connecting to an AlwaysOn availability group (AG) on a different subnet and quickly discovers the current active server and provides a connection to the server.</span></span> <span data-ttu-id="04d3a-725">Antes de esta versión, una aplicación tenía que establecer la cadena de conexión para incluir `"MultisubnetFailover=true"` e indicar que se conecta a un grupo de disponibilidad AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="04d3a-725">Prior to this release, an application had to set the connection string to include `"MultisubnetFailover=true"` to indicate that it was connecting to an AlwaysOn Availability Group.</span></span> <span data-ttu-id="04d3a-726">Sin establecer la palabra clave de conexión en `true`, una aplicación podría experimentar un tiempo de espera mientras se conecta a un grupo de disponibilidad AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="04d3a-726">Without setting the connection keyword to `true`, an application might experience a timeout while connecting to an AlwaysOn Availability Group.</span></span> <span data-ttu-id="04d3a-727">Con esta versión, la aplicación ya *no* necesita establecer <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> en `true`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-727">With this release, an application does *not* need to set <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> to `true` anymore.</span></span> <span data-ttu-id="04d3a-728">Para obtener más información sobre la compatibilidad de SqlClient con grupos de disponibilidad AlwaysOn, vea [Compatibilidad de SqlClient para alta disponibilidad y recuperación ante desastres](../data/adonet/sql/sqlclient-support-for-high-availability-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-728">For more information about SqlClient support for Always On Availability Groups, see [SqlClient Support for High Availability, Disaster Recovery](../data/adonet/sql/sqlclient-support-for-high-availability-disaster-recovery.md).</span></span>

<a name="WPF461" />

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="04d3a-729">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-729">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="04d3a-730">Windows Presentation Foundation incluye una serie de mejoras y cambios.</span><span class="sxs-lookup"><span data-stu-id="04d3a-730">Windows Presentation Foundation includes a number of improvements and changes.</span></span>

<span data-ttu-id="04d3a-731">**Rendimiento mejorado**</span><span class="sxs-lookup"><span data-stu-id="04d3a-731">**Improved performance**</span></span>

<span data-ttu-id="04d3a-732">Se corrigió el retraso de activación de eventos de función táctil en .NET Framework 4.6.1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-732">The delay in firing touch events has been fixed in the .NET Framework 4.6.1.</span></span> <span data-ttu-id="04d3a-733">Además, al escribir un control <xref:System.Windows.Controls.RichTextBox> ya no se bloquea el subproceso de representación durante la entrada rápida.</span><span class="sxs-lookup"><span data-stu-id="04d3a-733">In addition, typing in a <xref:System.Windows.Controls.RichTextBox> control no longer ties up the render thread during fast input.</span></span>

<span data-ttu-id="04d3a-734">**Mejoras en el corrector ortográfico**</span><span class="sxs-lookup"><span data-stu-id="04d3a-734">**Spell checking improvements**</span></span>

<span data-ttu-id="04d3a-735">El corrector ortográfico en WPF se ha actualizado en Windows 8.1 y en versiones posteriores para aprovechar la compatibilidad del sistema operativo con la corrección ortográfica de idiomas adicionales.</span><span class="sxs-lookup"><span data-stu-id="04d3a-735">The spell checker in WPF has been updated on Windows 8.1 and later versions to leverage operating system support for spell-checking additional languages.</span></span>  <span data-ttu-id="04d3a-736">No hay ningún cambio en la funcionalidad en las versiones de Windows anteriores a Windows 8.1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-736">There is no change in functionality on Windows versions prior to Windows 8.1.</span></span>

<span data-ttu-id="04d3a-737">Como en versiones anteriores de .NET Framework, el idioma de un control <xref:System.Windows.Controls.TextBox> o un bloque <xref:System.Windows.Controls.RichTextBox> se detecta mediante la búsqueda de información en el orden siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-737">As in previous versions of the .NET Framework, the language for a <xref:System.Windows.Controls.TextBox> control ora <xref:System.Windows.Controls.RichTextBox> block is detected by looking for information in the following order:</span></span>

- <span data-ttu-id="04d3a-738">`xml:lang`, si está presente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-738">`xml:lang`, if it is present.</span></span>

- <span data-ttu-id="04d3a-739">Idioma de entrada actual.</span><span class="sxs-lookup"><span data-stu-id="04d3a-739">Current input language.</span></span>

- <span data-ttu-id="04d3a-740">Referencia cultural del subproceso actual.</span><span class="sxs-lookup"><span data-stu-id="04d3a-740">Current thread culture.</span></span>

<span data-ttu-id="04d3a-741">Para obtener más información sobre la compatibilidad de idioma en WPF, vea la [entrada de blog de WPF sobre las características de .NET Framework 4.6.1](https://devblogs.microsoft.com/wpf/wpf-in-net-4-6-1/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-741">For additional information on language support in WPF, see the [WPF blog post on .NET Framework 4.6.1 features](https://devblogs.microsoft.com/wpf/wpf-in-net-4-6-1/).</span></span>

<span data-ttu-id="04d3a-742">**Compatibilidad adicional con diccionarios personalizados por el usuario**</span><span class="sxs-lookup"><span data-stu-id="04d3a-742">**Additional support for per-user custom dictionaries**</span></span>

<span data-ttu-id="04d3a-743">En .NET Framework 4.6.1, WPF reconoce los diccionarios personalizados que se registran de forma global.</span><span class="sxs-lookup"><span data-stu-id="04d3a-743">In .NET Framework 4.6.1, WPF recognizes custom dictionaries that are registered globally.</span></span> <span data-ttu-id="04d3a-744">Esta funcionalidad está disponible además de la posibilidad de registrarlos por control.</span><span class="sxs-lookup"><span data-stu-id="04d3a-744">This capability is available in addition to the ability to register them per-control.</span></span>

<span data-ttu-id="04d3a-745">En versiones anteriores de WPF, los diccionarios personalizados no reconocían palabras excluidas ni listas de autocorrección.</span><span class="sxs-lookup"><span data-stu-id="04d3a-745">In previous versions of WPF, custom dictionaries did not recognize Excluded Words and AutoCorrect lists.</span></span> <span data-ttu-id="04d3a-746">Ahora se admiten en Windows 8.1 y Windows 10 mediante el uso de archivos que se pueden colocar en el directorio `%AppData%\Microsoft\Spelling\<language tag>`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-746">They are supported on Windows 8.1 and Windows 10 through the use of files that can be placed under the `%AppData%\Microsoft\Spelling\<language tag>` directory.</span></span>  <span data-ttu-id="04d3a-747">Las reglas siguientes se aplican a estos archivos:</span><span class="sxs-lookup"><span data-stu-id="04d3a-747">The following rules apply to these files:</span></span>

- <span data-ttu-id="04d3a-748">Los archivos deben tener las extensiones .dic (para palabras agregadas), .exc (para las palabras excluidas) o .acl (para la autocorrección).</span><span class="sxs-lookup"><span data-stu-id="04d3a-748">The files should have extensions of .dic (for added words), .exc (for excluded words), or .acl (for AutoCorrect).</span></span>

- <span data-ttu-id="04d3a-749">Los archivos deben ser texto sin formato UTF-16 LE que comienza con la marca BOM (Byte Order Mark).</span><span class="sxs-lookup"><span data-stu-id="04d3a-749">The files should be UTF-16 LE plaintext that starts with the Byte Order Mark (BOM).</span></span>

- <span data-ttu-id="04d3a-750">Cada línea debe constar de una palabra (en las listas de palabras agregadas y excluidas) o un par de autocorrección con las palabras separadas por una barra vertical ("&#124;") (en la lista de palabras de Autocorrección).</span><span class="sxs-lookup"><span data-stu-id="04d3a-750">Each line should consist of a word (in the added and excluded word lists), or an autocorrect pair with the words separated by a vertical bar ("&#124;") (in the AutoCorrect word list).</span></span>

- <span data-ttu-id="04d3a-751">Estos archivos se consideran de solo lectura y el sistema no los modifica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-751">These files are considered read-only and are not modified by the system.</span></span>

> [!NOTE]
> <span data-ttu-id="04d3a-752">Estos nuevos formatos de archivos no son compatibles directamente con las API de corrección ortográfica de WPF, y los diccionarios personalizados proporcionados a WPF en las aplicaciones deben continuar usando los archivos .lex.</span><span class="sxs-lookup"><span data-stu-id="04d3a-752">These new file-formats are not directly supported by the WPF spell checking APIs, and the custom dictionaries supplied to WPF in applications should continue to use .lex files.</span></span>

<span data-ttu-id="04d3a-753">**Muestras**</span><span class="sxs-lookup"><span data-stu-id="04d3a-753">**Samples**</span></span>

<span data-ttu-id="04d3a-754">En el repositorio de GitHub [Microsoft/WPF-Samples](https://github.com/Microsoft/WPF-Samples) encontrará una serie de muestras de WPF.</span><span class="sxs-lookup"><span data-stu-id="04d3a-754">There are a number of WPF samples on the [Microsoft/WPF-Samples](https://github.com/Microsoft/WPF-Samples) GitHub repository.</span></span> <span data-ttu-id="04d3a-755">Ayúdenos a mejorar nuestros ejemplos enviando una solicitud de extracción o abriendo un [problema de GitHub](https://github.com/Microsoft/WPF-Samples/issues).</span><span class="sxs-lookup"><span data-stu-id="04d3a-755">Help us improve our samples by sending us a pull-request or opening a [GitHub issue](https://github.com/Microsoft/WPF-Samples/issues).</span></span>

<span data-ttu-id="04d3a-756">**Extensiones de DirectX**</span><span class="sxs-lookup"><span data-stu-id="04d3a-756">**DirectX extensions**</span></span>

<span data-ttu-id="04d3a-757">WPF incluye un [paquete NuGet](https://www.nuget.org/packages/Microsoft.Wpf.Interop.DirectX-x86/) en el que se proporcionan nuevas implementaciones de <xref:System.Windows.Interop.D3DImage> que facilitan la tarea de interoperar con contenido DX10 y Dx11.</span><span class="sxs-lookup"><span data-stu-id="04d3a-757">WPF includes a [NuGet package](https://www.nuget.org/packages/Microsoft.Wpf.Interop.DirectX-x86/) that provides new implementations of <xref:System.Windows.Interop.D3DImage> that make it easy for you to interoperate with DX10 and Dx11 content.</span></span> <span data-ttu-id="04d3a-758">El código para este paquete se ha abierto y está disponible [en GitHub](https://github.com/Microsoft/WPFDXInterop).</span><span class="sxs-lookup"><span data-stu-id="04d3a-758">The code for this package has been open sourced and is available [on GitHub](https://github.com/Microsoft/WPFDXInterop).</span></span>

<a name="WWF461" />

### <a name="windows-workflow-foundation-transactions"></a><span data-ttu-id="04d3a-759">Windows Workflow Foundation: Transacciones</span><span class="sxs-lookup"><span data-stu-id="04d3a-759">Windows Workflow Foundation: Transactions</span></span>

<span data-ttu-id="04d3a-760">El método <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> ahora puede usar un administrador de transacciones distribuidas que no sea MSDTC para promocionar la transacción.</span><span class="sxs-lookup"><span data-stu-id="04d3a-760">The <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> method can now use a distributed transaction manager other than MSDTC to promote the transaction.</span></span> <span data-ttu-id="04d3a-761">Para ello, especifique un identificador GUID de promoción de transacción a la nueva sobrecarga <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-761">You do this by specifying a GUID transaction promoter identifier to the  new <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> overload .</span></span> <span data-ttu-id="04d3a-762">Si esta operación se realiza correctamente, hay limitaciones de las capacidades de la transacción.</span><span class="sxs-lookup"><span data-stu-id="04d3a-762">If this operation is successful, there are limitations placed on the capabilities of the transaction.</span></span> <span data-ttu-id="04d3a-763">Una vez que se activa un promotor de transacciones que no sea MSDTC, los métodos siguientes inician una <xref:System.Transactions.TransactionPromotionException> porque estos métodos requieren promoción a MSDTC:</span><span class="sxs-lookup"><span data-stu-id="04d3a-763">Once a non-MSDTC transaction promoter is enlisted, the following methods throw a <xref:System.Transactions.TransactionPromotionException> because these methods require promotion to MSDTC:</span></span>

- <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetDtcTransaction%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetExportCookie%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetTransmitterPropagationToken%2A?displayProperty=nameWithType>

<span data-ttu-id="04d3a-764">Una vez que se activa un promotor de transacciones que no sea MSDTC, debe usarse para futuras inscripciones duraderas a través de los protocolos que define.</span><span class="sxs-lookup"><span data-stu-id="04d3a-764">Once a non-MSDTC transaction promoter is enlisted, it must be used for future durable enlistments by using protocols that it defines.</span></span> <span data-ttu-id="04d3a-765">El <xref:System.Guid> del promotor de transacción puede obtenerse con la propiedad <xref:System.Transactions.Transaction.PromoterType%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-765">The <xref:System.Guid> of the transaction promoter can be obtained by using the <xref:System.Transactions.Transaction.PromoterType%2A> property.</span></span> <span data-ttu-id="04d3a-766">Cuando se promueve la transacción, el promotor de transacciones proporciona una matriz <xref:System.Byte> que representa el token promocionado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-766">When the transaction promotes, the transaction promoter provides a <xref:System.Byte> array that represents the promoted token.</span></span> <span data-ttu-id="04d3a-767">Una aplicación puede obtener el token promocionado de una transacción promocionada que no sea de MSDTC con el método <xref:System.Transactions.Transaction.GetPromotedToken%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-767">An application can obtain the promoted token for a non-MSDTC promoted transaction with the <xref:System.Transactions.Transaction.GetPromotedToken%2A> method.</span></span>

<span data-ttu-id="04d3a-768">Los usuarios de la nueva sobrecarga <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> deben seguir una secuencia de llamadas específica para completar correctamente la operación de promoción.</span><span class="sxs-lookup"><span data-stu-id="04d3a-768">Users of the new <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> overload must follow a specific call sequence in order for the promotion operation to complete successfully.</span></span> <span data-ttu-id="04d3a-769">Estas reglas están registradas en la documentación del método.</span><span class="sxs-lookup"><span data-stu-id="04d3a-769">These rules are documented in the method's documentation.</span></span>

<a name="Profile461" />

### <a name="profiling"></a><span data-ttu-id="04d3a-770">Generación de perfiles</span><span class="sxs-lookup"><span data-stu-id="04d3a-770">Profiling</span></span>

<span data-ttu-id="04d3a-771">La API de generación de perfiles no administrada se ha mejorado de la siguiente forma:</span><span class="sxs-lookup"><span data-stu-id="04d3a-771">The unmanaged profiling API has been enhanced as follows:</span></span>

- <span data-ttu-id="04d3a-772">Se ha mejorado la compatibilidad para acceder a archivos PDB en la interfaz [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-772">Better support for accessing PDBs in the [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) interface.</span></span>

  <span data-ttu-id="04d3a-773">En ASP.NET Core, cada vez es más común que los ensamblados se compilen en memoria mediante Roslyn.</span><span class="sxs-lookup"><span data-stu-id="04d3a-773">In ASP.NET Core, it is becoming much more common for assemblies to be compiled in-memory by Roslyn.</span></span> <span data-ttu-id="04d3a-774">Para desarrolladores que crean herramientas de generación de perfiles, esto significa que los PDB serializados históricamente en disco ya no estén presentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-774">For developers making profiling tools, this means that PDBs that historically were serialized on disk may no longer be present.</span></span> <span data-ttu-id="04d3a-775">Las herramientas del generador de perfiles suelen usar archivos PDB para asignar código a las líneas de código fuente para tareas como el análisis de rendimiento de línea por línea o de cobertura de código.</span><span class="sxs-lookup"><span data-stu-id="04d3a-775">Profiler tools often use PDBs to map code back to source lines for tasks such as code coverage or line-by-line performance analysis.</span></span> <span data-ttu-id="04d3a-776">La interfaz [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) ahora incluye dos nuevos métodos, [ICorProfilerInfo7::GetInMemorySymbolsLength](../unmanaged-api/profiling/icorprofilerinfo7-getinmemorysymbolslength-method.md) e [ICorProfilerInfo7::ReadInMemorySymbols](../unmanaged-api/profiling/icorprofilerinfo7-readinmemorysymbols.md), para proporcionar estas herramientas del generador de perfiles con acceso a los datos de PDB en memoria. Usando las nuevas API, un generador de perfiles puede obtener el contenido de un PDB en memoria como una matriz de bytes y luego procesarlo o serializarlo en el disco.</span><span class="sxs-lookup"><span data-stu-id="04d3a-776">The [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) interface now includes two new methods, [ICorProfilerInfo7::GetInMemorySymbolsLength](../unmanaged-api/profiling/icorprofilerinfo7-getinmemorysymbolslength-method.md) and [ICorProfilerInfo7::ReadInMemorySymbols](../unmanaged-api/profiling/icorprofilerinfo7-readinmemorysymbols.md), to provide these profiler tools with access to the in-memory PDB data, By using the new APIs, a profiler can obtain the contents of an in-memory PDB as a byte array and then process it or serialize it to disk.</span></span>

- <span data-ttu-id="04d3a-777">Se ha mejorado la instrumentación con la interfaz ICorProfiler.</span><span class="sxs-lookup"><span data-stu-id="04d3a-777">Better instrumentation with the ICorProfiler interface.</span></span>

  <span data-ttu-id="04d3a-778">Los generadores de perfiles que utilizan la funcionalidad ReJit de la API `ICorProfiler` para la instrumentación dinámica ahora pueden modificar algunos metadatos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-778">Profilers that are using the `ICorProfiler` APIs ReJit functionality for dynamic instrumentation can now modify some metadata.</span></span> <span data-ttu-id="04d3a-779">Anteriormente dichas herramientas podían instrumentar IL en cualquier momento, pero los metadatos solo se podían modificar en tiempo de carga del módulo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-779">Previously such tools could instrument IL at any time, but metadata could only be modified at module load time.</span></span> <span data-ttu-id="04d3a-780">Dado que IL hace referencia a los metadatos, esto limita los tipos de instrumentación que se podían hacer.</span><span class="sxs-lookup"><span data-stu-id="04d3a-780">Because IL refers to metadata, this limited the kinds of instrumentation that could be done.</span></span> <span data-ttu-id="04d3a-781">Hemos solucionado algunos de esos límites agregando el método [ICorProfilerInfo7::ApplyMetaData](../unmanaged-api/profiling/icorprofilerinfo7-applymetadata-method.md) para admitir un subconjunto de ediciones de metadatos después de que el módulo se cargue, en particular agregando nuevos registros `AssemblyRef`, `TypeRef`, `TypeSpec`, `MemberRef`, `MemberSpec` y `UserString`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-781">We have lifted some of those limits by adding the [ICorProfilerInfo7::ApplyMetaData](../unmanaged-api/profiling/icorprofilerinfo7-applymetadata-method.md) method to support a subset of metadata edits after the module loads, in particular by adding new `AssemblyRef`, `TypeRef`, `TypeSpec`, `MemberRef`, `MemberSpec`, and `UserString` records.</span></span> <span data-ttu-id="04d3a-782">Este cambio permite una mayor variedad de instrumentación sobre la marcha.</span><span class="sxs-lookup"><span data-stu-id="04d3a-782">This change makes a much broader range of on-the-fly instrumentation possible.</span></span>

<a name="NGEN461" />

### <a name="native-image-generator-ngen-pdbs"></a><span data-ttu-id="04d3a-783">PDB del generador de imágenes nativas (NGEN)</span><span class="sxs-lookup"><span data-stu-id="04d3a-783">Native Image Generator (NGEN) PDBs</span></span>

<span data-ttu-id="04d3a-784">El seguimiento de eventos de varios equipos permite a los clientes generar perfiles de un programa en la máquina A y mirar los datos de generación de perfiles con la asignación de la línea de origen en la máquina B. Al usar versiones anteriores de .NET Framework, el usuario copiaría todos los módulos y las imágenes nativas de la máquina con generación de perfiles a la máquina de análisis que contiene el archivo PDB de IL para crear la asignación de código fuente a nativo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-784">Cross-machine event tracing allows customers to profile a program on Machine A and look at the profiling data with source line mapping on Machine B. Using previous versions of the .NET Framework, the user would copy all the modules and native images from the profiled machine to the analysis machine that contains the IL PDB to create the source-to-native mapping.</span></span> <span data-ttu-id="04d3a-785">Aunque este proceso puede funcionar bien cuando los archivos son relativamente pequeños, como en aplicaciones de teléfono, los archivos pueden ser muy grandes en sistemas de escritorio y requieren mucho tiempo para copiarse.</span><span class="sxs-lookup"><span data-stu-id="04d3a-785">While this process may work well when the files are relatively small, such as for phone applications, the files can be very large on desktop systems and require significant time to copy.</span></span>

<span data-ttu-id="04d3a-786">Con los archivos PDB de NGen, NGen puede crear un archivo PDB que contenga la asignación de IL a nativo sin una dependencia del archivo PDB de IL.</span><span class="sxs-lookup"><span data-stu-id="04d3a-786">With Ngen PDBs, NGen can create a PDB that contains the IL-to-native mapping without a dependency on the IL PDB.</span></span> <span data-ttu-id="04d3a-787">En nuestro escenario de seguimiento de eventos de varias máquinas, todo lo que se necesita es copiar la imagen nativa PDB generada por la máquina A a la máquina B y utilizar [Depurar API de acceso de interfaz](/visualstudio/debugger/debug-interface-access/debug-interface-access-sdk-reference) para leer la asignación de origen al IL del archivo PDB de IL y la asignación del IL a nativo del archivo PDB de imágenes nativas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-787">In our cross-machine event tracing scenario, all that is needed is to copy the native image PDB that is generated by Machine A to Machine B and to use [Debug Interface Access APIs](/visualstudio/debugger/debug-interface-access/debug-interface-access-sdk-reference) to read the IL PDB's source-to-IL mapping and the native image PDB's IL-to-native mapping.</span></span> <span data-ttu-id="04d3a-788">La combinación de ambas asignaciones permite asignar código fuente a nativo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-788">Combining both mappings provides a source-to-native mapping.</span></span> <span data-ttu-id="04d3a-789">Dado que el PDB de imagen nativa es mucho menor que todos los módulos y las imágenes nativas, el proceso de copiar de la máquina A a la máquina B es mucho más rápido.</span><span class="sxs-lookup"><span data-stu-id="04d3a-789">Since the native image PDB is much smaller than all the modules and native images, the process of copying from Machine A to Machine B is much faster.</span></span>

<a name="v46" />

## <a name="whats-new-in-net-2015"></a><span data-ttu-id="04d3a-790">Novedades de .NET 2015</span><span class="sxs-lookup"><span data-stu-id="04d3a-790">What's new in .NET 2015</span></span>

<span data-ttu-id="04d3a-791">.NET 2015 presenta .NET Framework 4.6 y .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04d3a-791">.NET 2015 introduces the .NET Framework 4.6 and .NET Core.</span></span> <span data-ttu-id="04d3a-792">Algunas características nuevas se aplican a ambos, y otras son específicas de .NET Framework 4.6 o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="04d3a-792">Some new features apply to both, and other features are specific to .NET Framework 4.6 or .NET Core.</span></span>

- <span data-ttu-id="04d3a-793">**ASP.NET Core**</span><span class="sxs-lookup"><span data-stu-id="04d3a-793">**ASP.NET Core**</span></span>

  <span data-ttu-id="04d3a-794">.NET Framework 2015 incluye ASP.NET Core, que es una implementación .NET eficiente para la compilación de aplicaciones modernas basadas en la nube.</span><span class="sxs-lookup"><span data-stu-id="04d3a-794">.NET 2015 includes ASP.NET Core, which is a lean .NET implementation for building modern cloud-based apps.</span></span> <span data-ttu-id="04d3a-795">ASP.NET Core es modular, por lo que puede incluir solo aquellas características que se necesitan en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-795">ASP.NET Core is modular so you can include only those features that are needed in your application.</span></span> <span data-ttu-id="04d3a-796">Puede hospedarse en IIS o autohospedarse en un proceso personalizado y se pueden ejecutar aplicaciones con diferentes versiones de .NET Framework en el mismo servidor.</span><span class="sxs-lookup"><span data-stu-id="04d3a-796">It can be hosted on IIS or self-hosted in a custom process, and you can run apps with different versions of the .NET Framework on the same server.</span></span> <span data-ttu-id="04d3a-797">Incluye un nuevo sistema de configuración de entorno que está diseñado para la implementación de la nube.</span><span class="sxs-lookup"><span data-stu-id="04d3a-797">It includes a new environment configuration system that is designed for cloud deployment.</span></span>

  <span data-ttu-id="04d3a-798">MVC, Web API y Web Pages están unificados en un marco único llamado MVC 6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-798">MVC, Web API, and Web Pages are unified into a single framework called MVC 6.</span></span> <span data-ttu-id="04d3a-799">Las aplicaciones de ASP.NET Core se compilan con las herramientas de Visual Studio 2015 o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="04d3a-799">You build ASP.NET Core apps through tools in Visual Studio 2015 or later.</span></span> <span data-ttu-id="04d3a-800">Las aplicaciones existentes funcionarán en la nueva versión de .NET Framework; sin embargo, para compilar una aplicación que use MVC 6 o SignalR 3, debe usar el sistema de proyectos de Visual Studio 2015 o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="04d3a-800">Your existing applications will work on the new .NET Framework; however to build an app that uses MVC 6 or SignalR 3, you must use the project system in Visual Studio 2015 or later.</span></span>

  <span data-ttu-id="04d3a-801">Para obtener información, vea [ASP.NET Core](/aspnet/core/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-801">For information, see [ASP.NET Core](/aspnet/core/).</span></span>

- <span data-ttu-id="04d3a-802">**Actualizaciones de ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="04d3a-802">**ASP.NET Updates**</span></span>

  - <span data-ttu-id="04d3a-803">**API basada en tareas para el vaciado de respuestas asincrónicas**</span><span class="sxs-lookup"><span data-stu-id="04d3a-803">**Task-based API for Asynchronous Response Flushing**</span></span>

    <span data-ttu-id="04d3a-804">Ahora, ASP.NET proporciona una API sencilla basada en tareas para el vaciado de respuestas asincrónicas, <xref:System.Web.HttpResponse.FlushAsync%2A?displayProperty=nameWithType>, que permite vaciar las respuestas de forma asincrónica con el soporte `async/await` de su lenguaje.</span><span class="sxs-lookup"><span data-stu-id="04d3a-804">ASP.NET now provides a simple task-based API for asynchronous response flushing, <xref:System.Web.HttpResponse.FlushAsync%2A?displayProperty=nameWithType>, that allows responses to be flushed asynchronously by using your language's `async/await` support.</span></span>

  - <span data-ttu-id="04d3a-805">**El enlace de modelos admite los métodos de devolución de tareas**</span><span class="sxs-lookup"><span data-stu-id="04d3a-805">**Model binding supports task-returning methods**</span></span>

    <span data-ttu-id="04d3a-806">ASP.NET agregó en .NET Framework 4.5 la característica Enlace de modelos, que habilita un enfoque extensible y centrado en el código en las operaciones de datos basadas en CRUD de las páginas de formularios Web Forms y los controles de usuario.</span><span class="sxs-lookup"><span data-stu-id="04d3a-806">In the .NET Framework 4.5, ASP.NET added the Model Binding feature that enabled an extensible, code-focused approach to CRUD-based data operations in Web Forms pages and user controls.</span></span> <span data-ttu-id="04d3a-807">Ahora el sistema Enlace de modelos es compatible con los métodos de enlace de modelos que devuelven <xref:System.Threading.Tasks.Task>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-807">The Model Binding system now supports <xref:System.Threading.Tasks.Task>-returning model binding methods.</span></span> <span data-ttu-id="04d3a-808">Esta característica permite que los desarrolladores de formularios Web Forms aprovechen las ventajas que presenta la escalabilidad de la asincronía con la facilidad del sistema de enlace de datos al usar las versiones más recientes de ORM, incluido Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-808">This feature allows Web Forms developers to get the scalability benefits of async with the ease of the data-binding system when using newer versions of ORMs, including the Entity Framework.</span></span>

    <span data-ttu-id="04d3a-809">El enlace de modelos asincrónicos se controla con la opción de configuración `aspnet:EnableAsyncModelBinding`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-809">Async model binding is controlled by the `aspnet:EnableAsyncModelBinding` configuration setting.</span></span>

    ```xml
    <appSettings>
        <add key=" aspnet:EnableAsyncModelBinding" value="true|false" />
    </appSettings>
    ```

    <span data-ttu-id="04d3a-810">En las aplicaciones que tienen como destino .NET Framework 4.6, el valor predeterminado es `true`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-810">On apps the target the .NET Framework 4.6, it defaults to `true`.</span></span> <span data-ttu-id="04d3a-811">En las aplicaciones que se ejecutan en .NET Framework 4.6 y que tienen como destino una versión anterior de .NET Framework, el valor predeterminado es `false`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-811">On apps running on the .NET Framework 4.6 that target an earlier version of the .NET Framework, it is `false` by default.</span></span> <span data-ttu-id="04d3a-812">Se puede habilitar estableciendo la opción de configuración en `true`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-812">It can be enabled by setting the configuration setting to `true`.</span></span>

  - <span data-ttu-id="04d3a-813">**Compatibilidad con HTTP/2 (Windows 10)**</span><span class="sxs-lookup"><span data-stu-id="04d3a-813">**HTTP/2 Support (Windows 10)**</span></span>

    <span data-ttu-id="04d3a-814">[HTTP/2](https://www.wikipedia.org/wiki/HTTP/2) es una nueva versión del protocolo HTTP que proporciona un uso mucho mejor de la conexión (menos recorridos de ida y vuelta entre el cliente y el servidor), lo que permite una latencia más baja para los usuarios al cargar páginas web.</span><span class="sxs-lookup"><span data-stu-id="04d3a-814">[HTTP/2](https://www.wikipedia.org/wiki/HTTP/2) is a new version of the HTTP protocol that provides much better connection utilization (fewer round-trips between client and server), resulting in lower latency web page loading for users.</span></span>  <span data-ttu-id="04d3a-815">Las páginas web (no de servicios) aprovechan HTTP/2 al máximo, porque el protocolo se optimizó para la solicitud de varios artefactos como parte de una sola experiencia.</span><span class="sxs-lookup"><span data-stu-id="04d3a-815">Web pages (as opposed to services) benefit the most from HTTP/2, since the protocol optimizes for multiple artifacts being requested as part of a single experience.</span></span> <span data-ttu-id="04d3a-816">La compatibilidad con HTTP/2 se agregó a ASP.NET en .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-816">HTTP/2 support has been added to ASP.NET in .NET Framework 4.6.</span></span> <span data-ttu-id="04d3a-817">Como la funcionalidad de red existe en varios niveles, se necesitaban nuevas características en Windows, IIS y ASP.NET para habilitar HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="04d3a-817">Because networking functionality exists at multiple layers, new features were required in Windows, in IIS, and in ASP.NET to enable HTTP/2.</span></span> <span data-ttu-id="04d3a-818">Debe ejecutar Windows 10 para usar HTTP/2 con ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-818">You must be running on Windows 10 to use HTTP/2 with ASP.NET.</span></span>

    <span data-ttu-id="04d3a-819">También se admite HTTP/2, y está activado de forma predeterminada en las aplicaciones de la Plataforma universal de Windows (UWP) de Windows 10 que usan la API <xref:System.Net.Http.HttpClient?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-819">HTTP/2 is also supported and on by default for Windows 10 Universal Windows Platform (UWP) apps that use the <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> API.</span></span>

    <span data-ttu-id="04d3a-820">Para proporcionar una forma de usar la característica [PUSH_PROMISE](https://http2.github.io/http2-spec/#PUSH_PROMISE) en aplicaciones de ASP.NET, se ha agregado un método nuevo con dos sobrecargas, <xref:System.Web.HttpResponse.PushPromise%28System.String%29> y <xref:System.Web.HttpResponse.PushPromise%28System.String%2CSystem.String%2CSystem.Collections.Specialized.NameValueCollection%29>, a la clase <xref:System.Web.HttpResponse>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-820">In order to provide a way to use the [PUSH_PROMISE](https://http2.github.io/http2-spec/#PUSH_PROMISE) feature in ASP.NET applications, a new method with two overloads, <xref:System.Web.HttpResponse.PushPromise%28System.String%29> and <xref:System.Web.HttpResponse.PushPromise%28System.String%2CSystem.String%2CSystem.Collections.Specialized.NameValueCollection%29>, has been added to the <xref:System.Web.HttpResponse> class.</span></span>

    > [!NOTE]
    > <span data-ttu-id="04d3a-821">Mientras que ASP.NET Core admite HTTP/2, la compatibilidad con la característica PUSH PROMISE aún no se ha agregado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-821">While ASP.NET Core supports HTTP/2, support for the PUSH PROMISE feature has not yet been added.</span></span>

    <span data-ttu-id="04d3a-822">El explorador y el servidor web (IIS en Windows) hacen todo el trabajo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-822">The browser and the web server (IIS on Windows) do all the work.</span></span> <span data-ttu-id="04d3a-823">No tiene que hacer el trabajo más farragoso para los usuarios.</span><span class="sxs-lookup"><span data-stu-id="04d3a-823">You don't have to do any heavy-lifting for your users.</span></span>

    <span data-ttu-id="04d3a-824">La mayoría de [los principales navegadores admiten HTTP/2](https://www.wikipedia.org/wiki/HTTP/2), por lo que probablemente los usuarios se beneficiarán de la compatibilidad con HTTP/2 si el servidor lo admite.</span><span class="sxs-lookup"><span data-stu-id="04d3a-824">Most of the [major browsers support HTTP/2](https://www.wikipedia.org/wiki/HTTP/2), so it's likely that your users will benefit from HTTP/2 support if your server supports it.</span></span>

  - <span data-ttu-id="04d3a-825">**Compatibilidad con el Protocolo de enlace de tokens**</span><span class="sxs-lookup"><span data-stu-id="04d3a-825">**Support for the Token Binding Protocol**</span></span>

    <span data-ttu-id="04d3a-826">Google y Microsoft colaboraron en un nuevo sistema de autenticación llamado [Protocolo de enlace de tokens](https://github.com/TokenBinding/Internet-Drafts).</span><span class="sxs-lookup"><span data-stu-id="04d3a-826">Microsoft and Google have been collaborating on a new approach to authentication, called the [Token Binding Protocol](https://github.com/TokenBinding/Internet-Drafts).</span></span> <span data-ttu-id="04d3a-827">La premisa es que los tokens de autenticación (en la memoria caché del navegador) pueden ser robados y usados por delincuentes para acceder a recursos seguros (por ejemplo, su cuenta bancaria) sin necesidad de contraseña ni de otra información privilegiada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-827">The premise is that authentication tokens (in your browser cache) can be stolen and used by criminals to access otherwise secure resources (e.g. your bank account) without requiring your password or any other privileged knowledge.</span></span> <span data-ttu-id="04d3a-828">El nuevo protocolo tiene como objetivo mitigar este problema.</span><span class="sxs-lookup"><span data-stu-id="04d3a-828">The new protocol aims to mitigate this problem.</span></span>

    <span data-ttu-id="04d3a-829">El Protocolo de enlace de tokens se implementará en Windows 10 como una característica del explorador.</span><span class="sxs-lookup"><span data-stu-id="04d3a-829">The Token Binding Protocol will be implemented in Windows 10 as a browser feature.</span></span> <span data-ttu-id="04d3a-830">Las aplicaciones de ASP.NET participarán en el protocolo para validar la legitimidad de los tokens de autenticación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-830">ASP.NET apps will participate in the protocol, so that authentication tokens are validated to be legitimate.</span></span> <span data-ttu-id="04d3a-831">Las implementaciones de cliente y de servidor establecen la protección de extremo a extremo especificada por el protocolo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-831">The client and the server implementations establish the end-to-end protection specified by the protocol.</span></span>

  - <span data-ttu-id="04d3a-832">**Algoritmos hash de cadena aleatoria**</span><span class="sxs-lookup"><span data-stu-id="04d3a-832">**Randomized string hash algorithms**</span></span>

    <span data-ttu-id="04d3a-833">En .NET Framework 4.5, se introdujo un [algoritmo hash de cadena aleatorio](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-833">.NET Framework 4.5 introduced a [randomized string hash algorithm](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span></span> <span data-ttu-id="04d3a-834">pero no era compatible con ASP.NET porque algunas características de ASP.NET dependían de un código hash estable.</span><span class="sxs-lookup"><span data-stu-id="04d3a-834">However, it was not supported by ASP.NET because of some ASP.NET features depended on a stable hash code.</span></span> <span data-ttu-id="04d3a-835">En .NET Framework 4.6 ya se admiten los algoritmos hash de cadena aleatoria.</span><span class="sxs-lookup"><span data-stu-id="04d3a-835">In .NET Framework 4.6, randomized string hash algorithms are now supported.</span></span> <span data-ttu-id="04d3a-836">Para habilitar esta característica, use la opción de configuración `aspnet:UseRandomizedStringHashAlgorithm`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-836">To enable this feature, use the `aspnet:UseRandomizedStringHashAlgorithm` config setting.</span></span>

    ```xml
    <appSettings>
        <add key="aspnet:UseRandomizedStringHashAlgorithm" value="true|false" />
    </appSettings>
    ```

- <span data-ttu-id="04d3a-837">**ADO.NET**</span><span class="sxs-lookup"><span data-stu-id="04d3a-837">**ADO.NET**</span></span>

  <span data-ttu-id="04d3a-838">ADO .NET ahora es compatible con la característica Always Encrypted disponible en SQL Server 2016 Community Technology Preview 2 (CTP2).</span><span class="sxs-lookup"><span data-stu-id="04d3a-838">ADO .NET now supports the Always Encrypted feature available in SQL Server 2016 Community Technology Preview 2 (CTP2).</span></span> <span data-ttu-id="04d3a-839">Con Always Encrypted, SQL Server puede realizar operaciones en los datos cifrados y, lo mejor de todo, es que la clave de cifrado reside, junto con la aplicación, en el entorno de confianza del cliente y no en el servidor.</span><span class="sxs-lookup"><span data-stu-id="04d3a-839">With Always Encrypted, SQL Server can perform operations on encrypted data, and best of all the encryption key resides with the application inside the customer’s trusted environment and not on the server.</span></span> <span data-ttu-id="04d3a-840">Always Encrypted protege los datos del cliente para que los administradores de bases de datos no tengan acceso a los datos de texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="04d3a-840">Always Encrypted secures customer data so DBAs do not have access to plain text data.</span></span> <span data-ttu-id="04d3a-841">El cifrado y descifrado de datos ocurre de forma transparente en el nivel de controlador, lo que minimiza los cambios que deben realizarse en las aplicaciones existentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-841">Encryption and decryption of data happens transparently at the driver level, minimizing changes that have to be made to existing applications.</span></span> <span data-ttu-id="04d3a-842">Para obtener más información, vea [Always Encrypted (motor de base de datos)](/sql/relational-databases/security/encryption/always-encrypted-database-engine) y [Always Encrypted (desarrollo de cliente)](/sql/relational-databases/security/encryption/always-encrypted-client-development).</span><span class="sxs-lookup"><span data-stu-id="04d3a-842">For details, see [Always Encrypted (Database Engine)](/sql/relational-databases/security/encryption/always-encrypted-database-engine) and [Always Encrypted (client development)](/sql/relational-databases/security/encryption/always-encrypted-client-development).</span></span>

- <span data-ttu-id="04d3a-843">**Compilador JIT de 64 bits para código administrado**</span><span class="sxs-lookup"><span data-stu-id="04d3a-843">**64-bit JIT Compiler for managed code**</span></span>

  <span data-ttu-id="04d3a-844">.NET Framework 4.6 incluye una nueva versión del compilador JIT de 64 bits (llamado originalmente RyuJIT).</span><span class="sxs-lookup"><span data-stu-id="04d3a-844">.NET Framework 4.6 features a new version of the 64-bit JIT compiler (originally code-named RyuJIT).</span></span> <span data-ttu-id="04d3a-845">El nuevo compilador de 64 bits proporciona importantes mejoras de rendimiento con respecto al antiguo compilador JIT de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="04d3a-845">The new 64-bit compiler provides significant performance improvements over the older 64-bit JIT compiler.</span></span> <span data-ttu-id="04d3a-846">El nuevo compilador de 64 bits está habilitado para los procesos de 64 bits que se ejecutan en .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-846">The new 64-bit compiler is enabled for 64-bit processes running on top of .NET Framework 4.6.</span></span> <span data-ttu-id="04d3a-847">La aplicación se ejecutará en un proceso de 64 bits si se ha compilado como aplicación de 64 bits o AnyCPU y se está ejecutando en un sistema operativo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="04d3a-847">Your app will run in a 64-bit process if it is compiled as 64-bit or AnyCPU and is running on a 64-bit operating system.</span></span> <span data-ttu-id="04d3a-848">Aunque se hayan tomado precauciones para efectuar la transición al nuevo compilador de la manera más transparente posible, es posible que se produzcan cambios en el comportamiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-848">While care has been taken to make the transition to the new compiler as transparent as possible, changes in behavior are possible.</span></span> <span data-ttu-id="04d3a-849">Nos gustaría que se pusiera en contacto con nosotros si encuentra algún problema al usar el nuevo compilador JIT.</span><span class="sxs-lookup"><span data-stu-id="04d3a-849">We would like to hear directly about any issues encountered when using the new JIT compiler.</span></span> <span data-ttu-id="04d3a-850">Póngase en contacto con nosotros a través de [Microsoft Connect](https://connect.microsoft.com/) si detecta algún problema que pueda estar relacionado con el nuevo compilador JIT de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="04d3a-850">Please contact us through [Microsoft Connect](https://connect.microsoft.com/) if you encounter an issue that may be related to the new 64-bit JIT compiler.</span></span>

  <span data-ttu-id="04d3a-851">El nuevo compilador JIT de 64 bits también incluye características de aceleración SIMD de hardware al acoplarse con tipos SIMD habilitados para SIMD en el espacio de nombres <xref:System.Numerics>, que puede producir notables mejoras en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-851">The new 64-bit JIT compiler also includes hardware SIMD acceleration features when coupled with SIMD-enabled types in the <xref:System.Numerics> namespace, which can yield good performance improvements.</span></span>

- <span data-ttu-id="04d3a-852">**Mejoras en el cargador de ensamblados**</span><span class="sxs-lookup"><span data-stu-id="04d3a-852">**Assembly loader improvements**</span></span>

  <span data-ttu-id="04d3a-853">Ahora el cargador de ensamblados usa la memoria de un modo más eficaz al descargar ensamblados de IL después de cargar una imagen NGEN correspondiente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-853">The assembly loader now uses memory more efficiently by unloading IL assemblies after a corresponding NGEN image is loaded.</span></span> <span data-ttu-id="04d3a-854">Este cambio reduce la memoria virtual, que es bastante útil en las aplicaciones de 32 bits de gran tamaño (por ejemplo, Visual Studio), y también guarda la memoria física.</span><span class="sxs-lookup"><span data-stu-id="04d3a-854">This change decreases virtual memory, which is particularly beneficial for large 32-bit apps (such as Visual Studio), and also saves physical memory.</span></span>

- <span data-ttu-id="04d3a-855">**Cambios en la biblioteca de clases base**</span><span class="sxs-lookup"><span data-stu-id="04d3a-855">**Base class library changes**</span></span>

  <span data-ttu-id="04d3a-856">Se agregaron muchas nuevas API a .NET Framework 4.6 para habilitar escenarios clave.</span><span class="sxs-lookup"><span data-stu-id="04d3a-856">Many new APIs have been added around to .NET Framework 4.6 to enable key scenarios.</span></span> <span data-ttu-id="04d3a-857">Incluyen los siguientes cambios y adiciones:</span><span class="sxs-lookup"><span data-stu-id="04d3a-857">These include the following changes and additions:</span></span>

  - <span data-ttu-id="04d3a-858">**Implementaciones de IReadOnlyCollection\<T>**</span><span class="sxs-lookup"><span data-stu-id="04d3a-858">**IReadOnlyCollection\<T> implementations**</span></span>

    <span data-ttu-id="04d3a-859">Las colecciones adicionales implementan <xref:System.Collections.Generic.IReadOnlyCollection%601>, como <xref:System.Collections.Generic.Queue%601> y <xref:System.Collections.Generic.Stack%601>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-859">Additional collections implement <xref:System.Collections.Generic.IReadOnlyCollection%601> such as <xref:System.Collections.Generic.Queue%601> and <xref:System.Collections.Generic.Stack%601>.</span></span>

  - <span data-ttu-id="04d3a-860">**CultureInfo.CurrentCulture y CultureInfo.CurrentUICulture**</span><span class="sxs-lookup"><span data-stu-id="04d3a-860">**CultureInfo.CurrentCulture and CultureInfo.CurrentUICulture**</span></span>

    <span data-ttu-id="04d3a-861">Las propiedades <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> y <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> ahora son de lectura y escritura, en lugar de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="04d3a-861">The <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> properties are now read-write rather than read-only.</span></span> <span data-ttu-id="04d3a-862">Si asigna un nuevo objeto <xref:System.Globalization.CultureInfo> a estas propiedades, también cambian la referencia cultural del subproceso actual definida por la propiedad `Thread.CurrentThread.CurrentCulture` y la referencia cultural del subproceso de la interfaz usuario actual definida por las propiedades `Thread.CurrentThread.CurrentUICulture`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-862">If you assign a new <xref:System.Globalization.CultureInfo> object to these properties, the current thread culture defined by the `Thread.CurrentThread.CurrentCulture` property and the current UI thread culture defined by the `Thread.CurrentThread.CurrentUICulture` properties also change.</span></span>

  - <span data-ttu-id="04d3a-863">**Mejoras en la recolección de elementos no utilizados (GC)**</span><span class="sxs-lookup"><span data-stu-id="04d3a-863">**Enhancements to garbage collection (GC)**</span></span>

    <span data-ttu-id="04d3a-864">La clase <xref:System.GC> ahora incluye los métodos <xref:System.GC.TryStartNoGCRegion%2A> y <xref:System.GC.EndNoGCRegion%2A> que permiten impedir la recolección de elementos no usados durante la ejecución de una ruta crítica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-864">The <xref:System.GC> class now includes <xref:System.GC.TryStartNoGCRegion%2A> and <xref:System.GC.EndNoGCRegion%2A> methods that allow you to disallow garbage collection during the execution of a critical path.</span></span>

    <span data-ttu-id="04d3a-865">Una nueva sobrecarga del método <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%2CSystem.Boolean%29?displayProperty=nameWithType> permite controlar si el montón del objeto pequeño y el montón del objeto grande se exploran y compactan o si solo se exploran.</span><span class="sxs-lookup"><span data-stu-id="04d3a-865">A new overload of the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%2CSystem.Boolean%29?displayProperty=nameWithType> method allows you to control whether both the small object heap and the large object heap are swept and compacted or swept only.</span></span>

  - <span data-ttu-id="04d3a-866">**Tipos habilitados para SIMD**</span><span class="sxs-lookup"><span data-stu-id="04d3a-866">**SIMD-enabled types**</span></span>

    <span data-ttu-id="04d3a-867">El espacio de nombres <xref:System.Numerics> incluye ahora varios tipos habilitados para SIMD, como <xref:System.Numerics.Matrix3x2>, <xref:System.Numerics.Matrix4x4>, <xref:System.Numerics.Plane>, <xref:System.Numerics.Quaternion>, <xref:System.Numerics.Vector2>, <xref:System.Numerics.Vector3> y <xref:System.Numerics.Vector4>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-867">The <xref:System.Numerics> namespace now includes a number of SIMD-enabled types, such as <xref:System.Numerics.Matrix3x2>, <xref:System.Numerics.Matrix4x4>, <xref:System.Numerics.Plane>, <xref:System.Numerics.Quaternion>, <xref:System.Numerics.Vector2>, <xref:System.Numerics.Vector3>, and <xref:System.Numerics.Vector4>.</span></span>

    <span data-ttu-id="04d3a-868">Como el nuevo compilador JIT de 64 bits también incluye características de aceleración de hardware SIMD, hay mejoras de rendimiento considerablemente importantes al usar los tipos habilitados para SIMD con el nuevo compilador JIT de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="04d3a-868">Because the new 64-bit JIT compiler also includes hardware SIMD acceleration features, there are especially significant performance improvements when using the SIMD-enabled types with the new 64-bit JIT compiler.</span></span>

  - <span data-ttu-id="04d3a-869">**Actualizaciones de criptografía**</span><span class="sxs-lookup"><span data-stu-id="04d3a-869">**Cryptography updates**</span></span>

    <span data-ttu-id="04d3a-870">La API <xref:System.Security.Cryptography?displayProperty=nameWithType> se está actualizando para que sea compatible con las [API de criptografía CNG de Windows](/windows/desktop/SecCNG/cng-reference).</span><span class="sxs-lookup"><span data-stu-id="04d3a-870">The <xref:System.Security.Cryptography?displayProperty=nameWithType> API is being updated to support the [Windows CNG cryptography APIs](/windows/desktop/SecCNG/cng-reference).</span></span> <span data-ttu-id="04d3a-871">Las versiones anteriores de .NET Framework dependían totalmente de una [versión anterior de las API de criptografía de Windows](/windows/desktop/SecCrypto/cryptography-portal) como base para la implementación de <xref:System.Security.Cryptography?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-871">Previous versions of the .NET Framework have relied entirely on an [earlier version of the Windows Cryptography APIs](/windows/desktop/SecCrypto/cryptography-portal) as the basis for the <xref:System.Security.Cryptography?displayProperty=nameWithType> implementation.</span></span> <span data-ttu-id="04d3a-872">Recibimos solicitudes para admitir la API de CNG, ya que admite [algoritmos de criptografía modernos](/windows/desktop/SecCNG/cng-features#suite-b-support), que son importantes para determinadas categorías de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="04d3a-872">We have had requests to support the CNG API, since it supports [modern cryptography algorithms](/windows/desktop/SecCNG/cng-features#suite-b-support), which are important for certain categories of apps.</span></span>

    <span data-ttu-id="04d3a-873">.NET Framework 4.6 incluye las siguientes nuevas mejoras para admitir las API de criptografía de CNG de Windows:</span><span class="sxs-lookup"><span data-stu-id="04d3a-873">.NET Framework 4.6 includes the following new enhancements to support the Windows CNG cryptography APIs:</span></span>

    - <span data-ttu-id="04d3a-874">Un conjunto de métodos de extensión para los certificados X509, `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey(System.Security.Cryptography.X509Certificates.X509Certificate2)` y `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey(System.Security.Cryptography.X509Certificates.X509Certificate2)`, que devuelven, siempre que sea posible, una implementación basada en CNG en lugar de una implementación basada en CAPI</span><span class="sxs-lookup"><span data-stu-id="04d3a-874">A set of extension methods for X509 Certificates, `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey(System.Security.Cryptography.X509Certificates.X509Certificate2)` and `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey(System.Security.Cryptography.X509Certificates.X509Certificate2)`, that return a CNG-based implementation rather than a CAPI-based implementation when possible.</span></span> <span data-ttu-id="04d3a-875">(algunas tarjetas inteligentes, entre otros, siguen necesitando CAPI, mientras que las API controlan la reserva).</span><span class="sxs-lookup"><span data-stu-id="04d3a-875">(Some smartcards, etc., still require CAPI, and the APIs handle the fallback).</span></span>

    - <span data-ttu-id="04d3a-876">La clase <xref:System.Security.Cryptography.RSACng?displayProperty=nameWithType>, que proporciona una implementación de CNG del algoritmo RSA.</span><span class="sxs-lookup"><span data-stu-id="04d3a-876">The <xref:System.Security.Cryptography.RSACng?displayProperty=nameWithType> class, which provides a CNG implementation of the RSA algorithm.</span></span>

    - <span data-ttu-id="04d3a-877">Mejoras en la API de RSA, de modo que las acciones habituales ya no necesitan ninguna conversión.</span><span class="sxs-lookup"><span data-stu-id="04d3a-877">Enhancements to the RSA API so that common actions no longer require casting.</span></span> <span data-ttu-id="04d3a-878">Por ejemplo, el cifrado de datos con un objeto <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> necesita un código similar al siguiente en las versiones anteriores de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-878">For example, encrypting data using an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> object requires code like the following in previous versions of the .NET Framework.</span></span>

      [!code-csharp[WhatsNew.Casting#1](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.casting/cs/program.cs#1)]
      [!code-vb[WhatsNew.Casting#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.casting/vb/module1.vb#1)]

      <span data-ttu-id="04d3a-879">El código que usa las nuevas API de criptografía de .NET Framework 4.6 se puede reescribir del siguiente modo para evitar la conversión.</span><span class="sxs-lookup"><span data-stu-id="04d3a-879">Code that uses the new cryptography APIs in .NET Framework 4.6 can be rewritten as follows to avoid the cast.</span></span>

      [!code-csharp[WhatsNew.Casting#2](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.casting/cs/program.cs#2)]
      [!code-vb[WhatsNew.Casting#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.casting/vb/module1.vb#2)]

  - <span data-ttu-id="04d3a-880">**Compatibilidad con la conversión de fechas y horas a o desde la hora de Unix**</span><span class="sxs-lookup"><span data-stu-id="04d3a-880">**Support for converting dates and times to or from Unix time**</span></span>

    <span data-ttu-id="04d3a-881">Se han agregado los siguientes métodos nuevos a la estructura <xref:System.DateTimeOffset> para admitir la conversión de valores de fecha y hora a o desde la hora de Unix:</span><span class="sxs-lookup"><span data-stu-id="04d3a-881">The following new methods have been added to the <xref:System.DateTimeOffset> structure to support converting date and time values to or from Unix time:</span></span>

    - <xref:System.DateTimeOffset.FromUnixTimeSeconds%2A?displayProperty=nameWithType>

    - <xref:System.DateTimeOffset.FromUnixTimeMilliseconds%2A?displayProperty=nameWithType>

    - <xref:System.DateTimeOffset.ToUnixTimeSeconds%2A?displayProperty=nameWithType>

    - <xref:System.DateTimeOffset.ToUnixTimeMilliseconds%2A?displayProperty=nameWithType>

  - <span data-ttu-id="04d3a-882">**Modificadores de compatibilidad**</span><span class="sxs-lookup"><span data-stu-id="04d3a-882">**Compatibility switches**</span></span>

    <span data-ttu-id="04d3a-883">La nueva clase <xref:System.AppContext> agrega una nueva característica de compatibilidad que permite a los autores de bibliotecas proporcionar a sus usuarios un mecanismo uniforme para cancelar la participación de la nueva funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="04d3a-883">The new <xref:System.AppContext> class adds a new compatibility feature that enables library writers to provide a uniform opt-out mechanism for new functionality for their users.</span></span> <span data-ttu-id="04d3a-884">Establece un contrato flexible entre los componentes para poder comunicar una solicitud de cancelación de la participación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-884">It establishes a loosely-coupled contract between components in order to communicate an opt-out request.</span></span> <span data-ttu-id="04d3a-885">Esta capacidad normalmente es importante cuando se realiza un cambio en la funcionalidad existente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-885">This capability is typically important when a change is made to existing functionality.</span></span> <span data-ttu-id="04d3a-886">Por el contrario, la nueva funcionalidad participa de forma implícita.</span><span class="sxs-lookup"><span data-stu-id="04d3a-886">Conversely, there is already an implicit opt-in for new functionality.</span></span>

    <span data-ttu-id="04d3a-887">Con <xref:System.AppContext>, las bibliotecas definen y exponen modificadores de compatibilidad, mientras que el código que depende de ellas puede configurar dichos modificadores para que afecten al comportamiento de la biblioteca.</span><span class="sxs-lookup"><span data-stu-id="04d3a-887">With <xref:System.AppContext>, libraries define and expose compatibility switches, while code that depends on them can set those switches to affect the library behavior.</span></span> <span data-ttu-id="04d3a-888">De forma predeterminada, las bibliotecas proporcionan la nueva funcionalidad y solo la modifican (es decir, ofrecen la funcionalidad anterior) si el modificador está establecido.</span><span class="sxs-lookup"><span data-stu-id="04d3a-888">By default, libraries provide the new functionality, and they only alter it (that is, they provide the previous functionality) if the switch is set.</span></span>

    <span data-ttu-id="04d3a-889">Una aplicación (o una biblioteca) puede declarar el valor de un modificador (que es siempre un valor <xref:System.Boolean>) que define una biblioteca dependiente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-889">An application (or a library) can declare the value of a switch (which is always a <xref:System.Boolean> value) that a dependent library defines.</span></span> <span data-ttu-id="04d3a-890">El modificador siempre es implícitamente `false`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-890">The switch is always implicitly `false`.</span></span> <span data-ttu-id="04d3a-891">Cuando el modificador se establece en `true`, se habilita.</span><span class="sxs-lookup"><span data-stu-id="04d3a-891">Setting the switch to `true` enables it.</span></span> <span data-ttu-id="04d3a-892">Cuando el modificador se establece explícitamente en `false`, proporciona el nuevo comportamiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-892">Explicitly setting the switch to `false` provides the new behavior.</span></span>

    ```csharp
    AppContext.SetSwitch("Switch.AmazingLib.ThrowOnException", true);
    ```

    ```vb
    AppContext.SetSwitch("Switch.AmazingLib.ThrowOnException", True)
    ```

    <span data-ttu-id="04d3a-893">La biblioteca debe comprobar si un consumidor declaró el valor del conmutador y, después, actuar en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="04d3a-893">The library must check if a consumer has declared the value of the switch and then appropriately act on it.</span></span>

    ```csharp
    if (!AppContext.TryGetSwitch("Switch.AmazingLib.ThrowOnException", out shouldThrow))
    {
        // This is the case where the switch value was not set by the application.
        // The library can choose to get the value of shouldThrow by other means.
        // If no overrides nor default values are specified, the value should be 'false'.
        // A false value implies the latest behavior.
    }

    // The library can use the value of shouldThrow to throw exceptions or not.
    if (shouldThrow)
    {
        // old code
    }
    else
    {
        // new code
    }
    ```

    ```vb
    If Not AppContext.TryGetSwitch("Switch.AmazingLib.ThrowOnException", shouldThrow) Then
        ' This is the case where the switch value was not set by the application.
        ' The library can choose to get the value of shouldThrow by other means.
        ' If no overrides nor default values are specified, the value should be 'false'.
        ' A false value implies the latest behavior.
    End If

    ' The library can use the value of shouldThrow to throw exceptions or not.
    If shouldThrow Then
        ' old code
    Else
        ' new code
    End If
    ```

    <span data-ttu-id="04d3a-894">Es conveniente usar un formato coherente para los modificadores porque son un contrato formal que expone una biblioteca.</span><span class="sxs-lookup"><span data-stu-id="04d3a-894">It's beneficial to use a consistent format for switches, since they are a formal contract exposed by a library.</span></span> <span data-ttu-id="04d3a-895">Las siguientes son dos formatos obvios.</span><span class="sxs-lookup"><span data-stu-id="04d3a-895">The following are two obvious formats.</span></span>

    - <span data-ttu-id="04d3a-896">*Modificador*.*espacio de nombres*.*nombre del modificador*</span><span class="sxs-lookup"><span data-stu-id="04d3a-896">*Switch*.*namespace*.*switchname*</span></span>

    - <span data-ttu-id="04d3a-897">*Modificador*.*biblioteca*.*nombre del modificador*</span><span class="sxs-lookup"><span data-stu-id="04d3a-897">*Switch*.*library*.*switchname*</span></span>

  - <span data-ttu-id="04d3a-898">**Cambios en el modelo asincrónico basado en tareas (TAP)**</span><span class="sxs-lookup"><span data-stu-id="04d3a-898">**Changes to the task-based asynchronous pattern (TAP)**</span></span>

    <span data-ttu-id="04d3a-899">Para las aplicaciones que tienen como destino .NET Framework 4.6, los objetos <xref:System.Threading.Tasks.Task> y <xref:System.Threading.Tasks.Task%601> heredan la referencia cultural y la referencia cultural de interfaz de usuario del subproceso que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-899">For apps that target the .NET Framework 4.6, <xref:System.Threading.Tasks.Task> and <xref:System.Threading.Tasks.Task%601> objects inherit the culture and UI culture of the calling thread.</span></span> <span data-ttu-id="04d3a-900">No se ve afectado el comportamiento de las aplicaciones que tienen como destino las versiones anteriores de .NET Framework o que no especifican una versión concreta de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-900">The behavior of apps that target previous versions of the .NET Framework, or that do not target a specific version of the .NET Framework, is unaffected.</span></span> <span data-ttu-id="04d3a-901">Para obtener más información, vea la sección "Referencia cultural y operaciones asincrónicas basadas en tareas" del tema sobre la clase <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-901">For more information, see the "Culture and task-based asynchronous operations" section of the <xref:System.Globalization.CultureInfo> class topic.</span></span>

    <span data-ttu-id="04d3a-902">La clase <xref:System.Threading.AsyncLocal%601?displayProperty=nameWithType> le permite representar datos de ambiente locales de un flujo de control asincrónico determinado, por ejemplo, un método `async`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-902">The <xref:System.Threading.AsyncLocal%601?displayProperty=nameWithType> class allows you to represent ambient data that is local to a given asynchronous control flow, such as an `async` method.</span></span> <span data-ttu-id="04d3a-903">Se puede usar para conservar los datos en todos los subprocesos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-903">It can be used to persist data across threads.</span></span> <span data-ttu-id="04d3a-904">También puede definir un método de devolución de llamada que se le notifique al cambiar los datos de ambiente, ya sea porque se ha cambiado la propiedad <xref:System.Threading.AsyncLocal%601.Value%2A?displayProperty=nameWithType> de forma explícita o porque el subproceso ha encontrado una transición de contexto.</span><span class="sxs-lookup"><span data-stu-id="04d3a-904">You can also define a callback method that is notified whenever the ambient data changes either because the <xref:System.Threading.AsyncLocal%601.Value%2A?displayProperty=nameWithType> property was explicitly changed, or because the thread encountered a context transition.</span></span>

    <span data-ttu-id="04d3a-905">Se han agregado tres prácticos métodos, <xref:System.Threading.Tasks.Task.CompletedTask%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Task.FromCanceled%2A?displayProperty=nameWithType> y <xref:System.Threading.Tasks.Task.FromException%2A?displayProperty=nameWithType>, al patrón asincrónico basado en tareas (TAP) para que devuelva las tareas completadas en un estado determinado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-905">Three convenience methods, <xref:System.Threading.Tasks.Task.CompletedTask%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Task.FromCanceled%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Task.FromException%2A?displayProperty=nameWithType>, have been added to the task-based asynchronous pattern (TAP) to return completed tasks in a particular state.</span></span>

    <span data-ttu-id="04d3a-906">La clase <xref:System.IO.Pipes.NamedPipeClientStream> ahora admite la comunicación asincrónica con su nuevo método <xref:System.IO.Pipes.NamedPipeClientStream.ConnectAsync%2A>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-906">The <xref:System.IO.Pipes.NamedPipeClientStream> class now supports asynchronous communication with its new <xref:System.IO.Pipes.NamedPipeClientStream.ConnectAsync%2A>.</span></span> <span data-ttu-id="04d3a-907">.</span><span class="sxs-lookup"><span data-stu-id="04d3a-907">method.</span></span>

  - <span data-ttu-id="04d3a-908">**EventSource ahora permite escribir en el Registro de eventos**</span><span class="sxs-lookup"><span data-stu-id="04d3a-908">**EventSource now supports writing to the Event log**</span></span>

    <span data-ttu-id="04d3a-909">Ahora puede usar la clase <xref:System.Diagnostics.Tracing.EventSource> para registrar mensajes administrativos u operativos en el registro de eventos, además de cualquier sesión ETW existente que se haya creado en el equipo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-909">You now can use the <xref:System.Diagnostics.Tracing.EventSource> class to log administrative or operational messages to the event log, in addition to any existing ETW sessions created on the machine.</span></span> <span data-ttu-id="04d3a-910">Anteriormente, tenía que usar el paquete de NuGet Microsoft.Diagnostics.Tracing.EventSource para poder aprovechar esta funcionalidad,</span><span class="sxs-lookup"><span data-stu-id="04d3a-910">In the past, you had to use the Microsoft.Diagnostics.Tracing.EventSource NuGet package for this functionality.</span></span> <span data-ttu-id="04d3a-911">que ahora está integrada en .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-911">This functionality is now built-into .NET Framework 4.6.</span></span>

    <span data-ttu-id="04d3a-912">El paquete NuGet y .NET Framework 4.6 se han actualizado con las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="04d3a-912">Both the NuGet package and .NET Framework 4.6 have been updated with the following features:</span></span>

    - <span data-ttu-id="04d3a-913">**Eventos dinámicos**</span><span class="sxs-lookup"><span data-stu-id="04d3a-913">**Dynamic events**</span></span>

      <span data-ttu-id="04d3a-914">Permite eventos definidos "sobre la marcha" sin crear métodos de eventos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-914">Allows events defined "on the fly" without creating event methods.</span></span>

    - <span data-ttu-id="04d3a-915">**Cargas enriquecidas**</span><span class="sxs-lookup"><span data-stu-id="04d3a-915">**Rich payloads**</span></span>

      <span data-ttu-id="04d3a-916">Permite que las matrices y clases con atributos especiales, así como los tipos primitivos, se pasen como carga</span><span class="sxs-lookup"><span data-stu-id="04d3a-916">Allows specially attributed classes and arrays as well as primitive types to be passed as a payload</span></span>

    - <span data-ttu-id="04d3a-917">**Seguimiento de actividad**</span><span class="sxs-lookup"><span data-stu-id="04d3a-917">**Activity tracking**</span></span>

      <span data-ttu-id="04d3a-918">Hace que los eventos de inicio y de detención etiqueten eventos entre ellos con un identificador que representa todas las actividades actualmente activas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-918">Causes Start and Stop events to tag events between them with an ID that represents all currently active activities.</span></span>

    <span data-ttu-id="04d3a-919">Para admitir estas características, se ha agregado el método <xref:System.Diagnostics.Tracing.EventSource.Write%2A> sobrecargado a la clase <xref:System.Diagnostics.Tracing.EventSource>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-919">To support these features, the overloaded <xref:System.Diagnostics.Tracing.EventSource.Write%2A> method has been added to the <xref:System.Diagnostics.Tracing.EventSource> class.</span></span>

- <span data-ttu-id="04d3a-920">**Windows Presentation Foundation (WPF)**</span><span class="sxs-lookup"><span data-stu-id="04d3a-920">**Windows Presentation Foundation (WPF)**</span></span>

  - <span data-ttu-id="04d3a-921">**Mejoras en el HDPI**</span><span class="sxs-lookup"><span data-stu-id="04d3a-921">**HDPI improvements**</span></span>

    <span data-ttu-id="04d3a-922">Se mejoró la compatibilidad con HDPI en WPF en .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-922">HDPI support in WPF is now better in the .NET Framework 4.6.</span></span> <span data-ttu-id="04d3a-923">Se han hecho cambios en el redondeo del diseño para reducir las instancias de recorte en los controles que contienen bordes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-923">Changes have been made to layout rounding to reduce instances of clipping in controls with borders.</span></span> <span data-ttu-id="04d3a-924">De forma predeterminada, esta característica solo está habilitada si se establece <xref:System.Runtime.Versioning.TargetFrameworkAttribute> en .NET 4.6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-924">By default, this feature is enabled only if your <xref:System.Runtime.Versioning.TargetFrameworkAttribute> is set to .NET 4.6.</span></span>  <span data-ttu-id="04d3a-925">Las aplicaciones que tienen como destino versiones anteriores de .NET Framework y que se ejecutan en .NET Framework 4.6 pueden participar en el nuevo comportamiento agregando la siguiente línea a la sección [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) del archivo app.config:</span><span class="sxs-lookup"><span data-stu-id="04d3a-925">Applications that target earlier versions of the framework but are running on the .NET Framework 4.6 can opt in to the new behavior by adding the following line to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of the app.config file:</span></span>

    ```xml
    <AppContextSwitchOverrides
    value="Switch.MS.Internal.DoNotApplyLayoutRoundingToMarginsAndBorderThickness=false"
    />
    ```

    <span data-ttu-id="04d3a-926">Actualmente, las ventanas de WPF que ocupan varios monitores con diferentes valores de PPP (configuración de varios PPP) se representan completamente sin regiones oscurecidas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-926">WPF windows straddling multiple monitors with different DPI settings (Multi-DPI setup) are now completely rendered without blacked-out regions.</span></span> <span data-ttu-id="04d3a-927">Puede deshabilitar este comportamiento agregando la siguiente línea a la sección `<appSettings>` del archivo app.config:</span><span class="sxs-lookup"><span data-stu-id="04d3a-927">You can opt out of this behavior by adding the following line to the `<appSettings>` section of the app.config file to disable this new behavior:</span></span>

    ```xml
    <add key="EnableMultiMonitorDisplayClipping" value="true"/>
    ```

    <span data-ttu-id="04d3a-928">Se ha agregado a <xref:System.Windows.Input.Cursor?displayProperty=nameWithType> compatibilidad para cargar automáticamente el cursor derecho según la configuración de PPP.</span><span class="sxs-lookup"><span data-stu-id="04d3a-928">Support for automatically loading the right cursor based on DPI setting has been added to  <xref:System.Windows.Input.Cursor?displayProperty=nameWithType>.</span></span>

  - <span data-ttu-id="04d3a-929">**Mejor si es táctil**</span><span class="sxs-lookup"><span data-stu-id="04d3a-929">**Touch is better**</span></span>

    <span data-ttu-id="04d3a-930">Los informes de los clientes en [Connect](https://connect.microsoft.com/VisualStudio/feedback/details/903760/) acerca del comportamiento impredecible de la función táctil se han tratado en .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-930">Customer reports on [Connect](https://connect.microsoft.com/VisualStudio/feedback/details/903760/) that touch produces unpredictable behavior have been addressed in the .NET Framework 4.6.</span></span> <span data-ttu-id="04d3a-931">Ahora, el umbral de doble punteo de las aplicaciones de WPF y de la Tienda Windows es el mismo en Windows 8.1 y versiones superiores.</span><span class="sxs-lookup"><span data-stu-id="04d3a-931">The double tap threshold for Windows Store applications and WPF applications is now the same in Windows 8.1 and above.</span></span>

  - <span data-ttu-id="04d3a-932">**Compatibilidad con las ventanas secundarias transparentes**</span><span class="sxs-lookup"><span data-stu-id="04d3a-932">**Transparent child window support**</span></span>

    <span data-ttu-id="04d3a-933">En .NET Framework 4.6, WPF admite las ventanas secundarias transparentes en Windows 8.1 y versiones superiores,</span><span class="sxs-lookup"><span data-stu-id="04d3a-933">WPF in the .NET Framework 4.6 supports transparent child windows in Windows 8.1 and above.</span></span> <span data-ttu-id="04d3a-934">de manera que puede crear ventanas secundarias transparentes y no rectangulares en las ventanas de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="04d3a-934">This allows you to create non-rectangular and transparent child windows in your top-level windows.</span></span> <span data-ttu-id="04d3a-935">Puede habilitar esta característica estableciendo la propiedad <xref:System.Windows.Interop.HwndSourceParameters.UsesPerPixelTransparency%2A?displayProperty=nameWithType> en `true`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-935">You can enable this feature by setting the <xref:System.Windows.Interop.HwndSourceParameters.UsesPerPixelTransparency%2A?displayProperty=nameWithType> property to `true`.</span></span>

- <span data-ttu-id="04d3a-936">**Windows Communication Foundation (WCF)**</span><span class="sxs-lookup"><span data-stu-id="04d3a-936">**Windows Communication Foundation (WCF)**</span></span>

  - <span data-ttu-id="04d3a-937">**Compatibilidad con SSL**</span><span class="sxs-lookup"><span data-stu-id="04d3a-937">**SSL support**</span></span>

    <span data-ttu-id="04d3a-938">WCF ahora admite la versión con SSL TLS 1.1 y TLS 1.2, además de SSL 3.0 y TLS 1.0, al usar NetTcp con la autenticación de cliente y la seguridad de transporte.</span><span class="sxs-lookup"><span data-stu-id="04d3a-938">WCF now supports SSL version TLS 1.1 and TLS 1.2, in addition to SSL 3.0 and TLS 1.0, when using NetTcp with transport security and client authentication.</span></span> <span data-ttu-id="04d3a-939">Ahora se puede seleccionar el protocolo que se quiere usar o bien deshabilitar protocolos antiguos menos seguros;</span><span class="sxs-lookup"><span data-stu-id="04d3a-939">It is now possible to select which protocol to use, or to disable old lesser secure protocols.</span></span> <span data-ttu-id="04d3a-940">para ello, establezca la propiedad <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A> o agregue lo siguiente a un archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="04d3a-940">This can be done either by setting the <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A> property or by adding the following to a configuration file.</span></span>

    ```xml
    <netTcpBinding>
        <binding>
          <security mode= "None|Transport|Message|TransportWithMessageCredential" >
              <transport clientCredentialType="None|Windows|Certificate"
                        protectionLevel="None|Sign|EncryptAndSign"
                        sslProtocols="Ssl3|Tls1|Tls11|Tls12">
                </transport>
          </security>
        </binding>
    </netTcpBinding>
    ```

  - <span data-ttu-id="04d3a-941">**Enviar mensajes con diferentes conexiones HTTP**</span><span class="sxs-lookup"><span data-stu-id="04d3a-941">**Sending messages using different HTTP connections**</span></span>

    <span data-ttu-id="04d3a-942">Ahora WCF permite que los usuarios se aseguren de que se han enviado determinados mensajes con diferentes conexiones HTTP subyacentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-942">WCF now allows users to ensure certain messages are sent using different underlying HTTP connections.</span></span> <span data-ttu-id="04d3a-943">Existen dos modos para hacer esto:</span><span class="sxs-lookup"><span data-stu-id="04d3a-943">There are two ways to do this:</span></span>

    - <span data-ttu-id="04d3a-944">**Usar un prefijo de nombre de grupo de conexión**</span><span class="sxs-lookup"><span data-stu-id="04d3a-944">**Using a connection group name prefix**</span></span>

      <span data-ttu-id="04d3a-945">Los usuarios pueden especificar una cadena que WCF usará como prefijo del nombre del grupo de conexión.</span><span class="sxs-lookup"><span data-stu-id="04d3a-945">Users can specify a string that WCF will use as a prefix for the connection group name.</span></span> <span data-ttu-id="04d3a-946">Se envían dos mensajes con prefijos diferentes por distintas conexiones HTTP subyacentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-946">Two messages with different prefixes are sent using different underlying HTTP connections.</span></span> <span data-ttu-id="04d3a-947">Establezca el prefijo agregando un par clave-valor a la propiedad <xref:System.ServiceModel.Channels.Message.Properties%2A?displayProperty=nameWithType> del mensaje.</span><span class="sxs-lookup"><span data-stu-id="04d3a-947">You set the prefix by adding a key/value pair to the message's <xref:System.ServiceModel.Channels.Message.Properties%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="04d3a-948">La clave es "httpTransporteConexiónGrupoNombrePrefijo"; el valor es el prefijo deseado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-948">The key is "HttpTransportConnectionGroupNamePrefix"; the value is the desired prefix.</span></span>

    - <span data-ttu-id="04d3a-949">**Usar distintos generadores de canales**</span><span class="sxs-lookup"><span data-stu-id="04d3a-949">**Using different channel factories**</span></span>

      <span data-ttu-id="04d3a-950">Los usuarios también pueden habilitar una característica que garantiza que los mensajes enviados por canales creados por distintos generadores de canales usen diferentes conexiones HTTP subyacentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-950">Users can also enable a feature that ensures that messages sent using channels created by different channel factories will use different underlying HTTP connections.</span></span> <span data-ttu-id="04d3a-951">Para habilitar esta característica, los usuarios deben establecer el siguiente valor `appSetting` en `true`:</span><span class="sxs-lookup"><span data-stu-id="04d3a-951">To enable this feature, users must set the following `appSetting` to `true`:</span></span>

      ```xml
      <appSettings>
          <add key="wcf:httpTransportBinding:useUniqueConnectionPoolPerFactory" value="true" />
      </appSettings>
      ```

- <span data-ttu-id="04d3a-952">**Windows Workflow Foundation (WWF)**</span><span class="sxs-lookup"><span data-stu-id="04d3a-952">**Windows Workflow Foundation (WWF)**</span></span>

  <span data-ttu-id="04d3a-953">Ahora puede especificar los segundos durante los que un servicio de flujo de trabajo retendrá una solicitud de operación fuera de servicio cuando haya un marcador que no sea de protocolo pendiente antes de que expire la solicitud.</span><span class="sxs-lookup"><span data-stu-id="04d3a-953">You can now specify the number of seconds a workflow service will hold on to an out-of-order operation request when there is an outstanding "non-protocol" bookmark before timing out the request.</span></span> <span data-ttu-id="04d3a-954">Un marcador "no de protocolo" es un marcador que no está relacionado con las actividades de recepción pendientes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-954">A "non-protocol" bookmark is a bookmark that is not related to outstanding Receive activities.</span></span> <span data-ttu-id="04d3a-955">Algunas actividades crean marcadores no de protocolo dentro de su implementación, por lo que es posible que no sea obvio que exista un marcador no de protocolo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-955">Some activities create non-protocol bookmarks within their implementation, so it may not be obvious that a non-protocol bookmark exists.</span></span> <span data-ttu-id="04d3a-956">Entre ellas se encuentran Estado y Selección.</span><span class="sxs-lookup"><span data-stu-id="04d3a-956">These include State and Pick.</span></span> <span data-ttu-id="04d3a-957">Si tiene un servicio de flujo de trabajo implementado con un equipo de estado o que contiene una actividad de selección, lo más probable es que tenga marcadores no de protocolo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-957">So if you have a workflow service implemented with a state machine or containing a Pick activity, you will most likely have non-protocol bookmarks.</span></span> <span data-ttu-id="04d3a-958">Especifique el intervalo agregando una línea como la siguiente a la sección `appSettings` del archivo app.config:</span><span class="sxs-lookup"><span data-stu-id="04d3a-958">You specify the interval by adding a line like the following to the `appSettings` section of your app.config file:</span></span>

  ```xml
  <add key="microsoft:WorkflowServices:FilterResumeTimeoutInSeconds" value="60"/>
  ```

  <span data-ttu-id="04d3a-959">El valor predeterminado es de 60 segundos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-959">The default value is 60 seconds.</span></span> <span data-ttu-id="04d3a-960">Si `value` se establece en 0, las solicitudes fuera de servicio se rechazan inmediatamente con un error que contiene un texto similar a este:</span><span class="sxs-lookup"><span data-stu-id="04d3a-960">If `value` is set to 0, out-of-order requests are immediately rejected with a fault with text that looks like this:</span></span>

  ```console
  Operation 'Request3|{http://tempuri.org/}IService' on service instance with identifier '2b0667b6-09c8-4093-9d02-f6c67d534292' cannot be performed at this time. Please ensure that the operations are performed in the correct order and that the binding in use provides ordered delivery guarantees.
  ```

  <span data-ttu-id="04d3a-961">Este es el mismo mensaje que aparece si recibe un mensaje de operación fuera de servicio y no hay ningún marcador que no sea de protocolo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-961">This is the same message that you receive if an out-of-order operation message is received and there are no non-protocol bookmarks.</span></span>

  <span data-ttu-id="04d3a-962">Si el valor del elemento `FilterResumeTimeoutInSeconds` es distinto de cero, hay marcadores no de protocolo y el intervalo de tiempo de espera expira, se produce un error en la operación con un mensaje de tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="04d3a-962">If the value of the `FilterResumeTimeoutInSeconds` element is non-zero, there are non-protocol bookmarks, and the timeout interval expires, the operation fails with a timeout message.</span></span>

- <span data-ttu-id="04d3a-963">**Transacciones**</span><span class="sxs-lookup"><span data-stu-id="04d3a-963">**Transactions**</span></span>

  <span data-ttu-id="04d3a-964">Ahora puede incluir el identificador de transacción distribuida para la transacción que provocó que se produjera una excepción derivada de <xref:System.Transactions.TransactionException>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-964">You can now include the distributed transaction identifier for the transaction that has caused an exception derived from <xref:System.Transactions.TransactionException> to be thrown.</span></span> <span data-ttu-id="04d3a-965">Para ello, agregue la siguiente clave a la sección `appSettings` del archivo app.config:</span><span class="sxs-lookup"><span data-stu-id="04d3a-965">You do this by adding the following key to the `appSettings` section of your app.config file:</span></span>

  ```xml
  <add key="Transactions:IncludeDistributedTransactionIdInExceptionMessage" value="true"/>
  ```

  <span data-ttu-id="04d3a-966">El valor predeterminado es `false`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-966">The default value is `false`.</span></span>

- <span data-ttu-id="04d3a-967">**Redes**</span><span class="sxs-lookup"><span data-stu-id="04d3a-967">**Networking**</span></span>

  - <span data-ttu-id="04d3a-968">**Reutilización del socket**</span><span class="sxs-lookup"><span data-stu-id="04d3a-968">**Socket reuse**</span></span>

    <span data-ttu-id="04d3a-969">Windows 10 incluye un nuevo algoritmo de red de alta escalabilidad que optimiza los recursos del equipo con la reutilización de los puertos locales para las conexiones TCP salientes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-969">Windows 10 includes a new high-scalability networking algorithm that makes better use of machine resources by reusing local ports for outbound TCP connections.</span></span> <span data-ttu-id="04d3a-970">.NET Framework 4.6 admite este algoritmo, lo que permite que las aplicaciones .NET aprovechen el nuevo comportamiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-970">.NET Framework 4.6 supports the new algorithm, enabling .NET apps to take advantage of the new behavior.</span></span> <span data-ttu-id="04d3a-971">En versiones anteriores de Windows había un límite de conexiones simultáneas artificial (normalmente de 16.384, el tamaño predeterminado del intervalo de puertos dinámicos) y esto podía limitar la escalabilidad de un servicio provocando el agotamiento de puertos durante la carga.</span><span class="sxs-lookup"><span data-stu-id="04d3a-971">In previous versions of Windows, there was an artificial concurrent connection limit (typically 16,384, the default size of the dynamic port range), which could limit the scalability of a service by causing port exhaustion when under load.</span></span>

    <span data-ttu-id="04d3a-972">Se agregaron dos API nuevas a .NET Framework 4.6 para permitir la reutilización de puertos, lo que elimina de forma eficaz el límite de 64 K de las conexiones simultáneas:</span><span class="sxs-lookup"><span data-stu-id="04d3a-972">In the .NET Framework 4.6, two new APIs have been added to enable port reuse, which effectively removes the 64K limit on concurrent connections:</span></span>

    - <span data-ttu-id="04d3a-973">El valor de enumeración <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-973">The <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> enumeration value.</span></span>

    - <span data-ttu-id="04d3a-974">Propiedad <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="04d3a-974">The <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property.</span></span>

    <span data-ttu-id="04d3a-975">De forma predeterminada, la propiedad <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> es `false`, a menos que el valor `HWRPortReuseOnSocketBind` de la clave del Registro `HKLM\SOFTWARE\Microsoft\.NETFramework\v4.0.30319` se establezca en 0x1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-975">By default, the <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property is `false` unless the `HWRPortReuseOnSocketBind` value of the `HKLM\SOFTWARE\Microsoft\.NETFramework\v4.0.30319` registry key is set to 0x1.</span></span> <span data-ttu-id="04d3a-976">Para habilitar la reutilización del puerto local en las conexiones HTTP, establezca la propiedad <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> en `true`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-976">To enable local port reuse on HTTP connections, set the <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property to `true`.</span></span> <span data-ttu-id="04d3a-977">Esto hace que todas las conexiones de socket TCP salientes de <xref:System.Net.Http.HttpClient> y <xref:System.Net.HttpWebRequest> usen una nueva opción de socket de Windows 10, [SO_REUSE_UNICASTPORT](/windows/desktop/WinSock/sol-socket-socket-options), que permite la reutilización del puerto local.</span><span class="sxs-lookup"><span data-stu-id="04d3a-977">This causes all outgoing TCP socket connections from <xref:System.Net.Http.HttpClient> and <xref:System.Net.HttpWebRequest> to use a new Windows 10 socket option, [SO_REUSE_UNICASTPORT](/windows/desktop/WinSock/sol-socket-socket-options), that enables local port reuse.</span></span>

    <span data-ttu-id="04d3a-978">Los desarrolladores que crean una aplicación solo de sockets pueden especificar la opción <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> al llamar a un método (como <xref:System.Net.Sockets.Socket.SetSocketOption%2A?displayProperty=nameWithType>) para que los sockets de salida reutilicen los puertos locales durante el enlace.</span><span class="sxs-lookup"><span data-stu-id="04d3a-978">Developers writing a sockets-only application can specify the <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> option when calling a method such as <xref:System.Net.Sockets.Socket.SetSocketOption%2A?displayProperty=nameWithType> so that outbound sockets reuse local ports during binding.</span></span>

  - <span data-ttu-id="04d3a-979">**Compatibilidad con nombres de dominio internacionales y PunyCode**</span><span class="sxs-lookup"><span data-stu-id="04d3a-979">**Support for international domain names and PunyCode**</span></span>

    <span data-ttu-id="04d3a-980">Se ha agregado una nueva propiedad, <xref:System.Uri.IdnHost%2A>, a la clase <xref:System.Uri> para ofrecer una mejor compatibilidad con los nombres de dominio internacionales y PunyCode.</span><span class="sxs-lookup"><span data-stu-id="04d3a-980">A new property, <xref:System.Uri.IdnHost%2A>, has been added to the <xref:System.Uri> class to better support international domain names and PunyCode.</span></span>

- <span data-ttu-id="04d3a-981">**Cambio de tamaño en controles de Windows Forms**</span><span class="sxs-lookup"><span data-stu-id="04d3a-981">**Resizing in Windows Forms controls.**</span></span>

  <span data-ttu-id="04d3a-982">Esta característica se amplió en .NET Framework 4.6 para incluir los tipos <xref:System.Windows.Forms.DomainUpDown>, <xref:System.Windows.Forms.NumericUpDown>, <xref:System.Windows.Forms.DataGridViewComboBoxColumn>, <xref:System.Windows.Forms.DataGridViewColumn> y <xref:System.Windows.Forms.ToolStripSplitButton> y el rectángulo especificado por la propiedad <xref:System.Drawing.Design.PaintValueEventArgs.Bounds%2A> que se usa al dibujar un <xref:System.Drawing.Design.UITypeEditor>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-982">This feature has been expanded in .NET Framework 4.6 to include the <xref:System.Windows.Forms.DomainUpDown>, <xref:System.Windows.Forms.NumericUpDown>, <xref:System.Windows.Forms.DataGridViewComboBoxColumn>, <xref:System.Windows.Forms.DataGridViewColumn> and <xref:System.Windows.Forms.ToolStripSplitButton> types and the rectangle specified by the <xref:System.Drawing.Design.PaintValueEventArgs.Bounds%2A> property used when drawing a <xref:System.Drawing.Design.UITypeEditor>.</span></span>

  <span data-ttu-id="04d3a-983">Esta característica es opcional.</span><span class="sxs-lookup"><span data-stu-id="04d3a-983">This is an opt-in feature.</span></span> <span data-ttu-id="04d3a-984">Para habilitarla, establezca el elemento `EnableWindowsFormsHighDpiAutoResizing` en `true` en el archivo de configuración de la aplicación (app.config):</span><span class="sxs-lookup"><span data-stu-id="04d3a-984">To enable it, set the `EnableWindowsFormsHighDpiAutoResizing` element to `true` in the application configuration (app.config) file:</span></span>

  ```xml
  <appSettings>
      <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
  </appSettings>
  ```

- <span data-ttu-id="04d3a-985">**Compatibilidad para codificaciones de páginas de códigos**</span><span class="sxs-lookup"><span data-stu-id="04d3a-985">**Support for code page encodings**</span></span>

  <span data-ttu-id="04d3a-986">.NET Core admite principalmente las codificaciones Unicode y, de forma predeterminada, proporciona compatibilidad limitada para las codificaciones de páginas de códigos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-986">.NET Core primarily supports the Unicode encodings and by default provides limited support for code page encodings.</span></span> <span data-ttu-id="04d3a-987">Puede agregar compatibilidad con codificaciones de páginas de códigos disponibles en .NET Framework pero que no se admiten en .NET Core mediante el registro de las codificaciones de páginas de códigos con el método <xref:System.Text.Encoding.RegisterProvider%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-987">You can add support for code page encodings available in .NET Framework but unsupported in .NET Core by registering code page encodings with the <xref:System.Text.Encoding.RegisterProvider%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="04d3a-988">Para obtener más información, vea <xref:System.Text.CodePagesEncodingProvider?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-988">For more information, see <xref:System.Text.CodePagesEncodingProvider?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="04d3a-989">**.NET Native**</span><span class="sxs-lookup"><span data-stu-id="04d3a-989">**.NET Native**</span></span>

  <span data-ttu-id="04d3a-990">Las aplicaciones de Windows para Windows 10 que tienen como destino .NET Core y están escritas en C# o Visual Basic pueden aprovechar una nueva tecnología que compila las aplicaciones en código nativo en lugar de IL.</span><span class="sxs-lookup"><span data-stu-id="04d3a-990">Windows apps for Windows 10 that target .NET Core and are written in C# or Visual Basic can take advantage of a new technology that compiles apps to native code rather than IL.</span></span> <span data-ttu-id="04d3a-991">Generan aplicaciones que se caracterizan por un inicio y tiempos de ejecución más rápidos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-991">They produce apps characterized by faster startup and execution times.</span></span> <span data-ttu-id="04d3a-992">Para obtener más información, consulte [Compilar aplicaciones con .NET Native](../net-native/index.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-992">For more information, see [Compiling Apps with .NET Native](../net-native/index.md).</span></span> <span data-ttu-id="04d3a-993">Para obtener información general sobre .NET Native en la que se examina cómo difiere de la compilación JIT y de NGEN, y lo que eso conlleva para el código, vea [.NET Native y compilación](../net-native/net-native-and-compilation.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-993">For an overview of .NET Native that examines how it differs from both JIT compilation and NGEN and what that means for your code, see [.NET Native and Compilation](../net-native/net-native-and-compilation.md).</span></span>

  <span data-ttu-id="04d3a-994">Las aplicaciones se compilan en código nativo de forma predeterminada cuando se compilan con Visual Studio 2015 o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="04d3a-994">Your apps are compiled to native code by default when you compile them with Visual Studio 2015 or later.</span></span> <span data-ttu-id="04d3a-995">Para obtener más información, vea [Introducción a .NET Native](../net-native/getting-started-with-net-native.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-995">For more information, see [Getting Started with .NET Native](../net-native/getting-started-with-net-native.md).</span></span>

  <span data-ttu-id="04d3a-996">Para admitir la depuración de aplicaciones .NET Native, se agregó una serie de interfaces y enumeraciones nuevas a la API de depuración no administrada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-996">To support debugging .NET Native apps, a number of new interfaces and enumerations have been added to the unmanaged debugging API.</span></span> <span data-ttu-id="04d3a-997">Para obtener más información, consulte el tema [Depuración (Referencia de la API no administrada)](../unmanaged-api/debugging/index.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-997">For more information, see the [Debugging (Unmanaged API Reference)](../unmanaged-api/debugging/index.md) topic.</span></span>

- <span data-ttu-id="04d3a-998">**Paquetes de .NET Framework de código abierto**</span><span class="sxs-lookup"><span data-stu-id="04d3a-998">**Open-source .NET Framework packages**</span></span>

  <span data-ttu-id="04d3a-999">Los paquetes de .NET Core como las colecciones inmutables, las [API de SIMD](https://www.nuget.org/packages/Microsoft.Bcl.Simd) y las API de red, como las que se encuentran en el espacio de nombres <xref:System.Net.Http>, ahora están disponibles como paquetes de código abierto en [GitHub](https://github.com/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-999">.NET Core packages such as the immutable collections, [SIMD APIs](https://www.nuget.org/packages/Microsoft.Bcl.Simd), and networking APIs such as those found in the <xref:System.Net.Http> namespace are now available as open source packages on [GitHub](https://github.com/).</span></span> <span data-ttu-id="04d3a-1000">Para acceder al código, consulte [.NET en GitHub](https://github.com/dotnet/runtime).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1000">To access the code, see [.NET on GitHub](https://github.com/dotnet/runtime).</span></span> <span data-ttu-id="04d3a-1001">Para obtener más información y saber cómo contribuir a estos paquetes, vea [.NET Core y código abierto](../get-started/net-core-and-open-source.md) y la [página principal de .NET en GitHub](https://github.com/dotnet/home).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1001">For more information and how to contribute to these packages, see [.NET Core and Open-Source](../get-started/net-core-and-open-source.md), [.NET Home Page on GitHub](https://github.com/dotnet/home).</span></span>

<a name="v452" />

## <a name="whats-new-in-net-framework-452"></a><span data-ttu-id="04d3a-1002">Novedades de .NET Framework 4.5.2</span><span class="sxs-lookup"><span data-stu-id="04d3a-1002">What's new in .NET Framework 4.5.2</span></span>

- <span data-ttu-id="04d3a-1003">**Nuevas API para aplicaciones de ASP.NET.**</span><span class="sxs-lookup"><span data-stu-id="04d3a-1003">**New APIs for ASP.NET apps.**</span></span> <span data-ttu-id="04d3a-1004">Los nuevos métodos <xref:System.Web.HttpResponse.AddOnSendingHeaders%2A?displayProperty=nameWithType> y <xref:System.Web.HttpResponseBase.AddOnSendingHeaders%2A?displayProperty=nameWithType> le permiten inspeccionar y modificar encabezados y códigos de estado cuando se vuelca la respuesta de la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1004">The new <xref:System.Web.HttpResponse.AddOnSendingHeaders%2A?displayProperty=nameWithType> and <xref:System.Web.HttpResponseBase.AddOnSendingHeaders%2A?displayProperty=nameWithType> methods let you inspect and modify response headers and status code as the response is being flushed to the client app.</span></span> <span data-ttu-id="04d3a-1005">Puede usar estos métodos en lugar de los eventos <xref:System.Web.HttpApplication.PreSendRequestHeaders> y <xref:System.Web.HttpApplication.PreSendRequestContent>, ya que son más eficientes y fiables.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1005">Consider using these methods instead of the <xref:System.Web.HttpApplication.PreSendRequestHeaders> and <xref:System.Web.HttpApplication.PreSendRequestContent> events; they are more efficient and reliable.</span></span>

  <span data-ttu-id="04d3a-1006">El método <xref:System.Web.Hosting.HostingEnvironment.QueueBackgroundWorkItem%2A?displayProperty=nameWithType> permite programar pequeños elementos de trabajo en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1006">The <xref:System.Web.Hosting.HostingEnvironment.QueueBackgroundWorkItem%2A?displayProperty=nameWithType> method lets you schedule small background work items.</span></span> <span data-ttu-id="04d3a-1007">ASP.NET realiza un seguimiento de estos elementos y evita que IIS termine el proceso de trabajo de manera abrupta hasta que se completen todos los elementos de trabajo en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1007">ASP.NET tracks these items and prevents IIS from abruptly terminating the worker process until all background work items have completed.</span></span> <span data-ttu-id="04d3a-1008">Este método no se puede invocar desde fuera del dominio de una aplicación administrada de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1008">This method can't be called outside an ASP.NET managed app domain.</span></span>

  <span data-ttu-id="04d3a-1009">Las nuevas propiedades <xref:System.Web.HttpResponse.HeadersWritten?displayProperty=nameWithType> y <xref:System.Web.HttpResponseBase.HeadersWritten?displayProperty=nameWithType> devuelven valores booleanos que indican si los encabezados de respuesta se han escrito.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1009">The new <xref:System.Web.HttpResponse.HeadersWritten?displayProperty=nameWithType> and <xref:System.Web.HttpResponseBase.HeadersWritten?displayProperty=nameWithType> properties return Boolean values that indicate whether the response headers have been written.</span></span> <span data-ttu-id="04d3a-1010">Puede usar estas propiedades para comprobar si se realizan correctamente las llamadas a las API como <xref:System.Web.HttpResponse.StatusCode%2A?displayProperty=nameWithType> (que producen excepciones si se han escrito los encabezados).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1010">You can use these properties to make sure that calls to APIs such as <xref:System.Web.HttpResponse.StatusCode%2A?displayProperty=nameWithType> (which throw exceptions if the headers have been written) will succeed.</span></span>

- <span data-ttu-id="04d3a-1011">**Cambio de tamaño en controles de Windows Forms**</span><span class="sxs-lookup"><span data-stu-id="04d3a-1011">**Resizing in Windows Forms controls.**</span></span> <span data-ttu-id="04d3a-1012">Esta característica se ha ampliado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1012">This feature has been expanded.</span></span> <span data-ttu-id="04d3a-1013">Ahora se puede usar el valor de PPP del sistema para cambiar el tamaño de componentes de los siguientes controles adicionales (por ejemplo, la flecha desplegable en cuadros combinados):</span><span class="sxs-lookup"><span data-stu-id="04d3a-1013">You can now use the system DPI setting to resize components of the following additional controls (for example, the drop-down arrow in combo boxes):</span></span>

  - <xref:System.Windows.Forms.ComboBox>
  - <xref:System.Windows.Forms.ToolStripComboBox>
  - <xref:System.Windows.Forms.ToolStripMenuItem>
  - <xref:System.Windows.Forms.Cursor>
  - <xref:System.Windows.Forms.DataGridView>
  - <xref:System.Windows.Forms.DataGridViewComboBoxColumn>

  <span data-ttu-id="04d3a-1014">Esta característica es opcional.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1014">This is an opt-in feature.</span></span> <span data-ttu-id="04d3a-1015">Para habilitarla, establezca el elemento `EnableWindowsFormsHighDpiAutoResizing` en `true` en el archivo de configuración de la aplicación (app.config):</span><span class="sxs-lookup"><span data-stu-id="04d3a-1015">To enable it, set the `EnableWindowsFormsHighDpiAutoResizing` element to `true` in the application configuration (app.config) file:</span></span>

  ```xml
  <appSettings>
      <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
  </appSettings>
  ```

- <span data-ttu-id="04d3a-1016">**Nueva característica de flujo de trabajo.**</span><span class="sxs-lookup"><span data-stu-id="04d3a-1016">**New workflow feature.**</span></span> <span data-ttu-id="04d3a-1017">Un administrador de recursos que usa el método <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> (y, por lo tanto, implementa la interfaz <xref:System.Transactions.IPromotableSinglePhaseNotification>) puede usar el nuevo método <xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> para pedir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1017">A resource manager that's using the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method (and therefore implementing the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface) can use the new <xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> method to request the following:</span></span>

  - <span data-ttu-id="04d3a-1018">Promocionar la transacción a una transacción de MSDTC (Coordinador de transacciones distribuidas de Microsoft).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1018">Promote the transaction to a Microsoft Distributed Transaction Coordinator (MSDTC) transaction.</span></span>

  - <span data-ttu-id="04d3a-1019">Reemplace <xref:System.Transactions.IPromotableSinglePhaseNotification> con una <xref:System.Transactions.ISinglePhaseNotification>, que es una inscripción duradera que admite confirmaciones de fase única.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1019">Replace <xref:System.Transactions.IPromotableSinglePhaseNotification> with an <xref:System.Transactions.ISinglePhaseNotification>, which is a durable enlistment that supports single phase commits.</span></span>

  <span data-ttu-id="04d3a-1020">Esto puede realizarse en el mismo dominio de la aplicación y no requiere que ningún código sin administrar adicional interactúe con MSDTC para realizar la promoción.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1020">This can be done within the same app domain, and doesn't require any extra unmanaged code to interact with MSDTC to perform the promotion.</span></span> <span data-ttu-id="04d3a-1021">Solo se puede llamar al nuevo método cuando existe una llamada pendiente de <xref:System.Transactions?displayProperty=nameWithType> al método <xref:System.Transactions.IPromotableSinglePhaseNotification>`Promote` que está implementado por una inscripción que puede promocionarse.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1021">The new method can be called only when there's an outstanding call from <xref:System.Transactions?displayProperty=nameWithType> to the <xref:System.Transactions.IPromotableSinglePhaseNotification>`Promote` method that's implemented by the promotable enlistment.</span></span>

- <span data-ttu-id="04d3a-1022">**Mejoras de generación de perfiles.**</span><span class="sxs-lookup"><span data-stu-id="04d3a-1022">**Profiling improvements.**</span></span> <span data-ttu-id="04d3a-1023">Las siguientes API de generación de perfiles no administradas proporcionan una generación de perfiles más sólida:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1023">The following new unmanaged profiling APIs provide more robust profiling:</span></span>

  - [<span data-ttu-id="04d3a-1024">COR_PRF_ASSEMBLY_REFERENCE_INFO (estructura)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1024">COR_PRF_ASSEMBLY_REFERENCE_INFO Structure</span></span>](../unmanaged-api/profiling/cor-prf-assembly-reference-info-structure.md)
  - [<span data-ttu-id="04d3a-1025">COR_PRF_HIGH_MONITOR (enumeración)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1025">COR_PRF_HIGH_MONITOR Enumeration</span></span>](../unmanaged-api/profiling/cor-prf-high-monitor-enumeration.md)
  - [<span data-ttu-id="04d3a-1026">GetAssemblyReferences (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1026">GetAssemblyReferences Method</span></span>](../unmanaged-api/profiling/icorprofilercallback6-getassemblyreferences-method.md)
  - [<span data-ttu-id="04d3a-1027">GetEventMask2 (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1027">GetEventMask2 Method</span></span>](../unmanaged-api/profiling/icorprofilerinfo5-geteventmask2-method.md)
  - [<span data-ttu-id="04d3a-1028">SetEventMask2 (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1028">SetEventMask2 Method</span></span>](../unmanaged-api/profiling/icorprofilerinfo5-seteventmask2-method.md)
  - [<span data-ttu-id="04d3a-1029">Método AddAssemblyReference</span><span class="sxs-lookup"><span data-stu-id="04d3a-1029">AddAssemblyReference Method</span></span>](../unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md)

  <span data-ttu-id="04d3a-1030">Las implementaciones de `ICorProfiler` anteriores eran compatibles con la carga diferida de ensamblados dependientes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1030">Previous `ICorProfiler` implementations supported lazy loading of dependent assemblies.</span></span> <span data-ttu-id="04d3a-1031">Las nuevas API de generación de perfiles requieren que los ensamblados dependientes insertados por el generador de perfiles se carguen inmediatamente, en lugar de cargarse cuando la aplicación se haya inicializado por completo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1031">The new profiling APIs require dependent assemblies that are injected by the profiler to be loadable immediately, instead of being loaded after the app is fully initialized.</span></span> <span data-ttu-id="04d3a-1032">Este cambio no afecta a los usuarios de las API de `ICorProfiler` existentes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1032">This change doesn't affect users of the existing `ICorProfiler` APIs.</span></span>

- <span data-ttu-id="04d3a-1033">**Mejoras en la depuración.**</span><span class="sxs-lookup"><span data-stu-id="04d3a-1033">**Debugging improvements.**</span></span> <span data-ttu-id="04d3a-1034">Las API de depuración no administradas proporcionan una mejor integración con un generador de perfiles.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1034">The following new unmanaged debugging APIs provide better integration with a profiler.</span></span> <span data-ttu-id="04d3a-1035">Ahora se puede acceder a metadatos insertados por el generador de perfiles, así como a variables locales y código producidos por solicitudes de ReJIT del compilador en la depuración de volcados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1035">You can now access metadata inserted by the profiler as well as local variables and code produced by compiler ReJIT requests when dump debugging.</span></span>

  - [<span data-ttu-id="04d3a-1036">SetWriteableMetadataUpdateMode (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1036">SetWriteableMetadataUpdateMode Method</span></span>](../unmanaged-api/debugging/icordebugprocess7-setwriteablemetadataupdatemode-method.md)
  - [<span data-ttu-id="04d3a-1037">EnumerateLocalVariablesEx (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1037">EnumerateLocalVariablesEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-enumeratelocalvariablesex-method.md)
  - [<span data-ttu-id="04d3a-1038">GetLocalVariableEx (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1038">GetLocalVariableEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-getlocalvariableex-method.md)
  - [<span data-ttu-id="04d3a-1039">GetCodeEx (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1039">GetCodeEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-getcodeex-method.md)
  - [<span data-ttu-id="04d3a-1040">GetActiveReJitRequestILCode (método)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1040">GetActiveReJitRequestILCode Method</span></span>](../unmanaged-api/debugging/icordebugfunction3-getactiverejitrequestilcode-method.md)
  - [<span data-ttu-id="04d3a-1041">Método GetInstrumentedILMap</span><span class="sxs-lookup"><span data-stu-id="04d3a-1041">GetInstrumentedILMap Method</span></span>](../unmanaged-api/debugging/icordebugilcode2-getinstrumentedilmap-method.md)

- <span data-ttu-id="04d3a-1042">**Cambios en el seguimiento de eventos.**</span><span class="sxs-lookup"><span data-stu-id="04d3a-1042">**Event tracing changes.**</span></span> <span data-ttu-id="04d3a-1043">.NET Framework 4.5.2 permite realizar el seguimiento de actividades fuera del proceso, basado en el Seguimiento de eventos para Windows (ETW), para una mayor área expuesta.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1043">.NET Framework 4.5.2 enables out-of-process, Event Tracing for Windows (ETW)-based activity tracing for a larger surface area.</span></span> <span data-ttu-id="04d3a-1044">Esto permite a los proveedores de Administración avanzada de energía (APM) proporcionar herramientas sencillas que realicen un seguimiento preciso de solicitudes y actividades individuales en distintos subprocesos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1044">This enables Advanced Power Management (APM) vendors to provide lightweight tools that accurately track the costs of individual requests and activities that cross threads.</span></span>  <span data-ttu-id="04d3a-1045">Estos eventos solo se desencadenan cuando son habilitados por los controladores de ETW; por lo tanto, los cambios no afectan a código de ETW escrito anteriormente o a código que se ejecute cuando ETW esté deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1045">These events are raised only when ETW controllers enable them; therefore, the changes don't affect previously written ETW code or code that runs with ETW disabled.</span></span>

- <span data-ttu-id="04d3a-1046">**Promover una transacción y convertirla en una inscripción duradera**</span><span class="sxs-lookup"><span data-stu-id="04d3a-1046">**Promoting a transaction and converting it to a durable enlistment**</span></span>

  <span data-ttu-id="04d3a-1047"><xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> es una API nueva que se ha agregado a .NET Framework 4.5.2 y 4.6:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1047"><xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> is a new API added to .NET Framework 4.5.2 and 4.6:</span></span>

  ```csharp
  [System.Security.Permissions.PermissionSetAttribute(System.Security.Permissions.SecurityAction.LinkDemand, Name = "FullTrust")]
  public Enlistment PromoteAndEnlistDurable(Guid resourceManagerIdentifier,
                                            IPromotableSinglePhaseNotification promotableNotification,
                                            ISinglePhaseNotification enlistmentNotification,
                                            EnlistmentOptions enlistmentOptions)
  ```

  ```vb
  <System.Security.Permissions.PermissionSetAttribute(System.Security.Permissions.SecurityAction.LinkDemand, Name:="FullTrust")>
  public Function PromoteAndEnlistDurable(resourceManagerIdentifier As Guid,
                                          promotableNotification As IPromotableSinglePhaseNotification,
                                          enlistmentNotification As ISinglePhaseNotification,
                                          enlistmentOptions As EnlistmentOptions) As Enlistment
  ```

  <span data-ttu-id="04d3a-1048">El método se puede usar con una inscripción creada previamente por <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> en respuesta al método <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1048">The method may be used by an enlistment that was previously created by <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> in response to the <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="04d3a-1049">Pide a `System.Transactions` que promueva la transacción a una transacción MSDTC y que "convierta" la inscripción que se puede promover en una inscripción duradera.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1049">It asks `System.Transactions` to promote the transaction to an MSDTC transaction and to "convert" the promotable enlistment to a durable enlistment.</span></span> <span data-ttu-id="04d3a-1050">Cuando este método finalice correctamente, `System.Transactions` ya no hará referencia a la interfaz <xref:System.Transactions.IPromotableSinglePhaseNotification> y todas las notificaciones futuras llegarán a la interfaz <xref:System.Transactions.ISinglePhaseNotification> proporcionada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1050">After this method completes successfully, the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface will no longer be referenced by `System.Transactions`, and any future notifications will arrive on the provided <xref:System.Transactions.ISinglePhaseNotification> interface.</span></span> <span data-ttu-id="04d3a-1051">La inscripción en cuestión debe actuar como inscripción duradera y admitir el registro y la recuperación de transacciones.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1051">The enlistment in question must act as a durable enlistment, supporting transaction logging and recovery.</span></span> <span data-ttu-id="04d3a-1052">Vea <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType> para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1052">Refer to <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType> for details.</span></span> <span data-ttu-id="04d3a-1053">Además, la inscripción debe admitir <xref:System.Transactions.ISinglePhaseNotification>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1053">In addition, the enlistment must support <xref:System.Transactions.ISinglePhaseNotification>.</span></span>  <span data-ttu-id="04d3a-1054">*Solo* se puede llamar a este método al procesar una llamada de <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1054">This method can *only* be called while processing an <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> call.</span></span> <span data-ttu-id="04d3a-1055">Si no es el caso, se produce una excepción <xref:System.Transactions.TransactionException>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1055">If that is not the case, a <xref:System.Transactions.TransactionException> exception is thrown.</span></span>

<a name="v451" />

## <a name="whats-new-in-net-framework-451"></a><span data-ttu-id="04d3a-1056">Novedades de .NET Framework 4.5.1</span><span class="sxs-lookup"><span data-stu-id="04d3a-1056">What's new in .NET Framework 4.5.1</span></span>

<span data-ttu-id="04d3a-1057">**Actualizaciones de abril de 2014**:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1057">**April 2014 updates**:</span></span>

- <span data-ttu-id="04d3a-1058">[Visual Studio 2013 Update 2](https://go.microsoft.com/fwlink/p/?LinkId=393658) incluye actualizaciones para las plantillas de la Biblioteca de clases portable para garantizar la compatibilidad en los escenarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1058">[Visual Studio 2013 Update 2](https://go.microsoft.com/fwlink/p/?LinkId=393658) includes updates to the Portable Class Library templates to support these scenarios:</span></span>

  - <span data-ttu-id="04d3a-1059">Puede usar las API de Windows en tiempo de ejecución en bibliotecas portables cuyo destino sea Windows 8.1, Windows Phone 8.1 y Windows Phone Silverlight 8.1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1059">You can use Windows Runtime APIs in portable libraries that target Windows 8.1, Windows Phone 8.1, and Windows Phone Silverlight 8.1.</span></span>

  - <span data-ttu-id="04d3a-1060">Puede incluir XAML (tipos de Windows.UI.XAML) en las bibliotecas portables cuyo destino es Windows 8.1 o Windows Phone 8.1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1060">You can include XAML (Windows.UI.XAML types) in portable libraries when you target Windows 8.1 or Windows Phone 8.1.</span></span> <span data-ttu-id="04d3a-1061">Se admiten las siguientes plantillas de XAML:  Página en blanco, Diccionario de recursos, Control basado en modelo y Control de usuario.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1061">The following XAML templates are supported:  Blank Page, Resource Dictionary, Templated Control, and User Control.</span></span>

  - <span data-ttu-id="04d3a-1062">Se puede crear un componente de Windows en tiempo de ejecución portable (archivo .winmd) para usarlo en aplicaciones de la Tienda que tengan como destino Windows 8.1 y Windows Phone 8.1.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1062">You can create a portable Windows Runtime component (.winmd file) for use in Store apps that target Windows 8.1 and Windows Phone 8.1.</span></span>

  - <span data-ttu-id="04d3a-1063">Puede cambiar el destino de una biblioteca de clases de la Tienda Windows o la Tienda de Windows Phone como biblioteca de clases portable.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1063">You can retarget a Windows Store or Windows Phone Store class library like a Portable Class Library.</span></span>

  <span data-ttu-id="04d3a-1064">Para obtener más información sobre estos cambios, vea [Biblioteca de clases portable](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1064">For more information about these changes, see [Portable Class Library](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span></span>

- <span data-ttu-id="04d3a-1065">El conjunto de contenido de .NET Framework ahora incluye documentación para .NET Native, que es una tecnología de precompilación para crear e implementar aplicaciones de Windows.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1065">The .NET Framework content set now includes documentation for .NET Native, which is a precompilation technology for building and deploying Windows apps.</span></span> <span data-ttu-id="04d3a-1066">.NET Native compila aplicaciones directamente en código nativo, en lugar de hacerlo en un lenguaje intermedio (IL), lo que mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1066">.NET Native compiles your apps directly to native code, rather than to intermediate language (IL), for better performance.</span></span> <span data-ttu-id="04d3a-1067">Para obtener información detallada, vea [Compilar aplicaciones con .NET Native](../net-native/index.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1067">For details, see [Compiling Apps with .NET Native](../net-native/index.md).</span></span>

- <span data-ttu-id="04d3a-1068">[.NET Framework Reference Source](https://referencesource.microsoft.com/) proporciona una nueva experiencia de navegación y mejores funciones.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1068">The [.NET Framework Reference Source](https://referencesource.microsoft.com/) provides a new browsing experience and enhanced functionality.</span></span> <span data-ttu-id="04d3a-1069">Ahora puede navegar en línea por el código fuente de .NET Framework, [descargar la referencia](https://referencesource.microsoft.com/download.html) para visualizarlo sin conexión y examinar los orígenes (incluidas revisiones y actualizaciones) durante la depuración.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1069">You can now browse through the .NET Framework source code online, [download the reference](https://referencesource.microsoft.com/download.html) for offline viewing, and step through the sources (including patches and updates) during debugging.</span></span> <span data-ttu-id="04d3a-1070">Para obtener más información, vea la entrada de blog [A new look for .NET Reference Source](https://devblogs.microsoft.com/dotnet/a-new-look-for-net-reference-source/) (Un nuevo aspecto para el origen de referencia de .NET).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1070">For more information, see the blog entry [A new look for .NET Reference Source](https://devblogs.microsoft.com/dotnet/a-new-look-for-net-reference-source/).</span></span>

<span data-ttu-id="04d3a-1071">Las nuevas características y mejoras realizadas en las clases base en .NET Framework 4.5.1 son:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1071">New features and enhancements in the base classes in .NET Framework 4.5.1 include:</span></span>

- <span data-ttu-id="04d3a-1072">Redirección automática de enlace de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1072">Automatic binding redirection for assemblies.</span></span> <span data-ttu-id="04d3a-1073">A partir de Visual Studio 2013, cuando se compila una aplicación cuyo destino es .NET Framework 4.5.1, se pueden agregar al archivo de configuración de la aplicación redirecciones de enlace si la aplicación o sus componentes hacen referencia a varias versiones del mismo ensamblado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1073">Starting with Visual Studio 2013, when you compile an app that targets the .NET Framework 4.5.1, binding redirects may be added to the app configuration file if your app or its components reference multiple versions of the same assembly.</span></span> <span data-ttu-id="04d3a-1074">Esta característica también se puede habilitar en proyectos que tienen como destino versiones anteriores de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1074">You can also enable this feature for projects that target older versions of the .NET Framework.</span></span> <span data-ttu-id="04d3a-1075">Para obtener más información, vea [Cómo: Habilitar y deshabilitar redireccionamiento de enlaces automático](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1075">For more information, see [How to: Enable and Disable Automatic Binding Redirection](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span></span>

- <span data-ttu-id="04d3a-1076">Capacidad de recopilar información de diagnóstico para ayudar a los desarrolladores a mejorar el rendimiento de las aplicaciones de servidor y en la nube.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1076">Ability to collect diagnostics information to help developers improve the performance of server and cloud applications.</span></span> <span data-ttu-id="04d3a-1077">Para obtener más información, vea los métodos <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityId%2A> y <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore%2A> de la clase <xref:System.Diagnostics.Tracing.EventSource>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1077">For more information, see the <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityId%2A> and <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore%2A> methods in the <xref:System.Diagnostics.Tracing.EventSource> class.</span></span>

- <span data-ttu-id="04d3a-1078">Capacidad de compactar explícitamente el montón de objetos grandes (LOH) durante la recolección de elementos no utilizados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1078">Ability to explicitly compact the large object heap (LOH) during garbage collection.</span></span> <span data-ttu-id="04d3a-1079">Para obtener más información, vea la propiedad <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1079">For more information, see the <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="04d3a-1080">Mejoras adicionales de rendimiento como, por ejemplo, la suspensión de la aplicación ASP.NET, mejoras de JIT con varios núcleos o reducción del tiempo de inicio de la aplicación tras una actualización de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1080">Additional performance improvements such as ASP.NET app suspension, multi-core JIT improvements, and faster app startup after a .NET Framework update.</span></span> <span data-ttu-id="04d3a-1081">Para obtener información detallada, vea las entradas de blog relativas al [anuncio de .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/) y la [suspensión de aplicaciones ASP.NET](https://devblogs.microsoft.com/dotnet/asp-net-app-suspend-responsive-shared-net-web-hosting/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1081">For details, see the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/) and the [ASP.NET app suspend](https://devblogs.microsoft.com/dotnet/asp-net-app-suspend-responsive-shared-net-web-hosting/) blog post.</span></span>

<span data-ttu-id="04d3a-1082">Las mejoras en Windows Forms son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1082">Improvements to Windows Forms include:</span></span>

- <span data-ttu-id="04d3a-1083">Cambio de tamaño en controles de Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1083">Resizing in Windows Forms controls.</span></span> <span data-ttu-id="04d3a-1084">Puede usar el valor de PPP del sistema para cambiar el tamaño de los componentes de controles (por ejemplo, los iconos que aparecen en una cuadrícula de propiedades); para ello, active esta opción con una entrada en el archivo de configuración de la aplicación (app.config).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1084">You can use the system DPI setting to resize components of controls (for example, the icons that appear in a property grid) by opting in with an entry in the application configuration file (app.config) for your app.</span></span> <span data-ttu-id="04d3a-1085">Actualmente, esta característica es compatible con los siguientes controles de Windows Forms:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1085">This feature is currently supported in the following Windows Forms controls:</span></span>

  - <xref:System.Windows.Forms.PropertyGrid>
  - <xref:System.Windows.Forms.TreeView>
  - <span data-ttu-id="04d3a-1086">Algunos aspectos de <xref:System.Windows.Forms.DataGridView> (vea las [nuevas características de la versión 4.5.2](#v452) para conocer los controles adicionales admitidos)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1086">Some aspects of the <xref:System.Windows.Forms.DataGridView> (see [new features in 4.5.2](#v452) for additional controls supported)</span></span>

  <span data-ttu-id="04d3a-1087">Para activar esta característica, agregue un nuevo elemento \<appSettings> al archivo de configuración (app.config) y establezca el elemento `EnableWindowsFormsHighDpiAutoResizing` en `true`:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1087">To enable this feature, add a new \<appSettings> element to the configuration file (app.config) and set the `EnableWindowsFormsHighDpiAutoResizing` element to `true`:</span></span>

  ```xml
  <appSettings>
      <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
  </appSettings>
  ```

<span data-ttu-id="04d3a-1088">Algunas de las mejoras realizadas durante la depuración de las aplicaciones de .NET Framework en Visual Studio 2013 son:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1088">Improvements when debugging your .NET Framework apps in Visual Studio 2013 include:</span></span>

- <span data-ttu-id="04d3a-1089">Valores devueltos en el depurador de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1089">Return values in the Visual Studio debugger.</span></span> <span data-ttu-id="04d3a-1090">Al depurar una aplicación administrada en Visual Studio 2013, en la ventana Automático se muestran los valores y tipos devueltos de los métodos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1090">When you debug a managed app in Visual Studio 2013, the Autos window displays return types and values for methods.</span></span> <span data-ttu-id="04d3a-1091">Esta información está disponible para el escritorio, la Tienda Windows y las aplicaciones Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1091">This information is available for desktop, Windows Store, and Windows Phone apps.</span></span> <span data-ttu-id="04d3a-1092">Para más información, vea [Examinar los valores devueltos de llamadas a métodos](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/dn323257(v=vs.120)).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1092">For more information, see [Examine return values of method calls](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2013/dn323257(v=vs.120)).</span></span>

- <span data-ttu-id="04d3a-1093">Editar y continuar en aplicaciones de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1093">Edit and Continue for 64-bit apps.</span></span> <span data-ttu-id="04d3a-1094">Visual Studio 2013 admite la característica Editar y continuar en aplicaciones administradas de 64 bits para el escritorio, la Tienda Windows y Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1094">Visual Studio 2013 supports the Edit and Continue feature for 64-bit managed apps for desktop, Windows Store, and Windows Phone.</span></span> <span data-ttu-id="04d3a-1095">Las limitaciones existentes siguen en vigor para las aplicaciones de 32 bits y 64 bits (vea la última sección del artículo [Cambios admitidos en el código (C#)](/visualstudio/debugger/supported-code-changes-csharp)).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1095">The existing limitations remain in effect for both 32-bit and 64-bit apps (see the last section of the [Supported Code Changes (C#)](/visualstudio/debugger/supported-code-changes-csharp) article).</span></span>

- <span data-ttu-id="04d3a-1096">Depuración asincrónica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1096">Async-aware debugging.</span></span> <span data-ttu-id="04d3a-1097">Para facilitar la depuración de aplicaciones asincrónicas en Visual Studio 2013, la pila de llamadas oculta el código de infraestructura proporcionado por los compiladores para permitir la programación asincrónica y, además, encadena los principales marcos lógicos para que pueda seguir la ejecución lógica del programa con mayor claridad.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1097">To make it easier to debug asynchronous apps in Visual Studio 2013, the call stack hides the infrastructure code provided by compilers to support asynchronous programming, and also chains in logical parent frames so you can follow logical program execution more clearly.</span></span> <span data-ttu-id="04d3a-1098">La ventana Tareas reemplaza a la ventana Tareas paralelas, donde se muestran las tareas relacionadas con un punto de interrupción determinado, así como las demás tareas que actualmente están activas o programadas en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1098">A Tasks window replaces the Parallel Tasks window and displays tasks that relate to a particular breakpoint, and also displays any other tasks that are currently active or scheduled in the app.</span></span> <span data-ttu-id="04d3a-1099">Puede obtener más información sobre esta característica en la sección "Async-aware debugging" (Depuración asincrónica) de la publicación sobre [el anuncio de .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1099">You can read about this feature in the "Async-aware debugging" section of the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span></span>

- <span data-ttu-id="04d3a-1100">Mayor compatibilidad con las excepciones de los componentes de Windows en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1100">Better exception support for Windows Runtime components.</span></span> <span data-ttu-id="04d3a-1101">En Windows 8.1, las excepciones que se inician en aplicaciones de la Tienda Windows conservan información sobre el error que provocó la excepción, incluso entre diferentes lenguajes.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1101">In Windows 8.1, exceptions that arise from Windows Store apps preserve information about the error that caused the exception, even across language boundaries.</span></span> <span data-ttu-id="04d3a-1102">Puede obtener más información sobre esta característica en la sección "Windows Store app development" (Desarrollo de aplicaciones de la Tienda Windows) de la publicación del [anuncio de .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1102">You can read about this feature in the "Windows Store app development" section of the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span></span>

<span data-ttu-id="04d3a-1103">A partir de Visual Studio 2013, puede usar la [herramienta de optimización guiada por perfiles administrados (Mpgo.exe)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md) para optimizar las aplicaciones de Tienda Windows 8.x, así como las aplicaciones de escritorio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1103">Starting with Visual Studio 2013, you can use the [Managed Profile Guided Optimization Tool (Mpgo.exe)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md) to optimize Windows 8.x Store apps as well as desktop apps.</span></span>

<span data-ttu-id="04d3a-1104">Para descubrir las nuevas características de ASP.NET 4.5.1, vea [ASP.NET and Web Tools for Visual Studio 2013 Release Notes](/aspnet/visual-studio/overview/2013/release-notes) (Notas de la versión de ASP.NET y herramientas web para Visual Studio 2013).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1104">For new features in ASP.NET 4.5.1, see [ASP.NET and Web Tools for Visual Studio 2013 Release Notes](/aspnet/visual-studio/overview/2013/release-notes).</span></span>

<a name="v45" />

## <a name="whats-new-in-net-framework-45"></a><span data-ttu-id="04d3a-1105">Novedades de .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="04d3a-1105">What's new in .NET Framework 4.5</span></span>

### <a name="base-classes"></a><span data-ttu-id="04d3a-1106">Clases base</span><span class="sxs-lookup"><span data-stu-id="04d3a-1106">Base classes</span></span>

- <span data-ttu-id="04d3a-1107">Capacidad para reducir los reinicios del sistema mediante la detección y cierre de las aplicaciones de .NET Framework 4 durante la implementación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1107">Ability to reduce system restarts by detecting and closing .NET Framework 4 applications during deployment.</span></span> <span data-ttu-id="04d3a-1108">Vea [Reducir los reinicios del sistema durante las instalaciones de .NET Framework 4.5](../deployment/reducing-system-restarts.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1108">See [Reducing System Restarts During .NET Framework 4.5 Installations](../deployment/reducing-system-restarts.md).</span></span>

- <span data-ttu-id="04d3a-1109">Compatibilidad con matrices mayores de 2 gigabytes (GB) en plataformas de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1109">Support for arrays that are larger than 2 gigabytes (GB) on 64-bit platforms.</span></span> <span data-ttu-id="04d3a-1110">Esta característica se puede habilitar en el archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1110">This feature can be enabled in the application configuration file.</span></span> <span data-ttu-id="04d3a-1111">Consulte el elemento [\<gcAllowVeryLargeObjects>](../configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md), donde también se indican otras restricciones de tamaño de objeto y de tamaño de matriz.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1111">See the [\<gcAllowVeryLargeObjects> element](../configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md), which also lists other restrictions on object size and array size.</span></span>

- <span data-ttu-id="04d3a-1112">Mayor rendimiento a través de la recolección de elementos no utilizados en segundo plano en el caso de los servidores.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1112">Better performance through background garbage collection for servers.</span></span> <span data-ttu-id="04d3a-1113">Cuando se usa la recolección de elementos no utilizados de los servidores en .NET Framework 4.5, se habilita automáticamente la recolección de elementos no utilizados en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1113">When you use server garbage collection in the .NET Framework 4.5, background garbage collection is automatically enabled.</span></span> <span data-ttu-id="04d3a-1114">Vea la sección sobre la recolección de elementos no utilizados en segundo plano de los servidores del tema [Fundamentos de la recolección de elementos no utilizados](../../standard/garbage-collection/fundamentals.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1114">See the Background Server Garbage Collection section of the [Fundamentals of Garbage Collection](../../standard/garbage-collection/fundamentals.md) topic.</span></span>

- <span data-ttu-id="04d3a-1115">Compilación Just-in-time (JIT) en segundo plano, que se encuentra disponible opcionalmente en los procesadores de varios núcleos para mejorar el rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1115">Background just-in-time (JIT) compilation, which is optionally available on multi-core processors to improve application performance.</span></span> <span data-ttu-id="04d3a-1116">Vea <xref:System.Runtime.ProfileOptimization>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1116">See <xref:System.Runtime.ProfileOptimization>.</span></span>

- <span data-ttu-id="04d3a-1117">Capacidad para limitar el tiempo durante el cual el motor de expresiones regulares intentará resolver una expresión regular antes de agotar el tiempo de espera. Vea la propiedad <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1117">Ability to limit how long the regular expression engine will attempt to resolve a regular expression before it times out. See the <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="04d3a-1118">Capacidad para definir la referencia cultural predeterminada de un dominio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1118">Ability to define the default culture for an application domain.</span></span> <span data-ttu-id="04d3a-1119">Vea la descripción de la clase <xref:System.Globalization.CultureInfo>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1119">See the <xref:System.Globalization.CultureInfo> class.</span></span>

- <span data-ttu-id="04d3a-1120">Compatibilidad de la consola con la codificación Unicode (UTF-16).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1120">Console support for Unicode (UTF-16) encoding.</span></span> <span data-ttu-id="04d3a-1121">Vea la descripción de la clase <xref:System.Console>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1121">See the <xref:System.Console> class.</span></span>

- <span data-ttu-id="04d3a-1122">Compatibilidad con el control de versiones de ordenación cultural de cadenas y datos de comparación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1122">Support for versioning of cultural string ordering and comparison data.</span></span> <span data-ttu-id="04d3a-1123">Vea la descripción de la clase <xref:System.Globalization.SortVersion>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1123">See the <xref:System.Globalization.SortVersion> class.</span></span>

- <span data-ttu-id="04d3a-1124">Mayor rendimiento al recuperar recursos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1124">Better performance when retrieving resources.</span></span> <span data-ttu-id="04d3a-1125">Vea [Empaquetar e implementar recursos](../resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1125">See [Packaging and Deploying Resources](../resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

- <span data-ttu-id="04d3a-1126">Mejoras en la compresión Zip para reducir el tamaño de un archivo comprimido.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1126">Zip compression improvements to reduce the size of a compressed file.</span></span> <span data-ttu-id="04d3a-1127">Vea el espacio de nombres <xref:System.IO.Compression?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1127">See the <xref:System.IO.Compression?displayProperty=nameWithType> namespace.</span></span>

- <span data-ttu-id="04d3a-1128">Capacidad de personalizar un contexto de reflexión para invalidar el comportamiento predeterminado de reflexión a través de la clase <xref:System.Reflection.Context.CustomReflectionContext>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1128">Ability to customize a reflection context to override default reflection behavior through the <xref:System.Reflection.Context.CustomReflectionContext> class.</span></span>

- <span data-ttu-id="04d3a-1129">Compatibilidad con la versión 2008 del estándar de internacionalización de nombres de dominio de las aplicaciones (IDNA) cuando se utiliza la clase <xref:System.Globalization.IdnMapping?displayProperty=nameWithType> en Windows 8.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1129">Support for the 2008 version of the Internationalized Domain Names in Applications (IDNA) standard when the <xref:System.Globalization.IdnMapping?displayProperty=nameWithType> class is used  on Windows 8.</span></span>

- <span data-ttu-id="04d3a-1130">Delegación de comparación de cadenas en el sistema operativo, que implementa Unicode 6.0, cuando se usa .NET Framework en Windows 8.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1130">Delegation of string comparison to the operating system, which implements Unicode 6.0, when the .NET Framework is used on Windows 8.</span></span> <span data-ttu-id="04d3a-1131">Al ejecutarse en otras plataformas, .NET Framework incluye sus propios datos de comparación de cadenas, que implementan Unicode 5.x.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1131">When running on other platforms, the .NET Framework includes its own string comparison data, which implements Unicode 5.x.</span></span> <span data-ttu-id="04d3a-1132">Vea la clase <xref:System.String> y la sección Comentarios de la clase <xref:System.Globalization.SortVersion>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1132">See the <xref:System.String> class and the Remarks section of the <xref:System.Globalization.SortVersion> class.</span></span>

- <span data-ttu-id="04d3a-1133">Capacidad para calcular los códigos hash de cadenas en cada dominio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1133">Ability to compute the hash codes for strings on a per application domain basis.</span></span> <span data-ttu-id="04d3a-1134">Vea el elemento [\<UseRandomizedStringHashAlgorithm>](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1134">See [\<UseRandomizedStringHashAlgorithm> Element](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span></span>

- <span data-ttu-id="04d3a-1135">Compatibilidad con la reflexión de tipos dividida entre las clases <xref:System.Type> y <xref:System.Reflection.TypeInfo>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1135">Type reflection support split between <xref:System.Type> and <xref:System.Reflection.TypeInfo> classes.</span></span> <span data-ttu-id="04d3a-1136">Vea [Reflexión en .NET Framework para aplicaciones de la Tienda Windows](../reflection-and-codedom/reflection-for-windows-store-apps.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1136">See [Reflection in the .NET Framework for Windows Store Apps](../reflection-and-codedom/reflection-for-windows-store-apps.md).</span></span>

### <a name="managed-extensibility-framework-mef"></a><span data-ttu-id="04d3a-1137">Managed Extensibility Framework (MEF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1137">Managed Extensibility Framework (MEF)</span></span>

<span data-ttu-id="04d3a-1138">En .NET Framework 4.5, Managed Extensibility Framework (MEF) cuenta con las siguientes características nuevas:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1138">In the .NET Framework 4.5, the Managed Extensibility Framework (MEF) provides the following new features:</span></span>

- <span data-ttu-id="04d3a-1139">Compatibilidad con los tipos genéricos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1139">Support for generic types.</span></span>

- <span data-ttu-id="04d3a-1140">Modelo de programación basado en convenciones que permite crear elementos basándose en convenciones de nomenclatura en lugar de en atributos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1140">Convention-based programming model that enables you to create parts based on naming conventions rather than attributes.</span></span>

- <span data-ttu-id="04d3a-1141">Ámbitos múltiples.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1141">Multiple scopes.</span></span>

- <span data-ttu-id="04d3a-1142">Un subconjunto de MEF que puede usar cuando cree aplicaciones de la Tienda Windows 8.x.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1142">A subset of MEF that you can use when you create Windows 8.x Store apps.</span></span> <span data-ttu-id="04d3a-1143">Este subconjunto está disponible como un [paquete descargable](https://www.nuget.org/packages/Microsoft.Composition) en la galería de NuGet.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1143">This subset is available as a [downloadable package](https://www.nuget.org/packages/Microsoft.Composition) from the NuGet Gallery.</span></span> <span data-ttu-id="04d3a-1144">Para instalar el paquete, abra el proyecto en Visual Studio, elija **Administrar paquetes de NuGet** en el menú **Proyecto** y busque en línea el paquete `Microsoft.Composition`.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1144">To install the package, open your project in Visual Studio, choose **Manage NuGet Packages** from the **Project** menu, and search online for the `Microsoft.Composition` package.</span></span>

<span data-ttu-id="04d3a-1145">Para obtener más información, vea [Managed Extensibility Framework (MEF)](../mef/index.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1145">For more information, see [Managed Extensibility Framework (MEF)](../mef/index.md).</span></span>

### <a name="asynchronous-file-operations"></a><span data-ttu-id="04d3a-1146">Operaciones de archivo asincrónicas</span><span class="sxs-lookup"><span data-stu-id="04d3a-1146">Asynchronous file operations</span></span>

<span data-ttu-id="04d3a-1147">En .NET Framework 4.5, se agregaron nuevas características asincrónicas a los lenguajes C# y Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1147">In the .NET Framework 4.5, new asynchronous features were added to the C# and Visual Basic languages.</span></span> <span data-ttu-id="04d3a-1148">Estas características agregan un modelo basado en tareas para realizar operaciones asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1148">These features add a task-based model for performing asynchronous operations.</span></span> <span data-ttu-id="04d3a-1149">Para utilizar este nuevo modelo, use los métodos asincrónicos de las clases de E/S.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1149">To use this new model, use the asynchronous methods in the I/O classes.</span></span> <span data-ttu-id="04d3a-1150">Vea [E/S de archivos asincrónica](../../standard/io/asynchronous-file-i-o.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1150">See [Asynchronous File I/O](../../standard/io/asynchronous-file-i-o.md).</span></span>

<a name="tools" />

### <a name="tools"></a><span data-ttu-id="04d3a-1151">Herramientas</span><span class="sxs-lookup"><span data-stu-id="04d3a-1151">Tools</span></span>

<span data-ttu-id="04d3a-1152">En .NET Framework 4.5, el generador de archivos de recursos (Resgen.exe) permite crear un archivo .resw para su uso en aplicaciones de la Tienda Windows 8.x desde un archivo .resources incrustado en un ensamblado de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1152">In the .NET Framework 4.5, Resource File Generator (Resgen.exe) enables you to create a .resw file for use in Windows 8.x Store apps from a .resources file embedded in a .NET Framework assembly.</span></span> <span data-ttu-id="04d3a-1153">Para obtener más información, vea [Resgen.exe (Generador de archivos de recursos)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1153">For more information, see [Resgen.exe (Resource File Generator)](../tools/resgen-exe-resource-file-generator.md).</span></span>

<span data-ttu-id="04d3a-1154">La optimización guiada por perfiles administrados (Mpgo.exe) permite mejorar el tiempo de inicio de la aplicación, la utilización de la memoria (el tamaño del espacio de trabajo) y el rendimiento mediante la optimización de los ensamblados de imagen nativos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1154">Managed Profile Guided Optimization (Mpgo.exe) enables you to improve application startup time, memory utilization (working set size), and throughput by optimizing native image assemblies.</span></span> <span data-ttu-id="04d3a-1155">La herramienta de línea de comandos genera datos de perfil para los ensamblados nativos de aplicación de la imagen.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1155">The command-line tool generates profile data for native image application assemblies.</span></span> <span data-ttu-id="04d3a-1156">Vea [Mpgo.exe (Herramienta de optimización guiada por perfiles administrados)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1156">See [Mpgo.exe (Managed Profile Guided Optimization Tool)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md).</span></span> <span data-ttu-id="04d3a-1157">A partir de Visual Studio 2013, puede usar la Mpgo.exe para optimizar las aplicaciones de Tienda Windows 8.x, así como las aplicaciones de escritorio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1157">Starting with Visual Studio 2013, you can use Mpgo.exe to optimize Windows 8.x Store apps as well as desktop apps.</span></span>

<a name="parallel" />

### <a name="parallel-computing"></a><span data-ttu-id="04d3a-1158">Informática en paralelo</span><span class="sxs-lookup"><span data-stu-id="04d3a-1158">Parallel computing</span></span>

<span data-ttu-id="04d3a-1159">.NET Framework 4.5 cuenta con varias características y mejoras nuevas para el procesamiento informático en paralelo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1159">The .NET Framework 4.5 provides several new features and improvements for parallel computing.</span></span> <span data-ttu-id="04d3a-1160">Entre estas se incluyen un rendimiento mejorado, mayor control, mejor compatibilidad con la programación asincrónica, una nueva biblioteca de flujo de datos y mejor compatibilidad para la depuración y el análisis de rendimiento en paralelo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1160">These include improved performance, increased control, improved support for asynchronous programming, a new dataflow library, and improved support for parallel debugging and performance analysis.</span></span> <span data-ttu-id="04d3a-1161">Vea la entrada [What’s New for Parallelism in .NET 4.5](https://devblogs.microsoft.com/pfxteam/whats-new-for-parallelism-in-net-4-5/) (Novedades de paralelismo en .NET 4.5) de la sección sobre Programación en paralelo del blog sobre .NET.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1161">See the entry [What’s New for Parallelism in .NET 4.5](https://devblogs.microsoft.com/pfxteam/whats-new-for-parallelism-in-net-4-5/) in the Parallel Programming with .NET blog.</span></span>

<a name="web" />

### <a name="web"></a><span data-ttu-id="04d3a-1162">Web</span><span class="sxs-lookup"><span data-stu-id="04d3a-1162">Web</span></span>

<span data-ttu-id="04d3a-1163">ASP.NET 4.5 y 4.5.1 incorporan el enlace de modelos de formularios Web Forms, compatibilidad con WebSocket, controladores asincrónicos, mejoras de rendimiento y muchas otras características.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1163">ASP.NET 4.5 and 4.5.1 add model binding for Web Forms, WebSocket support, asynchronous handlers, performance enhancements, and many other features.</span></span> <span data-ttu-id="04d3a-1164">Para obtener más información, vea los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1164">For more information, see the following resources:</span></span>

- <span data-ttu-id="04d3a-1165">[ASP.NET 4.5 y Visual Studio 2012](https://docs.microsoft.com/previous-versions/aspnet/hh420390(v=vs.110))</span><span class="sxs-lookup"><span data-stu-id="04d3a-1165">[ASP.NET 4.5 and Visual Studio 2012](https://docs.microsoft.com/previous-versions/aspnet/hh420390(v=vs.110))</span></span>

- [<span data-ttu-id="04d3a-1166">Notas de la versión de ASP.NET and Web Tools para Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="04d3a-1166">ASP.NET and Web Tools for Visual Studio 2013 Release Notes</span></span>](/aspnet/visual-studio/overview/2013/release-notes)

### <a name="networking-a-namenetworking-"></a><span data-ttu-id="04d3a-1167">Redes <a name="networking" /></span><span class="sxs-lookup"><span data-stu-id="04d3a-1167">Networking <a name="networking" /></span></span>

<span data-ttu-id="04d3a-1168">.NET Framework 4.5 proporciona una nueva interfaz de programación para aplicaciones HTTP.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1168">The .NET Framework 4.5 provides a new programming interface for HTTP applications.</span></span> <span data-ttu-id="04d3a-1169">Para obtener más información, vea los nuevos espacios de nombres <xref:System.Net.Http?displayProperty=nameWithType> y <xref:System.Net.Http.Headers?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1169">For more information, see the new <xref:System.Net.Http?displayProperty=nameWithType> and <xref:System.Net.Http.Headers?displayProperty=nameWithType> namespaces.</span></span>

<span data-ttu-id="04d3a-1170">También se incluye compatibilidad con una nueva interfaz de programación para aceptar e interactuar con una conexión WebSocket mediante el objeto <xref:System.Net.HttpListener> existente y las clases relacionadas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1170">Support is also included for a new programming interface for accepting and interacting with a WebSocket connection by using the existing <xref:System.Net.HttpListener> and related classes.</span></span> <span data-ttu-id="04d3a-1171">Para obtener más información, vea el nuevo espacio de nombres <xref:System.Net.WebSockets> y la clase <xref:System.Net.HttpListener>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1171">For more information, see the new <xref:System.Net.WebSockets> namespace and the <xref:System.Net.HttpListener> class.</span></span>

<span data-ttu-id="04d3a-1172">Además, .NET Framework 4.5 incluye las siguientes mejoras de red:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1172">In addition, the .NET Framework 4.5 includes the following networking improvements:</span></span>

- <span data-ttu-id="04d3a-1173">Compatibilidad de URI conforme a RFC.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1173">RFC-compliant URI support.</span></span> <span data-ttu-id="04d3a-1174">Para obtener más información, vea <xref:System.Uri> y las clases relacionadas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1174">For more information, see <xref:System.Uri> and related classes.</span></span>

- <span data-ttu-id="04d3a-1175">Compatibilidad con el análisis de nombres de dominio internacionalizados (IDN).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1175">Support for Internationalized Domain Name (IDN) parsing.</span></span> <span data-ttu-id="04d3a-1176">Para obtener más información, vea <xref:System.Uri> y las clases relacionadas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1176">For more information, see <xref:System.Uri> and related classes.</span></span>

- <span data-ttu-id="04d3a-1177">Compatibilidad con la internacionalización de direcciones de correo electrónico (EAI).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1177">Support for Email Address Internationalization (EAI).</span></span> <span data-ttu-id="04d3a-1178">Para obtener más información, vea el espacio de nombres <xref:System.Net.Mail>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1178">For more information, see the <xref:System.Net.Mail> namespace.</span></span>

- <span data-ttu-id="04d3a-1179">Compatibilidad mejorada de IPv6.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1179">Improved IPv6 support.</span></span> <span data-ttu-id="04d3a-1180">Para obtener más información, vea el espacio de nombres <xref:System.Net.NetworkInformation>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1180">For more information, see the <xref:System.Net.NetworkInformation> namespace.</span></span>

- <span data-ttu-id="04d3a-1181">Compatibilidad con el socket de modo dual.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1181">Dual-mode socket support.</span></span> <span data-ttu-id="04d3a-1182">Para obtener más información, vea las clases <xref:System.Net.Sockets.Socket> y <xref:System.Net.Sockets.TcpListener>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1182">For more information, see the <xref:System.Net.Sockets.Socket> and <xref:System.Net.Sockets.TcpListener> classes.</span></span>

<a name="client" />

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="04d3a-1183">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1183">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="04d3a-1184">En .NET Framework 4.5, Windows Presentation Foundation (WPF) contiene cambios y mejoras en las áreas siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1184">In the .NET Framework 4.5, Windows Presentation Foundation (WPF) contains changes and improvements in the following areas:</span></span>

- <span data-ttu-id="04d3a-1185">El nuevo control <xref:System.Windows.Controls.Ribbon.Ribbon>, que permite implementar una interfaz de usuario en forma de cinta que incluye una barra de herramientas de acceso rápido, un menú de aplicación y pestañas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1185">The new <xref:System.Windows.Controls.Ribbon.Ribbon> control, which enables you to implement a ribbon user interface that hosts a Quick Access Toolbar, Application Menu, and tabs.</span></span>

- <span data-ttu-id="04d3a-1186">La nueva interfaz <xref:System.ComponentModel.INotifyDataErrorInfo>, que admite la validación de datos sincrónica y asincrónica.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1186">The new <xref:System.ComponentModel.INotifyDataErrorInfo> interface, which supports synchronous and asynchronous data validation.</span></span>

- <span data-ttu-id="04d3a-1187">Nuevas características para las clases <xref:System.Windows.Controls.VirtualizingPanel> y <xref:System.Windows.Threading.Dispatcher>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1187">New features for the <xref:System.Windows.Controls.VirtualizingPanel> and <xref:System.Windows.Threading.Dispatcher> classes.</span></span>

- <span data-ttu-id="04d3a-1188">Rendimiento mejorado al mostrar conjuntos grandes de datos agrupados y al acceder a colecciones en subprocesos que no son de interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1188">Improved performance when displaying large sets of grouped data, and by accessing collections on non-UI threads.</span></span>

- <span data-ttu-id="04d3a-1189">Enlace de datos a propiedades estáticas, enlace de datos a tipos personalizados que implementan la interfaz <xref:System.Reflection.ICustomTypeProvider> y recuperación de información de enlace de datos desde una expresión de enlace.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1189">Data binding to static properties, data binding to custom types that implement the <xref:System.Reflection.ICustomTypeProvider> interface, and retrieval of data binding information from a binding expression.</span></span>

- <span data-ttu-id="04d3a-1190">Reposición de los datos a medida que cambian los valores (modelado dinámico).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1190">Repositioning of data as the values change (live shaping).</span></span>

- <span data-ttu-id="04d3a-1191">Capacidad de comprobar si el contexto de datos de un contenedor de elementos está desconectado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1191">Ability to check whether the data context for an item container is disconnected.</span></span>

- <span data-ttu-id="04d3a-1192">Capacidad de establecer la cantidad de tiempo que debe transcurrir entre los cambios de propiedad y las actualizaciones del origen de datos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1192">Ability to set the amount of time that should elapse between property changes and data source updates.</span></span>

- <span data-ttu-id="04d3a-1193">Compatibilidad mejorada para implementar patrones de eventos débiles.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1193">Improved support for implementing weak event patterns.</span></span> <span data-ttu-id="04d3a-1194">Además, los eventos ahora pueden aceptar extensiones de marcado.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1194">Also, events can now accept markup extensions.</span></span>

<a name="windows_communication_foundation" />

### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="04d3a-1195">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1195">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="04d3a-1196">En .NET Framework 4.5, se han agregado las características siguientes para facilitar la creación y el mantenimiento de aplicaciones de Windows Communication Foundation (WCF):</span><span class="sxs-lookup"><span data-stu-id="04d3a-1196">In the .NET Framework 4.5, the following features have been added to make it simpler to write and maintain Windows Communication Foundation (WCF) applications:</span></span>

- <span data-ttu-id="04d3a-1197">Simplificación de los archivos de configuración generados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1197">Simplification of generated configuration files.</span></span>

- <span data-ttu-id="04d3a-1198">Compatibilidad con el desarrollo del contrato en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1198">Support for contract-first development.</span></span>

- <span data-ttu-id="04d3a-1199">Capacidad de configurar el modo de compatibilidad de ASP.NET más fácilmente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1199">Ability to configure ASP.NET compatibility mode more easily.</span></span>

- <span data-ttu-id="04d3a-1200">Cambios en los valores de propiedad de transporte predeterminados para reducir las probabilidades de tener que establecerlos.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1200">Changes in default transport property values to reduce the likelihood that you will have to set them.</span></span>

- <span data-ttu-id="04d3a-1201">Actualizaciones de la clase <xref:System.Xml.XmlDictionaryReaderQuotas> que reducen las probabilidades de tener que configurar manualmente cuotas para los lectores de diccionarios XML.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1201">Updates to the <xref:System.Xml.XmlDictionaryReaderQuotas> class to reduce the likelihood that you will have to manually configure quotas for XML dictionary readers.</span></span>

- <span data-ttu-id="04d3a-1202">Validación de los archivos de configuración de WCF por parte de Visual Studio dentro del proceso de compilación, para que se puedan detectar errores de configuración antes de ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1202">Validation of WCF configuration files by Visual Studio as part of the build process, so you can detect configuration errors before you run your application.</span></span>

- <span data-ttu-id="04d3a-1203">Nueva compatibilidad con streaming asincrónico.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1203">New asynchronous streaming support.</span></span>

- <span data-ttu-id="04d3a-1204">Nueva asignación del protocolo HTTPS para facilitar la exposición de un extremo a través de HTTPS con Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1204">New HTTPS protocol mapping to make it easier to expose an endpoint over HTTPS with Internet Information Services (IIS).</span></span>

- <span data-ttu-id="04d3a-1205">Capacidad de generar metadatos en un solo documento WSDL anexando `?singleWSDL` a la dirección URL del servicio.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1205">Ability to generate metadata in a single WSDL document by appending `?singleWSDL` to the service URL.</span></span>

- <span data-ttu-id="04d3a-1206">Compatibilidad con Websockets para permitir una comunicación bidireccional verdadera a través de los puertos 80 y 443 con características de rendimiento similares a las del transporte TCP.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1206">Websockets support to enable true bidirectional communication over ports 80 and 443 with performance characteristics similar to the TCP transport.</span></span>

- <span data-ttu-id="04d3a-1207">Compatibilidad para configurar servicios en el código.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1207">Support for configuring services in code.</span></span>

- <span data-ttu-id="04d3a-1208">Información sobre herramientas del editor XML.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1208">XML Editor tooltips.</span></span>

- <span data-ttu-id="04d3a-1209">Compatibilidad con el almacenamiento en caché de <xref:System.ServiceModel.ChannelFactory>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1209"><xref:System.ServiceModel.ChannelFactory> caching support.</span></span>

- <span data-ttu-id="04d3a-1210">Compatibilidad con la compresión de codificadores binarios.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1210">Binary encoder compression support.</span></span>

- <span data-ttu-id="04d3a-1211">Compatibilidad con un transporte UDP que permite a los desarrolladores escribir servicios que utilizan mensajería de tipo "desencadenar y omitir”.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1211">Support for a UDP transport that enables developers to write services that use "fire and forget" messaging.</span></span> <span data-ttu-id="04d3a-1212">Un cliente envía un mensaje a un servicio y no espera ninguna respuesta de él.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1212">A client sends a message to a service and expects no response from the service.</span></span>

- <span data-ttu-id="04d3a-1213">Capacidad de admitir varios modos de autenticación en un único extremo de WCF mediante el uso de transporte HTTP y seguridad de transporte.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1213">Ability to support multiple authentication modes on a single WCF endpoint when using the HTTP transport and transport security.</span></span>

- <span data-ttu-id="04d3a-1214">Compatibilidad con los servicios WCF que utilizan nombres de dominio internacionalizados (IDN).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1214">Support for WCF services that use internationalized domain names (IDNs).</span></span>

<span data-ttu-id="04d3a-1215">Para obtener más información, vea [Novedades de Windows Communication Foundation](../wcf/whats-new.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1215">For more information, see [What's New in Windows Communication Foundation](../wcf/whats-new.md).</span></span>

<a name="windows_workflow_foundation" />

### <a name="windows-workflow-foundation-wf"></a><span data-ttu-id="04d3a-1216">Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="04d3a-1216">Windows Workflow Foundation (WF)</span></span>

<span data-ttu-id="04d3a-1217">Se agregaron varias características nuevas a Windows Workflow Foundation (WF) en .NET Framework 4.5, incluidas las siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1217">In the .NET Framework 4.5, several new features were added to Windows Workflow Foundation (WF), including:</span></span>

- <span data-ttu-id="04d3a-1218">Flujos de trabajo de máquina de estados, que se incluyeron por primera vez como parte de .NET Framework 4.0.1 ([.NET Framework 4 Platform Update 1](https://docs.microsoft.com/archive/blogs/endpoint/microsoft-net-framework-4-platform-update-1)).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1218">State machine workflows, which were first introduced as part of .NET Framework 4.0.1 ([.NET Framework 4 Platform Update 1](https://docs.microsoft.com/archive/blogs/endpoint/microsoft-net-framework-4-platform-update-1)).</span></span> <span data-ttu-id="04d3a-1219">Esta actualización incluía varias clases y actividades nuevas que permitían a los desarrolladores crear flujos de trabajo de máquina de estados.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1219">This update included several new classes and activities that enabled developers to create state machine workflows.</span></span> <span data-ttu-id="04d3a-1220">Estas clases y actividades se actualizaron para .NET Framework 4.5 con el objeto de incluir:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1220">These classes and activities were updated for the .NET Framework 4.5 to include:</span></span>

  - <span data-ttu-id="04d3a-1221">Capacidad de establecer puntos de interrupción en estados</span><span class="sxs-lookup"><span data-stu-id="04d3a-1221">The ability to set breakpoints on states.</span></span>

  - <span data-ttu-id="04d3a-1222">Capacidad de copiar y pegar transiciones en el Diseñador de flujo de trabajo</span><span class="sxs-lookup"><span data-stu-id="04d3a-1222">The ability to copy and paste transitions in the workflow designer.</span></span>

  - <span data-ttu-id="04d3a-1223">Compatibilidad del diseñador para la creación de transiciones de desencadenador compartidas</span><span class="sxs-lookup"><span data-stu-id="04d3a-1223">Designer support for shared trigger transition creation.</span></span>

  - <span data-ttu-id="04d3a-1224">Actividades para crear flujos de trabajo de máquina de estados, incluidas: <xref:System.Activities.Statements.StateMachine>, <xref:System.Activities.Statements.State> y <xref:System.Activities.Statements.Transition></span><span class="sxs-lookup"><span data-stu-id="04d3a-1224">Activities for creating state machine workflows, including: <xref:System.Activities.Statements.StateMachine>, <xref:System.Activities.Statements.State>, and <xref:System.Activities.Statements.Transition>.</span></span>

- <span data-ttu-id="04d3a-1225">Características mejoradas del Diseñador de flujo de trabajo, como las siguientes:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1225">Enhanced Workflow Designer features such as the following:</span></span>

  - <span data-ttu-id="04d3a-1226">Funcionalidades de búsqueda de flujo de trabajo mejoradas en Visual Studio, incluidas **Búsqueda rápida** y **Buscar en archivos**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1226">Enhanced workflow search capabilities in Visual Studio, including **Quick Find** and **Find in Files**.</span></span>

  - <span data-ttu-id="04d3a-1227">Capacidad de crear automáticamente una actividad Secuencia cuando una segunda actividad secundaria se agrega a una actividad del contenedor y para incluir ambas actividades en la actividad Secuencia.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1227">Ability to automatically create a Sequence activity when a second child activity is added to a container activity, and to include both activities in the Sequence activity.</span></span>

  - <span data-ttu-id="04d3a-1228">Compatibilidad con el movimiento panorámico, que permite cambiar la parte visible de un flujo de trabajo sin usar las barras de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1228">Panning support, which enables the visible portion of a workflow to be changed without using the scroll bars.</span></span>

  - <span data-ttu-id="04d3a-1229">Una nueva vista **Esquema del documento**, en la que se muestran los componentes de un flujo de trabajo en una vista de esquema con forma de árbol y que le permite seleccionar un componente en la vista **Esquema del documento**.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1229">A new **Document Outline** view that shows the components of a workflow in a tree-style outline view and lets you select a component in the **Document Outline** view.</span></span>

  - <span data-ttu-id="04d3a-1230">Capacidad de agregar anotaciones a las actividades.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1230">Ability to add annotations to activities.</span></span>

  - <span data-ttu-id="04d3a-1231">Capacidad de definir y consumir delegados de actividad mediante el Diseñador de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1231">Ability to define and consume activity delegates by using the workflow designer.</span></span>

  - <span data-ttu-id="04d3a-1232">Conexión e inserción automáticas para actividades y transiciones en los flujos de trabajo de máquina de estados y diagrama de flujo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1232">Auto-connect and auto-insert for activities and transitions in state machine and flowchart workflows.</span></span>

- <span data-ttu-id="04d3a-1233">Almacenamiento de la información de estado de vista de un flujo de trabajo en un único elemento del archivo XAML, para poder encontrar y editar fácilmente la información de estado de vista.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1233">Storage of the view state information for a workflow in a single element in the XAML file, so you can easily locate and edit the view state information.</span></span>

- <span data-ttu-id="04d3a-1234">Una actividad de contenedor NoPersistScope para evitar que se conserven las actividades secundarias.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1234">A NoPersistScope container activity to prevent child activities from persisting.</span></span>

- <span data-ttu-id="04d3a-1235">Compatibilidad con expresiones de C#:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1235">Support for C# expressions:</span></span>

  - <span data-ttu-id="04d3a-1236">Los proyectos de flujo de trabajo que usan Visual Basic utilizarán las expresiones de Visual Basic, y los proyectos de flujo de trabajo de C# utilizarán las expresiones de C#.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1236">Workflow projects that use Visual Basic will use Visual Basic expressions, and C# workflow projects will use C# expressions.</span></span>

  - <span data-ttu-id="04d3a-1237">Los proyectos de flujo de trabajo de C# creados en Visual Studio 2010 y que tengan expresiones de Visual Basic son compatibles con los proyectos de flujo de trabajo de C# que usan expresiones de C#.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1237">C# workflow projects that were created in Visual Studio 2010 and that have Visual Basic expressions are compatible with C# workflow projects that use C# expressions.</span></span>

- <span data-ttu-id="04d3a-1238">Mejoras del control de versiones:</span><span class="sxs-lookup"><span data-stu-id="04d3a-1238">Versioning enhancements:</span></span>

  - <span data-ttu-id="04d3a-1239">La nueva clase <xref:System.Activities.WorkflowIdentity>, que proporciona una asignación entre una instancia de flujo de trabajo guardada y su definición de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1239">The new  <xref:System.Activities.WorkflowIdentity> class, which provides a mapping between a persisted workflow instance and its workflow definition.</span></span>

  - <span data-ttu-id="04d3a-1240">Ejecución en paralelo de varias versiones de flujo de trabajo en el mismo host, incluido <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1240">Side-by-side execution of multiple workflow versions in the same host, including <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span></span>

  - <span data-ttu-id="04d3a-1241">En la actualización dinámica, la capacidad de modificar la definición de una instancia de flujo de trabajo guardada.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1241">In Dynamic Update, the ability to modify the definition of a persisted workflow instance.</span></span>

- <span data-ttu-id="04d3a-1242">Desarrollo de servicios de flujo de trabajo de contrato en primer lugar, que proporciona compatibilidad para generar automáticamente actividades que busquen coincidencias en un contrato de servicio existente.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1242">Contract-first workflow service development, which provides support for automatically generating activities to match an existing service contract.</span></span>

<span data-ttu-id="04d3a-1243">Para obtener más información, vea [Novedades de Windows Workflow Foundation](../windows-workflow-foundation/whats-new-in-wf-in-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1243">For more information, see [What's New in Windows Workflow Foundation](../windows-workflow-foundation/whats-new-in-wf-in-dotnet.md).</span></span>

<a name="tailored" />

### <a name="net-for-windows-8x-store-apps"></a><span data-ttu-id="04d3a-1244">.NET para aplicaciones de la Tienda Windows 8.x</span><span class="sxs-lookup"><span data-stu-id="04d3a-1244">.NET for Windows 8.x Store apps</span></span>

<span data-ttu-id="04d3a-1245">Las aplicaciones de la Tienda Windows 8.x están diseñadas para factores de forma específicos y aprovechan la eficacia del sistema operativo Windows.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1245">Windows 8.x Store apps are designed for specific form factors and leverage the power of the Windows operating system.</span></span> <span data-ttu-id="04d3a-1246">Un subconjunto de .NET Framework 4.5 o 4.5.1 está disponible para compilar aplicaciones de la Tienda Windows 8.x para Windows mediante C# o Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1246">A subset of the .NET Framework 4.5 or 4.5.1 is available for building Windows 8.x Store apps for Windows by using C# or Visual Basic.</span></span> <span data-ttu-id="04d3a-1247">Este subconjunto se denomina .NET para aplicaciones de la Tienda Windows 8.x y se explica en una [introducción](https://docs.microsoft.com/previous-versions/windows/apps/br230302(v=vs.140)).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1247">This subset is called .NET for Windows 8.x Store apps and is discussed in an [overview](https://docs.microsoft.com/previous-versions/windows/apps/br230302(v=vs.140)).</span></span>

### <a name="portable-class-libraries-a-nameportable-"></a><span data-ttu-id="04d3a-1248">Bibliotecas de clases portables <a name="portable" /></span><span class="sxs-lookup"><span data-stu-id="04d3a-1248">Portable Class Libraries <a name="portable" /></span></span>

<span data-ttu-id="04d3a-1249">El proyecto de Biblioteca de clases portable de Visual Studio 2012 (y versiones posteriores) permite escribir y compilar ensamblados administrados capaces de funcionar en múltiples plataformas de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1249">The Portable Class Library project in Visual Studio 2012 (and later versions) enables you to write and build managed assemblies that work on multiple .NET Framework platforms.</span></span> <span data-ttu-id="04d3a-1250">Mediante el uso de Biblioteca de clases portable, puede elegir las plataformas de destino, como Windows Phone y .NET para aplicaciones de la Tienda Windows 8.x.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1250">Using a Portable Class Library project, you choose the platforms (such as Windows Phone and .NET for Windows 8.x Store apps) to target.</span></span> <span data-ttu-id="04d3a-1251">Los tipos y miembros disponibles en el proyecto se restringen automáticamente a los tipos y miembros comunes de estas plataformas.</span><span class="sxs-lookup"><span data-stu-id="04d3a-1251">The available types and members in your project are automatically restricted to the common types and members across these platforms.</span></span> <span data-ttu-id="04d3a-1252">Para obtener más información, consulte [Biblioteca de clases portable](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span><span class="sxs-lookup"><span data-stu-id="04d3a-1252">For more information, see [Portable Class Library](../../standard/cross-platform/cross-platform-development-with-the-portable-class-library.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="04d3a-1253">Vea también</span><span class="sxs-lookup"><span data-stu-id="04d3a-1253">See also</span></span>

- [<span data-ttu-id="04d3a-1254">.NET Framework y versiones fuera de banda</span><span class="sxs-lookup"><span data-stu-id="04d3a-1254">The .NET Framework and Out-of-Band Releases</span></span>](../get-started/the-net-framework-and-out-of-band-releases.md)
- [<span data-ttu-id="04d3a-1255">Novedades de accesibilidad en .NET Framework</span><span class="sxs-lookup"><span data-stu-id="04d3a-1255">What's new in accessibility in the .NET Framework</span></span>](whats-new-in-accessibility.md)
- [<span data-ttu-id="04d3a-1256">Novedades de Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="04d3a-1256">What's New in Visual Studio 2017</span></span>](/visualstudio/ide/whats-new-visual-studio-2017)
- [<span data-ttu-id="04d3a-1257">Novedades de Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="04d3a-1257">What's New in Visual Studio 2019</span></span>](/visualstudio/ide/whats-new-visual-studio-2019)
- [<span data-ttu-id="04d3a-1258">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="04d3a-1258">ASP.NET</span></span>](/aspnet)
- [<span data-ttu-id="04d3a-1259">Novedades de C++ en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="04d3a-1259">What's New for C++ in Visual Studio</span></span>](/cpp/what-s-new-for-visual-cpp-in-visual-studio)
