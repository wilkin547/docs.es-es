---
title: Opciones de hospedaje de flujo de trabajo
ms.date: 03/30/2017
ms.assetid: 37bcd668-9c5c-4e7c-81da-a1f1b3a16514
ms.openlocfilehash: 8ddb83f068eab8480bacc8b80bc5d44b7755fa59
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96293785"
---
# <a name="workflow-hosting-options"></a><span data-ttu-id="11441-102">Opciones de hospedaje de flujo de trabajo</span><span class="sxs-lookup"><span data-stu-id="11441-102">Workflow Hosting Options</span></span>

<span data-ttu-id="11441-103">La mayoría de los ejemplos de Windows Workflow Foundation (WF) usan flujos de trabajo que se hospedan en una aplicación de consola, pero no es un escenario realista para los flujos de trabajo del mundo real.</span><span class="sxs-lookup"><span data-stu-id="11441-103">Most of the Windows Workflow Foundation (WF) samples use workflows that are hosted in a console application, but this isn't a realistic scenario for real-world workflows.</span></span> <span data-ttu-id="11441-104">Los flujos de trabajo de las aplicaciones empresariales reales se hospedarán en procesos persistentes, ya sea un servicio de Windows creado por el desarrollador o una aplicación de servidor como IIS 7,0 o AppFabric.</span><span class="sxs-lookup"><span data-stu-id="11441-104">Workflows in actual business applications will be hosted in persistent processes- either a Windows service authored by the developer, or a server application such as IIS 7.0 or AppFabric.</span></span> <span data-ttu-id="11441-105">Las diferencias entre estas aproximaciones son las que se indican a continuación.</span><span class="sxs-lookup"><span data-stu-id="11441-105">The differences between these approaches are as follows.</span></span>

## <a name="hosting-workflows-in-iis-with-windows-appfabric"></a><span data-ttu-id="11441-106">Hospedar flujos de trabajo en IIS con Windows AppFabric</span><span class="sxs-lookup"><span data-stu-id="11441-106">Hosting workflows in IIS with Windows AppFabric</span></span>

<span data-ttu-id="11441-107">Usar IIS con AppFabric es el host preferido para los flujos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="11441-107">Using IIS with AppFabric is the preferred host for workflows.</span></span> <span data-ttu-id="11441-108">Windows Activation Service, que quita la dependencia de HTTP a través de IIS solamente, es la aplicación de host para flujos de trabajo que usan AppFabric.</span><span class="sxs-lookup"><span data-stu-id="11441-108">The host application for workflows using AppFabric is Windows Activation Service, which removes the dependency on HTTP over IIS alone.</span></span>

## <a name="hosting-workflows-in-iis-alone"></a><span data-ttu-id="11441-109">Hospedar flujos de trabajo solo en IIS</span><span class="sxs-lookup"><span data-stu-id="11441-109">Hosting workflows in IIS alone</span></span>

<span data-ttu-id="11441-110">No se recomienda usar IIS 7,0 por sí mismo, ya que existen herramientas de administración y supervisión disponibles con AppFabric que facilitan el mantenimiento de las aplicaciones en ejecución.</span><span class="sxs-lookup"><span data-stu-id="11441-110">Using IIS 7.0 alone is not recommended, as there are management and monitoring tools available with AppFabric that facilitate maintenance of running applications.</span></span> <span data-ttu-id="11441-111">Los flujos de trabajo solo se deben hospedar en IIS 7,0 solo si hay problemas de infraestructura con el cambio a AppFabric.</span><span class="sxs-lookup"><span data-stu-id="11441-111">Workflows should only be hosted in IIS 7.0 alone if there are infrastructure concerns with moving to AppFabric.</span></span>

> [!WARNING]
> <span data-ttu-id="11441-112">IIS 7,0 recicla los grupos de aplicaciones periódicamente por varias razones.</span><span class="sxs-lookup"><span data-stu-id="11441-112">IIS 7.0 recycles application pools periodically for various reasons.</span></span> <span data-ttu-id="11441-113">Cuando se recicla un grupo de aplicaciones, IIS deja de aceptar mensajes en el grupo anterior y crea instancias en un grupo de aplicaciones nuevo para aceptar las nuevas solicitudes.</span><span class="sxs-lookup"><span data-stu-id="11441-113">When an application pool is recycled, IIS stops accepting messages to the old pool, and instantiates a new application pool to accept new requests.</span></span> <span data-ttu-id="11441-114">Si un flujo de trabajo sigue funcionando después de enviar una respuesta, IIS 7,0 no será consciente del trabajo que se realiza y puede reciclar el grupo de aplicaciones de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="11441-114">If a workflow continues working after sending a response, IIS 7.0 will not be aware of the work being done, and may recycle the hosting application pool.</span></span> <span data-ttu-id="11441-115">Si esto ocurre, el flujo de trabajo se anulará y los servicios de seguimiento registrarán un mensaje [1004-WorkflowInstanceAborted](1004-workflowinstanceaborted.md) con un campo motivo vacío.</span><span class="sxs-lookup"><span data-stu-id="11441-115">If this happens, the workflow will abort, and tracking services will record a [1004 - WorkflowInstanceAborted](1004-workflowinstanceaborted.md) message with an empty Reason field.</span></span>
>
> <span data-ttu-id="11441-116">Si se usa la persistencia, el host debe reiniciar explícitamente las instancias anuladas desde el último punto de persistencia.</span><span class="sxs-lookup"><span data-stu-id="11441-116">If persistence is used, the host must explicitly restart aborted instances from the last persistence point.</span></span>
>
> <span data-ttu-id="11441-117">Si se usa AppFabric, el servicio de administración de flujo de trabajo reanudará finalmente el flujo de trabajo desde el último punto de persistencia correcto si se usa la persistencia.</span><span class="sxs-lookup"><span data-stu-id="11441-117">If AppFabric is used, the workflow management service will eventually resume the workflow from the last successful persistence point if persistence is used.</span></span> <span data-ttu-id="11441-118">Si no se usa ninguna persistencia, y el flujo de trabajo realiza operaciones fuera de un patrón de solicitud y respuesta, los datos se perderán cuando se anule el flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="11441-118">If no persistence is used, and the workflow performs operations outside a Request/Response pattern, data will be lost when the workflow aborts.</span></span>

## <a name="hosting-a-workflow-in-a-custom-windows-service"></a><span data-ttu-id="11441-119">Hospedar un flujo de trabajo en un servicio de Windows personalizado</span><span class="sxs-lookup"><span data-stu-id="11441-119">Hosting a workflow in a custom Windows Service</span></span>

<span data-ttu-id="11441-120">Crear un servicio de flujo de trabajo personalizado para hospedar el flujo de trabajo requerirá que el desarrollador duplique muchas de las funcionalidades que AppFabric ha proporcionado de serie, pero permitirá más flexibilidad con las funcionalidades personalizadas.</span><span class="sxs-lookup"><span data-stu-id="11441-120">Creating a custom workflow service to host the workflow will require the developer to duplicate a lot of the functionality provided out-of-box by AppFabric, but will allow for more flexibility with custom functionality.</span></span> <span data-ttu-id="11441-121">Esta opción solo debe tenerse en cuenta si no es posible AppFabric.</span><span class="sxs-lookup"><span data-stu-id="11441-121">This option should only be considered if AppFabric proves to not be an option.</span></span>
