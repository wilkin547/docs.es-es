---
title: Opciones de creación de actividades en WF
ms.date: 03/30/2017
ms.assetid: b9061f5f-12c3-47f0-adbe-1330e2714c94
ms.openlocfilehash: e80750b3865a21d072f45b0245ae114660012e66
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/26/2020
ms.locfileid: "96289209"
---
# <a name="activity-authoring-options-in-wf"></a><span data-ttu-id="cf60e-102">Opciones de creación de actividades en WF</span><span class="sxs-lookup"><span data-stu-id="cf60e-102">Activity Authoring Options in WF</span></span>

[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] <span data-ttu-id="cf60e-103">proporciona varias opciones para crear actividades personalizadas.</span><span class="sxs-lookup"><span data-stu-id="cf60e-103">provides several options for creating custom activities.</span></span> <span data-ttu-id="cf60e-104">El método correcto que usar para crear una actividad determinada depende de las características en tiempo de ejecución que se requieran.</span><span class="sxs-lookup"><span data-stu-id="cf60e-104">The correct method to use for authoring a given activity depends on what run-time features are required.</span></span>  
  
## <a name="deciding-which-base-activity-class-to-use-for-authoring-custom-activities"></a><span data-ttu-id="cf60e-105">Decidir qué clase base de actividad usar para crear actividades personalizadas</span><span class="sxs-lookup"><span data-stu-id="cf60e-105">Deciding Which Base Activity Class to Use for Authoring Custom Activities</span></span>  

 <span data-ttu-id="cf60e-106">En la siguiente tabla se muestran las características disponibles en las clases base de actividad personalizadas.</span><span class="sxs-lookup"><span data-stu-id="cf60e-106">The following table lists the features available in the custom activity base classes.</span></span>  
  
|<span data-ttu-id="cf60e-107">Clase base de actividad</span><span class="sxs-lookup"><span data-stu-id="cf60e-107">Base activity class</span></span>|<span data-ttu-id="cf60e-108">Características disponibles</span><span class="sxs-lookup"><span data-stu-id="cf60e-108">Features available</span></span>|  
|-------------------------|------------------------|  
|<xref:System.Activities.Activity>|<span data-ttu-id="cf60e-109">Crea grupos de actividades proporcionadas por el sistema y personalizadas en una actividad compuesta.</span><span class="sxs-lookup"><span data-stu-id="cf60e-109">Composes groups of system-provided and custom activities into a composite activity.</span></span>|  
|<xref:System.Activities.CodeActivity>|<span data-ttu-id="cf60e-110">Implementa la funcionalidad imperativa proporcionando un método <xref:System.Activities.CodeActivity%601.Execute%2A> que se puede invalidar.</span><span class="sxs-lookup"><span data-stu-id="cf60e-110">Implements imperative functionality by providing an <xref:System.Activities.CodeActivity%601.Execute%2A> method that can be overridden.</span></span> <span data-ttu-id="cf60e-111">También proporciona acceso a seguimiento, variables y argumentos.</span><span class="sxs-lookup"><span data-stu-id="cf60e-111">Also provides access to tracking, variables, and arguments..</span></span>|  
|<xref:System.Activities.NativeActivity>|<span data-ttu-id="cf60e-112">Proporciona todas las características de <xref:System.Activities.CodeActivity>, además de anular la ejecución de actividades, cancelar la ejecución de actividades secundarias, usar marcadores y programar actividades, acciones de actividad y funciones.</span><span class="sxs-lookup"><span data-stu-id="cf60e-112">Provides all of the features of <xref:System.Activities.CodeActivity>, plus aborting activity execution, canceling child activity execution, using bookmarks, and scheduling activities, activity actions, and functions.</span></span>|  
|<xref:System.Activities.DynamicActivity>|<span data-ttu-id="cf60e-113">Proporciona un enfoque de tipo DOM para construir actividades que interactúen con el diseñador WF y la maquinaria en tiempo de ejecución a través de <xref:System.ComponentModel.ICustomTypeDescriptor>, con lo que se permite la creación de nuevas actividades sin definir nuevos tipos.</span><span class="sxs-lookup"><span data-stu-id="cf60e-113">Provides a DOM-like approach to constructing activities that interfaces with the WF designer and the run-time machinery through <xref:System.ComponentModel.ICustomTypeDescriptor>, allowing new activities to be created without defining new types.</span></span>|  
  
## <a name="authoring-activities-using-activity"></a><span data-ttu-id="cf60e-114">Crear actividades mediante la actividad</span><span class="sxs-lookup"><span data-stu-id="cf60e-114">Authoring Activities using Activity</span></span>  

 <span data-ttu-id="cf60e-115">Las actividades que se derivan de <xref:System.Activities.Activity> crean la funcionalidad ensamblando otras actividades existentes.</span><span class="sxs-lookup"><span data-stu-id="cf60e-115">Activities that derive from <xref:System.Activities.Activity> compose functionality by assembling other existing activities.</span></span> <span data-ttu-id="cf60e-116">Estas actividades pueden ser actividades personalizadas existentes y actividades de la biblioteca de actividades de [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cf60e-116">These activities can be existing custom activities and activities from the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] activity library.</span></span> <span data-ttu-id="cf60e-117">Ensamblar estas actividades es la manera más básica de crear la funcionalidad personalizada.</span><span class="sxs-lookup"><span data-stu-id="cf60e-117">Assembling these activities is the most basic way to create custom functionality.</span></span> <span data-ttu-id="cf60e-118">Lo normal es que se use este enfoque cuando se trata de un entorno de diseño visual para crear flujos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="cf60e-118">This approach is most typically taken when using a visual design environment for authoring workflows.</span></span>  
  
## <a name="authoring-activities-using-codeactivity-or-asynccodeactivity"></a><span data-ttu-id="cf60e-119">Crear actividades mediante CodeActivity o AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="cf60e-119">Authoring Activities using CodeActivity or AsyncCodeActivity</span></span>  

 <span data-ttu-id="cf60e-120">Las actividades que se derivan de <xref:System.Activities.CodeActivity> o <xref:System.Activities.AsyncCodeActivity>pueden implementar la funcionalidad imperativa invalidando el método <xref:System.Activities.CodeActivity%601.Execute%2A> con código imperativo personalizado.</span><span class="sxs-lookup"><span data-stu-id="cf60e-120">Activities that derive from <xref:System.Activities.CodeActivity> or <xref:System.Activities.AsyncCodeActivity> can implement imperative functionality by overriding the <xref:System.Activities.CodeActivity%601.Execute%2A> method with custom imperative code.</span></span> <span data-ttu-id="cf60e-121">Se ejecuta el código personalizado cuando el tiempo de ejecución ejecuta la actividad.</span><span class="sxs-lookup"><span data-stu-id="cf60e-121">The custom code is executed when the activity is executed by the runtime.</span></span> <span data-ttu-id="cf60e-122">Aunque las actividades creadas de esta forma tienen acceso a la funcionalidad personalizada, no tienen acceso a todas las características del tiempo de ejecución, como el acceso total al entorno de ejecución, la posibilidad de programar actividades secundarias, la creación de marcadores o compatibilidad con un método Abort o Cancel.</span><span class="sxs-lookup"><span data-stu-id="cf60e-122">While activities created in this way have access to custom functionality, they do not have access to all of the features of the runtime, such as full access to the execution environment, the ability to schedule child activities, bookmark creation, or support for a Cancel or Abort method.</span></span> <span data-ttu-id="cf60e-123">Cuando <xref:System.Activities.CodeActivity> se ejecuta, tiene acceso a una versión reducida del entorno de ejecución (a través de la clase <xref:System.Activities.CodeActivityContext> o <xref:System.Activities.AsyncCodeActivityContext>).</span><span class="sxs-lookup"><span data-stu-id="cf60e-123">When a <xref:System.Activities.CodeActivity> executes, it has access to a reduced version of the execution environment (through the <xref:System.Activities.CodeActivityContext> or <xref:System.Activities.AsyncCodeActivityContext> class).</span></span> <span data-ttu-id="cf60e-124">Las actividades creadas usando <xref:System.Activities.CodeActivity> tienen acceso al argumento y la resolución de variables, extensiones y seguimiento.</span><span class="sxs-lookup"><span data-stu-id="cf60e-124">Activities created using <xref:System.Activities.CodeActivity> have access to argument and variable resolution, extensions, and tracking.</span></span> <span data-ttu-id="cf60e-125">La programación de la actividad asincrónica se puede hacer mediante <xref:System.Activities.AsyncCodeActivity>.</span><span class="sxs-lookup"><span data-stu-id="cf60e-125">Asynchronous activity scheduling can be done using <xref:System.Activities.AsyncCodeActivity>.</span></span>  
  
## <a name="authoring-activities-using-nativeactivity"></a><span data-ttu-id="cf60e-126">Crear actividades mediante NativeActivity</span><span class="sxs-lookup"><span data-stu-id="cf60e-126">Authoring Activities using NativeActivity</span></span>  

 <span data-ttu-id="cf60e-127">Las actividades que deriven de <xref:System.Activities.NativeActivity>, como aquéllas que derivan de <xref:System.Activities.CodeActivity>, crean la funcionalidad imperativa invalidando <xref:System.Activities.NativeActivity.Execute%2A>, pero también tienen acceso a toda la funcionalidad del tiempo de ejecución del flujo de trabajo a través de <xref:System.Activities.NativeActivityContext> que se transfiere al método <xref:System.Activities.NativeActivity.Execute%2A>.</span><span class="sxs-lookup"><span data-stu-id="cf60e-127">Activities that derive from <xref:System.Activities.NativeActivity>, like those that derive from <xref:System.Activities.CodeActivity>, create imperative functionality by overriding <xref:System.Activities.NativeActivity.Execute%2A>, but also have access to all of the functionality of the workflow runtime through the <xref:System.Activities.NativeActivityContext> that gets passed into the <xref:System.Activities.NativeActivity.Execute%2A> method.</span></span> <span data-ttu-id="cf60e-128">Este contexto admite programar y cancelar actividades secundarias, ejecutar objetos <xref:System.Activities.ActivityAction> y <xref:System.Activities.ActivityFunc%601>, hacer fluir transacciones en un flujo de trabajo, invocar procesos asincrónicos, cancelar y anular la ejecución, tener acceso a propiedades y extensiones de ejecución, y marcadores (controladores para reanudar flujos de trabajo en pausa).</span><span class="sxs-lookup"><span data-stu-id="cf60e-128">This context has support for scheduling and canceling child activities, executing <xref:System.Activities.ActivityAction> and <xref:System.Activities.ActivityFunc%601> objects, flowing transactions into a workflow, invoking asynchronous processes, canceling and aborting execution, access to execution properties and extensions, and bookmarks (handles for resuming paused workflows).</span></span>  
  
## <a name="authoring-activities-using-dynamicactivity"></a><span data-ttu-id="cf60e-129">Crear actividades mediante DynamicActivity</span><span class="sxs-lookup"><span data-stu-id="cf60e-129">Authoring Activities using DynamicActivity</span></span>  

 <span data-ttu-id="cf60e-130">A diferencia de los otros tres tipos de actividad, la nueva funcionalidad no se crea derivando los nuevos tipos de <xref:System.Activities.DynamicActivity> (la clase está sellada) sino ensamblando la funcionalidad en las propiedades <xref:System.Activities.DynamicActivity.Properties%2A> y <xref:System.Activities.DynamicActivity.Implementation%2A> mediante el uso de un modelo de objeto de documento (DOM) de actividad.</span><span class="sxs-lookup"><span data-stu-id="cf60e-130">Unlike the other three types of activity, new functionality is not created by deriving new types from <xref:System.Activities.DynamicActivity> (the class is sealed), but instead, by assembling functionality into the <xref:System.Activities.DynamicActivity.Properties%2A> and <xref:System.Activities.DynamicActivity.Implementation%2A> properties using an activity document object model (DOM).</span></span>  
  
## <a name="authoring-activities-that-return-a-result"></a><span data-ttu-id="cf60e-131">Crear actividades que devuelven un resultado</span><span class="sxs-lookup"><span data-stu-id="cf60e-131">Authoring Activities that Return a Result</span></span>  

 <span data-ttu-id="cf60e-132">Muchas actividades deben devolver un resultado después de su ejecución.</span><span class="sxs-lookup"><span data-stu-id="cf60e-132">Many activities must return a result after their execution.</span></span> <span data-ttu-id="cf60e-133">Aunque siempre es posible definir una clase <xref:System.Activities.OutArgument%601> personalizada en una actividad para este propósito, se aconseja usar en su lugar <xref:System.Activities.Activity%601> o derivar de <xref:System.Activities.CodeActivity%601> o <xref:System.Activities.NativeActivity%601>.</span><span class="sxs-lookup"><span data-stu-id="cf60e-133">Although it is possible to always define a custom <xref:System.Activities.OutArgument%601> on an activity for this purpose, it is suggested to instead use <xref:System.Activities.Activity%601>, or derive from <xref:System.Activities.CodeActivity%601> or <xref:System.Activities.NativeActivity%601>.</span></span> <span data-ttu-id="cf60e-134">Cada una de estas clases base tiene un resultado denominado <xref:System.Activities.OutArgument%601> que su actividad puede usar para el valor de devolución.</span><span class="sxs-lookup"><span data-stu-id="cf60e-134">Each of these base classes has an <xref:System.Activities.OutArgument%601> named Result that your activity can use for its return value.</span></span> <span data-ttu-id="cf60e-135">Las actividades que devuelven un resultado se deben usar únicamente si solo se necesita devolver un resultado desde una actividad; si se necesita devolver múltiples resultados, se deben usar miembros de <xref:System.Activities.OutArgument%601> diferentes en su lugar.</span><span class="sxs-lookup"><span data-stu-id="cf60e-135">Activities that return a result should only be used if only one result needs to be returned from an activity; if multiple results need to be returned, separate <xref:System.Activities.OutArgument%601> members should be used instead.</span></span>
