---
description: 'Más información sobre: seguimiento de eventos en seguimiento de eventos en Windows'
title: Seguimiento de eventos en Seguimiento de eventos para Windows
ms.date: 03/30/2017
ms.assetid: f812659b-0943-45ff-9430-4defa733182b
ms.openlocfilehash: 92ad4aaee100bb3ba7f4174bbbde1dc7eaed58de
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99653750"
---
# <a name="tracking-events-into-event-tracing-in-windows"></a><span data-ttu-id="7d47e-103">Seguimiento de eventos en Seguimiento de eventos para Windows</span><span class="sxs-lookup"><span data-stu-id="7d47e-103">Tracking Events into Event Tracing in Windows</span></span>

<span data-ttu-id="7d47e-104">En este ejemplo se muestra cómo habilitar el seguimiento de Windows Workflow Foundation (WF) en un servicio de flujo de trabajo y cómo emitir los eventos de seguimiento en seguimiento de eventos para Windows (ETW).</span><span class="sxs-lookup"><span data-stu-id="7d47e-104">This sample demonstrates how to enable Windows Workflow Foundation (WF) tracking on a workflow service and emit the tracking events in Event Tracing for Windows (ETW).</span></span> <span data-ttu-id="7d47e-105">Para emitir registros de seguimiento de flujo de trabajo en ETW, el ejemplo utiliza el participante de seguimiento de ETW (<xref:System.Activities.Tracking.EtwTrackingParticipant>).</span><span class="sxs-lookup"><span data-stu-id="7d47e-105">To emit workflow tracking records into ETW, the sample uses the ETW tracking participant (<xref:System.Activities.Tracking.EtwTrackingParticipant>).</span></span>

<span data-ttu-id="7d47e-106">El flujo de trabajo del ejemplo recibe una solicitud, asigna el recíproco de los datos de entrada a la variable de entrada y devuelve el recíproco al cliente.</span><span class="sxs-lookup"><span data-stu-id="7d47e-106">The workflow in the sample receives a request, assigns the reciprocal of the input data to the input variable and returns the reciprocal back to the client.</span></span> <span data-ttu-id="7d47e-107">Cuando los datos de entrada son 0, se produce una excepción no controlada de división por cero que causa la anulación del flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-107">When the input data is 0, a divide by zero exception occurs that is unhandled that causes the workflow to abort.</span></span> <span data-ttu-id="7d47e-108">Con el seguimiento habilitado, el registro de seguimiento de error se emite a ETW, lo que puede ayudar a solucionar el error posteriormente.</span><span class="sxs-lookup"><span data-stu-id="7d47e-108">With tracking enabled, the error track record is emitted to ETW, which can help troubleshoot the error later.</span></span> <span data-ttu-id="7d47e-109">El participante de seguimiento de ETW se configura con un perfil de seguimiento para suscribirse a registros de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="7d47e-109">The ETW tracking participant is configured with a tracking profile to subscribe to tracking records.</span></span> <span data-ttu-id="7d47e-110">El perfil de seguimiento se define en el archivo Web.config y se proporciona al participante de seguimiento de ETW como un parámetro de configuración.</span><span class="sxs-lookup"><span data-stu-id="7d47e-110">The tracking profile is defined in the Web.config file and provided as a configuration parameter to the ETW tracking participant.</span></span> <span data-ttu-id="7d47e-111">El participante de seguimiento de ETW se configura en el archivo Web.config del servicio de flujo de trabajo y se aplica al servicio como un comportamiento del servicio.</span><span class="sxs-lookup"><span data-stu-id="7d47e-111">The ETW tracking participant is configured in the Web.config file of the workflow service and is applied to the service as a service behavior.</span></span> <span data-ttu-id="7d47e-112">En este ejemplo, los eventos de seguimiento del registro de eventos se ven utilizando Visor de eventos.</span><span class="sxs-lookup"><span data-stu-id="7d47e-112">In this sample, you view the tracking events in the event log using Event Viewer.</span></span>

## <a name="workflow-tracking-details"></a><span data-ttu-id="7d47e-113">Detalles del seguimiento del flujo de trabajo</span><span class="sxs-lookup"><span data-stu-id="7d47e-113">Workflow Tracking Details</span></span>

<span data-ttu-id="7d47e-114">Windows Workflow Foundation proporciona una infraestructura de seguimiento para realizar el seguimiento de la ejecución de una instancia de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-114">Windows Workflow Foundation provides a tracking infrastructure to track the execution of a workflow instance.</span></span> <span data-ttu-id="7d47e-115">El tiempo de ejecución de seguimiento crea una instancia de flujo de trabajo para emitir eventos relacionados con el ciclo de vida de flujo de trabajo, eventos procedentes de actividades de flujo de trabajo y eventos personalizados.</span><span class="sxs-lookup"><span data-stu-id="7d47e-115">The tracking runtime creates a workflow instance to emit events related to the workflow lifecycle, events from workflow activities and custom events.</span></span> <span data-ttu-id="7d47e-116">En la siguiente tabla se detallan los componentes primarios de la infraestructura de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="7d47e-116">The following table details the primary components of the tracking infrastructure.</span></span>

|<span data-ttu-id="7d47e-117">Componente</span><span class="sxs-lookup"><span data-stu-id="7d47e-117">Component</span></span>|<span data-ttu-id="7d47e-118">Descripción</span><span class="sxs-lookup"><span data-stu-id="7d47e-118">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="7d47e-119">Tiempo de ejecución de seguimiento</span><span class="sxs-lookup"><span data-stu-id="7d47e-119">Tracking runtime</span></span>|<span data-ttu-id="7d47e-120">Proporciona la infraestructura para emitir registros de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="7d47e-120">Provides the infrastructure to emit tracking records.</span></span>|
|<span data-ttu-id="7d47e-121">Participantes de seguimiento</span><span class="sxs-lookup"><span data-stu-id="7d47e-121">Tracking participants</span></span>|<span data-ttu-id="7d47e-122">Tiene acceso a los registros de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="7d47e-122">Accesses the tracking records.</span></span> [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)] <span data-ttu-id="7d47e-123">se distribuye con un participante de seguimiento que escribe los eventos de seguimiento como eventos de Seguimiento de eventos para Windows (ETW).</span><span class="sxs-lookup"><span data-stu-id="7d47e-123">ships with a tracking participant that writes tracking records as Event Tracing for Windows (ETW) events.</span></span>|
|<span data-ttu-id="7d47e-124">Perfil de seguimiento</span><span class="sxs-lookup"><span data-stu-id="7d47e-124">Tracking profile</span></span>|<span data-ttu-id="7d47e-125">Un mecanismo de filtrado que permite a un participante de seguimiento suscribirse a un subconjunto de los registros de seguimiento emitidos desde una instancia de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-125">A filtering mechanism that allows a tracking participant to subscribe for a subset of the tracking records emitted from a workflow instance.</span></span>|

<span data-ttu-id="7d47e-126">En la siguiente tabla se detallan los registros de seguimiento que emite el tiempo de ejecución del flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-126">The following table details the tracking records that the workflow runtime emits.</span></span>

|<span data-ttu-id="7d47e-127">Registro de seguimiento</span><span class="sxs-lookup"><span data-stu-id="7d47e-127">Tracking record</span></span>|<span data-ttu-id="7d47e-128">Descripción</span><span class="sxs-lookup"><span data-stu-id="7d47e-128">Description</span></span>|
|---------------------|-----------------|
|<span data-ttu-id="7d47e-129">Registros de seguimiento de instancia de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-129">Workflow instance tracking records.</span></span>|<span data-ttu-id="7d47e-130">Describe el ciclo de vida de la instancia de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-130">Describes the lifecycle of the workflow instance.</span></span> <span data-ttu-id="7d47e-131">Por ejemplo, se emite un registro de instancia cuando el flujo de trabajo se inicia o se completa.</span><span class="sxs-lookup"><span data-stu-id="7d47e-131">For example, an instance record is emitted when the workflow starts or completes.</span></span>|
|<span data-ttu-id="7d47e-132">Registros de seguimiento de estado de actividad.</span><span class="sxs-lookup"><span data-stu-id="7d47e-132">Activity state tracking records.</span></span>|<span data-ttu-id="7d47e-133">Describe la ejecución de la actividad.</span><span class="sxs-lookup"><span data-stu-id="7d47e-133">Details activity execution.</span></span> <span data-ttu-id="7d47e-134">Estos registros indican el estado de una actividad de flujo de trabajo; por ejemplo, cuándo se programa una actividad, cuándo se completa o cuándo se produce un error.</span><span class="sxs-lookup"><span data-stu-id="7d47e-134">These records indicate the state of a workflow activity such as when an activity is scheduled or when the activity completes or when a fault is thrown.</span></span>|
|<span data-ttu-id="7d47e-135">Registro de reanudación de marcadores.</span><span class="sxs-lookup"><span data-stu-id="7d47e-135">Bookmark resumption record.</span></span>|<span data-ttu-id="7d47e-136">Se emite siempre que se reanude un marcador en una instancia de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-136">Emitted whenever a bookmark within a workflow instance is resumed.</span></span>|
|<span data-ttu-id="7d47e-137">Registros de seguimiento personalizados.</span><span class="sxs-lookup"><span data-stu-id="7d47e-137">Custom tracking records.</span></span>|<span data-ttu-id="7d47e-138">Un autor del flujo de trabajo puede crear registros de seguimiento personalizados y emitirlos en la actividad personalizada.</span><span class="sxs-lookup"><span data-stu-id="7d47e-138">A workflow author can create custom tracking records and emit them within the custom activity.</span></span>|
|<xref:System.Activities.Tracking.ActivityScheduledRecord>|<span data-ttu-id="7d47e-139">Este registro se emite cuando una actividad programa otra actividad.</span><span class="sxs-lookup"><span data-stu-id="7d47e-139">This record is emitted when an activity schedules another activity.</span></span>|
|<xref:System.Activities.Tracking.FaultPropagationRecord>|<span data-ttu-id="7d47e-140">Este registro se emite cuando se propaga un error desde una actividad.</span><span class="sxs-lookup"><span data-stu-id="7d47e-140">This record is emitted when a fault is propagated from an activity.</span></span>|
|<xref:System.Activities.Tracking.CancelRequestedRecord>|<span data-ttu-id="7d47e-141">Este registro se emite cuando una actividad es cancelada por otra.</span><span class="sxs-lookup"><span data-stu-id="7d47e-141">This record is emitted when an activity is canceled by another activity.</span></span>|

<span data-ttu-id="7d47e-142">El participante de seguimiento se suscribe un subconjunto de los registros de seguimiento emitidos utilizando perfiles de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="7d47e-142">The tracking participant subscribes for a subset of the emitted tracking records using tracking profiles.</span></span> <span data-ttu-id="7d47e-143">Un perfil de seguimiento contiene consultas de seguimiento que permiten suscribirse a un tipo de registro de seguimiento concreto.</span><span class="sxs-lookup"><span data-stu-id="7d47e-143">A tracking profile contains tracking queries that allow subscribing for a particular tracking record type.</span></span> <span data-ttu-id="7d47e-144">Los perfiles de seguimiento se pueden especificar mediante código o en la configuración.</span><span class="sxs-lookup"><span data-stu-id="7d47e-144">Tracking profiles can be specified in code or in configuration.</span></span>

#### <a name="to-use-this-sample"></a><span data-ttu-id="7d47e-145">Para utilizar este ejemplo</span><span class="sxs-lookup"><span data-stu-id="7d47e-145">To use this sample</span></span>

1. <span data-ttu-id="7d47e-146">Con Visual Studio 2010, abra el archivo de solución EtwTrackingParticipantSample. sln.</span><span class="sxs-lookup"><span data-stu-id="7d47e-146">Using Visual Studio 2010, open the EtwTrackingParticipantSample.sln solution file.</span></span>

2. <span data-ttu-id="7d47e-147">Para compilar la solución, presione Ctrl+MAYÚS+B.</span><span class="sxs-lookup"><span data-stu-id="7d47e-147">To build the solution, press CTRL+SHIFT+B.</span></span>

3. <span data-ttu-id="7d47e-148">Presione F5 para ejecutar la solución.</span><span class="sxs-lookup"><span data-stu-id="7d47e-148">To run the solution, press F5.</span></span>

    <span data-ttu-id="7d47e-149">De forma predeterminada, el servicio está escuchando en el puerto 53797 ( `http://localhost:53797/SampleWorkflowService.xamlx` ).</span><span class="sxs-lookup"><span data-stu-id="7d47e-149">By default, the service is listening on port 53797 (`http://localhost:53797/SampleWorkflowService.xamlx`).</span></span>

4. <span data-ttu-id="7d47e-150">Con el explorador de archivos, abra el cliente de prueba WCF.</span><span class="sxs-lookup"><span data-stu-id="7d47e-150">Using File Explorer, open the WCF test client.</span></span>

    <span data-ttu-id="7d47e-151">El cliente de prueba de WCF (WcfTestClient.exe) se encuentra en la \<Visual Studio 2010 installation folder> carpeta \Common7\IDE\</span><span class="sxs-lookup"><span data-stu-id="7d47e-151">The WCF test client (WcfTestClient.exe) is located in the \<Visual Studio 2010 installation folder>\Common7\IDE\ folder.</span></span>

    <span data-ttu-id="7d47e-152">La carpeta de instalación predeterminada de Visual Studio 2010 es C:\Archivos de Programa\microsoft Visual Studio 10,0.</span><span class="sxs-lookup"><span data-stu-id="7d47e-152">The default Visual Studio 2010 installation folder is C:\Program Files\Microsoft Visual Studio 10.0.</span></span>

5. <span data-ttu-id="7d47e-153">En el cliente de prueba de WCF, seleccione **Agregar servicio** en el menú **archivo** .</span><span class="sxs-lookup"><span data-stu-id="7d47e-153">In WCF test client, select **Add Service** from the **File** menu.</span></span>

    <span data-ttu-id="7d47e-154">Agregue la dirección del punto de conexión en el cuadro de entrada.</span><span class="sxs-lookup"><span data-stu-id="7d47e-154">Add the endpoint address in the input box.</span></span> <span data-ttu-id="7d47e-155">De manera predeterminada, es `http://localhost:53797/SampleWorkflowService.xamlx`.</span><span class="sxs-lookup"><span data-stu-id="7d47e-155">The default is `http://localhost:53797/SampleWorkflowService.xamlx`.</span></span>

6. <span data-ttu-id="7d47e-156">Abra la aplicación Visor de eventos.</span><span class="sxs-lookup"><span data-stu-id="7d47e-156">Open the Event Viewer application.</span></span>

    <span data-ttu-id="7d47e-157">Antes de invocar el servicio, inicie Visor de eventos en el menú **Inicio** , seleccione **Ejecutar** y escriba `eventvwr.exe` .</span><span class="sxs-lookup"><span data-stu-id="7d47e-157">Before invoking the service, start Event Viewer from the **Start** menu, select **Run** and type in `eventvwr.exe`.</span></span> <span data-ttu-id="7d47e-158">Asegúrese de que el registro de eventos escucha eventos de seguimiento emitidos desde el servicio de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-158">Ensure that the event log is listening for tracking events emitted from the workflow service.</span></span>

7. <span data-ttu-id="7d47e-159">En la vista de árbol del Visor de eventos, vaya a **visor de eventos**, **registros de aplicaciones y servicios** y **Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-159">In the tree view of the Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, and **Microsoft**.</span></span> <span data-ttu-id="7d47e-160">Haga clic con el botón derecho en **Microsoft** y seleccione **Ver** y, a continuación, **muestre los registros analíticos y de depuración** para habilitar los registros analíticos</span><span class="sxs-lookup"><span data-stu-id="7d47e-160">Right-click **Microsoft** and select **View** and then **Show Analytic and Debug Logs** to enable the analytic and debug logs</span></span>

    <span data-ttu-id="7d47e-161">Asegúrese de que la opción **Mostrar registros analíticos y de depuración** está activada.</span><span class="sxs-lookup"><span data-stu-id="7d47e-161">Ensure that the **Show Analytic and Debug Logs** option is checked.</span></span>

8. <span data-ttu-id="7d47e-162">En la vista de árbol de Visor de eventos, vaya a **visor de eventos**, **registros de aplicaciones y servicios**, **Microsoft**, **Windows**, **servidor de aplicaciones-aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-162">In the tree view in Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="7d47e-163">Haga clic con el botón derecho en **analítico** y seleccione **Habilitar registro** para habilitar el registro **analítico** .</span><span class="sxs-lookup"><span data-stu-id="7d47e-163">Right-click **Analytic** and select **Enable Log** to enable the **Analytic** log.</span></span>

9. <span data-ttu-id="7d47e-164">Pruebe el servicio utilizando el cliente de pruebas de WCF haciendo doble clic en `GetData`.</span><span class="sxs-lookup"><span data-stu-id="7d47e-164">Test the service using the WCF test client by double-clicking `GetData`.</span></span>

    <span data-ttu-id="7d47e-165">De este modo, se abrirá el método `GetData`.</span><span class="sxs-lookup"><span data-stu-id="7d47e-165">This opens the `GetData` method.</span></span> <span data-ttu-id="7d47e-166">La solicitud acepta un parámetro y se asegura de que el valor es 0, que es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="7d47e-166">The request accepts one parameter and ensures that the value is 0, which is the default.</span></span>

     <span data-ttu-id="7d47e-167">Haga clic en **invocar**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-167">Click **Invoke**.</span></span>

10. <span data-ttu-id="7d47e-168">Observe los eventos emitidos desde el flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-168">Observe the events emitted from the workflow.</span></span>

    <span data-ttu-id="7d47e-169">Vuelva a Visor de eventos y navegue a **visor de eventos**, **registros de aplicaciones y servicios**, **Microsoft**, **Windows**, **servidor de aplicaciones-aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-169">Switch back to Event Viewer and navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="7d47e-170">Haga clic con el botón secundario en **analítico** y seleccione **Actualizar**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-170">Right-click **Analytic** and select **Refresh**.</span></span>

    <span data-ttu-id="7d47e-171">Los eventos de flujo de trabajo se muestran en el Visor de eventos.</span><span class="sxs-lookup"><span data-stu-id="7d47e-171">The workflow events are displayed in the event viewer.</span></span> <span data-ttu-id="7d47e-172">Observe que se muestran eventos de ejecución de flujo de trabajo y que uno de ellos es una excepción no controlada que se corresponde con el error en el flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-172">Notice that workflow execution events are displayed and that one of them is an unhandled exception that corresponds to the error in workflow.</span></span> <span data-ttu-id="7d47e-173">También, se emite un evento de advertencia desde la actividad de flujo de trabajo, que indica que la actividad está produciendo un error.</span><span class="sxs-lookup"><span data-stu-id="7d47e-173">Also, a warning event is emitted from the workflow activity, which indicates that the activity is throwing a fault.</span></span>

11. <span data-ttu-id="7d47e-174">Repita los pasos 9 y 10 con una entrada de datos distinta de 0, para que no se produzca ningún error.</span><span class="sxs-lookup"><span data-stu-id="7d47e-174">Repeat steps 9 and 10 with an input of data other than 0, so that no error is thrown.</span></span>

<span data-ttu-id="7d47e-175">Los perfiles de seguimiento le permiten suscribirse a eventos emitidos por el tiempo de ejecución cuando cambia el estado de una instancia de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-175">Tracking profiles allow you to subscribe to events that are emitted by the runtime when the state of a workflow instance changes.</span></span> <span data-ttu-id="7d47e-176">Dependiendo de sus requisitos de supervisión, puede crear un perfil muy general, que se suscribe a un conjunto pequeño de cambios de estado de alto nivel en un flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-176">Depending on your monitoring requirements, you can create a profile that is very coarse, which subscribes to a small set of high-level state changes on a workflow.</span></span> <span data-ttu-id="7d47e-177">Por otro lado, puede crear un perfil muy preciso cuyo resultado esté lo suficientemente enriquecido como para poder reconstruir la ejecución posteriormente.</span><span class="sxs-lookup"><span data-stu-id="7d47e-177">On the other hand, you can create a very precise profile whose output is rich enough to reconstruct the execution later.</span></span> <span data-ttu-id="7d47e-178">En el ejemplo se muestran los eventos emitidos desde el tiempo de ejecución del flujo de trabajo a ETW utilizando `HealthMonitoring Tracking Profile`, que emite un conjunto pequeño de eventos.</span><span class="sxs-lookup"><span data-stu-id="7d47e-178">The sample demonstrates the events emitted from the workflow runtime to ETW using the `HealthMonitoring Tracking Profile`, which emits a small set of events.</span></span> <span data-ttu-id="7d47e-179">Con el archivo Web.config, se proporciona también otro perfil que emite más eventos de seguimiento denominado `Troubleshooting Tracking Profile`.</span><span class="sxs-lookup"><span data-stu-id="7d47e-179">A different profile that emits more workflow tracking events is also provided in the Web.config that is named `Troubleshooting Tracking Profile`.</span></span> <span data-ttu-id="7d47e-180">Cuando se instala [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)], en el archivo Machine.config se configura un perfil predeterminado con un nombre vacío.</span><span class="sxs-lookup"><span data-stu-id="7d47e-180">When the [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)] is installed, a default profile with an empty name is configured in the Machine.config file.</span></span> <span data-ttu-id="7d47e-181">La configuración de comportamiento de seguimiento de ETW utiliza este perfil cuando no se ha especificado ningún nombre del perfil ni tampoco uno vacío.</span><span class="sxs-lookup"><span data-stu-id="7d47e-181">This profile is used by the ETW tracking behavior configuration when no profile name or an empty profile name is specified.</span></span>

<span data-ttu-id="7d47e-182">El perfil de seguimiento de supervisión de estado emite registros de instancia de flujo de trabajo y registros de propagación de error de actividad.</span><span class="sxs-lookup"><span data-stu-id="7d47e-182">The health monitoring tracking profile emits workflow instance records and activity fault propagation records.</span></span> <span data-ttu-id="7d47e-183">Este perfil se crea agregando el siguiente perfil de seguimiento a un archivo de configuración Web.config.</span><span class="sxs-lookup"><span data-stu-id="7d47e-183">This profile is created by adding the following tracking profile to a Web.config configuration file.</span></span>

```xml
<tracking>
  <profiles>
    <trackingProfile name="HealthMonitoring Tracking Profile">
      <workflow activityDefinitionId="*">
        <workflowInstanceQueries>
          <workflowInstanceQuery>
            <states>
              <state name="Started"/>
              <state name="Completed"/>
              <state name="Aborted"/>
              <state name="UnhandledException"/>
            </states>
          </workflowInstanceQuery>
        </workflowInstanceQueries>
        <faultPropagationQueries>
          <faultPropagationQuery faultSourceActivityName ="*" faultHandlerActivityName="*"/>
        </faultPropagationQueries>
      </workflow>
    </trackingProfile>
  </profiles>
</tracking>
```

 <span data-ttu-id="7d47e-184">El perfil se puede modificar cambiando la configuración `EtwTrackingParticipant` del siguiente modo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-184">The profile can be changed by changing the `EtwTrackingParticipant` configuration to the following.</span></span>

```xml
<behaviors>
  <serviceBehaviors>
    <behavior>
      <etwTracking profileName="HealthMonitoring Tracking Profile"/>
    </behavior>
  </serviceBehaviors>
</behaviors>
```

#### <a name="to-clean-up-optional"></a><span data-ttu-id="7d47e-185">Para realizar la limpieza (Opcional)</span><span class="sxs-lookup"><span data-stu-id="7d47e-185">To clean up (Optional)</span></span>

1. <span data-ttu-id="7d47e-186">Abra el Visor de eventos.</span><span class="sxs-lookup"><span data-stu-id="7d47e-186">Open Event Viewer.</span></span>

2. <span data-ttu-id="7d47e-187">Vaya a **visor de eventos**, **registros de aplicaciones y servicios**, **Microsoft**, **Windows**, **servidor de aplicaciones-aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-187">Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="7d47e-188">Haga clic con el botón secundario en **analítico** y seleccione **deshabilitar registro**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-188">Right-click **Analytic** and select **Disable Log**.</span></span>

3. <span data-ttu-id="7d47e-189">Vaya a **visor de eventos**, **registros de aplicaciones y servicios**, **Microsoft**, **Windows**, **servidor de aplicaciones-aplicaciones**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-189">Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="7d47e-190">Haga clic con el botón secundario en **analítico** y seleccione **Borrar registro**.</span><span class="sxs-lookup"><span data-stu-id="7d47e-190">Right-click **Analytic** and select **Clear Log**.</span></span>

4. <span data-ttu-id="7d47e-191">Elija la opción **Borrar** para borrar los eventos.</span><span class="sxs-lookup"><span data-stu-id="7d47e-191">Choose the **Clear** option to clear the events.</span></span>

## <a name="known-issue"></a><span data-ttu-id="7d47e-192">Problema conocido</span><span class="sxs-lookup"><span data-stu-id="7d47e-192">Known Issue</span></span>

> [!NOTE]
> <span data-ttu-id="7d47e-193">Existe un problema conocido en el Visor de eventos en virtud del cual el visor no puede descodificar eventos de ETW.</span><span class="sxs-lookup"><span data-stu-id="7d47e-193">There is a known issue in the Event Viewer where it may fail to decode ETW events.</span></span> <span data-ttu-id="7d47e-194">Es posible que vea un mensaje de error similar el siguiente.</span><span class="sxs-lookup"><span data-stu-id="7d47e-194">You may see an error message that looks like the following.</span></span>
>
> <span data-ttu-id="7d47e-195">No se encuentra la descripción del ID. \<id> de evento del origen Microsoft-Windows-Application Server-Applications.</span><span class="sxs-lookup"><span data-stu-id="7d47e-195">The description for Event ID \<id> from source Microsoft-Windows-Application Server-Applications cannot be found.</span></span> <span data-ttu-id="7d47e-196">El componente que provoca este evento no está instalado en el equipo local o la instalación está dañada.</span><span class="sxs-lookup"><span data-stu-id="7d47e-196">Either the component that raises this event is not installed on your local computer or the installation is corrupted.</span></span> <span data-ttu-id="7d47e-197">Puede instalar o reparar el componente en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="7d47e-197">You can install or repair the component on the local computer.</span></span>
>
> <span data-ttu-id="7d47e-198">Si encuentra este error, haga clic en actualizar en el panel de acciones.</span><span class="sxs-lookup"><span data-stu-id="7d47e-198">If you encounter this error, click refresh in the actions pane.</span></span> <span data-ttu-id="7d47e-199">El evento debería descodificarse ahora correctamente.</span><span class="sxs-lookup"><span data-stu-id="7d47e-199">The event should now decode properly.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7d47e-200">Puede que los ejemplos ya estén instalados en su equipo.</span><span class="sxs-lookup"><span data-stu-id="7d47e-200">The samples may already be installed on your computer.</span></span> <span data-ttu-id="7d47e-201">Compruebe el siguiente directorio (predeterminado) antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="7d47e-201">Check for the following (default) directory before continuing.</span></span>
>
> `<InstallDrive>:\WF_WCF_Samples`
>
> <span data-ttu-id="7d47e-202">Si este directorio no existe, vaya a [ejemplos de Windows Communication Foundation (WCF) y Windows Workflow Foundation (WF) para .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=21459) para descargar todos los Windows Communication Foundation (WCF) y [!INCLUDE[wf1](../../../../includes/wf1-md.md)] ejemplos.</span><span class="sxs-lookup"><span data-stu-id="7d47e-202">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=21459) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="7d47e-203">Este ejemplo se encuentra en el siguiente directorio.</span><span class="sxs-lookup"><span data-stu-id="7d47e-203">This sample is located in the following directory.</span></span>
>
> `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Tracking\EtwTracking`

## <a name="see-also"></a><span data-ttu-id="7d47e-204">Vea también</span><span class="sxs-lookup"><span data-stu-id="7d47e-204">See also</span></span>

- <span data-ttu-id="7d47e-205">[Ejemplos de supervisión de AppFabric](/previous-versions/appfabric/ff383407(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="7d47e-205">[AppFabric Monitoring Samples](/previous-versions/appfabric/ff383407(v=azure.10))</span></span>
