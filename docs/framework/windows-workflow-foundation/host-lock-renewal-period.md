---
description: 'Más información acerca de: período de renovación del bloqueo de host'
title: Período de renovación del bloqueo de host
ms.date: 03/30/2017
ms.assetid: f8ba94fc-27e0-4d8e-8f85-50a6d2a3cd43
ms.openlocfilehash: 88348c4cebd7ac42657c4ba68238a3b58a8f0d1a
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2021
ms.locfileid: "99742218"
---
# <a name="host-lock-renewal-period"></a><span data-ttu-id="8fd9f-103">Período de renovación del bloqueo de host</span><span class="sxs-lookup"><span data-stu-id="8fd9f-103">Host Lock Renewal Period</span></span>

<span data-ttu-id="8fd9f-104">La propiedad **período de renovación del bloqueo de host** del almacén de instancias de flujo de trabajo de SQL le permite especificar el período de tiempo en el que el host renueva su bloqueo en una instancia de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-104">The **Host Lock Renewal Period** property of the SQL Workflow Instance Store lets you specify the time period within which the host renews its lock on a workflow instance.</span></span> <span data-ttu-id="8fd9f-105">El bloqueo sigue siendo válido durante el período de renovación del bloqueo de host más un período de 30 segundos adicional.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-105">The lock remains valid for Host Lock Renewal Period + 30 seconds.</span></span> <span data-ttu-id="8fd9f-106">Si se produce un error cuando el host renueva el bloqueo (en otras palabras, amplía la concesión) dentro de este período de tiempo, el bloqueo expira y el proveedor de persistencia desbloquea la instancia.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-106">If the host fails to renew the lock (in other words, extend the lease) within this time period, the lock expires and the persistence provider unlocks the instance.</span></span> <span data-ttu-id="8fd9f-107">El valor de esta propiedad es de tipo TimeSpan con el formato "HH: mm: SS".</span><span class="sxs-lookup"><span data-stu-id="8fd9f-107">The value for this property is of type TimeSpan of the form "hh:mm:ss".</span></span> <span data-ttu-id="8fd9f-108">El valor mínimo permitido es "00:00:01" (1 segundo).</span><span class="sxs-lookup"><span data-stu-id="8fd9f-108">The minimum permitted value is "00:00:01" (1 second).</span></span> <span data-ttu-id="8fd9f-109">El valor predeterminado de esta propiedad es "00:00:30" (30 segundos).</span><span class="sxs-lookup"><span data-stu-id="8fd9f-109">The default value of this property is "00:00:30" (30 seconds).</span></span>  
  
 <span data-ttu-id="8fd9f-110">Esta propiedad es significativa en escenarios donde se produce un error en un host de servicio de flujo de trabajo antes de que pueda desbloquear una instancia de servicio de flujo de trabajo que posee.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-110">This property is significant in scenarios where a workflow service host fails before it can unlock a workflow service instance that it owns.</span></span> <span data-ttu-id="8fd9f-111">En este escenario, el proveedor de persistencia quita el bloqueo en la instancia de servicio de flujo de trabajo en la base de datos de persistencia después de que el bloqueo expire. De este modo, otro host de servicio de flujo de trabajo en el mismo equipo o en otro en una granja de servidores puede adquirir el bloqueo y cargar la instancia de servicio de flujo de trabajo en la memoria para reanudar su ejecución a partir de su último estado persistente.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-111">In this scenario, the lock on the workflow service instance in the persistence database is removed by the persistence provider after the lock expires so that another workflow service host running on the same computer or another computer in a server farm can acquire the lock and load the workflow service instance into memory to resume its execution from its last persisted state.</span></span>  
  
 <span data-ttu-id="8fd9f-112">Establecer un valor superior para este propiedad provoca el bloqueo de las instancias de servicio de flujo de trabajo en la base de datos de persistencia para un período más largo y, por tanto, se retrasa la recuperación de la instancia desde el último punto de persistencia.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-112">Setting a higher value for this property causes the workflow service instances to be locked in the persistence database for a longer time and therefore delays the recovery of the instance from the last persistence point.</span></span> <span data-ttu-id="8fd9f-113">Establecer un intervalo corto para esta propiedad provoca que la nueva instancia del host de servicio de flujo de trabajo recoja la instancia fallida de servicio de flujo de trabajo rápidamente aunque causa un aumento en la carga de trabajo del host de servicio de flujo de trabajo y la base de datos SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-113">Setting a short interval for this property causes the new instance of the workflow service host to pick up the failed workflow service instance quickly, but causes an increase in workload for the workflow service host and the SQL Server database.</span></span>  
  
 <span data-ttu-id="8fd9f-114">El almacén de instancias de flujo de trabajo de SQL ejecuta una tarea interna que periódicamente se activa y detecta las instancias con bloqueos expirados en ellos.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-114">The SQL Workflow Instance Store runs an internal task that periodically wakes up and detects instances with expired locks on them.</span></span> <span data-ttu-id="8fd9f-115">Cuando encuentra instancias con bloqueos expirados, coloca las instancias en la tabla RunnableInstances para que un host de flujo de trabajo pueda escoger y ejecutar estas instancias.</span><span class="sxs-lookup"><span data-stu-id="8fd9f-115">When it finds instances with expired locks, it places the instances in the RunnableInstances table so that a workflow host can pick up and run these instances.</span></span>
