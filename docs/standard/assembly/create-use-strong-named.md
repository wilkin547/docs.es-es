---
title: Crear y utilizar ensamblados con nombre seguro
ms.date: 08/19/2019
helpviewer_keywords:
- strong-name bypass feature
- strong-named assemblies, about strong-named assemblies
- strong-named assemblies
- signing assemblies
- assemblies [.NET Framework], signing
- strong-named assemblies, scenarios
- assemblies [.NET Framework], strong-named
- strong-named assemblies, loading into trusted application domains
- assembly binding, strong-named
ms.assetid: ffbf6d9e-4a88-4a8a-9645-4ce0ee1ee5f9
ms.openlocfilehash: 18a0b7d657290835a34c705513d0d7a4ccbfc61c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/15/2020
ms.locfileid: "75738687"
---
# <a name="create-and-use-strong-named-assemblies"></a><span data-ttu-id="a402d-102">Crear y utilizar ensamblados con nombre seguro</span><span class="sxs-lookup"><span data-stu-id="a402d-102">Create and use strong-named assemblies</span></span>

<span data-ttu-id="a402d-103">Un nombre seguro se compone de la identidad del ensamblado, es decir, de su nombre de texto simple, número de versión e información sobre referencia cultural (si se proporciona), más una clave pública y una firma digital.</span><span class="sxs-lookup"><span data-stu-id="a402d-103">A strong name consists of the assembly's identity—its simple text name, version number, and culture information (if provided)—plus a public key and a digital signature.</span></span> <span data-ttu-id="a402d-104">Se genera a partir de un archivo de ensamblado mediante la clave privada correspondiente.</span><span class="sxs-lookup"><span data-stu-id="a402d-104">It is generated from an assembly file using the corresponding private key.</span></span> <span data-ttu-id="a402d-105">(El archivo de ensamblado contiene el manifiesto del ensamblado, que a su vez contiene los nombres y códigos hash de todos los archivos que forman el ensamblado).</span><span class="sxs-lookup"><span data-stu-id="a402d-105">(The assembly file contains the assembly manifest, which contains the names and hashes of all the files that make up the assembly.)</span></span>

> [!WARNING]
> <span data-ttu-id="a402d-106">Para garantizar la seguridad, no confíe únicamente en el uso de nombres seguros.</span><span class="sxs-lookup"><span data-stu-id="a402d-106">Do not rely on strong names for security.</span></span> <span data-ttu-id="a402d-107">Estos solo proporcionan una identidad única.</span><span class="sxs-lookup"><span data-stu-id="a402d-107">They provide a unique identity only.</span></span>

<span data-ttu-id="a402d-108">Un ensamblado con nombre seguro solo puede usar tipos de otros ensamblados con nombre seguro.</span><span class="sxs-lookup"><span data-stu-id="a402d-108">A strong-named assembly can only use types from other strong-named assemblies.</span></span> <span data-ttu-id="a402d-109">De lo contrario, se pondría en peligro la integridad del ensamblado con nombre seguro.</span><span class="sxs-lookup"><span data-stu-id="a402d-109">Otherwise, the integrity of the strong-named assembly would be compromised.</span></span>

> [!NOTE]
> <span data-ttu-id="a402d-110">Aunque .NET Core admite ensamblados con nombre seguro, y todos los ensamblados de la biblioteca .NET Core están firmados, la mayoría de los ensamblados de terceros no necesitan nombres seguros.</span><span class="sxs-lookup"><span data-stu-id="a402d-110">Although .NET Core supports strong-named assemblies, and all assemblies in the .NET Core library are signed, the majority of third-party assemblies do not need strong names.</span></span> <span data-ttu-id="a402d-111">Para obtener más información, consulte [Strong Name Signing (Firma con nombre seguro)](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) en GitHub.</span><span class="sxs-lookup"><span data-stu-id="a402d-111">For more information, see [Strong Name Signing](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) on GitHub.</span></span>

## <a name="strong-name-scenario"></a><span data-ttu-id="a402d-112">Escenario de nombre seguro</span><span class="sxs-lookup"><span data-stu-id="a402d-112">Strong name scenario</span></span>

<span data-ttu-id="a402d-113">En el siguiente escenario se firma un ensamblado con un nombre seguro y después se hace referencia a él con ese nombre.</span><span class="sxs-lookup"><span data-stu-id="a402d-113">The following scenario outlines the process of signing an assembly with a strong name and later referencing it by that name.</span></span>

1. <span data-ttu-id="a402d-114">El ensamblado A se crea con un nombre seguro mediante uno de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="a402d-114">Assembly A is created with a strong name using one of the following methods:</span></span>

    - <span data-ttu-id="a402d-115">Usar un entorno de desarrollo que admita la creación de nombres seguros, como Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a402d-115">Using a development environment that supports creating strong names, such as Visual Studio.</span></span>

    - <span data-ttu-id="a402d-116">Crear un par de claves criptográficas mediante la [herramienta de nombre seguro (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) y asignar ese par de claves al ensamblado con un compilador de línea de comandos o [Assembly Linker (Al.exe)](../../framework/tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="a402d-116">Creating a cryptographic key pair using the [Strong Name tool (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) and assigning that key pair to the assembly using either a command-line compiler or the [Assembly Linker (Al.exe)](../../framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="a402d-117">Windows SDK proporciona ambas utilidades Sn.exe y Al.exe.</span><span class="sxs-lookup"><span data-stu-id="a402d-117">The Windows SDK provides both Sn.exe and Al.exe.</span></span>

2. <span data-ttu-id="a402d-118">El entorno de desarrollo o la herramienta firma el hash del archivo que contiene el manifiesto del ensamblado con la clave privada del programador.</span><span class="sxs-lookup"><span data-stu-id="a402d-118">The development environment or tool signs the hash of the file containing the assembly's manifest with the developer's private key.</span></span> <span data-ttu-id="a402d-119">Esta firma digital se almacena en el archivo portable ejecutable (PE) que contiene el manifiesto del ensamblado A.</span><span class="sxs-lookup"><span data-stu-id="a402d-119">This digital signature is stored in the portable executable (PE) file that contains Assembly A's manifest.</span></span>

3. <span data-ttu-id="a402d-120">El ensamblado B es un consumidor del ensamblado A. La sección de referencia del manifiesto del ensamblado B contiene un token que representa la clave pública del ensamblado A.</span><span class="sxs-lookup"><span data-stu-id="a402d-120">Assembly B is a consumer of Assembly A. The reference section of Assembly B's manifest includes a token that represents Assembly A's public key.</span></span> <span data-ttu-id="a402d-121">Un token es una parte de la clave pública completa y se usa en lugar de la propia clave para ahorrar espacio.</span><span class="sxs-lookup"><span data-stu-id="a402d-121">A token is a portion of the full public key and is used rather than the key itself to save space.</span></span>

4. <span data-ttu-id="a402d-122">Common Language Runtime comprueba la firma de nombre seguro cuando el ensamblado se ubica en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="a402d-122">The common language runtime verifies the strong name signature when the assembly is placed in the global assembly cache.</span></span> <span data-ttu-id="a402d-123">Al enlazar por nombre seguro en tiempo de ejecución, Common Language Runtime compara la clave almacenada en el manifiesto del ensamblado B con la clave usada para generar el nombre seguro del ensamblado A. Si se superan las comprobaciones de seguridad de .NET Framework y el enlace se realiza correctamente, el ensamblado B tiene la garantía de que los bits del ensamblado A no se han alterado y que esos bits proceden realmente de los desarrolladores del ensamblado A.</span><span class="sxs-lookup"><span data-stu-id="a402d-123">When binding by strong name at run time, the common language runtime compares the key stored in Assembly B's manifest with the key used to generate the strong name for Assembly A. If the .NET Framework security checks pass and the bind succeeds, Assembly B has a guarantee that Assembly A's bits have not been tampered with and that these bits actually come from the developers of Assembly A.</span></span>

> [!NOTE]
> <span data-ttu-id="a402d-124">Este escenario no soluciona los problemas de confianza.</span><span class="sxs-lookup"><span data-stu-id="a402d-124">This scenario doesn't address trust issues.</span></span> <span data-ttu-id="a402d-125">Los ensamblados pueden llevar firmas completas de Microsoft Authenticode además de un nombre seguro.</span><span class="sxs-lookup"><span data-stu-id="a402d-125">Assemblies can carry full Microsoft Authenticode signatures in addition to a strong name.</span></span> <span data-ttu-id="a402d-126">Las firmas de Authenticode incluyen un certificado que establece la confianza.</span><span class="sxs-lookup"><span data-stu-id="a402d-126">Authenticode signatures include a certificate that establishes trust.</span></span> <span data-ttu-id="a402d-127">Es importante tener en cuenta que los nombres seguros no requieren que el código se firme de esta manera.</span><span class="sxs-lookup"><span data-stu-id="a402d-127">It's important to note that strong names don't require code to be signed in this way.</span></span> <span data-ttu-id="a402d-128">Los nombres seguros solo proporcionan una identidad única.</span><span class="sxs-lookup"><span data-stu-id="a402d-128">Strong names only provide a unique identity.</span></span>

## <a name="bypass-signature-verification-of-trusted-assemblies"></a><span data-ttu-id="a402d-129">Omitir la verificación de la firma de ensamblados de confianza</span><span class="sxs-lookup"><span data-stu-id="a402d-129">Bypass signature verification of trusted assemblies</span></span>

<span data-ttu-id="a402d-130">A partir de .NET Framework 3.5 Service Pack 1, las firmas de nombre seguro no se validan cuando un ensamblado se carga en un dominio de aplicación de plena confianza, como el dominio de aplicación predeterminado para la zona `MyComputer`.</span><span class="sxs-lookup"><span data-stu-id="a402d-130">Starting with the .NET Framework 3.5 Service Pack 1, strong-name signatures are not validated when an assembly is loaded into a full-trust application domain, such as the default application domain for the `MyComputer` zone.</span></span> <span data-ttu-id="a402d-131">Esta característica se denomina omisión de nombres seguros.</span><span class="sxs-lookup"><span data-stu-id="a402d-131">This is referred to as the strong-name bypass feature.</span></span> <span data-ttu-id="a402d-132">En un entorno de plena confianza, las peticiones de <xref:System.Security.Permissions.StrongNameIdentityPermission> siempre se realizan correctamente para los ensamblados de plena confianza firmados, independientemente de su firma.</span><span class="sxs-lookup"><span data-stu-id="a402d-132">In a full-trust environment, demands for <xref:System.Security.Permissions.StrongNameIdentityPermission> always succeed for signed, full-trust assemblies, regardless of their signature.</span></span> <span data-ttu-id="a402d-133">La característica de omisión de nombres seguros evita en esta situación la sobrecarga innecesaria por comprobación de firmas de nombre seguro de ensamblados de plena confianza, lo que permite cargar los ensamblados con mayor rapidez.</span><span class="sxs-lookup"><span data-stu-id="a402d-133">The strong-name bypass feature avoids the unnecessary overhead of strong-name signature verification of full-trust assemblies in this situation, allowing the assemblies to load faster.</span></span>

<span data-ttu-id="a402d-134">La característica de omisión se aplica a cualquier ensamblado que esté firmado con un nombre seguro y que:</span><span class="sxs-lookup"><span data-stu-id="a402d-134">The bypass feature applies to any assembly that is signed with a strong name and that has the following characteristics:</span></span>

- <span data-ttu-id="a402d-135">tenga plena confianza sin evidencia <xref:System.Security.Policy.StrongName> (por ejemplo, con la evidencia de zona `MyComputer`);</span><span class="sxs-lookup"><span data-stu-id="a402d-135">Fully trusted without <xref:System.Security.Policy.StrongName> evidence (for example, has `MyComputer` zone evidence).</span></span>

- <span data-ttu-id="a402d-136">se cargue en un <xref:System.AppDomain> de plena confianza;</span><span class="sxs-lookup"><span data-stu-id="a402d-136">Loaded into a fully trusted <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="a402d-137">se cargue desde una ubicación en la propiedad <xref:System.AppDomainSetup.ApplicationBase%2A> de ese <xref:System.AppDomain>;</span><span class="sxs-lookup"><span data-stu-id="a402d-137">Loaded from a location under the <xref:System.AppDomainSetup.ApplicationBase%2A> property of that <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="a402d-138">no tenga firma retrasada.</span><span class="sxs-lookup"><span data-stu-id="a402d-138">Not delay-signed.</span></span>

<span data-ttu-id="a402d-139">Esta característica puede deshabilitarse en aplicaciones concretas o en todo un equipo.</span><span class="sxs-lookup"><span data-stu-id="a402d-139">This feature can be disabled for individual applications or for a computer.</span></span> <span data-ttu-id="a402d-140">Vea [Cómo: Deshabilitar la característica de omisión de nombres seguros](disable-strong-name-bypass-feature.md).</span><span class="sxs-lookup"><span data-stu-id="a402d-140">See [How to: Disable the strong-name bypass feature](disable-strong-name-bypass-feature.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="a402d-141">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="a402d-141">Related topics</span></span>

|<span data-ttu-id="a402d-142">Title</span><span class="sxs-lookup"><span data-stu-id="a402d-142">Title</span></span>|<span data-ttu-id="a402d-143">Descripción</span><span class="sxs-lookup"><span data-stu-id="a402d-143">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="a402d-144">Cómo: Crear un par de claves privada y pública</span><span class="sxs-lookup"><span data-stu-id="a402d-144">How to: Create a public-private key pair</span></span>](create-public-private-key-pair.md)|<span data-ttu-id="a402d-145">Describe cómo crear un par de claves criptográficas para firmar un ensamblado.</span><span class="sxs-lookup"><span data-stu-id="a402d-145">Describes how to create a cryptographic key pair for signing an assembly.</span></span>|
|[<span data-ttu-id="a402d-146">Cómo: Firmar un ensamblado con un nombre seguro</span><span class="sxs-lookup"><span data-stu-id="a402d-146">How to: Sign an assembly with a strong name</span></span>](sign-strong-name.md)|<span data-ttu-id="a402d-147">Describe cómo crear un ensamblado con nombre seguro.</span><span class="sxs-lookup"><span data-stu-id="a402d-147">Describes how to create a strong-named assembly.</span></span>|
|[<span data-ttu-id="a402d-148">Nombres seguros mejorados</span><span class="sxs-lookup"><span data-stu-id="a402d-148">Enhanced strong naming</span></span>](enhanced-strong-naming.md)|<span data-ttu-id="a402d-149">Describe las mejoras en nombres seguros en .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="a402d-149">Describes enhancements to strong-names in the .NET Framework 4.5.</span></span>|
|[<span data-ttu-id="a402d-150">Cómo: Hacer referencia a un ensamblado con nombre seguro</span><span class="sxs-lookup"><span data-stu-id="a402d-150">How to: Reference a strong-named assembly</span></span>](reference-strong-named.md)|<span data-ttu-id="a402d-151">Describe cómo hacer referencia a tipos o recursos en un ensamblado con nombre seguro en tiempo de compilación o tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="a402d-151">Describes how to reference types or resources in a strong-named assembly at compile time or run time.</span></span>|
|[<span data-ttu-id="a402d-152">Cómo: Deshabilitar la característica de omisión de nombres seguros</span><span class="sxs-lookup"><span data-stu-id="a402d-152">How to: Disable the strong-name bypass feature</span></span>](disable-strong-name-bypass-feature.md)|<span data-ttu-id="a402d-153">Describe cómo deshabilitar la característica que omite la validación de firmas de nombre seguro.</span><span class="sxs-lookup"><span data-stu-id="a402d-153">Describes how to disable the feature that bypasses the validation of strong-name signatures.</span></span> <span data-ttu-id="a402d-154">Esta característica puede deshabilitarse para todas las aplicaciones o para aplicaciones específicas.</span><span class="sxs-lookup"><span data-stu-id="a402d-154">This feature can be disabled for all or for specific applications.</span></span>|
|[<span data-ttu-id="a402d-155">Creación de ensamblados</span><span class="sxs-lookup"><span data-stu-id="a402d-155">Create assemblies</span></span>](create.md)|<span data-ttu-id="a402d-156">Proporciona información general sobre los ensamblados de archivos individuales y múltiples archivos.</span><span class="sxs-lookup"><span data-stu-id="a402d-156">Provides an overview of single-file and multifile assemblies.</span></span>|
|[<span data-ttu-id="a402d-157">Cómo retrasar la firma de un ensamblado en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a402d-157">How to delay sign an assembly in Visual Studio</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing#how-to-sign-an-assembly-in-visual-studio)|<span data-ttu-id="a402d-158">Explica cómo firmar un ensamblado con un nombre seguro después de haber creado el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="a402d-158">Explains how to sign an assembly with a strong name after the assembly has been created.</span></span>|
|[<span data-ttu-id="a402d-159">Sn.exe (herramienta de nombre seguro)</span><span class="sxs-lookup"><span data-stu-id="a402d-159">Sn.exe (Strong Name tool)</span></span>](../../framework/tools/sn-exe-strong-name-tool.md)|<span data-ttu-id="a402d-160">Describe la herramienta incluida en .NET Framework que ayuda a crear ensamblados con nombres seguros.</span><span class="sxs-lookup"><span data-stu-id="a402d-160">Describes the tool included in the .NET Framework that helps create assemblies with strong names.</span></span> <span data-ttu-id="a402d-161">Esta herramienta proporciona opciones para la administración de claves, así como para la generación y comprobación de firmas.</span><span class="sxs-lookup"><span data-stu-id="a402d-161">This tool provides options for key management, signature generation, and signature verification.</span></span>|
|[<span data-ttu-id="a402d-162">Al.exe (Assembly Linker)</span><span class="sxs-lookup"><span data-stu-id="a402d-162">Al.exe (Assembly linker)</span></span>](../../framework/tools/al-exe-assembly-linker.md)|<span data-ttu-id="a402d-163">Describe la herramienta incluida en .NET Framework que genera un archivo que tiene un manifiesto de ensamblado a partir de archivos de recursos o módulos.</span><span class="sxs-lookup"><span data-stu-id="a402d-163">Describes the tool included in the .NET Framework that generates a file that has an assembly manifest from modules or resource files.</span></span>|
