---
title: Formatos compuestos
description: Conozca el formato compuesto de .NET, que toma como entrada una lista de objetos y una cadena de formato compuesto, que contiene texto fijo con marcadores de posición indexados.
ms.date: 10/26/2018
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parameter specifiers
- strings [.NET Framework], alignment
- format specifiers, composite formatting
- strings [.NET Framework], composite
- composite formatting
- objects [.NET Framework], formatting multiple objects
ms.assetid: 87b7d528-73f6-43c6-b71a-f23043039a49
ms.openlocfilehash: 36197b382c449a2570e1d5530f307c4e66b0d983
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/05/2020
ms.locfileid: "84447269"
---
# <a name="composite-formatting"></a><span data-ttu-id="f21c7-103">Formatos compuestos</span><span class="sxs-lookup"><span data-stu-id="f21c7-103">Composite formatting</span></span>

<span data-ttu-id="f21c7-104">La característica de formato compuesto de .NET toma una lista de objetos y una cadena de formato compuesto como entrada.</span><span class="sxs-lookup"><span data-stu-id="f21c7-104">The .NET composite formatting feature takes a list of objects and a composite format string as input.</span></span> <span data-ttu-id="f21c7-105">Una cadena de formato compuesto está formada por texto fijo combinado con marcadores de posición indizados, que reciben el nombre de elementos de formato, y que se corresponden con los objetos de la lista.</span><span class="sxs-lookup"><span data-stu-id="f21c7-105">A composite format string consists of fixed text intermixed with indexed placeholders, called format items, that correspond to the objects in the list.</span></span> <span data-ttu-id="f21c7-106">La operación de formato genera una cadena de resultado compuesta por el texto fijo original combinado con la representación de cadena de los objetos de la lista.</span><span class="sxs-lookup"><span data-stu-id="f21c7-106">The formatting operation yields a result string that consists of the original fixed text intermixed with the string representation of the objects in the list.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="f21c7-107">En lugar de usar cadenas de formato compuesto, puede usar *cadenas interpoladas* si el idioma y la versión de idioma que está usando son compatibles con ellos.</span><span class="sxs-lookup"><span data-stu-id="f21c7-107">Instead of using composite format strings, you can use *interpolated strings* if the language and language version that you're using support them.</span></span> <span data-ttu-id="f21c7-108">Una cadena interpolada es una cadena que contiene *expresiones interpoladas*.</span><span class="sxs-lookup"><span data-stu-id="f21c7-108">An interpolated string is a string that contains *interpolated expressions*.</span></span> <span data-ttu-id="f21c7-109">Cada expresión interpolada se resuelve con el valor de la expresión y se incluye en la cadena de resultado cuando se asigna la cadena.</span><span class="sxs-lookup"><span data-stu-id="f21c7-109">Each interpolated expression is resolved with the expression's value and included in the result string when the string is assigned.</span></span> <span data-ttu-id="f21c7-110">Para obtener más información, vea [Interpolación de cadenas (Referencia de C#)](../../csharp/language-reference/tokens/interpolated.md) y [Cadenas interpoladas (referencia de Visual Basic)](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md).</span><span class="sxs-lookup"><span data-stu-id="f21c7-110">For more information, see [String interpolation (C# Reference)](../../csharp/language-reference/tokens/interpolated.md) and [Interpolated strings (Visual Basic Reference)](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md).</span></span>

<span data-ttu-id="f21c7-111">La característica de formato compuesto se admite mediante métodos como los siguientes:</span><span class="sxs-lookup"><span data-stu-id="f21c7-111">The composite formatting feature is supported by methods such as the following:</span></span>  
  
- <span data-ttu-id="f21c7-112"><xref:System.String.Format%2A?displayProperty=nameWithType>, que devuelve una cadena de resultado con formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-112"><xref:System.String.Format%2A?displayProperty=nameWithType>, which returns a formatted result string.</span></span>  
  
- <span data-ttu-id="f21c7-113"><xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, que anexa una cadena de resultado con formato a un objeto <xref:System.Text.StringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-113"><xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>, which appends a formatted result string to a <xref:System.Text.StringBuilder> object.</span></span>
- <span data-ttu-id="f21c7-114">Algunas sobrecargas del método <xref:System.Console.WriteLine%2A?displayProperty=nameWithType>, que muestran una cadena de resultado con formato en la consola.</span><span class="sxs-lookup"><span data-stu-id="f21c7-114">Some overloads of the <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> method, which display a formatted result string to the console.</span></span>  
  
- <span data-ttu-id="f21c7-115">Algunas sobrecargas del método <xref:System.IO.TextWriter.WriteLine%2A?displayProperty=nameWithType>, que escriben la cadena de resultado con formato en una secuencia o un archivo.</span><span class="sxs-lookup"><span data-stu-id="f21c7-115">Some overloads of the <xref:System.IO.TextWriter.WriteLine%2A?displayProperty=nameWithType> method, which write the formatted result string to a stream or file.</span></span> <span data-ttu-id="f21c7-116">Las clases derivadas de <xref:System.IO.TextWriter>, como <xref:System.IO.StreamWriter> y <xref:System.Web.UI.HtmlTextWriter>, también comparten esta funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="f21c7-116">The classes derived from <xref:System.IO.TextWriter>, such as <xref:System.IO.StreamWriter> and <xref:System.Web.UI.HtmlTextWriter>, also share this functionality.</span></span>  
  
- <span data-ttu-id="f21c7-117"><xref:System.Diagnostics.Debug.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, que genera un mensaje con formato para los agentes de escucha de traza.</span><span class="sxs-lookup"><span data-stu-id="f21c7-117"><xref:System.Diagnostics.Debug.WriteLine%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, which outputs a formatted message to trace listeners.</span></span>  
  
- <span data-ttu-id="f21c7-118">Los métodos <xref:System.Diagnostics.Trace.TraceError%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, <xref:System.Diagnostics.Trace.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> y <xref:System.Diagnostics.Trace.TraceWarning%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, que generan mensajes con formato para los agentes de escucha de traza.</span><span class="sxs-lookup"><span data-stu-id="f21c7-118">The <xref:System.Diagnostics.Trace.TraceError%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, <xref:System.Diagnostics.Trace.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, and <xref:System.Diagnostics.Trace.TraceWarning%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> methods, which output formatted messages to trace listeners.</span></span>  
  
- <span data-ttu-id="f21c7-119">El método <xref:System.Diagnostics.TraceSource.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>, que escribe un método informativo para los agentes de escucha de traza.</span><span class="sxs-lookup"><span data-stu-id="f21c7-119">The <xref:System.Diagnostics.TraceSource.TraceInformation%28System.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method, which writes an informational method to trace listeners.</span></span>  
  
## <a name="composite-format-string"></a><span data-ttu-id="f21c7-120">Cadena de formato compuesto</span><span class="sxs-lookup"><span data-stu-id="f21c7-120">Composite Format String</span></span>  
 <span data-ttu-id="f21c7-121">Los métodos compatibles con la característica de formato compuesto utilizan como argumentos una cadena de formato compuesto y una lista de objetos.</span><span class="sxs-lookup"><span data-stu-id="f21c7-121">A composite format string and object list are used as arguments of methods that support the composite formatting feature.</span></span> <span data-ttu-id="f21c7-122">Una cadena de formato compuesto consta de cero o más ejecuciones de texto fijo combinadas con uno o varios elementos de formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-122">A composite format string consists of zero or more runs of fixed text intermixed with one or more format items.</span></span> <span data-ttu-id="f21c7-123">El texto fijo es cualquier cadena que elija y cada elemento de formato se corresponde con un objeto o estructura de conversión boxing de la lista.</span><span class="sxs-lookup"><span data-stu-id="f21c7-123">The fixed text is any string that you choose, and each format item corresponds to an object or boxed structure in the list.</span></span> <span data-ttu-id="f21c7-124">La característica de formato compuesto devuelve una nueva cadena de resultado donde cada elemento de formato se reemplaza por la representación de cadena del objeto correspondiente de la lista.</span><span class="sxs-lookup"><span data-stu-id="f21c7-124">The composite formatting feature returns a new result string where each format item is replaced by the string representation of the corresponding object in the list.</span></span>  
  
 <span data-ttu-id="f21c7-125">Observe el siguiente fragmento de código <xref:System.String.Format%2A>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-125">Consider the following <xref:System.String.Format%2A> code fragment.</span></span>  
  
 [!code-csharp[Formatting.Composite#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#1)]
 [!code-vb[Formatting.Composite#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#1)]  
  
 <span data-ttu-id="f21c7-126">El texto fijo es "`Name =`" y "`, hours =`".</span><span class="sxs-lookup"><span data-stu-id="f21c7-126">The fixed text is "`Name =` " and "`, hours =` ".</span></span> <span data-ttu-id="f21c7-127">Los elementos de formato son "`{0}`", cuyo índice es 0, que corresponde al objeto `name`, y "`{1:hh}`", cuyo índice es 1, que corresponde al objeto `DateTime.Now`.</span><span class="sxs-lookup"><span data-stu-id="f21c7-127">The format items are "`{0}`", whose index is 0, which corresponds to the object `name`, and "`{1:hh}`", whose index is 1, which corresponds to the object `DateTime.Now`.</span></span>  
  
## <a name="format-item-syntax"></a><span data-ttu-id="f21c7-128">Sintaxis de elemento de formato</span><span class="sxs-lookup"><span data-stu-id="f21c7-128">Format Item Syntax</span></span>  
 <span data-ttu-id="f21c7-129">Cada elemento de formato presenta la siguiente sintaxis, formada por los siguientes componentes:</span><span class="sxs-lookup"><span data-stu-id="f21c7-129">Each format item takes the following form and consists of the following components:</span></span>  
  
 <span data-ttu-id="f21c7-130">`{` *index*[`,`*alignment*][`:`*formatString*]`}`</span><span class="sxs-lookup"><span data-stu-id="f21c7-130">`{` *index*[`,`*alignment*][`:`*formatString*]`}`</span></span>  
  
 <span data-ttu-id="f21c7-131">Las llaves ("{" y "}") son necesarias.</span><span class="sxs-lookup"><span data-stu-id="f21c7-131">The matching braces ("{" and "}") are required.</span></span>  
  
### <a name="index-component"></a><span data-ttu-id="f21c7-132">Index (Componente)</span><span class="sxs-lookup"><span data-stu-id="f21c7-132">Index Component</span></span>  
 <span data-ttu-id="f21c7-133">El componente *index* obligatorio, denominado también especificador de parámetros, es un número que empieza por 0 que identifica un elemento correspondiente de la lista de objetos.</span><span class="sxs-lookup"><span data-stu-id="f21c7-133">The mandatory *index* component, also called a parameter specifier, is a number starting from 0 that identifies a corresponding item in the list of objects.</span></span> <span data-ttu-id="f21c7-134">O sea, el elemento de formato cuyo especificador de parámetro es 0 da formato al primer objeto de la lista, el elemento de formato cuyo especificador de parámetro es 1 da formato al segundo objeto de la lista, etc.</span><span class="sxs-lookup"><span data-stu-id="f21c7-134">That is, the format item whose parameter specifier is 0 formats the first object in the list, the format item whose parameter specifier is 1 formats the second object in the list, and so on.</span></span> <span data-ttu-id="f21c7-135">En el ejemplo siguiente se incluyen cuatro especificadores de parámetros, numerados del cero al tres, para representar números primos menores que diez:</span><span class="sxs-lookup"><span data-stu-id="f21c7-135">The following example includes four parameter specifiers, numbered zero through three,  to represent prime numbers less than ten:</span></span>  
  
 [!code-csharp[Formatting.Composite#7](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/index1.cs#7)]
 [!code-vb[Formatting.Composite#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/index1.vb#7)]  
  
 <span data-ttu-id="f21c7-136">Los elementos de formato múltiple se pueden referir al mismo elemento de la lista de objetos mediante la especificación del mismo especificador de parámetro.</span><span class="sxs-lookup"><span data-stu-id="f21c7-136">Multiple format items can refer to the same element in the list of objects by specifying the same parameter specifier.</span></span> <span data-ttu-id="f21c7-137">Por ejemplo, se puede dar formato al mismo valor numérico en formato hexadecimal, científico y de número mediante la especificación de una cadena de formato compuesto como esta: "0x{0:X} {0:E} {0:N}", como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="f21c7-137">For example, you can format the same numeric value in hexadecimal, scientific, and number format by specifying a composite format string such as : "0x{0:X} {0:E} {0:N}", as the following example shows.</span></span>  
  
 [!code-csharp[Formatting.Composite#10](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/index1.cs#10)]
 [!code-vb[Formatting.Composite#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/index1.vb#10)]  
  
 <span data-ttu-id="f21c7-138">Cada elemento de formato puede hacer referencia a cualquier objeto de la lista.</span><span class="sxs-lookup"><span data-stu-id="f21c7-138">Each format item can refer to any object in the list.</span></span> <span data-ttu-id="f21c7-139">Por ejemplo, si existen tres objetos, se puede dar formato al segundo, primero y tercer objeto mediante la especificación de una cadena de formato compuesto como esta: "{1} {0} {2}".</span><span class="sxs-lookup"><span data-stu-id="f21c7-139">For example, if there are three objects, you can format the second, first, and third object by specifying a composite format string like this: "{1} {0} {2}".</span></span> <span data-ttu-id="f21c7-140">Un objeto al que no hace referencia ningún elemento de formato se omite.</span><span class="sxs-lookup"><span data-stu-id="f21c7-140">An object that is not referenced by a format item is ignored.</span></span> <span data-ttu-id="f21c7-141">Se produce una excepción de tipo <xref:System.FormatException> en tiempo de ejecución si un especificador de parámetro designa un elemento fuera de los límites de la lista de objetos.</span><span class="sxs-lookup"><span data-stu-id="f21c7-141">A <xref:System.FormatException> is thrown at run time if a parameter specifier designates an item outside the bounds of the list of objects.</span></span>  
  
### <a name="alignment-component"></a><span data-ttu-id="f21c7-142">Alignment (Componente)</span><span class="sxs-lookup"><span data-stu-id="f21c7-142">Alignment Component</span></span>  
 <span data-ttu-id="f21c7-143">El componente opcional *alignment* es un entero con signo que indica el ancho de campo con formato preferido.</span><span class="sxs-lookup"><span data-stu-id="f21c7-143">The optional *alignment* component is a signed integer indicating the preferred formatted field width.</span></span> <span data-ttu-id="f21c7-144">Si el valor de *alignment* es menor que la longitud de la cadena con formato, se omite *alignment* y se usa la longitud de la cadena con formato como el ancho de campo.</span><span class="sxs-lookup"><span data-stu-id="f21c7-144">If the value of *alignment* is less than the length of the formatted string, *alignment* is ignored and the length of the formatted string is used as the field width.</span></span> <span data-ttu-id="f21c7-145">Los datos con formato del campo están alineados a la derecha si *alignment* es positivo y a la izquierda si *alignment* es negativo.</span><span class="sxs-lookup"><span data-stu-id="f21c7-145">The formatted data in the field is right-aligned if *alignment* is positive and left-aligned if *alignment* is negative.</span></span> <span data-ttu-id="f21c7-146">Si hace falta relleno, se utiliza un espacio en blanco.</span><span class="sxs-lookup"><span data-stu-id="f21c7-146">If padding is necessary, white space is used.</span></span> <span data-ttu-id="f21c7-147">Si se especifica *alignment*, es necesaria la coma.</span><span class="sxs-lookup"><span data-stu-id="f21c7-147">The comma is required if *alignment*  is specified.</span></span>  
  
 <span data-ttu-id="f21c7-148">El siguiente ejemplo define dos matrices, que contiene los nombres de empleados y otra contiene las horas que han trabajado en un período de dos semanas.</span><span class="sxs-lookup"><span data-stu-id="f21c7-148">The following example defines two arrays, one containing the names of employees and the other containing the hours they worked over a two-week period.</span></span> <span data-ttu-id="f21c7-149">La cadena de formato compuesto alinea a la izquierda los nombres en un campo de 20 caracteres y alinea a la derecha las horas en un campo de 5 caracteres.</span><span class="sxs-lookup"><span data-stu-id="f21c7-149">The composite format string left-aligns the names in a 20-character field, and right-aligns their hours in a 5-character field.</span></span> <span data-ttu-id="f21c7-150">Tenga en cuenta que la cadena de formato estándar "N1" también se usa para dar formato a las horas con un dígito fraccionario.</span><span class="sxs-lookup"><span data-stu-id="f21c7-150">Note that the "N1" standard format string is also used to format the hours with one fractional digit.</span></span>  
  
 [!code-csharp[Formatting.Composite#8](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/alignment1.cs#8)]
 [!code-vb[Formatting.Composite#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/alignment1.vb#8)]  
  
### <a name="format-string-component"></a><span data-ttu-id="f21c7-151">Format String (Componente)</span><span class="sxs-lookup"><span data-stu-id="f21c7-151">Format String Component</span></span>  
 <span data-ttu-id="f21c7-152">El componente *formatString* opcional es una cadena de formato adecuada para el tipo de objeto al que se da formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-152">The optional *formatString* component is a format string that is appropriate for the type of object being formatted.</span></span> <span data-ttu-id="f21c7-153">Especifique una cadena de formato numérico estándar o personalizado si el objeto correspondiente es un valor numérico, una cadena de formato de fecha y hora estándar o personalizado si el objeto correspondiente es un objeto <xref:System.DateTime>, o una [cadena de formato de enumeración](enumeration-format-strings.md) si el objeto correspondiente es un valor de enumeración.</span><span class="sxs-lookup"><span data-stu-id="f21c7-153">Specify a standard or custom numeric format string if the corresponding object is a numeric value, a standard or custom date and time format string if the corresponding object is a <xref:System.DateTime> object, or an [enumeration format string](enumeration-format-strings.md) if the corresponding object is an enumeration value.</span></span> <span data-ttu-id="f21c7-154">Si no se especifica *formatString*, se usa el especificador de formato general ("G") para un tipo numérico, de fecha y hora o de enumeración.</span><span class="sxs-lookup"><span data-stu-id="f21c7-154">If *formatString* is not specified, the general ("G") format specifier for a numeric, date and time, or enumeration type is used.</span></span> <span data-ttu-id="f21c7-155">Si se especifica *formatString*, son necesarios los dos puntos.</span><span class="sxs-lookup"><span data-stu-id="f21c7-155">The colon is required if *formatString* is specified.</span></span>  
  
 <span data-ttu-id="f21c7-156">En la tabla siguiente se enumeran los tipos o las categorías de tipo de la biblioteca de clases de .NET Framework que admiten un conjunto predefinido de cadenas de formato, y se proporcionan vínculos a temas que muestran las cadenas de formato admitidas.</span><span class="sxs-lookup"><span data-stu-id="f21c7-156">The following table lists types or categories of types in the .NET Framework class library that support a predefined set of format strings, and provides links to the topics that list the supported format strings.</span></span> <span data-ttu-id="f21c7-157">Observe que la asignación de formato a cadenas es un mecanismo extensible que permite definir cadenas de formato nuevas para todos los tipos existentes, así como definir un conjunto de cadenas de formato admitidas por un tipo definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f21c7-157">Note that string formatting is an extensible mechanism that makes it possible to define new format strings for all existing types as well as to define a set of format strings supported by an application-defined type.</span></span> <span data-ttu-id="f21c7-158">Para obtener más información, consulte los temas sobre las interfaces <xref:System.IFormattable> y <xref:System.ICustomFormatter>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-158">For more information, see the <xref:System.IFormattable> and <xref:System.ICustomFormatter> interface topics.</span></span>  
  
|<span data-ttu-id="f21c7-159">Tipo o categoría de tipo</span><span class="sxs-lookup"><span data-stu-id="f21c7-159">Type or type category</span></span>|<span data-ttu-id="f21c7-160">Vea</span><span class="sxs-lookup"><span data-stu-id="f21c7-160">See</span></span>|  
|---------------------------|---------|  
|<span data-ttu-id="f21c7-161">Tipos de fecha y hora (<xref:System.DateTime>, <xref:System.DateTimeOffset>)</span><span class="sxs-lookup"><span data-stu-id="f21c7-161">Date and time types (<xref:System.DateTime>, <xref:System.DateTimeOffset>)</span></span>|[<span data-ttu-id="f21c7-162">Cadenas con formato de fecha y hora estándar</span><span class="sxs-lookup"><span data-stu-id="f21c7-162">Standard Date and Time Format Strings</span></span>](standard-date-and-time-format-strings.md)<br /><br /> [<span data-ttu-id="f21c7-163">Cadenas con formato de fecha y hora personalizado</span><span class="sxs-lookup"><span data-stu-id="f21c7-163">Custom Date and Time Format Strings</span></span>](custom-date-and-time-format-strings.md)|  
|<span data-ttu-id="f21c7-164">Tipos de enumeración (todos los tipos derivados de <xref:System.Enum?displayProperty=nameWithType>)</span><span class="sxs-lookup"><span data-stu-id="f21c7-164">Enumeration types (all types derived from <xref:System.Enum?displayProperty=nameWithType>)</span></span>|[<span data-ttu-id="f21c7-165">Cadenas de formato de enumeración</span><span class="sxs-lookup"><span data-stu-id="f21c7-165">Enumeration Format Strings</span></span>](enumeration-format-strings.md)|  
|<span data-ttu-id="f21c7-166">Tipos numéricos (<xref:System.Numerics.BigInteger>, <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>)</span><span class="sxs-lookup"><span data-stu-id="f21c7-166">Numeric types (<xref:System.Numerics.BigInteger>, <xref:System.Byte>, <xref:System.Decimal>, <xref:System.Double>, <xref:System.Int16>, <xref:System.Int32>, <xref:System.Int64>, <xref:System.SByte>, <xref:System.Single>, <xref:System.UInt16>, <xref:System.UInt32>, <xref:System.UInt64>)</span></span>|[<span data-ttu-id="f21c7-167">Cadenas con formato numérico estándar</span><span class="sxs-lookup"><span data-stu-id="f21c7-167">Standard Numeric Format Strings</span></span>](standard-numeric-format-strings.md)<br /><br /> [<span data-ttu-id="f21c7-168">Cadenas con formato numérico personalizado</span><span class="sxs-lookup"><span data-stu-id="f21c7-168">Custom Numeric Format Strings</span></span>](custom-numeric-format-strings.md)|  
|<xref:System.Guid>|<xref:System.Guid.ToString%28System.String%29?displayProperty=nameWithType>|  
|<xref:System.TimeSpan>|[<span data-ttu-id="f21c7-169">Cadenas de formato TimeSpan estándar</span><span class="sxs-lookup"><span data-stu-id="f21c7-169">Standard TimeSpan Format Strings</span></span>](standard-timespan-format-strings.md)<br /><br /> [<span data-ttu-id="f21c7-170">Cadenas de formato TimeSpan personalizado</span><span class="sxs-lookup"><span data-stu-id="f21c7-170">Custom TimeSpan Format Strings</span></span>](custom-timespan-format-strings.md)|  
  
### <a name="escaping-braces"></a><span data-ttu-id="f21c7-171">Llaves de escape</span><span class="sxs-lookup"><span data-stu-id="f21c7-171">Escaping Braces</span></span>  
 <span data-ttu-id="f21c7-172">Las llaves de apertura y de cierre se interpretan como el inicio y el final de un elemento de formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-172">Opening and closing braces are interpreted as starting and ending a format item.</span></span> <span data-ttu-id="f21c7-173">Por lo tanto, debe utilizar una secuencia de escape para que se muestre una llave de apertura o de cierre literal.</span><span class="sxs-lookup"><span data-stu-id="f21c7-173">Consequently, you must use an escape sequence to display a literal opening brace or closing brace.</span></span> <span data-ttu-id="f21c7-174">Especifique dos llaves de apertura ("{{") en el texto fijo para que se muestre una llave de apertura ("{"), o dos llaves de cierre ("}}") para que se muestre una llave de cierre ("}").</span><span class="sxs-lookup"><span data-stu-id="f21c7-174">Specify two opening braces ("{{") in the fixed text to display one opening brace ("{"), or two closing braces ("}}") to display one closing brace ("}").</span></span> <span data-ttu-id="f21c7-175">Las llaves de un elemento de formato se interpretan secuencialmente, en el orden en que se encuentran.</span><span class="sxs-lookup"><span data-stu-id="f21c7-175">Braces in a format item are interpreted sequentially in the order they are encountered.</span></span> <span data-ttu-id="f21c7-176">No se admite la interpretación de llaves anidadas.</span><span class="sxs-lookup"><span data-stu-id="f21c7-176">Interpreting nested braces is not supported.</span></span>  
  
 <span data-ttu-id="f21c7-177">El modo de interpretar las llaves de escape puede dar lugar a resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="f21c7-177">The way escaped braces are interpreted can lead to unexpected results.</span></span> <span data-ttu-id="f21c7-178">Tomemos como ejemplo el elemento de formato "{{{0:D}}}", cuyo propósito es mostrar una llave de apertura, un valor numérico con formato de número decimal y una llave de cierre;</span><span class="sxs-lookup"><span data-stu-id="f21c7-178">For example, consider the format item "{{{0:D}}}", which is intended to display an opening brace, a numeric value formatted as a decimal number, and a closing brace.</span></span> <span data-ttu-id="f21c7-179">pero que, en la práctica, se interpreta de la siguiente forma:</span><span class="sxs-lookup"><span data-stu-id="f21c7-179">However, the format item is actually interpreted in the following manner:</span></span>  
  
1. <span data-ttu-id="f21c7-180">Las dos primeras llaves de apertura ("{{") son llaves de escape y dan lugar a en una llave de apertura.</span><span class="sxs-lookup"><span data-stu-id="f21c7-180">The first two opening braces ("{{") are escaped and yield one opening brace.</span></span>  
  
2. <span data-ttu-id="f21c7-181">Los tres caracteres siguientes ("{0:") se interpretan como el inicio de un elemento de formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-181">The next three characters ("{0:") are interpreted as the start of a format item.</span></span>  
  
3. <span data-ttu-id="f21c7-182">El siguiente carácter ("D") se interpretaría como el especificador de formato numérico estándar decimal, pero las dos llaves de escape siguientes ("}}") dan lugar a una única llave.</span><span class="sxs-lookup"><span data-stu-id="f21c7-182">The next character ("D") would be interpreted as the Decimal standard numeric format specifier, but the next two escaped braces ("}}") yield a single brace.</span></span> <span data-ttu-id="f21c7-183">Como la cadena resultante ("D}") no es un especificador de formato numérico estándar, se interpreta como una cadena de formato personalizado que significa que debe mostrarse la cadena literal "D}".</span><span class="sxs-lookup"><span data-stu-id="f21c7-183">Because the resulting string ("D}") is not a standard numeric format specifier, the resulting string is interpreted as a custom format string that means display the literal string "D}".</span></span>  
  
4. <span data-ttu-id="f21c7-184">La última llave ("}") se interpreta como el final del elemento de formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-184">The last brace ("}") is interpreted as the end of the format item.</span></span>  
  
5. <span data-ttu-id="f21c7-185">Como resultado final, se muestra la cadena literal "{D}".</span><span class="sxs-lookup"><span data-stu-id="f21c7-185">The final result that is displayed is the literal string, "{D}".</span></span> <span data-ttu-id="f21c7-186">No se muestra el valor numérico al que se debía dar formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-186">The numeric value that was to be formatted is not displayed.</span></span>  
  
 <span data-ttu-id="f21c7-187">Una forma de escribir código e impedir que las llaves de escape y los elementos de formato se malinterpreten consiste en dar formato a las llaves y elementos de formato por separado.</span><span class="sxs-lookup"><span data-stu-id="f21c7-187">One way to write your code to avoid misinterpreting escaped braces and format items is to format the braces and format item separately.</span></span> <span data-ttu-id="f21c7-188">Es decir, en la primera operación de formato mostrar una llave de apertura literal, en la siguiente operación mostrar el resultado del elemento de formato y, por último, en la operación final mostrar una llave de cierre literal.</span><span class="sxs-lookup"><span data-stu-id="f21c7-188">That is, in the first format operation display a literal opening brace, in the next operation display the result of the format item, then in the final operation display a literal closing brace.</span></span> <span data-ttu-id="f21c7-189">En el ejemplo siguiente se muestra este enfoque.</span><span class="sxs-lookup"><span data-stu-id="f21c7-189">The following example illustrates this approach.</span></span>  
  
 [!code-csharp[Formatting.Composite#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Escaping1.cs#2)]
 [!code-vb[Formatting.Composite#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Escaping1.vb#2)]  
  
### <a name="processing-order"></a><span data-ttu-id="f21c7-190">Orden de procesamiento</span><span class="sxs-lookup"><span data-stu-id="f21c7-190">Processing Order</span></span>  
 <span data-ttu-id="f21c7-191">Si la llamada al método de formato compuesto incluye un argumento <xref:System.IFormatProvider> cuyo valor no es `null`, el runtime llama al método <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> para solicitar una implementación de <xref:System.ICustomFormatter>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-191">If the call to the composite formatting method includes an <xref:System.IFormatProvider> argument whose value is not `null`, the runtime calls its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method to request an <xref:System.ICustomFormatter> implementation.</span></span> <span data-ttu-id="f21c7-192">Si el método es capaz de devolver una implementación de <xref:System.ICustomFormatter>, se almacena en caché el tiempo que dure la llamada de método de formato compuesto.</span><span class="sxs-lookup"><span data-stu-id="f21c7-192">If the method is able to return an <xref:System.ICustomFormatter> implementation, it's cached for the duration of the call of the composite formatting method.</span></span>
  
 <span data-ttu-id="f21c7-193">Cada valor de la lista de parámetros que se corresponda con un elemento de formato se convierte en una cadena del siguiente modo:</span><span class="sxs-lookup"><span data-stu-id="f21c7-193">Each value in the parameter list that corresponds to a format item is converted to a string as follows:</span></span>  
  
1. <span data-ttu-id="f21c7-194">Si el valor al que se va a dar formato es `null`, se devuelve una cadena vacía <xref:System.String.Empty?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-194">If the value to be formatted is `null`, an empty string <xref:System.String.Empty?displayProperty=nameWithType> is returned.</span></span>  
  
2. <span data-ttu-id="f21c7-195">Si hay disponible una implementación de <xref:System.ICustomFormatter>, el runtime llama al método <xref:System.ICustomFormatter.Format%2A>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-195">If an <xref:System.ICustomFormatter> implementation is available, the runtime calls its <xref:System.ICustomFormatter.Format%2A> method.</span></span> <span data-ttu-id="f21c7-196">Pasa al método el valor *formatString* del elemento de formato, si hay alguno, o `null` si no lo hay, junto con la implementación de <xref:System.IFormatProvider>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-196">It passes the method the format item's *formatString* value, if one is present, or `null` if it's not, along with the <xref:System.IFormatProvider> implementation.</span></span> <span data-ttu-id="f21c7-197">Si la llamada al método <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> devuelve `null`, la ejecución avanza al siguiente paso; en caso contrario, se devuelve el resultado de la llamada a <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-197">If the call to the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> method returns `null`, execution proceeds to the next step; otherwise, the result of the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> call is returned.</span></span>
  
3. <span data-ttu-id="f21c7-198">Si el valor implementa la interfaz <xref:System.IFormattable>, se llama al método <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29> de esta.</span><span class="sxs-lookup"><span data-stu-id="f21c7-198">If the value implements the <xref:System.IFormattable> interface, the interface's <xref:System.IFormattable.ToString%28System.String%2CSystem.IFormatProvider%29> method is called.</span></span> <span data-ttu-id="f21c7-199">Se pasa al método el valor *formatString*, si hubiera uno presente en el elemento de formato, o `null` si no lo hubiera.</span><span class="sxs-lookup"><span data-stu-id="f21c7-199">The method is passed the *formatString* value, if one is present in the format item, or `null` if it's not.</span></span> <span data-ttu-id="f21c7-200">El argumento <xref:System.IFormatProvider> se determina de la siguiente forma:</span><span class="sxs-lookup"><span data-stu-id="f21c7-200">The <xref:System.IFormatProvider> argument is determined as follows:</span></span>  
  
    - <span data-ttu-id="f21c7-201">Para un valor numérico, si se llama a un método de formato compuesto con un argumento <xref:System.IFormatProvider> que no sea null, el runtime solicita un objeto <xref:System.Globalization.NumberFormatInfo> a su método <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-201">For a numeric value, if a composite formatting method with a non-null <xref:System.IFormatProvider> argument is called, the runtime requests a <xref:System.Globalization.NumberFormatInfo> object from its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f21c7-202">En caso de no poder proporcionar uno, si el valor del argumento es `null`, o si el método de formato compuesto no tiene un parámetro <xref:System.IFormatProvider>, se usa el objeto <xref:System.Globalization.NumberFormatInfo> para la referencia cultural del subproceso actual.</span><span class="sxs-lookup"><span data-stu-id="f21c7-202">If it's unable to supply one, if the value of the argument is `null`, or if the composite formatting method doesn't have an <xref:System.IFormatProvider> parameter, the <xref:System.Globalization.NumberFormatInfo> object for the current thread culture is used.</span></span>  
  
    - <span data-ttu-id="f21c7-203">Para un valor de fecha y hora, si se llama a un método de formato compuesto con un argumento <xref:System.IFormatProvider> que no sea nulo, el runtime solicita un objeto <xref:System.Globalization.DateTimeFormatInfo> a su método <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-203">For a date and time value, if a composite formatting method with a non-null <xref:System.IFormatProvider> argument is called, the runtime requests a <xref:System.Globalization.DateTimeFormatInfo> object from its <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f21c7-204">En caso de no poder proporcionar uno, si el valor del argumento es `null`, o si el método de formato compuesto no tiene un parámetro <xref:System.IFormatProvider>, se usa el objeto <xref:System.Globalization.DateTimeFormatInfo> para la referencia cultural del subproceso actual.</span><span class="sxs-lookup"><span data-stu-id="f21c7-204">If it's unable to supply one, if the value of the argument is `null`, or if the composite formatting method doesn't have an <xref:System.IFormatProvider> parameter, the <xref:System.Globalization.DateTimeFormatInfo> object for the current thread culture is used.</span></span>  
  
    - <span data-ttu-id="f21c7-205">Para objetos de otros tipos, si se llama a un formato compuesto con un argumento <xref:System.IFormatProvider>, su valor se pasa directamente a la implementación <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-205">For objects of other types, if a composite formatting method is called with an <xref:System.IFormatProvider> argument, its value is passed directly to the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation.</span></span> <span data-ttu-id="f21c7-206">En caso contrario, `null` se pasa a la implementación <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-206">Otherwise, `null` is passed to the <xref:System.IFormattable.ToString%2A?displayProperty=nameWithType> implementation.</span></span>  
  
4. <span data-ttu-id="f21c7-207">Se llama al método sin parámetros `ToString` del tipo, que reemplaza a <xref:System.Object.ToString?displayProperty=nameWithType> o hereda el comportamiento de su clase base.</span><span class="sxs-lookup"><span data-stu-id="f21c7-207">The type's parameterless `ToString` method, which either overrides <xref:System.Object.ToString?displayProperty=nameWithType> or inherits the behavior of its base class, is called.</span></span> <span data-ttu-id="f21c7-208">En este caso, se omite la cadena de formato especificada por el componente *formatString* en el elemento de formato, si estuviera presente.</span><span class="sxs-lookup"><span data-stu-id="f21c7-208">In this case, the format string specified by the *formatString* component in the format item, if it's present, is ignored.</span></span>  
  
 <span data-ttu-id="f21c7-209">La alineación se aplica después de que se hayan realizado los pasos anteriores.</span><span class="sxs-lookup"><span data-stu-id="f21c7-209">Alignment is applied after the preceding steps have been performed.</span></span>  
  
## <a name="code-examples"></a><span data-ttu-id="f21c7-210">Ejemplos de código</span><span class="sxs-lookup"><span data-stu-id="f21c7-210">Code Examples</span></span>  
 <span data-ttu-id="f21c7-211">En el ejemplo siguiente se muestra una cadena creada mediante formato compuesto y otra creada mediante el método `ToString` de un objeto.</span><span class="sxs-lookup"><span data-stu-id="f21c7-211">The following example shows one string created using composite formatting and another created using an object's `ToString` method.</span></span> <span data-ttu-id="f21c7-212">Los dos tipos de formato producen resultados equivalentes.</span><span class="sxs-lookup"><span data-stu-id="f21c7-212">Both types of formatting produce equivalent results.</span></span>  
  
 [!code-csharp[Formatting.Composite#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#3)]
 [!code-vb[Formatting.Composite#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#3)]  
  
 <span data-ttu-id="f21c7-213">Si tomamos como día actual un jueves del mes de mayo, el valor de ambas cadenas del ejemplo anterior será `Thursday May` para la referencia cultural Inglés (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="f21c7-213">Assuming that the current day is a Thursday in May, the value of both strings in the preceding example is `Thursday May` in the U.S. English culture.</span></span>  
  
 <span data-ttu-id="f21c7-214"><xref:System.Console.WriteLine%2A?displayProperty=nameWithType> expone la misma funcionalidad que <xref:System.String.Format%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-214"><xref:System.Console.WriteLine%2A?displayProperty=nameWithType> exposes the same functionality as <xref:System.String.Format%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="f21c7-215">La única diferencia que existe entre estos dos métodos es que <xref:System.String.Format%2A?displayProperty=nameWithType> devuelve el resultado como una cadena, mientras que <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> escribe el resultado en el flujo de salida asociado al objeto <xref:System.Console>.</span><span class="sxs-lookup"><span data-stu-id="f21c7-215">The only difference between the two methods is that <xref:System.String.Format%2A?displayProperty=nameWithType> returns its result as a string, while <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> writes the result to the output stream associated with the <xref:System.Console> object.</span></span> <span data-ttu-id="f21c7-216">En el ejemplo siguiente se usa el método <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> para dar formato al valor de `MyInt` como un valor de divisa.</span><span class="sxs-lookup"><span data-stu-id="f21c7-216">The following example uses the <xref:System.Console.WriteLine%2A?displayProperty=nameWithType> method to format the value of `MyInt` to a currency value.</span></span>  
  
 [!code-csharp[Formatting.Composite#4](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#4)]
 [!code-vb[Formatting.Composite#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#4)]  
  
 <span data-ttu-id="f21c7-217">En el siguiente ejemplo se muestra la aplicación de formato a objetos múltiples, incluida la aplicación de formato a un objeto de dos formas diferentes.</span><span class="sxs-lookup"><span data-stu-id="f21c7-217">The following example demonstrates formatting multiple objects, including formatting one object two different ways.</span></span>  
  
 [!code-csharp[Formatting.Composite#5](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#5)]
 [!code-vb[Formatting.Composite#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#5)]  
  
 <span data-ttu-id="f21c7-218">En el ejemplo siguiente se muestra el uso de la alineación en la aplicación de formato.</span><span class="sxs-lookup"><span data-stu-id="f21c7-218">The following example demonstrates the use of alignment in formatting.</span></span> <span data-ttu-id="f21c7-219">Los argumentos a los que se da formato se colocan entre caracteres verticales (&#124;) para resaltar la alineación resultante.</span><span class="sxs-lookup"><span data-stu-id="f21c7-219">The arguments that are formatted are placed between vertical bar characters (&#124;) to highlight the resulting alignment.</span></span>  
  
 [!code-csharp[Formatting.Composite#6](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.Composite/cs/Composite1.cs#6)]
 [!code-vb[Formatting.Composite#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.Composite/vb/Composite1.vb#6)]  
  
## <a name="see-also"></a><span data-ttu-id="f21c7-220">Vea también</span><span class="sxs-lookup"><span data-stu-id="f21c7-220">See also</span></span>

- <xref:System.Console.WriteLine%2A>
- <xref:System.String.Format%2A?displayProperty=nameWithType>
- [<span data-ttu-id="f21c7-221">Interpolación de cadenas en C#</span><span class="sxs-lookup"><span data-stu-id="f21c7-221">String interpolation (C#)</span></span>](../../csharp/language-reference/tokens/interpolated.md)
- [<span data-ttu-id="f21c7-222">Cadenas interpoladas (referencia de Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="f21c7-222">String interpolation (Visual Basic)</span></span>](../../visual-basic/programming-guide/language-features/strings/interpolated-strings.md)
- [<span data-ttu-id="f21c7-223">Aplicación de formato a tipos</span><span class="sxs-lookup"><span data-stu-id="f21c7-223">Formatting Types</span></span>](formatting-types.md)
- [<span data-ttu-id="f21c7-224">Cadenas con formato numérico estándar</span><span class="sxs-lookup"><span data-stu-id="f21c7-224">Standard Numeric Format Strings</span></span>](standard-numeric-format-strings.md)
- [<span data-ttu-id="f21c7-225">Cadenas con formato numérico personalizado</span><span class="sxs-lookup"><span data-stu-id="f21c7-225">Custom Numeric Format Strings</span></span>](custom-numeric-format-strings.md)
- [<span data-ttu-id="f21c7-226">Cadenas con formato de fecha y hora estándar</span><span class="sxs-lookup"><span data-stu-id="f21c7-226">Standard Date and Time Format Strings</span></span>](standard-date-and-time-format-strings.md)
- [<span data-ttu-id="f21c7-227">Cadenas con formato de fecha y hora personalizado</span><span class="sxs-lookup"><span data-stu-id="f21c7-227">Custom Date and Time Format Strings</span></span>](custom-date-and-time-format-strings.md)
- [<span data-ttu-id="f21c7-228">Cadenas de formato TimeSpan estándar</span><span class="sxs-lookup"><span data-stu-id="f21c7-228">Standard TimeSpan Format Strings</span></span>](standard-timespan-format-strings.md)
- [<span data-ttu-id="f21c7-229">Cadenas de formato TimeSpan personalizado</span><span class="sxs-lookup"><span data-stu-id="f21c7-229">Custom TimeSpan Format Strings</span></span>](custom-timespan-format-strings.md)
- [<span data-ttu-id="f21c7-230">Cadenas de formato de enumeración</span><span class="sxs-lookup"><span data-stu-id="f21c7-230">Enumeration Format Strings</span></span>](enumeration-format-strings.md)
