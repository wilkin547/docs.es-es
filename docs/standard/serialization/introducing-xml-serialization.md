---
title: Detalles de serialización XML
description: La serialización convierte un objeto en un formato que se pueda transportar. En este artículo se proporciona información general sobre la serialización XML y la clase XmlSerializer.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XML serialization, about XML serialization
- ICollection interface, serializing
- XmlSerializer class, serializing
- serialization, about serialization
- DataSet class, serializing
- XML Schema, serializing
ms.assetid: 8c63200d-db63-4a03-a93d-21641623df62
ms.openlocfilehash: d9b71b7530debde7708ee107c990541e2b97cd44
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/06/2020
ms.locfileid: "84277965"
---
# <a name="xml-serialization"></a><span data-ttu-id="420b6-104">serialización XML</span><span class="sxs-lookup"><span data-stu-id="420b6-104">XML serialization</span></span>

<span data-ttu-id="420b6-105">La serialización es el proceso de convertir un objeto a un formulario que pueda transportarse fácilmente.</span><span class="sxs-lookup"><span data-stu-id="420b6-105">Serialization is the process of converting an object into a form that can be readily transported.</span></span> <span data-ttu-id="420b6-106">Por ejemplo, puede serializar un objeto y transportarlo a través de Internet utilizando http entre un cliente y un servidor.</span><span class="sxs-lookup"><span data-stu-id="420b6-106">For example, you can serialize an object and transport it over the Internet using HTTP between a client and a server.</span></span> <span data-ttu-id="420b6-107">El otro fin para el cual sirve es que la deserialización reconstruye el objeto desde la secuencia.</span><span class="sxs-lookup"><span data-stu-id="420b6-107">On the other end, deserialization reconstructs the object from the stream.</span></span>

 <span data-ttu-id="420b6-108">La serialización XML serializa solo los campos públicos y los valores de propiedad de un objeto en una secuencia XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-108">XML serialization serializes only the public fields and property values of an object into an XML stream.</span></span> <span data-ttu-id="420b6-109">La serialización XML no incluye información de tipo.</span><span class="sxs-lookup"><span data-stu-id="420b6-109">XML serialization does not include type information.</span></span> <span data-ttu-id="420b6-110">Por ejemplo, si tiene un objeto **Book** que existe en el espacio de nombres **Library**, no hay garantía de que se deserialice en un objeto del mismo tipo.</span><span class="sxs-lookup"><span data-stu-id="420b6-110">For example, if you have a **Book** object that exists in the **Library** namespace, there is no guarantee that it is deserialized into an object of the same type.</span></span>

> [!NOTE]
> <span data-ttu-id="420b6-111">La serialización XML no convierte los métodos, indizadores, campos privados ni propiedades (excepto las colecciones de solo lectura).</span><span class="sxs-lookup"><span data-stu-id="420b6-111">XML serialization does not convert methods, indexers, private fields, or read-only properties (except read-only collections).</span></span> <span data-ttu-id="420b6-112">Para serializar todos los campos y propiedades, tanto públicos como privados, de un objeto, utilice el <xref:System.Runtime.Serialization.DataContractSerializer> en vez de la serialización XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-112">To serialize all an object's fields and properties, both public and private, use the <xref:System.Runtime.Serialization.DataContractSerializer> instead of XML serialization.</span></span>

 <span data-ttu-id="420b6-113">La clase central en serialización XML es la clase <xref:System.Xml.Serialization.XmlSerializer>, y los métodos más importantes de esta clase son **Serialize** y **Deserialize**.</span><span class="sxs-lookup"><span data-stu-id="420b6-113">The central class in XML serialization is the <xref:System.Xml.Serialization.XmlSerializer> class, and the most important methods in this class are the **Serialize** and **Deserialize** methods.</span></span> <span data-ttu-id="420b6-114"><xref:System.Xml.Serialization.XmlSerializer> crea los archivos C# y los compila en archivos .dll para realizar esta serialización.</span><span class="sxs-lookup"><span data-stu-id="420b6-114">The <xref:System.Xml.Serialization.XmlSerializer> creates C# files and compiles them into .dll files to perform this serialization.</span></span> <span data-ttu-id="420b6-115">En .NET Framework 2.0, la [herramienta Generador de serializador XML (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) está diseñada para generar de antemano estos ensamblados de serialización para implementarlos con la aplicación y mejorar el rendimiento de inicio.</span><span class="sxs-lookup"><span data-stu-id="420b6-115">In .NET Framework 2.0, the [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) is designed to generate these serialization assemblies in advance to be deployed with your application and improve startup performance.</span></span> <span data-ttu-id="420b6-116">La secuencia XML generada por **XmlSerializer** es conforme con la [recomendación del lenguaje de definición de esquema XML (XSD) 1.0](https://www.w3.org/TR/xslt) de World Wide Web Consortium (W3C).</span><span class="sxs-lookup"><span data-stu-id="420b6-116">The XML stream generated by the **XmlSerializer** is compliant with the World Wide Web Consortium (W3C) [XML Schema definition language (XSD) 1.0 recommendation](https://www.w3.org/TR/xslt).</span></span> <span data-ttu-id="420b6-117">Además, los tipos de datos generados son conformes al documento titulado "Esquema XML parte 2: Tipos de datos."</span><span class="sxs-lookup"><span data-stu-id="420b6-117">Furthermore, the data types generated are compliant with the document titled "XML Schema Part 2: Datatypes."</span></span>

 <span data-ttu-id="420b6-118">Los datos de los objetos se describen mediante construcciones de lenguaje de programación, como clases, campos, propiedades, tipos primitivos, matrices e incluso XML insertado en forma de objetos **XmlElement** o **XmlAttribute**.</span><span class="sxs-lookup"><span data-stu-id="420b6-118">The data in your objects is described using programming language constructs like classes, fields, properties, primitive types, arrays, and even embedded XML in the form of **XmlElement** or **XmlAttribute** objects.</span></span> <span data-ttu-id="420b6-119">Existe la opción de crear clases propias, anotadas con atributos, o de utilizar la herramienta de definición de esquema XML para generar las clases de acuerdo con un documento de esquema XML existente.</span><span class="sxs-lookup"><span data-stu-id="420b6-119">You have the option of creating your own classes, annotated with attributes, or using the XML Schema Definition tool to generate the classes based on an existing XML Schema.</span></span>

 <span data-ttu-id="420b6-120">Si se dispone de un esquema XML, es posible ejecutar la herramienta de definición de esquema XML con el fin de generar un conjunto de clases fuertemente tipadas para el esquema y que se anoten con atributos.</span><span class="sxs-lookup"><span data-stu-id="420b6-120">If you have an XML Schema, you can run the XML Schema Definition tool to produce a set of classes that are strongly typed to the schema and annotated with attributes.</span></span> <span data-ttu-id="420b6-121">Cuando se serializa una instancia de este tipo de clase, el XML generado se adhiere al Esquema XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-121">When an instance of such a class is serialized, the generated XML adheres to the XML Schema.</span></span> <span data-ttu-id="420b6-122">Contando con este tipo de clase, se puede programar con un modelo de objetos manipulados con facilidad estando asegurado que el XML generado cumple el esquema XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-122">Provided with such a class, you can program against an easily manipulated object model while being assured that the generated XML conforms to the XML schema.</span></span> <span data-ttu-id="420b6-123">Esta es una alternativa al uso de otras clases en .NET Framework, como las clases **XmlReader** y **XmlWriter**, para analizar y escribir una secuencia XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-123">This is an alternative to using other classes in the .NET Framework, such as the **XmlReader** and **XmlWriter** classes, to parse and write an XML stream.</span></span> <span data-ttu-id="420b6-124">Para obtener más información, vea [XML Documents and Data](../data/xml/index.md) (Documentos y datos XML).</span><span class="sxs-lookup"><span data-stu-id="420b6-124">For more information, see [XML Documents and Data](../data/xml/index.md).</span></span> <span data-ttu-id="420b6-125">Estas clases le permiten analizar cualquier secuencia XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-125">These classes allow you to parse any XML stream.</span></span> <span data-ttu-id="420b6-126">En contraste, use **XmlSerializer** cuando se espera que la secuencia XML cumpla con un esquema XML conocido.</span><span class="sxs-lookup"><span data-stu-id="420b6-126">In contrast, use the **XmlSerializer** when the XML stream is expected to conform to a known XML Schema.</span></span>

 <span data-ttu-id="420b6-127">Los atributos controlan la secuencia XML generada por la clase **XmlSerializer**, lo que le permite establecer el espacio de nombres XML, el nombre de elemento, el nombre de atributo, etc., de la secuencia XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-127">Attributes control the XML stream generated by the **XmlSerializer** class, allowing you to set the XML namespace, element name, attribute name, and so on, of the XML stream.</span></span> <span data-ttu-id="420b6-128">Para obtener más información sobre estos atributos y la forma en que controlan la serialización XML, vea [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md) (Controlar la serialización XML mediante atributos).</span><span class="sxs-lookup"><span data-stu-id="420b6-128">For more information about these attributes and how they control XML serialization, see [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md).</span></span> <span data-ttu-id="420b6-129">Para consultar una tabla de los atributos que se usan para controlar el XML generado, vea [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md) (Atributos que controlan la serialización XML).</span><span class="sxs-lookup"><span data-stu-id="420b6-129">For a table of those attributes that are used to control the generated XML, see [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md).</span></span>

 <span data-ttu-id="420b6-130">La clase **XmlSerializer** puede serializar adicionalmente un objeto y generar una secuencia XML SOAP codificada.</span><span class="sxs-lookup"><span data-stu-id="420b6-130">The **XmlSerializer** class can further serialize an object and generate an encoded SOAP XML stream.</span></span> <span data-ttu-id="420b6-131">El XML generado cumple las normas de la sección 5 del documento de World Wide Web Consortium con título "Protocolo simple de acceso a objetos (SOAP) 1.1" (SOAP).</span><span class="sxs-lookup"><span data-stu-id="420b6-131">The generated XML adheres to section 5 of the World Wide Web Consortium document titled "Simple Object Access Protocol (SOAP) 1.1."</span></span> <span data-ttu-id="420b6-132">Para más información sobre este proceso, vea [Procedimiento para serializar un objeto como secuencia XML con codificación SOAP](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span><span class="sxs-lookup"><span data-stu-id="420b6-132">For more information about this process, see [How to: Serialize an Object as a SOAP-Encoded XML Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span></span> <span data-ttu-id="420b6-133">Para consultar una tabla de los atributos que controlan el XML generado, vea [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md) (Atributos que controlan la serialización SOAP codificada).</span><span class="sxs-lookup"><span data-stu-id="420b6-133">For a table of the attributes that control the generated XML, see [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md).</span></span>

 <span data-ttu-id="420b6-134">La clase **XmlSerializer** genera los mensajes SOAP creados por servicios Web XML y pasados a estos.</span><span class="sxs-lookup"><span data-stu-id="420b6-134">The **XmlSerializer** class generates the SOAP messages created by, and passed to, XML Web services.</span></span> <span data-ttu-id="420b6-135">Para controlar los mensajes SOAP, puede aplicar los atributos a las clases, los valores devueltos, parámetros y campos situados en un archivo de servicio Web XML (.asmx).</span><span class="sxs-lookup"><span data-stu-id="420b6-135">To control the SOAP messages, you can apply attributes to the classes, return values, parameters, and fields found in an XML Web service file (.asmx).</span></span> <span data-ttu-id="420b6-136">Puede utilizar ambos, los atributos mostrados en "atributos que controlan la serialización XML" y los “atributos que controlan la serialización de SOAP codificada” porque un servicio Web XML puede utilizar o el estilo SOAP literal o codificado.</span><span class="sxs-lookup"><span data-stu-id="420b6-136">You can use both the attributes listed in "Attributes That Control XML Serialization" and "Attributes That Control Encoded SOAP Serialization" because an XML Web service can use either the literal or encoded SOAP style.</span></span> <span data-ttu-id="420b6-137">Para obtener más información sobre cómo usar atributos para controlar el XML generado por un servicio Web XML, vea [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md) (Serialización XML con servicios Web XML).</span><span class="sxs-lookup"><span data-stu-id="420b6-137">For more information about using attributes to control the XML generated by an XML Web service, see [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md).</span></span> <span data-ttu-id="420b6-138">Para más información sobre SOAP y servicios Web XML, vea [Personalizar el formato de mensajes SOAP](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="420b6-138">For more information about SOAP and XML Web services, see [Customizing SOAP Message Formatting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span></span>

## <a name="security-considerations-for-xmlserializer-applications"></a><span data-ttu-id="420b6-139">Consideraciones de seguridad para aplicaciones XmlSerializer</span><span class="sxs-lookup"><span data-stu-id="420b6-139">Security Considerations for XmlSerializer Applications</span></span>

<span data-ttu-id="420b6-140">Si crea una aplicación que usa la clase **XmlSerializer**, conviene estar al tanto de los siguientes puntos y sus implicaciones:</span><span class="sxs-lookup"><span data-stu-id="420b6-140">When creating an application that uses the **XmlSerializer**, be aware of the following items and their implications:</span></span>

- <span data-ttu-id="420b6-141">**XmlSerializer** crea archivos de C# (.cs) y los compila en archivos .dll en el directorio denominado por la variable de entorno TEMP; la serialización se produce con esas DLL.</span><span class="sxs-lookup"><span data-stu-id="420b6-141">The **XmlSerializer** creates C# (.cs) files and compiles them into .dll files in the directory named by the TEMP environment variable; serialization occurs with those DLLs.</span></span>

  > [!NOTE]
  > <span data-ttu-id="420b6-142">Estos ensamblados de serialización se pueden generar de antemano y firmar utilizando la herramienta SGen.exe.</span><span class="sxs-lookup"><span data-stu-id="420b6-142">These serialization assemblies can be generated in advance and signed by using the SGen.exe tool.</span></span> <span data-ttu-id="420b6-143">Esta no es la causa del funcionamiento de ningún servidor de servicio Web.</span><span class="sxs-lookup"><span data-stu-id="420b6-143">This does not work a server of Web services.</span></span> <span data-ttu-id="420b6-144">En otras palabras, solo está para el uso del cliente y para la serialización manual.</span><span class="sxs-lookup"><span data-stu-id="420b6-144">In other words, it is only for client use and for manual serialization.</span></span>

  <span data-ttu-id="420b6-145">El código y las DLL son vulnerables a un proceso malintencionado en el momento de creación y compilación.</span><span class="sxs-lookup"><span data-stu-id="420b6-145">The code and the DLLs are vulnerable to a malicious process at the time of creation and compilation.</span></span> <span data-ttu-id="420b6-146">Al utilizar un equipo que ejecuta Microsoft Windows NT 4.0 o posterior, podría ser posible que dos o más usuarios compartan el directorio TEMP.</span><span class="sxs-lookup"><span data-stu-id="420b6-146">When using a computer running Microsoft Windows NT 4.0 or later, it might be possible for two or more users to share the TEMP directory.</span></span> <span data-ttu-id="420b6-147">Es peligroso compartir un directorio TEMP si las dos cuentas tienen privilegios de seguridad diferentes y la cuenta con privilegios más altos ejecuta una aplicación mediante **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="420b6-147">Sharing a TEMP directory is dangerous if the two accounts have different security privileges and the higher-privilege account runs an application using the **XmlSerializer**.</span></span> <span data-ttu-id="420b6-148">En este caso, un usuario puede incumplir la seguridad del equipo reemplazando o el archivo .cs o .dll que está compilado.</span><span class="sxs-lookup"><span data-stu-id="420b6-148">In this case, one user can breach the computer's security by replacing either the .cs or .dll file that is compiled.</span></span> <span data-ttu-id="420b6-149">Para eliminar esta preocupación, siempre asegurarse de que cada cuenta en el equipo tiene su propio perfil.</span><span class="sxs-lookup"><span data-stu-id="420b6-149">To eliminate this concern, always be sure that each account on the computer has its own profile.</span></span> <span data-ttu-id="420b6-150">De forma predeterminada, la variable de entorno TEMP señala a un directorio diferente para cada cuenta.</span><span class="sxs-lookup"><span data-stu-id="420b6-150">By default, the TEMP environment variable points to a different directory for each account.</span></span>

- <span data-ttu-id="420b6-151">Si un usuario malintencionado envía una secuencia continua de datos XML a un servidor web (un ataque por denegación de servicio), **XmlSerializer** sigue procesando los datos hasta que el equipo se quede sin recursos.</span><span class="sxs-lookup"><span data-stu-id="420b6-151">If a malicious user sends a continuous stream of XML data to a Web server (a denial of service attack), then the **XmlSerializer** continues to process the data until the computer runs low on resources.</span></span>

  <span data-ttu-id="420b6-152">Este tipo de ataque se elimina si se está utilizando un equipo que ejecuta Internet Information Services (IIS), y su aplicación se está ejecutando dentro de IIS.</span><span class="sxs-lookup"><span data-stu-id="420b6-152">This kind of attack is eliminated if you are using a computer running Internet Information Services (IIS), and your application is running within IIS.</span></span> <span data-ttu-id="420b6-153">IIS representa una puerta que no procesa secuencias que sean más largas que la cantidad fija (el valor predeterminado es 4 KB).</span><span class="sxs-lookup"><span data-stu-id="420b6-153">IIS features a gate that does not process streams longer than a set amount (the default is 4 KB).</span></span> <span data-ttu-id="420b6-154">Si crea una aplicación que no usa IIS y deserializa con **XmlSerializer**, debería implementar una puerta similar que evite un ataque por denegación de servicio.</span><span class="sxs-lookup"><span data-stu-id="420b6-154">If you create an application that does not use IIS and deserializes with the **XmlSerializer**, you should implement a similar gate that prevents a denial of service attack.</span></span>

- <span data-ttu-id="420b6-155">**XmlSerializer** serializa los datos y ejecuta código mediante el uso de cualquier tipo que se le dé.</span><span class="sxs-lookup"><span data-stu-id="420b6-155">The **XmlSerializer** serializes data and runs any code using any type given to it.</span></span>

  <span data-ttu-id="420b6-156">Hay dos maneras en las que un objeto malintencionado representa una amenaza.</span><span class="sxs-lookup"><span data-stu-id="420b6-156">There are two ways in which a malicious object presents a threat.</span></span> <span data-ttu-id="420b6-157">Podría ejecutar software malintencionado o insertarlo en el archivo de C# creado por **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="420b6-157">It could run malicious code or it could inject malicious code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="420b6-158">En el primer caso, si un objeto malintencionado intenta ejecutar un procedimiento destructivo, la seguridad de acceso del código ayuda a evitar que se haga cualquier daño.</span><span class="sxs-lookup"><span data-stu-id="420b6-158">In the first case, if a malicious object tries to run a destructive procedure, code access security helps prevent any damage from being done.</span></span> <span data-ttu-id="420b6-159">En el segundo caso, existe la posibilidad de que un objeto malintencionado inserte de algún modo código en el archivo de C# creado por **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="420b6-159">In the second case, there is a theoretical possibility that a malicious object may somehow inject code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="420b6-160">Aunque se ha examinado este problema completamente, y este tipo de ataque está considerado improbable, debería tomar la precaución de nunca serializar los datos con un tipo desconocido y de poca confianza.</span><span class="sxs-lookup"><span data-stu-id="420b6-160">Although this issue has been examined thoroughly, and such an attack is considered unlikely, you should take the precaution of never serializing data with an unknown and untrusted type.</span></span>

- <span data-ttu-id="420b6-161">Los datos confidenciales serializados podrían ser vulnerables.</span><span class="sxs-lookup"><span data-stu-id="420b6-161">Serialized sensitive data might be vulnerable.</span></span>

  <span data-ttu-id="420b6-162">Después de que **XmlSerializer** haya serializado los datos, estos pueden almacenarse como un archivo XML u otro almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="420b6-162">After the **XmlSerializer** has serialized data, it can be stored as an XML file or other data store.</span></span> <span data-ttu-id="420b6-163">Si su almacén de datos está disponible para otros procesos, o está visible en una intranet o Internet, los datos se pueden robar y utilizar malévolamente.</span><span class="sxs-lookup"><span data-stu-id="420b6-163">If your data store is available to other processes, or is visible on an intranet or the Internet, the data can be stolen and used maliciously.</span></span> <span data-ttu-id="420b6-164">Por ejemplo, si se crea una aplicación que serializa órdenes, que incluyen la tarjeta de crédito, los datos son muy sensibles.</span><span class="sxs-lookup"><span data-stu-id="420b6-164">For example, if you create an application that serializes orders that include credit card numbers, the data is highly sensitive.</span></span> <span data-ttu-id="420b6-165">Para ayudar a evitar esto, siempre proteja el almacén para que sus datos y los pasos de la toma lo mantenga privado.</span><span class="sxs-lookup"><span data-stu-id="420b6-165">To help prevent this, always protect the store for your data and take steps to keep it private.</span></span>

## <a name="serialization-of-a-simple-class"></a><span data-ttu-id="420b6-166">Serialización de una clase simple</span><span class="sxs-lookup"><span data-stu-id="420b6-166">Serialization of a Simple Class</span></span>

<span data-ttu-id="420b6-167">El ejemplo de código siguiente muestra una clase básica con un campo público.</span><span class="sxs-lookup"><span data-stu-id="420b6-167">The following code example shows a basic class with a public field.</span></span>

```vb
Public Class OrderForm
    Public OrderDate As DateTime
End Class
```

```csharp
public class OrderForm
{
    public DateTime OrderDate;
}
```

<span data-ttu-id="420b6-168">Cuando se serializa una instancia de esta clase, se podría parecer a lo siguiente.</span><span class="sxs-lookup"><span data-stu-id="420b6-168">When an instance of this class is serialized, it might resemble the following.</span></span>

```xml
<OrderForm>
    <OrderDate>12/12/01</OrderDate>
</OrderForm>
```

<span data-ttu-id="420b6-169">Para obtener más ejemplos de serialización, vea [Examples of XML Serialization](examples-of-xml-serialization.md) (Ejemplos de serialización XML).</span><span class="sxs-lookup"><span data-stu-id="420b6-169">For more examples of serialization, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="items-that-can-be-serialized"></a><span data-ttu-id="420b6-170">Elementos que se pueden serializar</span><span class="sxs-lookup"><span data-stu-id="420b6-170">Items That Can Be Serialized</span></span>

<span data-ttu-id="420b6-171">Los elementos siguientes se pueden serializar mediante la clase **XmlSerializer**:</span><span class="sxs-lookup"><span data-stu-id="420b6-171">The following items can be serialized using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="420b6-172">Las propiedades de lectura y escritura públicas y campos de clases públicas.</span><span class="sxs-lookup"><span data-stu-id="420b6-172">Public read/write properties and fields of public classes.</span></span>

- <span data-ttu-id="420b6-173">Las clases que implementan **ICollection** o **IEnumerable**.</span><span class="sxs-lookup"><span data-stu-id="420b6-173">Classes that implement **ICollection** or **IEnumerable**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="420b6-174">Solo se serializan las colecciones, no las propiedades públicas.</span><span class="sxs-lookup"><span data-stu-id="420b6-174">Only collections are serialized, not public properties.</span></span>

- <span data-ttu-id="420b6-175">Los objetos **XmlElement**.</span><span class="sxs-lookup"><span data-stu-id="420b6-175">**XmlElement** objects.</span></span>

- <span data-ttu-id="420b6-176">Los objetos **XmlNode**.</span><span class="sxs-lookup"><span data-stu-id="420b6-176">**XmlNode** objects.</span></span>

- <span data-ttu-id="420b6-177">Los objetos **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="420b6-177">**DataSet** objects.</span></span>

 <span data-ttu-id="420b6-178">Para más información sobre cómo serializar o deserializar objetos, vea [Procedimiento para serializar un objeto](how-to-serialize-an-object.md) y [Procedimiento para deserializar un objeto](how-to-deserialize-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="420b6-178">For more information about serializing or deserializing objects, see [How to: Serialize an Object](how-to-serialize-an-object.md) and [How to: Deserialize an Object](how-to-deserialize-an-object.md).</span></span>

## <a name="advantages-of-using-xml-serialization"></a><span data-ttu-id="420b6-179">Ventajas de utilizar serialización XML</span><span class="sxs-lookup"><span data-stu-id="420b6-179">Advantages of Using XML Serialization</span></span>

<span data-ttu-id="420b6-180">La clase **XmlSerializer** proporciona un control completo y flexible al serializar un objeto como XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-180">The **XmlSerializer** class gives you complete and flexible control when you serialize an object as XML.</span></span> <span data-ttu-id="420b6-181">Si está creando un servicio Web XML, puede aplicar atributos que controlan la serialización a las clases y miembros para asegurarse que el resultado de XML cumple con un esquema concreto.</span><span class="sxs-lookup"><span data-stu-id="420b6-181">If you are creating an XML Web service, you can apply attributes that control serialization to classes and members to ensure that the XML output conforms to a specific schema.</span></span>

<span data-ttu-id="420b6-182">Por ejemplo, **XmlSerializer** permite hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="420b6-182">For example, **XmlSerializer** enables you to:</span></span>

- <span data-ttu-id="420b6-183">Especifique si un campo o propiedad debería estar codificada como un atributo o un elemento.</span><span class="sxs-lookup"><span data-stu-id="420b6-183">Specify whether a field or property should be encoded as an attribute or an element.</span></span>

- <span data-ttu-id="420b6-184">Especifique un espacio de nombres XML para utilizar.</span><span class="sxs-lookup"><span data-stu-id="420b6-184">Specify an XML namespace to use.</span></span>

- <span data-ttu-id="420b6-185">Especifique el nombre de un elemento o atributo si un campo o el nombre de propiedad es impropio.</span><span class="sxs-lookup"><span data-stu-id="420b6-185">Specify the name of an element or attribute if a field or property name is inappropriate.</span></span>

<span data-ttu-id="420b6-186">Otra ventaja de serialización XML es que no tiene ninguna restricción en las aplicaciones que desarrolla, con tal de que la secuencia XML que se genera cumpla con un esquema determinado.</span><span class="sxs-lookup"><span data-stu-id="420b6-186">Another advantage of XML serialization is that you have no constraints on the applications you develop, as long as the XML stream that is generated conforms to a given schema.</span></span> <span data-ttu-id="420b6-187">Imagine un esquema que se utiliza para describir los libros.</span><span class="sxs-lookup"><span data-stu-id="420b6-187">Imagine a schema that is used to describe books.</span></span> <span data-ttu-id="420b6-188">Representa un título, autor, publicador y un elemento de número ISBN.</span><span class="sxs-lookup"><span data-stu-id="420b6-188">It features a title, author, publisher, and ISBN number element.</span></span> <span data-ttu-id="420b6-189">Puede desarrollar una aplicación que procesa los datos XML como usted desee, por ejemplo, como una orden de libro o como un inventario de libros.</span><span class="sxs-lookup"><span data-stu-id="420b6-189">You can develop an application that processes the XML data in any way you want, for example, as a book order, or as an inventory of books.</span></span> <span data-ttu-id="420b6-190">En cualquier caso, el único requisito es que la secuencia XML cumple con el esquema del lenguaje de definición de esquemas XML (XSD) especificado.</span><span class="sxs-lookup"><span data-stu-id="420b6-190">In either case, the only requirement is that the XML stream conforms to the specified XML Schema definition language (XSD) schema.</span></span>

## <a name="xml-serialization-considerations"></a><span data-ttu-id="420b6-191">Consideraciones de la serialización XML</span><span class="sxs-lookup"><span data-stu-id="420b6-191">XML Serialization Considerations</span></span>

<span data-ttu-id="420b6-192">Al usar la clase **XmlSerializer**, debe tener en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="420b6-192">The following should be considered when using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="420b6-193">La herramienta Sgen.exe está diseñada expresamente para generar los ensamblados de serialización para rendimiento óptimo.</span><span class="sxs-lookup"><span data-stu-id="420b6-193">The Sgen.exe tool is expressly designed to generate serialization assemblies for optimum performance.</span></span>

- <span data-ttu-id="420b6-194">Los datos serializados contienen solo los datos mismos y la estructura de sus clases.</span><span class="sxs-lookup"><span data-stu-id="420b6-194">The serialized data contains only the data itself and the structure of your classes.</span></span> <span data-ttu-id="420b6-195">La identidad del tipo y la información del ensamble no están incluidas.</span><span class="sxs-lookup"><span data-stu-id="420b6-195">Type identity and assembly information are not included.</span></span>

- <span data-ttu-id="420b6-196">Solo se pueden serializar los campos y las propiedades públicas.</span><span class="sxs-lookup"><span data-stu-id="420b6-196">Only public properties and fields can be serialized.</span></span> <span data-ttu-id="420b6-197">Las propiedades deben ser de acceso público (métodos get y set).</span><span class="sxs-lookup"><span data-stu-id="420b6-197">Properties must have public accessors (get and set methods).</span></span> <span data-ttu-id="420b6-198">Si debe serializar datos no públicos, use la clase <xref:System.Runtime.Serialization.DataContractSerializer> en lugar de la serialización XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-198">If you must serialize non-public data, use the <xref:System.Runtime.Serialization.DataContractSerializer> class rather than XML serialization.</span></span>

- <span data-ttu-id="420b6-199">Una clase debe tener un constructor sin parámetros que se vaya a serializar por medio de **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="420b6-199">A class must have a parameterless constructor to be serialized by **XmlSerializer**.</span></span>

- <span data-ttu-id="420b6-200">Los métodos no pueden serializarse.</span><span class="sxs-lookup"><span data-stu-id="420b6-200">Methods cannot be serialized.</span></span>

- <span data-ttu-id="420b6-201">**XmlSerializer** puede procesar clases que implementan de manera diferente **IEnumerable** o **ICollection** si cumplen ciertos requisitos, como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="420b6-201">**XmlSerializer** can process classes that implement **IEnumerable** or **ICollection** differently if they meet certain requirements, as follows.</span></span>

  <span data-ttu-id="420b6-202">Una clase que implementa **IEnumerable** debe implementar un método **Add** público que requiere un solo parámetro.</span><span class="sxs-lookup"><span data-stu-id="420b6-202">A class that implements **IEnumerable** must implement a public **Add** method that takes a single parameter.</span></span> <span data-ttu-id="420b6-203">El parámetro del método **Add** debe ser coherente (polimórfico) con el tipo devuelto por la propiedad **IEnumerator.Current** devuelta por el método **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="420b6-203">The **Add** method's parameter must be consistent (polymorphic) with the type returned from the **IEnumerator.Current** property returned from the **GetEnumerator** method.</span></span>

  <span data-ttu-id="420b6-204">Una clase que implementa **ICollection** además de **IEnumerable** (como **CollectionBase**) debe tener una propiedad indexada pública **Item** (un indexador en C#) que toma un número entero y debe tener una propiedad pública **Count** de tipo **integer**.</span><span class="sxs-lookup"><span data-stu-id="420b6-204">A class that implements **ICollection** in addition to **IEnumerable** (such as **CollectionBase**) must have a public **Item** indexed property (an indexer in C#) that takes an integer and it must have a public **Count** property of type **integer**.</span></span> <span data-ttu-id="420b6-205">El parámetro pasado al método **Add** debe ser del mismo tipo que aquel que devuelve la propiedad **Item**, o una de las bases de dicho tipo.</span><span class="sxs-lookup"><span data-stu-id="420b6-205">The parameter passed to the **Add** method must be the same type as that returned from the **Item** property, or one of that type's bases.</span></span>

  <span data-ttu-id="420b6-206">Para las clases que implementan **ICollection**, los valores que se van a serializar se recuperan de la propiedad **Item** indexada, en lugar de mediante una llamada a **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="420b6-206">For classes that implement **ICollection**, values to be serialized are retrieved from the indexed **Item** property rather than by calling **GetEnumerator**.</span></span> <span data-ttu-id="420b6-207">Además, no se serializan los campos públicos y propiedades, con la excepción de los campos públicos que devuelven otra clase de colección (uno que implemente **ICollection**).</span><span class="sxs-lookup"><span data-stu-id="420b6-207">Also, public fields and properties are not serialized, with the exception of public fields that return another collection class (one that implements **ICollection**).</span></span> <span data-ttu-id="420b6-208">Para ver un ejemplo, vea [Examples of XML Serialization](examples-of-xml-serialization.md) (Ejemplos de serialización XML).</span><span class="sxs-lookup"><span data-stu-id="420b6-208">For an example, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="xsd-data-type-mapping"></a><span data-ttu-id="420b6-209">Asignación de tipo de datos XSD</span><span class="sxs-lookup"><span data-stu-id="420b6-209">XSD Data Type Mapping</span></span>

<span data-ttu-id="420b6-210">En el documento de W3C titulado [Esquema XML parte 2: Tipos de datos](https://www.w3.org/TR/xmlschema-2/) se especifican los tipos de datos simples que se pueden usar en un esquema de lenguaje de definición de esquema XML (XSD).</span><span class="sxs-lookup"><span data-stu-id="420b6-210">The W3C document titled [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifies the simple data types that are allowed in an XML Schema definition language (XSD) schema.</span></span> <span data-ttu-id="420b6-211">Para muchos de estos (por ejemplo, **int** y **decimal**), hay un tipo de datos correspondiente en .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="420b6-211">For many of these (for example, **int** and **decimal**), there is a corresponding data type in the .NET Framework.</span></span> <span data-ttu-id="420b6-212">Pero algunos tipos de datos XML no tienen un tipo de datos correspondiente en .NET Framework (por ejemplo, el tipo de datos **NMTOKEN**).</span><span class="sxs-lookup"><span data-stu-id="420b6-212">However, some XML data types do not have a corresponding data type in the .NET Framework (for example, the **NMTOKEN** data type).</span></span> <span data-ttu-id="420b6-213">En casos como este, si usa la [herramienta de definición de esquema XML (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md) para generar clases a partir de un esquema, se aplica un atributo adecuado a un miembro de cadena de tipo y su propiedad **DataType** se establee en el nombre del tipo de datos XML.</span><span class="sxs-lookup"><span data-stu-id="420b6-213">In such cases, if you use the XML Schema Definition tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) to generate classes from a schema, an appropriate attribute is applied to a member of type string, and its **DataType** property is set to the XML data type name.</span></span> <span data-ttu-id="420b6-214">Por ejemplo, si un esquema contiene un elemento denominado "MyToken" con el tipo de datos XML **NMTOKEN**, la clase generada podría contener un miembro, como se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="420b6-214">For example, if a schema contains an element named "MyToken" with the XML data type **NMTOKEN**, the generated class might contain a member as shown in the following example.</span></span>

```vb
<XmlElement(DataType:="NMTOKEN")> _
Public MyToken As String
```

```csharp
[XmlElement(DataType = "NMTOKEN")]
public string MyToken;
```

<span data-ttu-id="420b6-215">De igual forma, si está creando una clase que debe cumplir un esquema XML (XSD) concreto, debe aplicar el atributo adecuado y establecer su propiedad **DataType** en el nombre del tipo de datos XML deseado.</span><span class="sxs-lookup"><span data-stu-id="420b6-215">Similarly, if you are creating a class that must conform to a specific XML Schema (XSD), you should apply the appropriate attribute and set its **DataType** property to the desired XML data type name.</span></span>

<span data-ttu-id="420b6-216">Para obtener una lista completa de asignaciones de tipo, vea la propiedad **DataType** para cualquiera de las clases de atributos siguientes:</span><span class="sxs-lookup"><span data-stu-id="420b6-216">For a complete list of type mappings, see the **DataType** property for any of the following attribute classes:</span></span>

- <xref:System.Xml.Serialization.SoapAttributeAttribute>

- <xref:System.Xml.Serialization.SoapElementAttribute>

- <xref:System.Xml.Serialization.XmlArrayItemAttribute>

- <xref:System.Xml.Serialization.XmlAttributeAttribute>

- <xref:System.Xml.Serialization.XmlElementAttribute>

- <xref:System.Xml.Serialization.XmlRootAttribute>

## <a name="see-also"></a><span data-ttu-id="420b6-217">Vea también</span><span class="sxs-lookup"><span data-stu-id="420b6-217">See also</span></span>

- <xref:System.Xml.Serialization.XmlSerializer>
- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.IO.FileStream>
- [<span data-ttu-id="420b6-218">Serialización SOAP y XML</span><span class="sxs-lookup"><span data-stu-id="420b6-218">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="420b6-219">Serialización binaria</span><span class="sxs-lookup"><span data-stu-id="420b6-219">Binary Serialization</span></span>](binary-serialization.md)
- [<span data-ttu-id="420b6-220">Serialización</span><span class="sxs-lookup"><span data-stu-id="420b6-220">Serialization</span></span>](index.md)
- <xref:System.Xml.Serialization.XmlSerializer>
- [<span data-ttu-id="420b6-221">Ejemplos de serialización XML</span><span class="sxs-lookup"><span data-stu-id="420b6-221">Examples of XML Serialization</span></span>](examples-of-xml-serialization.md)
- [<span data-ttu-id="420b6-222">Cómo: Serialización de un objeto</span><span class="sxs-lookup"><span data-stu-id="420b6-222">How to: Serialize an Object</span></span>](how-to-serialize-an-object.md)
- [<span data-ttu-id="420b6-223">Cómo: Deserialización de un objeto</span><span class="sxs-lookup"><span data-stu-id="420b6-223">How to: Deserialize an Object</span></span>](how-to-deserialize-an-object.md)
