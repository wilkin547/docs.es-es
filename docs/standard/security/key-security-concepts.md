---
title: Conceptos clave de seguridad
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- unauthorized access
- permissions [.NET Framework]
- security [.NET Framework], about security
ms.assetid: 3cfced4f-ea02-4e66-ae98-d69286363e98
ms.openlocfilehash: b7bcb7e56ca14d129eadcaeac19452d4a443713d
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/14/2020
ms.locfileid: "79401284"
---
# <a name="key-security-concepts"></a><span data-ttu-id="af26e-102">Conceptos clave de seguridad</span><span class="sxs-lookup"><span data-stu-id="af26e-102">Key Security Concepts</span></span>
<span data-ttu-id="af26e-103">Microsoft .NET Framework ofrece seguridad basada en roles para ayudar a solucionar problemas de seguridad relativos a código móvil y para permitir que los componentes determinen qué usuarios tienen autorización para operar.</span><span class="sxs-lookup"><span data-stu-id="af26e-103">The Microsoft .NET Framework offers role-based security to help address security concerns about mobile code and to provide support that enables components to determine what users are authorized to do.</span></span>  
  
## <a name="type-safety-and-security"></a><span data-ttu-id="af26e-104">Protección y seguridad de tipos</span><span class="sxs-lookup"><span data-stu-id="af26e-104">Type safety and security</span></span>  
 <span data-ttu-id="af26e-105">El código seguro de tipos sólo tiene acceso a las ubicaciones de memoria para las que tiene autorización.</span><span class="sxs-lookup"><span data-stu-id="af26e-105">Type-safe code accesses only the memory locations it is authorized to access.</span></span> <span data-ttu-id="af26e-106">(Para esta discusión, la seguridad de tipo se refiere específicamente a la seguridad del tipo de memoria y no debe confundirse con la seguridad de tipo en un aspecto más amplio.) Por ejemplo, el código con seguridad de tipos no puede leer valores de los campos privados de otro objeto.</span><span class="sxs-lookup"><span data-stu-id="af26e-106">(For this discussion, type safety specifically refers to memory type safety and should not be confused with type safety in a broader respect.) For example, type-safe code cannot read values from another object's private fields.</span></span> <span data-ttu-id="af26e-107">Sólo puede obtener acceso a tipos siguiendo métodos permitidos y perfectamente definidos.</span><span class="sxs-lookup"><span data-stu-id="af26e-107">It accesses types only in well-defined, allowable ways.</span></span>  
  
 <span data-ttu-id="af26e-108">Durante la compilación Just-in-time (JIT), un proceso opcional de comprobación examina los metadatos y el lenguaje intermedio de Microsoft (MSIL) de los métodos a compilar a código máquina nativo, para comprobar si tienen seguridad de tipos.</span><span class="sxs-lookup"><span data-stu-id="af26e-108">During just-in-time (JIT) compilation, an optional verification process examines the metadata and Microsoft intermediate language (MSIL) of a method to be JIT-compiled into native machine code to verify that they are type safe.</span></span> <span data-ttu-id="af26e-109">Este proceso se omite si el código tiene permiso para evitar la comprobación.</span><span class="sxs-lookup"><span data-stu-id="af26e-109">This process is skipped if the code has permission to bypass verification.</span></span> <span data-ttu-id="af26e-110">Para información sobre la comprobación, consulte [Proceso de ejecución administrada](../../../docs/standard/managed-execution-process.md).</span><span class="sxs-lookup"><span data-stu-id="af26e-110">For more information about verification, see [Managed Execution Process](../../../docs/standard/managed-execution-process.md).</span></span>  
  
 <span data-ttu-id="af26e-111">Aunque la comprobación de la seguridad de tipos no es obligatoria para la ejecución de código administrado, la seguridad de tipos desempeña un rol crucial en el aislamiento del ensamblado y la exigencia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="af26e-111">Although verification of type safety is not mandatory to run managed code, type safety plays a crucial role in assembly isolation and security enforcement.</span></span> <span data-ttu-id="af26e-112">Cuando el código tiene seguridad de tipos, Common Language Runtime puede aislar totalmente ensamblados entre sí.</span><span class="sxs-lookup"><span data-stu-id="af26e-112">When code is type safe, the common language runtime can completely isolate assemblies from each other.</span></span> <span data-ttu-id="af26e-113">Este aislamiento ayuda a garantizar que los ensamblados no puedan ejercer influencias negativas entre sí y aumenta la confiabilidad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="af26e-113">This isolation helps ensure that assemblies cannot adversely affect each other and it increases application reliability.</span></span> <span data-ttu-id="af26e-114">Los componentes seguros de tipos se pueden ejecutar de forma segura en el mismo proceso aunque dispongan de confianza en diferentes niveles.</span><span class="sxs-lookup"><span data-stu-id="af26e-114">Type-safe components can execute safely in the same process even if they are trusted at different levels.</span></span> <span data-ttu-id="af26e-115">Cuando el código no tiene seguridad de tipos, pueden producirse efectos secundarios no deseados.</span><span class="sxs-lookup"><span data-stu-id="af26e-115">When code is not type safe, unwanted side effects can occur.</span></span> <span data-ttu-id="af26e-116">Por ejemplo, el runtime no puede evitar la llamada de código administrado en código nativo (no administrado) ni la realización de operaciones malintencionadas.</span><span class="sxs-lookup"><span data-stu-id="af26e-116">For example, the runtime cannot prevent managed code from calling into native (unmanaged) code and performing malicious operations.</span></span> <span data-ttu-id="af26e-117">Cuando el código tiene seguridad de tipos, el mecanismo de exigencia de seguridad del motor en tiempo de ejecución garantiza que no tiene acceso a código nativo salvo que tenga permiso explícito para ello.</span><span class="sxs-lookup"><span data-stu-id="af26e-117">When code is type safe, the runtime's security enforcement mechanism ensures that it does not access native code unless it has permission to do so.</span></span> <span data-ttu-id="af26e-118">El código sin seguridad de tipos debe haber obtenido permiso <xref:System.Security.Permissions.SecurityPermission> con el miembro de enumeración <xref:System.Security.Permissions.SecurityPermissionAttribute.SkipVerification%2A> transferido para la ejecución.</span><span class="sxs-lookup"><span data-stu-id="af26e-118">All code that is not type safe must have been granted <xref:System.Security.Permissions.SecurityPermission> with the passed enum member <xref:System.Security.Permissions.SecurityPermissionAttribute.SkipVerification%2A> to run.</span></span>  
  
 <span data-ttu-id="af26e-119">Para obtener más información, vea [Conceptos básicos sobre la seguridad de acceso del código](../../../docs/framework/misc/code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="af26e-119">For more information, see [Code Access Security Basics](../../../docs/framework/misc/code-access-security-basics.md).</span></span>  
  
## <a name="principal"></a><span data-ttu-id="af26e-120">Principal</span><span class="sxs-lookup"><span data-stu-id="af26e-120">Principal</span></span>  
 <span data-ttu-id="af26e-121">Una entidad de seguridad (principal) representa la identidad y el rol de un usuario y actúa en nombre del usuario.</span><span class="sxs-lookup"><span data-stu-id="af26e-121">A principal represents the identity and role of a user and acts on the user's behalf.</span></span> <span data-ttu-id="af26e-122">La seguridad basada en roles de .NET Framework admite tres tipos de entidades de seguridad:</span><span class="sxs-lookup"><span data-stu-id="af26e-122">Role-based security in the .NET Framework supports three kinds of principals:</span></span>  
  
- <span data-ttu-id="af26e-123">Las entidades de seguridad genéricas representan usuarios y roles que son independientes de los roles y los usuarios de Windows.</span><span class="sxs-lookup"><span data-stu-id="af26e-123">Generic principals represent users and roles that exist independent of Windows users and roles.</span></span>  
  
- <span data-ttu-id="af26e-124">Las entidades de seguridad de Windows representan a los usuarios de Windows y sus roles (o grupos de Windows).</span><span class="sxs-lookup"><span data-stu-id="af26e-124">Windows principals represent Windows users and their roles (or their Windows groups).</span></span> <span data-ttu-id="af26e-125">Una entidad de seguridad de Windows puede suplantar a otro usuario, lo que significa que la entidad de seguridad puede tener acceso a un recurso en nombre de un usuario presentando la identidad que pertenece a dicho usuario.</span><span class="sxs-lookup"><span data-stu-id="af26e-125">A Windows principal can impersonate another user, which means that the principal can access a resource on a user's behalf while presenting the identity that belongs to that user.</span></span>  
  
- <span data-ttu-id="af26e-126">Una aplicación puede definir entidades de seguridad personalizadas que se adapten a las necesidades de esa aplicación en particular.</span><span class="sxs-lookup"><span data-stu-id="af26e-126">Custom principals can be defined by an application in any way that is needed for that particular application.</span></span> <span data-ttu-id="af26e-127">Asimismo, se puede ampliar la noción básica de la identidad y los roles de la entidad de seguridad.</span><span class="sxs-lookup"><span data-stu-id="af26e-127">They can extend the basic notion of the principal's identity and roles.</span></span>  
  
 <span data-ttu-id="af26e-128">Para más información, consulte [Objetos Principal e Identity](../../../docs/standard/security/principal-and-identity-objects.md).</span><span class="sxs-lookup"><span data-stu-id="af26e-128">For more information, see [Principal and Identity Objects](../../../docs/standard/security/principal-and-identity-objects.md).</span></span>  
  
## <a name="authentication"></a><span data-ttu-id="af26e-129">Authentication</span><span class="sxs-lookup"><span data-stu-id="af26e-129">Authentication</span></span>  
 <span data-ttu-id="af26e-130">La autenticación es el proceso de detectar y comprobar la identidad de una entidad de seguridad mediante el análisis de las credenciales del usuario y la validación de esas credenciales en alguna autoridad.</span><span class="sxs-lookup"><span data-stu-id="af26e-130">Authentication is the process of discovering and verifying the identity of a principal by examining the user's credentials and validating those credentials against some authority.</span></span> <span data-ttu-id="af26e-131">Su código puede usar fácilmente la información obtenida durante la autenticación.</span><span class="sxs-lookup"><span data-stu-id="af26e-131">The information obtained during authentication is directly usable by your code.</span></span> <span data-ttu-id="af26e-132">También puede usar la seguridad basada en roles de .NET Framework para autenticar al usuario actual y para determinar si esa entidad de seguridad puede tener acceso a su código.</span><span class="sxs-lookup"><span data-stu-id="af26e-132">You can also use .NET Framework role-based security to authenticate the current user and to determine whether to allow that principal to access your code.</span></span> <span data-ttu-id="af26e-133">Vea las sobrecargas del método <xref:System.Security.Principal.WindowsPrincipal.IsInRole%2A?displayProperty=nameWithType> para obtener ejemplos de cómo autenticar la entidad de seguridad para roles específicos.</span><span class="sxs-lookup"><span data-stu-id="af26e-133">See the overloads of the <xref:System.Security.Principal.WindowsPrincipal.IsInRole%2A?displayProperty=nameWithType> method for examples of how to authenticate the principal for specific roles.</span></span> <span data-ttu-id="af26e-134">Por ejemplo, puede usar la sobrecarga <xref:System.Security.Principal.WindowsPrincipal.IsInRole%28System.String%29?displayProperty=nameWithType> para determinar si el usuario actual es miembro del grupo Administradores.</span><span class="sxs-lookup"><span data-stu-id="af26e-134">For example, you can use the <xref:System.Security.Principal.WindowsPrincipal.IsInRole%28System.String%29?displayProperty=nameWithType> overload to determine if the current user is a member of the Administrators group.</span></span>  
  
 <span data-ttu-id="af26e-135">Hoy en día se usan diversos mecanismos de autenticación, muchos de los cuales pueden utilizarse con la seguridad basada en roles de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="af26e-135">A variety of authentication mechanisms are used today, many of which can be used with .NET Framework role-based security.</span></span> <span data-ttu-id="af26e-136">Algunos de los mecanismos más usados son básico, implícito, Passport, sistema operativo (como NTLM o Kerberos) o los mecanismos definidos por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="af26e-136">Some of the most commonly used mechanisms are basic, digest, Passport, operating system (such as NTLM or Kerberos), or application-defined mechanisms.</span></span>  
  
### <a name="example"></a><span data-ttu-id="af26e-137">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="af26e-137">Example</span></span>  
 <span data-ttu-id="af26e-138">El ejemplo siguiente requiere que la entidad de seguridad activa sea un administrador.</span><span class="sxs-lookup"><span data-stu-id="af26e-138">The following example requires that the active principal be an administrator.</span></span> <span data-ttu-id="af26e-139">El parámetro `name` es `null`, que permite que cualquier usuario que sea administrador pase la petición.</span><span class="sxs-lookup"><span data-stu-id="af26e-139">The `name` parameter is `null`, which allows any user who is an administrator to pass the demand.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="af26e-140">En Windows Vista, el control de cuentas de usuario (UAC) determina los privilegios de un usuario.</span><span class="sxs-lookup"><span data-stu-id="af26e-140">In Windows Vista, User Account Control (UAC) determines the privileges of a user.</span></span> <span data-ttu-id="af26e-141">Si es miembro del grupo Administradores integrados, se le asignarán dos símbolos (tokens) de acceso en tiempo de ejecución: un símbolo (token) de acceso de usuario estándar y un símbolo (token) de acceso de administrador.</span><span class="sxs-lookup"><span data-stu-id="af26e-141">If you are a member of the Built-in Administrators group, you are assigned two run-time access tokens: a standard user access token and an administrator access token.</span></span> <span data-ttu-id="af26e-142">De forma predeterminada, se le asignará el rol de usuario estándar.</span><span class="sxs-lookup"><span data-stu-id="af26e-142">By default, you are in the standard user role.</span></span> <span data-ttu-id="af26e-143">Para ejecutar código que requiere permisos de administrador, primero debe elevar el nivel de sus privilegios de usuario estándar a administrador.</span><span class="sxs-lookup"><span data-stu-id="af26e-143">To execute the code that requires you to be an administrator, you must first elevate your privileges from standard user to administrator.</span></span> <span data-ttu-id="af26e-144">Para ello, inicie una aplicación haciendo clic con el botón derecho en el icono de la aplicación e indique que desea ejecutarla como administrador.</span><span class="sxs-lookup"><span data-stu-id="af26e-144">You can do this when you start an application by right-clicking the application icon and indicating that you want to run as an administrator.</span></span>  
  
 [!code-cpp[Classic PrincipalPermission Example#1](../../../samples/snippets/cpp/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/CPP/source.cpp#1)]
 [!code-csharp[Classic PrincipalPermission Example#1](../../../samples/snippets/csharp/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/CS/source.cs#1)]
 [!code-vb[Classic PrincipalPermission Example#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_Classic/classic PrincipalPermission Example/VB/source.vb#1)]  
  
 <span data-ttu-id="af26e-145">En el ejemplo siguiente se muestra cómo determinar la identidad de la entidad de seguridad y los roles disponibles para dicha entidad de seguridad.</span><span class="sxs-lookup"><span data-stu-id="af26e-145">The following example demonstrates how to determine the identity of the principal and the roles available to the principal.</span></span> <span data-ttu-id="af26e-146">Una posible aplicación de este ejemplo sería la confirmación de que el usuario actual está en un rol permitido para usar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="af26e-146">An application of this example might be to confirm that the current user is in a role you allow for using your application.</span></span>  
  
 [!code-cpp[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/cpp/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/CPP/source.cpp#1)]
 [!code-csharp[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/CS/source.cs#1)]
 [!code-vb[System.Security.Principal.WindowsBuiltInRole Example#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Security.Principal.WindowsBuiltInRole Example/VB/source.vb#1)]  
  
## <a name="authorization"></a><span data-ttu-id="af26e-147">Authorization</span><span class="sxs-lookup"><span data-stu-id="af26e-147">Authorization</span></span>  
 <span data-ttu-id="af26e-148">La autorización es el proceso de determinar si una entidad de seguridad puede realizar una acción solicitada.</span><span class="sxs-lookup"><span data-stu-id="af26e-148">Authorization is the process of determining whether a principal is allowed to perform a requested action.</span></span> <span data-ttu-id="af26e-149">La autorización se produce después de la autenticación y usa información sobre la identidad y los roles de la entidad de seguridad para determinar a qué recursos puede tener acceso la entidad de seguridad.</span><span class="sxs-lookup"><span data-stu-id="af26e-149">Authorization occurs after authentication and uses information about the principal's identity and roles to determine what resources the principal can access.</span></span> <span data-ttu-id="af26e-150">Para implementar la autorización, se puede usar la seguridad basada en roles de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="af26e-150">You can use .NET Framework role-based security to implement authorization.</span></span>
