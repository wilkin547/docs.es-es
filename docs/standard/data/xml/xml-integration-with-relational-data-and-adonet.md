---
title: Integración de XML con datos relacionales y ADO.NET
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: f6ebb1a1-f2ca-49b9-92c9-0150940cf6e6
ms.openlocfilehash: f54c7a890ada01f2cffdd54c024cfbc98777200d
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/02/2020
ms.locfileid: "84289023"
---
# <a name="xml-integration-with-relational-data-and-adonet"></a><span data-ttu-id="aeb6a-102">Integración de XML con datos relacionales y ADO.NET</span><span class="sxs-lookup"><span data-stu-id="aeb6a-102">XML Integration with Relational Data and ADO.NET</span></span>
<span data-ttu-id="aeb6a-103">La clase **XmlDataDocument** se deriva de **XmlDocument**, y contiene datos XML.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-103">The **XmlDataDocument** class is a derived class of the **XmlDocument**, and contains XML data.</span></span> <span data-ttu-id="aeb6a-104">La ventaja que aporta la clase **XmlDataDocument** es que proporciona un puente entre los datos relacionales y jerárquicos.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-104">The advantage of the **XmlDataDocument** is that it provides a bridge between relational and hierarchical data.</span></span> <span data-ttu-id="aeb6a-105">Se trata de una clase **XmlDocument** que puede enlazarse con otra **DataSet** para sincronizar cambios realizados en los datos incluidos en las dos clases.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-105">It is an **XmlDocument** that can be bound to a **DataSet** and both classes can synchronize changes made to data contained in the two classes.</span></span> <span data-ttu-id="aeb6a-106">Una clase **XmlDocument** que está enlazada con otra **DataSet** permite a XML integrarse con datos relacionales, sin necesidad de que los datos estén representados ni en formato XML ni relacional.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-106">An **XmlDocument** that is bound to a **DataSet** allows XML to integrate with relational data, and you do not have to have your data represented as either XML or in a relational format.</span></span> <span data-ttu-id="aeb6a-107">Se pueden hacer ambas cosas sin necesidad de restringirse a una única representación de los datos.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-107">You can do both and not be constrained to a single representation of the data.</span></span>  
  
 <span data-ttu-id="aeb6a-108">Las ventajas de tener los datos disponibles en dos vistas son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="aeb6a-108">The benefits of having data available in two views are:</span></span>  
  
- <span data-ttu-id="aeb6a-109">La parte estructurada de un documento XML puede asignarse a un conjunto de datos y ser almacenada, indizada y buscada de forma eficaz.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-109">The structured portion of an XML document can be mapped to a dataset, and be efficiently stored, indexed, and searched.</span></span>  
  
- <span data-ttu-id="aeb6a-110">Las transformaciones, validación y navegación en los datos XML que están almacenados de forma relacional se pueden realizar eficazmente mediante un modelo de cursor.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-110">Transformations, validation, and navigation can be done efficiently through a cursor model over the XML data that is stored relationally.</span></span> <span data-ttu-id="aeb6a-111">En ocasiones, se puede realizar de forma más eficaz en estructuras relacionales que si el código XML está almacenado en un modelo **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-111">At times, it can be done more efficiently against relational structures than if the XML is stored in an **XmlDocument** model.</span></span>  
  
- <span data-ttu-id="aeb6a-112">La clase **DataSet** puede almacenar una parte del código XML.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-112">The **DataSet** can store a portion of the XML.</span></span> <span data-ttu-id="aeb6a-113">Es decir, se puede usar **XPath** o **XslTransform** para almacenar en una clase **DataSet** solo aquellos elementos y atributos que resulten de interés.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-113">That is, you can use **XPath** or **XslTransform** to store to a **DataSet** only those elements and attributes of interest.</span></span> <span data-ttu-id="aeb6a-114">A partir de aquí, se pueden realizar cambios en un subconjunto más pequeño y filtrado de datos y hacer que los cambios se propaguen a un conjunto mayor de datos en la clase **XmlDataDocument**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-114">From there, changes can be made to the smaller, filtered subset of data, with the changes propagating to the larger data in the **XmlDataDocument**.</span></span>  
  
 <span data-ttu-id="aeb6a-115">Asimismo, se puede ejecutar una transformación sobre los datos que se cargaron en **DataSet** a partir del servidor SQL Server.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-115">You can also run a transform over data that was loaded into the **DataSet** from SQL Server.</span></span> <span data-ttu-id="aeb6a-116">Otra opción es enlazar controles de WinForms y WebForms del estilo de las clases administradas de .NET Framework con una clase **DataSet** que se haya llenado a partir de un flujo de entrada.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-116">Another option is to bind .NET Framework classes-style-managed WinForm and WebForm controls to a **DataSet** that was populated from an XML input stream.</span></span>  
  
 <span data-ttu-id="aeb6a-117">Además de ser compatible con **XslTransform**, una clase **XmlDataDocument** expone los datos relacionales a consultas y validación **XPath**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-117">In addition to supporting **XslTransform**, an **XmlDataDocument** exposes relational data to **XPath** queries and validation.</span></span>  <span data-ttu-id="aeb6a-118">Básicamente, todos los servicios XML están disponibles en los datos relacionales; las funciones relacionales, como el enlace de controles, codegen, etc., están disponibles en una proyección estructurada de XML sin comprometer la fidelidad con el lenguaje XML.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-118">Basically, all XML services are available over relational data, and relational facilities, such as control binding, codegen, and so on, are available over a structured projection of XML without compromising XML fidelity.</span></span>  
  
 <span data-ttu-id="aeb6a-119">Como **XmlDataDocument** se hereda de **XmlDocument**, proporciona una implementación de DOM del consorcio W3C.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-119">Because **XmlDataDocument** is inherited from an **XmlDocument**, it provides an implementation of the W3C DOM.</span></span> <span data-ttu-id="aeb6a-120">El hecho de que **XmlDataDocument** se asocie con una clase **DataSet** y almacene en su interior un subconjunto de sus datos, no restringe o altera en absoluto su uso como **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-120">The fact that the **XmlDataDocument** is associated with, and stores a subset of its data within, a **DataSet** does not restrict or alter its use as an **XmlDocument** in any way.</span></span> <span data-ttu-id="aeb6a-121">El código escrito para consumir una clase **XmlDocument** funciona sin alteraciones en **XmlDataDocument**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-121">Code written to consume an **XmlDocument** works unaltered against an **XmlDataDocument**.</span></span> <span data-ttu-id="aeb6a-122">**DataSet** proporciona la vista relacional de los mismos datos definiendo tablas, columnas, relaciones y restricciones, y constituye un almacén independiente y en memoria de datos de usuario.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-122">The **DataSet** provides the relational view of the same data by defining tables, columns, relations, and constraints, and is a stand-alone, in-memory user data store.</span></span>  
  
 <span data-ttu-id="aeb6a-123">En la siguiente ilustración se muestran las distintas asociaciones que los datos XML tienen con **DataSet** y **XmlDataDocument**:</span><span class="sxs-lookup"><span data-stu-id="aeb6a-123">The following illustration shows the different associations that XML data has with the **DataSet** and **XmlDataDocument**:</span></span>
  
 ![Diagrama que muestra las distintas asociaciones con el conjunto de datos XML.](./media/xml-integration-with-relational-data-and-adonet/xml-integration-relational-data-adodotnet.gif)  
  
 <span data-ttu-id="aeb6a-125">En la ilustración se muestra que los datos XML pueden cargarse directamente en una clase **DataSet**, lo que permite la manipulación directa con XML en la forma relacional.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-125">The illustration shows that XML data can be loaded directly into a **DataSet**, which allows direct manipulation with XML in the relational manner.</span></span> <span data-ttu-id="aeb6a-126">O bien, el código XML se puede cargar en una clase derivada de DOM, que es **XmlDataDocument**, y posteriormente cargarlo y sincronizarlo con la clase **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-126">Or, the XML can be loaded into a derived class of the DOM, which is the **XmlDataDocument**, and subsequently loaded and synchronized with the **DataSet**.</span></span> <span data-ttu-id="aeb6a-127">Como **DataSet** y **XmlDataDocument** están sincronizados sobre un solo conjunto de datos, los cambios realizados en los datos en un almacén se reflejan automáticamente en el otro almacén.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-127">Because the **DataSet** and **XmlDataDocument** are synchronized over a single set of data, changes made to the data in one store are reflected in the other store.</span></span>  
  
 <span data-ttu-id="aeb6a-128">**XmlDataDocument** hereda todas las características de edición y navegación de **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-128">The **XmlDataDocument** inherits all the editing and navigational features from the **XmlDocument**.</span></span> <span data-ttu-id="aeb6a-129">Existen ocasiones en las que utilizar **XmlDataDocument** y sus características heredadas, sincronizadas con una clase **DataSet**, constituye una opción más apropiada que cargar código XML directamente en **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-129">There are times when using the **XmlDataDocument** and its inherited features, synchronized with a **DataSet**, is a more appropriate option than loading XML directly into the **DataSet**.</span></span> <span data-ttu-id="aeb6a-130">En la tabla siguiente se muestran los elementos que se deben tener en consideración al elegir qué método utilizar para cargar **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-130">The following table shows the items to be considered when choosing which method to use to load the **DataSet**.</span></span>  
  
|<span data-ttu-id="aeb6a-131">Cuándo cargar XML directamente en un DataSet</span><span class="sxs-lookup"><span data-stu-id="aeb6a-131">When to load XML directly into a DataSet</span></span>|<span data-ttu-id="aeb6a-132">Cuándo sincronizar un XmlDataDocument con un DataSet</span><span class="sxs-lookup"><span data-stu-id="aeb6a-132">When to synchronize an XmlDataDocument with a DataSet</span></span>|  
|----------------------------------------------|-----------------------------------------------------------|  
|<span data-ttu-id="aeb6a-133">Las consultas de datos en **DataSet** son más fáciles usando SQL que XPath.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-133">Queries of data in the **DataSet** are easier using SQL than XPath.</span></span>|<span data-ttu-id="aeb6a-134">Se necesitan consultas XPath sobre datos de la clase **DataSet**.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-134">XPath queries are needed over data in the **DataSet**.</span></span>|  
|<span data-ttu-id="aeb6a-135">Preservar el orden de los elementos en el código fuente XML no es vital.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-135">Preservation of element ordering in the source XML is not critical.</span></span>|<span data-ttu-id="aeb6a-136">Preservar el orden de los elementos en el código fuente XML resulta vital.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-136">Preservation of element ordering in the source XML is critical.</span></span>|  
|<span data-ttu-id="aeb6a-137">No es necesario preservar el espacio en blanco entre los elementos ni el formato del código fuente XML.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-137">White space between elements and formatting does not need to be preserved in the source XML.</span></span>|<span data-ttu-id="aeb6a-138">Preservar el espacio y formato del código fuente XML resulta vital.</span><span class="sxs-lookup"><span data-stu-id="aeb6a-138">White space and formatting preservation in the source XML is critical.</span></span>|  
  
 <span data-ttu-id="aeb6a-139">Si cargar y escribir código XML directamente en una clase **DataSet** o extraerlo de él, cubre sus necesidades, vea [Cargar DataSet desde XML](../../../framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md) y [Escribir un objeto DataSet como datos XML](../../../framework/data/adonet/dataset-datatable-dataview/writing-dataset-contents-as-xml-data.md).</span><span class="sxs-lookup"><span data-stu-id="aeb6a-139">If loading and writing XML directly into and out of a **DataSet** addresses your needs, see [Loading a DataSet from XML](../../../framework/data/adonet/dataset-datatable-dataview/loading-a-dataset-from-xml.md) and [Writing a DataSet as XML Data](../../../framework/data/adonet/dataset-datatable-dataview/writing-dataset-contents-as-xml-data.md).</span></span>  
  
 <span data-ttu-id="aeb6a-140">Si cargar la clase **DataSet** a partir de una clase **XmlDataDocument** cubre sus necesidades, vea [Sincronizar un Dataset con un documento XML](../../../framework/data/adonet/dataset-datatable-dataview/dataset-and-xmldatadocument-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="aeb6a-140">If loading the **DataSet** from an **XmlDataDocument** addresses your needs, see [Synchronizing a Dataset with an XML Document](../../../framework/data/adonet/dataset-datatable-dataview/dataset-and-xmldatadocument-synchronization.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="aeb6a-141">Vea también</span><span class="sxs-lookup"><span data-stu-id="aeb6a-141">See also</span></span>

- [<span data-ttu-id="aeb6a-142">Usar XML en un conjunto de datos</span><span class="sxs-lookup"><span data-stu-id="aeb6a-142">Using XML in a DataSet</span></span>](../../../framework/data/adonet/dataset-datatable-dataview/using-xml-in-a-dataset.md)
