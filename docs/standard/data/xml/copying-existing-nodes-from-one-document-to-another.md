---
title: Copia de nodos existentes de un documento a otro
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: 3caa78c1-3448-4b7b-b83c-228ee857635e
ms.openlocfilehash: 8ae7fd04e5c85e59ca9bd629c6957ad470d36b48
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 06/02/2020
ms.locfileid: "84289205"
---
# <a name="copying-existing-nodes-from-one-document-to-another"></a><span data-ttu-id="8cc6b-102">Copia de nodos existentes de un documento a otro</span><span class="sxs-lookup"><span data-stu-id="8cc6b-102">Copying Existing Nodes from One Document to Another</span></span>
<span data-ttu-id="8cc6b-103">El método **ImportNode** es el mecanismo por el que un nodo o todo el subárbol de nodos se copia de una clase **XmlDocument** a otra.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-103">The **ImportNode** method is the mechanism by which a node or entire node subtree is copied from one **XmlDocument** to another.</span></span> <span data-ttu-id="8cc6b-104">El nodo que devuelve la llamada es una copia del nodo del documento de origen, incluidos los valores de atributo, el nombre del nodo, el tipo de nodo y todos los atributos relacionados con el espacio de nombres como el prefijo, el nombre local y el identificador de recursos uniformes (URI) del espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-104">The node returned from the call is a copy of the node from the source document, including attribute values, the node name, node type, and all namespace-related attributes such as the prefix, local name, and namespace Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="8cc6b-105">El documento de origen no cambia.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-105">The source document is not changed.</span></span> <span data-ttu-id="8cc6b-106">Una vez importado el nodo, todavía tiene que agregarlo al árbol utilizando uno de los métodos usados para insertar nodos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-106">After you have imported the node, you still have to add it to the tree using one of the methods used to insert nodes.</span></span>  
  
 <span data-ttu-id="8cc6b-107">Cuando el nodo se adjunta a su nuevo documento, éste se convierte en poseedor del nodo.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-107">When the node is attached to its new document, the new document owns the node.</span></span> <span data-ttu-id="8cc6b-108">La razón es que cada nodo, cuando se crea, tiene un documento en propiedad, aunque los nodos se creen en distintos fragmentos del documento.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-108">The reason is that each node, when created, has an owning document, even if the nodes are created in separate document fragments.</span></span> <span data-ttu-id="8cc6b-109">Se trata de un requisito de Document Object Model (DOM) XML que exige el diseño de creación Factory en la clase **XmlDocument**.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-109">This is a requirement of the XML Document Object Model (DOM) and is enforced by the factory creation design on the **XmlDocument** class.</span></span> <span data-ttu-id="8cc6b-110">Por ejemplo, **CreateElement** es la única manera de crear nodos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-110">For example, **CreateElement**, is the only way to create new nodes.</span></span>  
  
 <span data-ttu-id="8cc6b-111">En función del tipo del nodo importado y del valor del parámetro *deep*, se copiará información adicional, según sea conveniente.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-111">Depending on the node type of the imported node and the value of the *deep* parameter, additional information is copied as appropriate.</span></span> <span data-ttu-id="8cc6b-112">Este método intenta reflejar el comportamiento esperado si un fragmento de origen XML o HTML se ha copiado de un documento a otro, teniendo en cuenta del hecho de que en XML, los dos documentos podrían tener definiciones de tipos de documento (DTD) distintas.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-112">This method attempts to mirror the behavior expected if a fragment of XML or HTML source was copied from one document to another, accounting for the fact that for XML, the two documents may have different document type definitions (DTDs).</span></span>  
  
 <span data-ttu-id="8cc6b-113">En la sigueinte tabla se describe el comportamiento específico de cada tipo de nodo que se puede importar.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-113">The following table describes the specific behavior for each type of node that can be imported.</span></span>  
  
|<span data-ttu-id="8cc6b-114">Tipo de nodo</span><span class="sxs-lookup"><span data-stu-id="8cc6b-114">Node Type</span></span>|<span data-ttu-id="8cc6b-115">El parámetro *deep* es true</span><span class="sxs-lookup"><span data-stu-id="8cc6b-115">*deep* parameter is true</span></span>|<span data-ttu-id="8cc6b-116">El parámetro *deep* es false</span><span class="sxs-lookup"><span data-stu-id="8cc6b-116">*deep* parameter is false</span></span>|  
|---------------|------------------------------|-------------------------------|  
|<span data-ttu-id="8cc6b-117">XmlAttribute</span><span class="sxs-lookup"><span data-stu-id="8cc6b-117">XmlAttribute</span></span>|<span data-ttu-id="8cc6b-118">La propiedad <xref:System.Xml.XmlAttribute.Specified%2A> está establecida en **true** en el nodo XmlAttribute.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-118">The <xref:System.Xml.XmlAttribute.Specified%2A> is set to **true** on the XmlAttribute.</span></span> <span data-ttu-id="8cc6b-119">Los descendientes del nodo **XmlAttribute** de origen se importan de forma recursiva y los nodos resultantes se reensamblan para crear el subárbol correspondiente.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-119">The descendants of the source **XmlAttribute** are recursively imported and the resulting nodes reassembled to form the corresponding subtree.</span></span>|<span data-ttu-id="8cc6b-120">El parámetro *deep* no se aplica a los nodos **XmlAttribute**, dado que siempre incluyen sus nodos secundarios cuando se importan.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-120">The *deep* parameter does not apply to **XmlAttribute** nodes, because they always carry their child nodes with them when imported.</span></span>|  
|<span data-ttu-id="8cc6b-121">XmlCDataSection</span><span class="sxs-lookup"><span data-stu-id="8cc6b-121">XmlCDataSection</span></span>|<span data-ttu-id="8cc6b-122">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-122">Copies the node, including its data.</span></span>|<span data-ttu-id="8cc6b-123">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-123">Copies the node, including its data.</span></span>|  
|<span data-ttu-id="8cc6b-124">XmlComment</span><span class="sxs-lookup"><span data-stu-id="8cc6b-124">XmlComment</span></span>|<span data-ttu-id="8cc6b-125">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-125">Copies the node, including its data.</span></span>|<span data-ttu-id="8cc6b-126">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-126">Copies the node, including its data.</span></span>|  
|<span data-ttu-id="8cc6b-127">XmlDocumentFragment</span><span class="sxs-lookup"><span data-stu-id="8cc6b-127">XmlDocumentFragment</span></span>|<span data-ttu-id="8cc6b-128">Los descendientes del nodo de origen se importan de forma recursiva y los nodos resultantes se reensamblan para crear el subárbol correspondiente.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-128">The descendants of the source node are recursively imported and the resulting nodes reassembled to form the corresponding subtree.</span></span>|<span data-ttu-id="8cc6b-129">Se crea una clase **XmlDocumentFragment** vacía.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-129">An empty **XmlDocumentFragment** is created.</span></span>|  
|<span data-ttu-id="8cc6b-130">XmlDocumentType</span><span class="sxs-lookup"><span data-stu-id="8cc6b-130">XmlDocumentType</span></span>|<span data-ttu-id="8cc6b-131">Copia el nodo, junto con sus datos.\*</span><span class="sxs-lookup"><span data-stu-id="8cc6b-131">Copies the node, including its data.\*</span></span>|<span data-ttu-id="8cc6b-132">Copia el nodo, junto con sus datos.\*</span><span class="sxs-lookup"><span data-stu-id="8cc6b-132">Copies the node, including its data.\*</span></span>|  
|<span data-ttu-id="8cc6b-133">XmlElement</span><span class="sxs-lookup"><span data-stu-id="8cc6b-133">XmlElement</span></span>|<span data-ttu-id="8cc6b-134">Los descendientes del elemento de origen se importan de forma recursiva y los nodos resultantes se reensamblan para crear el subárbol correspondiente.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-134">The descendants of the source element are recursively imported and the resulting nodes reassembled to form the corresponding subtree.</span></span> <span data-ttu-id="8cc6b-135">**Nota:**  Los atributos predeterminados no se copian.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-135">**Note:**  Default attributes are not copied.</span></span> <span data-ttu-id="8cc6b-136">Si el documento que se va a importar define atributos predeterminados para este nombre de elemento, dichos atributos se asignan.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-136">If the document being imported into defines default attributes for this element name, those are assigned.</span></span>|<span data-ttu-id="8cc6b-137">Los nodos del atributo especificado del elemento de origen se importan y los nodos **XmlAttribute** se adjuntan al nuevo elemento.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-137">Specified attribute nodes of the source element are imported, and the generated **XmlAttribute** nodes are attached to the new element.</span></span> <span data-ttu-id="8cc6b-138">Los nodos descendientes no se copian.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-138">The descendant nodes are not copied.</span></span> <span data-ttu-id="8cc6b-139">**Nota:**  Los atributos predeterminados no se copian.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-139">**Note:**  Default attributes are not copied.</span></span> <span data-ttu-id="8cc6b-140">Si el documento que se va a importar define atributos predeterminados para este nombre de elemento, dichos atributos se asignan.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-140">If the document being imported into defines default attributes for this element name, those are assigned.</span></span>|  
|<span data-ttu-id="8cc6b-141">XmlEntityReference</span><span class="sxs-lookup"><span data-stu-id="8cc6b-141">XmlEntityReference</span></span>|<span data-ttu-id="8cc6b-142">Como los documentos de origen y de destino podrían tener definidas las entidades de forma diferente, este método solo copia el nodo **XmlEntityReference**.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-142">Because the source and destination documents could have the entities defined differently, this method only copies the **XmlEntityReference** node.</span></span> <span data-ttu-id="8cc6b-143">El texto de sustitución no se incluye.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-143">The replacement text is not included.</span></span> <span data-ttu-id="8cc6b-144">Si el documento de destino tiene definida la entidad, se asigna su valor.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-144">If the destination document has the entity defined, its value is assigned.</span></span>|<span data-ttu-id="8cc6b-145">Como los documentos de origen y de destino podrían tener definidas las entidades de forma diferente, este método solo copia el nodo **XmlEntityReference**.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-145">Because the source and destination documents could have the entities defined differently, this method only copies the **XmlEntityReference** node.</span></span> <span data-ttu-id="8cc6b-146">El texto de sustitución no se incluye.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-146">The replacement text is not included.</span></span> <span data-ttu-id="8cc6b-147">Si el documento de destino tiene definida la entidad, se asigna su valor.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-147">If the destination document has the entity defined, its value is assigned.</span></span>|  
|<span data-ttu-id="8cc6b-148">XmlProcessingInstruction</span><span class="sxs-lookup"><span data-stu-id="8cc6b-148">XmlProcessingInstruction</span></span>|<span data-ttu-id="8cc6b-149">Copia el valor de destino y de datos del nodo importado.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-149">Copies the target and data value from the imported node.</span></span>|<span data-ttu-id="8cc6b-150">Copia el valor de destino y de datos del nodo importado.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-150">Copies the target and data value from the imported node.</span></span>|  
|<span data-ttu-id="8cc6b-151">XmlText</span><span class="sxs-lookup"><span data-stu-id="8cc6b-151">XmlText</span></span>|<span data-ttu-id="8cc6b-152">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-152">Copies the node, including its data.</span></span>|<span data-ttu-id="8cc6b-153">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-153">Copies the node, including its data.</span></span>|  
|<span data-ttu-id="8cc6b-154">XmlSignificantWhitespace</span><span class="sxs-lookup"><span data-stu-id="8cc6b-154">XmlSignificantWhitespace</span></span>|<span data-ttu-id="8cc6b-155">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-155">Copies the node, including its data.</span></span>|<span data-ttu-id="8cc6b-156">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-156">Copies the node, including its data.</span></span>|  
|<span data-ttu-id="8cc6b-157">XmlWhitespace</span><span class="sxs-lookup"><span data-stu-id="8cc6b-157">XmlWhitespace</span></span>|<span data-ttu-id="8cc6b-158">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-158">Copies the node, including its data.</span></span>|<span data-ttu-id="8cc6b-159">Copia el nodo, junto con sus datos.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-159">Copies the node, including its data.</span></span>|  
|<span data-ttu-id="8cc6b-160">XmlDeclaration</span><span class="sxs-lookup"><span data-stu-id="8cc6b-160">XmlDeclaration</span></span>|<span data-ttu-id="8cc6b-161">Copia el valor de destino y de datos del nodo importado.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-161">Copies the target and data value from the imported node.</span></span>|<span data-ttu-id="8cc6b-162">Copia el valor de destino y de datos del nodo importado.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-162">Copies the target and data value from the imported node.</span></span>|  
|<span data-ttu-id="8cc6b-163">Todos los demás tipos de nodos</span><span class="sxs-lookup"><span data-stu-id="8cc6b-163">All other node types</span></span>|<span data-ttu-id="8cc6b-164">Estos tipos de nodos no se pueden importar.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-164">These node types cannot be imported.</span></span>|<span data-ttu-id="8cc6b-165">Estos tipos de nodos no se pueden importar.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-165">These node types cannot be imported.</span></span>|  
  
> [!NOTE]
> <span data-ttu-id="8cc6b-166">Aunque es posible importar los tipos de nodos DocumentType, un documento solo puede tener un DocumentType.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-166">Although DocumentType nodes can be imported, a document can only have one DocumentType.</span></span> <span data-ttu-id="8cc6b-167">De modo que, una vez importado el tipo de documento, antes de insertarlo en el árbol tiene que asegurarse de que no hay ningún tipo de documento en el documento.</span><span class="sxs-lookup"><span data-stu-id="8cc6b-167">So, once you have imported the document type, before inserting it into tree you have to make sure that there is no document type in the document.</span></span> <span data-ttu-id="8cc6b-168">Para obtener información acerca de cómo quitar nodos, consulte [Cómo quitar nodos, contenido y valores de un documento XML](removing-nodes-content-and-values-from-an-xml-document.md).</span><span class="sxs-lookup"><span data-stu-id="8cc6b-168">For information on removing nodes, see [Removing Nodes, Content, and Values from an XML Document](removing-nodes-content-and-values-from-an-xml-document.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8cc6b-169">Vea también</span><span class="sxs-lookup"><span data-stu-id="8cc6b-169">See also</span></span>

- [<span data-ttu-id="8cc6b-170">Document Object Model (DOM) para XML</span><span class="sxs-lookup"><span data-stu-id="8cc6b-170">XML Document Object Model (DOM)</span></span>](xml-document-object-model-dom.md)
