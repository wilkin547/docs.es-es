---
title: proceso de ejecución administrada
ms.date: 03/30/2017
helpviewer_keywords:
- source code language
- code, managed execution process
- runtime, managed execution process
- compiling source code, managed execution process
- managed execution process
- common language runtime, managed execution process
ms.assetid: 476b03dc-2b12-49a7-b067-41caeaa2f533
ms.openlocfilehash: 17494c3b5620ac649aeb3e6ef73085097517d1f5
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/18/2020
ms.locfileid: "94830680"
---
# <a name="managed-execution-process"></a><span data-ttu-id="ca4a4-102">proceso de ejecución administrada</span><span class="sxs-lookup"><span data-stu-id="ca4a4-102">Managed Execution Process</span></span>
<a name="introduction"></a> <span data-ttu-id="ca4a4-103">El proceso de ejecución administrada incluye los pasos siguientes, que se describen en detalle más adelante en este tema:</span><span class="sxs-lookup"><span data-stu-id="ca4a4-103">The managed execution process includes the following steps, which are discussed in detail later in this topic:</span></span>

1. <span data-ttu-id="ca4a4-104">[Elegir un compilador](#choosing_a_compiler).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-104">[Choosing a compiler](#choosing_a_compiler).</span></span>

     <span data-ttu-id="ca4a4-105">Para obtener los beneficios que proporciona Common Language Runtime, se deben utilizar uno o más compiladores de lenguaje orientados al tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-105">To obtain the benefits provided by the common language runtime, you must use one or more language compilers that target the runtime.</span></span>

2. <span data-ttu-id="ca4a4-106">[Compilar código a MSIL](#compiling_to_msil).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-106">[Compiling your code to MSIL](#compiling_to_msil).</span></span>

     <span data-ttu-id="ca4a4-107">La compilación convierte el código fuente en lenguaje intermedio de Microsoft (MSIL) y genera los metadatos necesarios.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-107">Compiling translates your source code into Microsoft intermediate language (MSIL) and generates the required metadata.</span></span>

3. <span data-ttu-id="ca4a4-108">[Compilar MSIL a código nativo](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-108">[Compiling MSIL to native code](#compiling_msil_to_native_code).</span></span>

     <span data-ttu-id="ca4a4-109">En tiempo de ejecución, un compilador Just-In-Time (JIT) convierte MSIL en código nativo.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-109">At execution time, a just-in-time (JIT) compiler translates the MSIL into native code.</span></span> <span data-ttu-id="ca4a4-110">Durante esta compilación, el código debe pasar un proceso de comprobación que examina el MSIL y los metadatos para averiguar si el código garantiza la seguridad de tipos.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-110">During this compilation, code must pass a verification process that examines the MSIL and metadata to find out whether the code can be determined to be type safe.</span></span>

4. <span data-ttu-id="ca4a4-111">[Ejecutar código](#running_code).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-111">[Running code](#running_code).</span></span>

     <span data-ttu-id="ca4a4-112">Common Language Runtime proporciona la infraestructura que permite que la ejecución tenga lugar y los servicios que se pueden usar durante la ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-112">The common language runtime provides the infrastructure that enables execution to take place and services that can be used during execution.</span></span>

<a name="choosing_a_compiler"></a>
## <a name="choosing-a-compiler"></a><span data-ttu-id="ca4a4-113">Elegir un compilador</span><span class="sxs-lookup"><span data-stu-id="ca4a4-113">Choosing a Compiler</span></span>
 <span data-ttu-id="ca4a4-114">Para aprovechar las ventajas que ofrece Common Language Runtime (CLR), deben emplearse uno o varios compiladores de lenguaje destinados al motor en tiempo de ejecución, como Visual Basic, C#, Visual C++, F# o uno de los muchos compiladores de otros fabricantes, como un compilador Eiffel, Perl o COBOL.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-114">To obtain the benefits provided by the common language runtime (CLR), you must use one or more language compilers that target the runtime, such as Visual Basic, C#, Visual C++, F#, or one of many third-party compilers such as an Eiffel, Perl, or COBOL compiler.</span></span>

 <span data-ttu-id="ca4a4-115">Como se ejecuta en un entorno multilenguaje, el motor en tiempo de ejecución es compatible con una gran variedad de tipos de datos y características de lenguajes.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-115">Because it is a multilanguage execution environment, the runtime supports a wide variety of data types and language features.</span></span> <span data-ttu-id="ca4a4-116">El compilador de lenguaje utilizado determina las características en tiempo de ejecución que están disponibles, y el código se diseña con esas características.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-116">The language compiler you use determines which runtime features are available, and you design your code using those features.</span></span> <span data-ttu-id="ca4a4-117">El compilador, y no el motor en tiempo de ejecución, es el que establece la sintaxis que se debe utilizar en el código.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-117">Your compiler, not the runtime, establishes the syntax your code must use.</span></span> <span data-ttu-id="ca4a4-118">Si los componentes escritos en otros lenguajes deben poder usar plenamente el componente, los tipos exportados de ese componente solo deben exponer las características del lenguaje incluidas en [Independencia del lenguaje y componentes independientes del lenguaje](language-independence-and-language-independent-components.md) (CLS).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-118">If your component must be completely usable by components written in other languages, your component's exported types must expose only language features that are included in the [Language Independence and Language-Independent Components](language-independence-and-language-independent-components.md) (CLS).</span></span> <span data-ttu-id="ca4a4-119">Puede utilizar el atributo <xref:System.CLSCompliantAttribute> para garantizar que su código es conforme a CLS.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-119">You can use the <xref:System.CLSCompliantAttribute> attribute to ensure that your code is CLS-compliant.</span></span> <span data-ttu-id="ca4a4-120">Para más información, consulte [Independencia del lenguaje y componentes independientes del lenguaje](language-independence-and-language-independent-components.md).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-120">For more information, see [Language Independence and Language-Independent Components](language-independence-and-language-independent-components.md).</span></span>

 [<span data-ttu-id="ca4a4-121">Volver al principio</span><span class="sxs-lookup"><span data-stu-id="ca4a4-121">Back to top</span></span>](#introduction)

<a name="compiling_to_msil"></a>
## <a name="compiling-to-msil"></a><span data-ttu-id="ca4a4-122">Compilar en lenguaje intermedio de Microsoft (MSIL)</span><span class="sxs-lookup"><span data-stu-id="ca4a4-122">Compiling to MSIL</span></span>
 <span data-ttu-id="ca4a4-123">Cuando se compila a código administrado, el compilador convierte el código fuente en Lengua intermedio de Microsoft (MSIL), que es un conjunto de instrucciones independiente de la CPU que se pueden convertir de forma eficaz en código nativo.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-123">When compiling to managed code, the compiler translates your source code into Microsoft intermediate language (MSIL), which is a CPU-independent set of instructions that can be efficiently converted to native code.</span></span> <span data-ttu-id="ca4a4-124">MSIL incluye instrucciones para cargar, almacenar, inicializar y llamar a métodos en los objetos, así como instrucciones para operaciones lógicas y aritméticas, flujo de control, acceso directo a la memoria, control de excepciones y otras operaciones.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-124">MSIL includes instructions for loading, storing, initializing, and calling methods on objects, as well as instructions for arithmetic and logical operations, control flow, direct memory access, exception handling, and other operations.</span></span> <span data-ttu-id="ca4a4-125">Antes de poder ejecutar código, se debe convertir MSIL al código específico de la CPU, normalmente mediante un [compilador Just-In-Time (JIT)](#compiling_msil_to_native_code).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-125">Before code can be run, MSIL must be converted to CPU-specific code, usually by a [just-in-time (JIT) compiler](#compiling_msil_to_native_code).</span></span> <span data-ttu-id="ca4a4-126">Common Language Runtime proporciona uno o varios compiladores JIT para cada arquitectura de equipo compatible, por lo que se puede compilar y ejecutar el mismo conjunto de MSIL en cualquier arquitectura compatible.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-126">Because the common language runtime supplies one or more JIT compilers for each computer architecture it supports, the same set of MSIL can be JIT-compiled and run on any supported architecture.</span></span>

 <span data-ttu-id="ca4a4-127">Cuando el compilador produce MSIL, también genera metadatos.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-127">When a compiler produces MSIL, it also produces metadata.</span></span> <span data-ttu-id="ca4a4-128">Los metadatos describen los tipos que aparecen en el código, incluidas las definiciones de los tipos, las firmas de los miembros de tipos, los miembros a los que se hace referencia en el código y otros datos que el motor en tiempo de ejecución utiliza en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-128">Metadata describes the types in your code, including the definition of each type, the signatures of each type's members, the members that your code references, and other data that the runtime uses at execution time.</span></span> <span data-ttu-id="ca4a4-129">MSIL y los metadatos están contenidos en un archivo ejecutable portable (PE), que se basa y extiende el PE de Microsoft publicado y el formato de archivo de objeto común (COFF) usado tradicionalmente para contenido ejecutable.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-129">The MSIL and metadata are contained in a portable executable (PE) file that is based on and that extends the published Microsoft PE and common object file format (COFF) used historically for executable content.</span></span> <span data-ttu-id="ca4a4-130">Este formato de archivo, que contiene código MSIL o código nativo así como metadatos, permite al sistema operativo reconocer imágenes de Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-130">This file format, which accommodates MSIL or native code as well as metadata, enables the operating system to recognize common language runtime images.</span></span> <span data-ttu-id="ca4a4-131">La presencia de metadatos en el archivo junto con MSIL permite crear códigos autodescriptivos, con lo cual las bibliotecas de tipos y el Lenguaje de definición de interfaz (IDL) son innecesarios.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-131">The presence of metadata in the file together with MSIL enables your code to describe itself, which means that there is no need for type libraries or Interface Definition Language (IDL).</span></span> <span data-ttu-id="ca4a4-132">El motor en tiempo de ejecución localiza y extrae los metadatos del archivo cuando son necesarios durante la ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-132">The runtime locates and extracts the metadata from the file as needed during execution.</span></span>

 [<span data-ttu-id="ca4a4-133">Volver al principio</span><span class="sxs-lookup"><span data-stu-id="ca4a4-133">Back to top</span></span>](#introduction)

<a name="compiling_msil_to_native_code"></a>
## <a name="compiling-msil-to-native-code"></a><span data-ttu-id="ca4a4-134">Compilar MSIL a código nativo</span><span class="sxs-lookup"><span data-stu-id="ca4a4-134">Compiling MSIL to Native Code</span></span>
 <span data-ttu-id="ca4a4-135">Para poder ejecutar el lenguaje intermedio de Microsoft (MSIL), primero debe compilarse a código nativo con Common Language Runtime para la arquitectura del equipo de destino.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-135">Before you can run Microsoft intermediate language (MSIL), it must be compiled against the common language runtime to native code for the target machine architecture.</span></span> <span data-ttu-id="ca4a4-136">.NET proporciona dos formas de realizar esta conversión:</span><span class="sxs-lookup"><span data-stu-id="ca4a4-136">.NET provides two ways to perform this conversion:</span></span>

- <span data-ttu-id="ca4a4-137">Un compilador Just-In-Time (JIT) de .NET.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-137">A .NET just-in-time (JIT) compiler.</span></span>

- <span data-ttu-id="ca4a4-138">[Ngen.exe (Generador de imágenes nativas)](../framework/tools/ngen-exe-native-image-generator.md).</span><span class="sxs-lookup"><span data-stu-id="ca4a4-138">[Ngen.exe (Native Image Generator)](../framework/tools/ngen-exe-native-image-generator.md).</span></span>

### <a name="compilation-by-the-jit-compiler"></a><span data-ttu-id="ca4a4-139">Compilación mediante el compilador JIT</span><span class="sxs-lookup"><span data-stu-id="ca4a4-139">Compilation by the JIT Compiler</span></span>
 <span data-ttu-id="ca4a4-140">La compilación JIT convierte MSIL en código nativo a petición en el tiempo de ejecución de la aplicación, cuando el contenido de un ensamblado se carga y ejecuta.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-140">JIT compilation converts MSIL to native code on demand at application run time, when the contents of an assembly are loaded and executed.</span></span> <span data-ttu-id="ca4a4-141">Common Language Runtime proporciona un compilador JIT para cada arquitectura de CPU compatible, por lo que los programadores pueden crear un conjunto de ensamblados MSIL que se puede compilar con un compilador JIT y se puede ejecutar en equipos distintos con diferentes arquitecturas.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-141">Because the common language runtime supplies a JIT compiler for each supported CPU architecture, developers can build a set of MSIL assemblies that can be JIT-compiled and run on different computers with different machine architectures.</span></span> <span data-ttu-id="ca4a4-142">No obstante, si el código administrado llama a las API nativas específicas de la plataforma o a una biblioteca de clases específica de la plataforma, solo se ejecutará en ese sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-142">However, if your managed code calls platform-specific native APIs or a platform-specific class library, it will run only on that operating system.</span></span>

 <span data-ttu-id="ca4a4-143">La compilación JIT tiene en cuenta la posibilidad de que durante la ejecución nunca se llame a parte del código.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-143">JIT compilation takes into account the possibility that some code might never be called during execution.</span></span> <span data-ttu-id="ca4a4-144">En vez de emplear tiempo y memoria para convertir todo el MSIL de un archivo PE a código nativo, convierte el MSIL necesario durante la ejecución y almacena el código nativo resultante en memoria para que sea accesible en las llamadas posteriores que se produzcan en el contexto de ese proceso.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-144">Instead of using time and memory to convert all the MSIL in a PE file to native code, it converts the MSIL as needed during execution and stores the resulting native code in memory so that it is accessible for subsequent calls in the context of that process.</span></span> <span data-ttu-id="ca4a4-145">El cargador crea y asocia un código auxiliar a cada método de un tipo cuando este tipo se carga y se inicializa.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-145">The loader creates and attaches a stub to each method in a type when the type is loaded and initialized.</span></span> <span data-ttu-id="ca4a4-146">Cuando se llama a un método por primera vez, el código auxiliar pasa el control al compilador JIT, el cual convierte el MSIL del método en código nativo y modifica el código auxiliar para señalar directamente al código nativo generado.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-146">When a method is called for the first time, the stub passes control to the JIT compiler, which converts the MSIL for that method into native code and modifies the stub to point directly to the generated native code.</span></span> <span data-ttu-id="ca4a4-147">Por tanto, las siguientes llamadas al método compilado mediante un compilador JIT pasan directamente al código nativo.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-147">Therefore, subsequent calls to the JIT-compiled method go directly to the native code.</span></span>

### <a name="install-time-code-generation-using-ngenexe"></a><span data-ttu-id="ca4a4-148">Generación de código en tiempo de instalación mediante NGen.exe</span><span class="sxs-lookup"><span data-stu-id="ca4a4-148">Install-Time Code Generation Using NGen.exe</span></span>
 <span data-ttu-id="ca4a4-149">Puesto que el compilador JIT convierte el MSIL de un ensamblado en código nativo cuando se llama a cada uno de los métodos definidos en ese ensamblado, esto afecta negativamente al rendimiento en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-149">Because the JIT compiler converts an assembly's MSIL to native code when individual methods defined in that assembly are called, it affects performance adversely at run time.</span></span> <span data-ttu-id="ca4a4-150">En la mayoría de los casos, esa disminución del rendimiento es aceptable.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-150">In most cases, that diminished performance is acceptable.</span></span> <span data-ttu-id="ca4a4-151">Y lo que es más importante, el código generado por el compilador JIT se enlaza al proceso que activó la compilación.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-151">More importantly, the code generated by the JIT compiler is bound to the process that triggered the compilation.</span></span> <span data-ttu-id="ca4a4-152">Este código no se puede compartir en varios procesos.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-152">It cannot be shared across multiple processes.</span></span> <span data-ttu-id="ca4a4-153">Para permitir que el código generado se comparta en varias invocaciones de una aplicación o en varios procesos que compartan un conjunto de ensamblados, Common Language Runtime admite un modo de compilación anticipado.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-153">To allow the generated code to be shared across multiple invocations of an application or across multiple processes that share a set of assemblies, the common language runtime supports an ahead-of-time compilation mode.</span></span> <span data-ttu-id="ca4a4-154">Este modo de compilación Ahead Of Time usa [Ngen.exe (Generador de imágenes nativas)](../framework/tools/ngen-exe-native-image-generator.md) para convertir los ensamblados MSIL en código nativo de forma muy similar a como lo hace el compilador JIT.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-154">This ahead-of-time compilation mode uses the [Ngen.exe (Native Image Generator)](../framework/tools/ngen-exe-native-image-generator.md) to convert MSIL assemblies to native code much like the JIT compiler does.</span></span> <span data-ttu-id="ca4a4-155">Sin embargo, la operación de Ngen.exe se diferencia de la del compilador JIT en tres aspectos:</span><span class="sxs-lookup"><span data-stu-id="ca4a4-155">However, the operation of Ngen.exe differs from that of the JIT compiler in three ways:</span></span>

- <span data-ttu-id="ca4a4-156">Realiza la conversión de MSIL a código nativo antes de ejecutar la aplicación en lugar de realizarla durante su ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-156">It performs the conversion from MSIL to native code before running the application instead of while the application is running.</span></span>

- <span data-ttu-id="ca4a4-157">Compila a la vez un ensamblado completo, en lugar de compilar un método cada vez.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-157">It compiles an entire assembly at a time, instead of one method at a time.</span></span>

- <span data-ttu-id="ca4a4-158">Conserva el código generado en la memoria caché de imágenes nativas como un archivo en disco.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-158">It persists the generated code in the Native Image Cache as a file on disk.</span></span>

### <a name="code-verification"></a><span data-ttu-id="ca4a4-159">Comprobación del código</span><span class="sxs-lookup"><span data-stu-id="ca4a4-159">Code Verification</span></span>
 <span data-ttu-id="ca4a4-160">Como parte de su compilación en código nativo, el código de MILS debe pasar un proceso de comprobación, a menos que un administrador haya establecido una directiva de seguridad que permita al código omitir esta comprobación.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-160">As part of its compilation to native code, the MSIL code must pass a verification process unless an administrator has established a security policy that allows the code to bypass verification.</span></span> <span data-ttu-id="ca4a4-161">En esta comprobación se examina el MSIL y los metadatos para determinar si el código garantiza la seguridad de tipos, lo que significa que el código solo tiene acceso a aquellas ubicaciones de la memoria para las que está autorizado.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-161">Verification examines MSIL and metadata to find out whether the code is type safe, which means that it accesses only the memory locations it is authorized to access.</span></span> <span data-ttu-id="ca4a4-162">La seguridad de tipos ayuda a aislar los objetos entre sí y ayuda a protegerlos frente a daños involuntarios o malintencionados.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-162">Type safety helps isolate objects from each other and helps protect them from inadvertent or malicious corruption.</span></span> <span data-ttu-id="ca4a4-163">Además, garantiza que las restricciones de seguridad sobre el código se aplican con toda certeza.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-163">It also provides assurance that security restrictions on code can be reliably enforced.</span></span>

 <span data-ttu-id="ca4a4-164">El motor en tiempo de ejecución se basa en el hecho de que se cumplan las siguientes condiciones para el código seguro comprobable:</span><span class="sxs-lookup"><span data-stu-id="ca4a4-164">The runtime relies on the fact that the following statements are true for code that is verifiably type safe:</span></span>

- <span data-ttu-id="ca4a4-165">La referencia a un tipo es estrictamente compatible con el tipo al que hace referencia.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-165">A reference to a type is strictly compatible with the type being referenced.</span></span>

- <span data-ttu-id="ca4a4-166">En un objeto sólo se invocan las operaciones definidas adecuadamente.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-166">Only appropriately defined operations are invoked on an object.</span></span>

- <span data-ttu-id="ca4a4-167">Una identidad es precisamente lo que dice ser.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-167">Identities are what they claim to be.</span></span>

 <span data-ttu-id="ca4a4-168">Durante el proceso de comprobación, se examina el código MSIL para intentar confirmar que el código tiene acceso a las ubicaciones de memoria y puede llamar a los métodos sólo a través de los tipos definidos correctamente.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-168">During the verification process, MSIL code is examined in an attempt to confirm that the code can access memory locations and call methods only through properly defined types.</span></span> <span data-ttu-id="ca4a4-169">Por ejemplo, un código no permite el acceso a los campos de un objeto si esta acción sobrecarga las ubicaciones de memoria.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-169">For example, code cannot allow an object's fields to be accessed in a manner that allows memory locations to be overrun.</span></span> <span data-ttu-id="ca4a4-170">Además, el proceso de comprobación examina el código para determinar si el MSIL se ha generado correctamente, ya que un MSIL incorrecto puede llevar a la infracción de las reglas en materia de seguridad de tipos.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-170">Additionally, verification inspects code to determine whether the MSIL has been correctly generated, because incorrect MSIL can lead to a violation of the type safety rules.</span></span> <span data-ttu-id="ca4a4-171">El proceso de comprobación pasa un conjunto de código seguro bien definido, y pasa exclusivamente código seguro.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-171">The verification process passes a well-defined set of type-safe code, and it passes only code that is type safe.</span></span> <span data-ttu-id="ca4a4-172">No obstante, algunos códigos con seguridad de tipos no pasan la comprobación debido a algunas limitaciones de este proceso, y algunos lenguajes no producen código seguro comprobable debido a su diseño.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-172">However, some type-safe code might not pass verification because of some limitations of the verification process, and some languages, by design, do not produce verifiably type-safe code.</span></span> <span data-ttu-id="ca4a4-173">Si la directiva de seguridad requiere código seguro de tipos y el código no pasa la comprobación, se produce una excepción al ejecutar el código.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-173">If type-safe code is required by the security policy but the code does not pass verification, an exception is thrown when the code is run.</span></span>

 [<span data-ttu-id="ca4a4-174">Volver al principio</span><span class="sxs-lookup"><span data-stu-id="ca4a4-174">Back to top</span></span>](#introduction)

<a name="running_code"></a>
## <a name="running-code"></a><span data-ttu-id="ca4a4-175">Ejecutar código</span><span class="sxs-lookup"><span data-stu-id="ca4a4-175">Running Code</span></span>
 <span data-ttu-id="ca4a4-176">Common Language Runtime proporciona la infraestructura que permite que la ejecución administrada tenga lugar y los servicios que se pueden usar durante la ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-176">The common language runtime provides the infrastructure that enables managed execution to take place and services that can be used during execution.</span></span> <span data-ttu-id="ca4a4-177">Para poder ejecutar un método, primero se debe compilar a código específico del procesador.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-177">Before a method can be run, it must be compiled to processor-specific code.</span></span> <span data-ttu-id="ca4a4-178">Cada método para el que se ha generado código de MSIL se compila mediante un compilador JIT la primera vez que se le llama y, después, se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-178">Each method for which MSIL has been generated is JIT-compiled when it is called for the first time, and then run.</span></span> <span data-ttu-id="ca4a4-179">La próxima vez que se ejecuta el método, se ejecuta el código nativo existente resultante de la compilación JIT.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-179">The next time the method is run, the existing JIT-compiled native code is run.</span></span> <span data-ttu-id="ca4a4-180">El proceso de compilación JIT y la posterior ejecución de código se repite hasta completar la ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-180">The process of JIT-compiling and then running the code is repeated until execution is complete.</span></span>

 <span data-ttu-id="ca4a4-181">Durante la ejecución, el código administrado recibe servicios como la recolección de elementos no utilizados, seguridad, interoperabilidad con código no administrado, compatibilidad de depuración entre lenguajes diferentes y compatibilidad mejorada con el control de versiones y la implementación.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-181">During execution, managed code receives services such as garbage collection, security, interoperability with unmanaged code, cross-language debugging support, and enhanced deployment and versioning support.</span></span>

 <span data-ttu-id="ca4a4-182">En Microsoft Windows Vista, el cargador del sistema operativo comprueba los módulos administrados mediante el examen de un bit del encabezado de COFF.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-182">In Microsoft Windows Vista, the operating system loader checks for managed modules by examining a bit in the COFF header.</span></span> <span data-ttu-id="ca4a4-183">El bit que se establece indica un módulo administrado.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-183">The bit being set denotes a managed module.</span></span> <span data-ttu-id="ca4a4-184">Si el cargador detecta módulos administrados, carga mscoree.dll, y `_CorValidateImage` y `_CorImageUnloading` notifican al cargador cuándo se cargan y descargan imágenes del módulo administrado.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-184">If the loader detects managed modules, it loads mscoree.dll, and `_CorValidateImage` and `_CorImageUnloading` notify the loader when the managed module images are loaded and unloaded.</span></span> <span data-ttu-id="ca4a4-185">`_CorValidateImage` lleva a cabo las acciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="ca4a4-185">`_CorValidateImage` performs the following actions:</span></span>

1. <span data-ttu-id="ca4a4-186">Garantiza que el código es código administrado válido.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-186">Ensures that the code is valid managed code.</span></span>

2. <span data-ttu-id="ca4a4-187">Cambia el punto de entrada en la imagen a un punto de entrada en el motor en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-187">Changes the entry point in the image to an entry point in the runtime.</span></span>

 <span data-ttu-id="ca4a4-188">En las versiones de 64 bits de Windows, `_CorValidateImage` modifica la imagen que está en la memoria transformando el formato PE32 en PE32+.</span><span class="sxs-lookup"><span data-stu-id="ca4a4-188">On 64-bit Windows, `_CorValidateImage` modifies the image that is in memory by transforming it from PE32 to PE32+ format.</span></span>

 [<span data-ttu-id="ca4a4-189">Volver al principio</span><span class="sxs-lookup"><span data-stu-id="ca4a4-189">Back to top</span></span>](#introduction)

## <a name="see-also"></a><span data-ttu-id="ca4a4-190">Vea también</span><span class="sxs-lookup"><span data-stu-id="ca4a4-190">See also</span></span>

- [<span data-ttu-id="ca4a4-191">Información general</span><span class="sxs-lookup"><span data-stu-id="ca4a4-191">Overview</span></span>](../framework/get-started/overview.md)
- [<span data-ttu-id="ca4a4-192">Independencia del lenguaje y componentes independientes del lenguaje</span><span class="sxs-lookup"><span data-stu-id="ca4a4-192">Language Independence and Language-Independent Components</span></span>](language-independence-and-language-independent-components.md)
- [<span data-ttu-id="ca4a4-193">Metadatos y componentes autodescriptivos</span><span class="sxs-lookup"><span data-stu-id="ca4a4-193">Metadata and Self-Describing Components</span></span>](metadata-and-self-describing-components.md)
- [<span data-ttu-id="ca4a4-194">Ilasm.exe (Ensamblador de IL)</span><span class="sxs-lookup"><span data-stu-id="ca4a4-194">Ilasm.exe (IL Assembler)</span></span>](../framework/tools/ilasm-exe-il-assembler.md)
- [<span data-ttu-id="ca4a4-195">Seguridad</span><span class="sxs-lookup"><span data-stu-id="ca4a4-195">Security</span></span>](security/index.md)
- <span data-ttu-id="ca4a4-196">[Interoperating with Unmanaged Code](../framework/interop/index.md) (Interoperar con código no administrado)</span><span class="sxs-lookup"><span data-stu-id="ca4a4-196">[Interoperating with Unmanaged Code](../framework/interop/index.md)</span></span>
- [<span data-ttu-id="ca4a4-197">Implementación</span><span class="sxs-lookup"><span data-stu-id="ca4a4-197">Deployment</span></span>](../framework/deployment/net-framework-applications.md)
- [<span data-ttu-id="ca4a4-198">Ensamblados de .NET</span><span class="sxs-lookup"><span data-stu-id="ca4a4-198">Assemblies in .NET</span></span>](assembly/index.md)
- [<span data-ttu-id="ca4a4-199">Dominios de aplicación</span><span class="sxs-lookup"><span data-stu-id="ca4a4-199">Application Domains</span></span>](../framework/app-domains/application-domains.md)
