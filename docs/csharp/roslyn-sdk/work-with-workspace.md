---
title: Trabajar con el modelo de área de trabajo del SDK de .NET Compiler Platform
description: En este tema se proporciona una descripción del tipo que se usa para consultar y manipular el área de trabajo y los proyectos del código.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: b613c85c01cc054dea9dd4bb9cf0062ffedb08bf
ms.sourcegitcommit: 8299abfbd5c49b596d61f1e4d09bc6b8ba055b36
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/27/2021
ms.locfileid: "98899118"
---
# <a name="work-with-a-workspace"></a><span data-ttu-id="543c7-103">Trabajar con un área de trabajo</span><span class="sxs-lookup"><span data-stu-id="543c7-103">Work with a workspace</span></span>

<span data-ttu-id="543c7-104">La capa **Áreas de trabajo** es el punto de partida para realizar análisis de código y refactorización de soluciones completas.</span><span class="sxs-lookup"><span data-stu-id="543c7-104">The **Workspaces** layer is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="543c7-105">En esta capa, la API de área de trabajo ayuda a organizar toda la información sobre los proyectos de una solución en un modelo de objetos único, lo que ofrece acceso directo a modelos de objetos de capa de compilador como texto de origen, árboles de sintaxis, modelos semánticos y compilaciones sin necesidad de analizar archivos, configurar opciones ni administrar dependencias entre proyectos.</span><span class="sxs-lookup"><span data-stu-id="543c7-105">Within this layer, the Workspace API assists you in organizing all the information about the projects in a solution into a single object model, offering you direct access to compiler layer object models like source text, syntax trees, semantic models, and compilations without needing to parse files, configure options, or manage inter-project dependencies.</span></span>

<span data-ttu-id="543c7-106">Los entornos de host, como un IDE, proporcionan un área de trabajo que corresponde a la solución abierta.</span><span class="sxs-lookup"><span data-stu-id="543c7-106">Host environments, like an IDE, provide a workspace for you corresponding to the open solution.</span></span> <span data-ttu-id="543c7-107">También es posible usar este modelo fuera de un IDE con solo cargar un archivo de solución.</span><span class="sxs-lookup"><span data-stu-id="543c7-107">It is also possible to use this model outside of an IDE by simply loading a solution file.</span></span>

## <a name="workspace"></a><span data-ttu-id="543c7-108">Área de trabajo</span><span class="sxs-lookup"><span data-stu-id="543c7-108">Workspace</span></span>

<span data-ttu-id="543c7-109">Un área de trabajo es una representación activa de la solución como una colección de proyectos, cada uno con una colección de documentos.</span><span class="sxs-lookup"><span data-stu-id="543c7-109">A workspace is an active representation of your solution as a collection of projects, each with a collection of documents.</span></span> <span data-ttu-id="543c7-110">Normalmente, un área de trabajo está asociada a un entorno de host en continuo cambio a medida que el usuario escribe o manipula las propiedades.</span><span class="sxs-lookup"><span data-stu-id="543c7-110">A workspace is typically tied to a host environment that is constantly changing as a user types or manipulates properties.</span></span>

<span data-ttu-id="543c7-111"><xref:Microsoft.CodeAnalysis.Workspace> proporciona acceso al modelo actual de la solución.</span><span class="sxs-lookup"><span data-stu-id="543c7-111">The <xref:Microsoft.CodeAnalysis.Workspace> provides access to the current model of the solution.</span></span> <span data-ttu-id="543c7-112">Cuando se produce un cambio en el entorno de host, el área de trabajo desencadena los eventos correspondientes y la propiedad <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> se actualiza.</span><span class="sxs-lookup"><span data-stu-id="543c7-112">When a change in the host environment occurs, the workspace fires corresponding events, and the <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> property is updated.</span></span> <span data-ttu-id="543c7-113">Por ejemplo, cuando el usuario escribe en un editor de texto correspondiente a uno de los documentos de origen, el área de trabajo usa un evento para indicar que ha cambiado el modelo general de la solución y qué documento se ha modificado.</span><span class="sxs-lookup"><span data-stu-id="543c7-113">For example, when the user types in a text editor corresponding to one of the source documents, the workspace uses an event to signal that the overall model of the solution has changed and which document was modified.</span></span> <span data-ttu-id="543c7-114">Luego puede reaccionar a esos cambios mediante el análisis de la corrección del nuevo modelo, resaltando las áreas de importancia o realizando una sugerencia para un cambio de código.</span><span class="sxs-lookup"><span data-stu-id="543c7-114">You can then react to those changes by analyzing the new model for correctness, highlighting areas of significance, or making a suggestion for a code change.</span></span>

<span data-ttu-id="543c7-115">También puede crear áreas de trabajo independientes desconectadas del entorno de host o que se usen en una aplicación sin entorno de host.</span><span class="sxs-lookup"><span data-stu-id="543c7-115">You can also create stand-alone workspaces that are disconnected from the host environment or used in an application that has no host environment.</span></span>

## <a name="solutions-projects-and-documents"></a><span data-ttu-id="543c7-116">Soluciones, proyectos y documentos</span><span class="sxs-lookup"><span data-stu-id="543c7-116">Solutions, projects, and documents</span></span>

<span data-ttu-id="543c7-117">Aunque un área de trabajo puede cambiar cada vez que se pulsa una tecla, puede trabajar con el modelo de la solución de forma aislada.</span><span class="sxs-lookup"><span data-stu-id="543c7-117">Although a workspace may change every time a key is pressed, you can work with the model of the solution in isolation.</span></span>

<span data-ttu-id="543c7-118">Una solución es un modelo inmutable de los proyectos y los documentos.</span><span class="sxs-lookup"><span data-stu-id="543c7-118">A solution is an immutable model of the projects and documents.</span></span> <span data-ttu-id="543c7-119">Esto significa que el modelo se puede compartir sin que haya bloqueo ni duplicación.</span><span class="sxs-lookup"><span data-stu-id="543c7-119">This means that the model can be shared without locking or duplication.</span></span> <span data-ttu-id="543c7-120">Después de obtener una instancia de solución de la propiedad <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType>, esa instancia no cambia nunca.</span><span class="sxs-lookup"><span data-stu-id="543c7-120">After you obtain a solution instance from the <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> property, that instance will never change.</span></span> <span data-ttu-id="543c7-121">Pero, al igual que con los árboles de sintaxis y las compilaciones, puede modificar soluciones mediante la creación de nuevas instancias basadas en soluciones existentes y cambios concretos.</span><span class="sxs-lookup"><span data-stu-id="543c7-121">However, like with syntax trees and compilations, you can modify solutions by constructing new instances based on existing solutions and specific changes.</span></span> <span data-ttu-id="543c7-122">Para que el área de trabajo refleje los cambios, debe aplicar explícitamente la solución modificada al área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="543c7-122">To get the workspace to reflect your changes, you must explicitly apply the changed solution back to the workspace.</span></span>

<span data-ttu-id="543c7-123">Un proyecto es una parte del modelo de solución general inmutable.</span><span class="sxs-lookup"><span data-stu-id="543c7-123">A project is a part of the overall immutable solution model.</span></span> <span data-ttu-id="543c7-124">Representa todos los documentos de código de origen, las opciones de análisis y compilación, y las referencias de ensamblado y de proyecto a proyecto.</span><span class="sxs-lookup"><span data-stu-id="543c7-124">It represents all the source code documents, parse and compilation options, and both assembly and project-to-project references.</span></span> <span data-ttu-id="543c7-125">Desde un proyecto puede acceder a la compilación correspondiente sin necesidad de determinar las dependencias del proyecto ni de analizar los archivos de origen.</span><span class="sxs-lookup"><span data-stu-id="543c7-125">From a project, you can access the corresponding compilation without needing to determine project dependencies or parse any source files.</span></span>

<span data-ttu-id="543c7-126">Un documento también es una parte del modelo de solución general inmutable.</span><span class="sxs-lookup"><span data-stu-id="543c7-126">A document is also a part of the overall immutable solution model.</span></span> <span data-ttu-id="543c7-127">Un documento representa un solo archivo de origen desde el que se puede acceder al texto del archivo, el árbol de sintaxis y el modelo semántico.</span><span class="sxs-lookup"><span data-stu-id="543c7-127">A document represents a single source file from which you can access the text of the file, the syntax tree, and the semantic model.</span></span>

<span data-ttu-id="543c7-128">El diagrama siguiente es una representación de la relación entre el área de trabajo y el entorno de host, las herramientas y cómo se realizan las modificaciones.</span><span class="sxs-lookup"><span data-stu-id="543c7-128">The following diagram is a representation of how the Workspace relates to the host environment, tools, and how edits are made.</span></span>

![Relaciones entre los distintos elementos de un área de trabajo que contiene proyectos y archivos de origen](media/work-with-workspace/workspace-obj-relations.png)

## <a name="summary"></a><span data-ttu-id="543c7-130">Resumen</span><span class="sxs-lookup"><span data-stu-id="543c7-130">Summary</span></span>

<span data-ttu-id="543c7-131">Roslyn expone un conjunto de API de compilador y API de áreas de trabajo que proporciona información detallada sobre el código fuente y que tiene plena fidelidad con los lenguajes C# y Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="543c7-131">Roslyn exposes a set of compiler APIs and Workspaces APIs that provides rich information about your source code and that has full fidelity with the C# and Visual Basic languages.</span></span>  <span data-ttu-id="543c7-132">El SDK de .NET Compiler Platform reduce notablemente la barrera para crear herramientas y aplicaciones centradas en el código.</span><span class="sxs-lookup"><span data-stu-id="543c7-132">The .NET Compiler Platform SDK dramatically lowers the barrier to entry for creating code-focused tools and applications.</span></span> <span data-ttu-id="543c7-133">Crea numerosas oportunidades para la innovación en áreas como la metaprogramación, la generación y la transformación de código, el uso interactivo de los lenguajes C# y Visual Basic, y la inserción de C# y Visual Basic en lenguajes específicos del dominio.</span><span class="sxs-lookup"><span data-stu-id="543c7-133">It creates many opportunities for innovation in areas such as meta-programming, code generation and transformation, interactive use of the C# and Visual Basic languages, and embedding of C# and Visual Basic in domain-specific languages.</span></span>  
