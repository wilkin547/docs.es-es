---
title: Diseño con tipos de referencia que aceptan valores NULL
description: En este tutorial avanzado se ofrece una introducción a los tipos de referencia que aceptan valores NULL. Sabrá expresar la intención de su diseño cuando los valores de referencia puedan ser NULL y hacer que el compilador aplique esas decisiones cuando no puedan ser NULL.
ms.date: 02/19/2019
ms.custom: mvc
ms.openlocfilehash: 842b1bb6e0d3032c6181cccf77934541754ff8ec
ms.sourcegitcommit: 8b8dd14dde727026fd0b6ead1ec1df2e9d747a48
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/27/2019
ms.locfileid: "71332333"
---
# <a name="tutorial-migrate-existing-code-with-nullable-reference-types"></a><span data-ttu-id="36c4c-104">Tutorial: Migración del código existente con tipos de referencia que admiten valores NULL</span><span class="sxs-lookup"><span data-stu-id="36c4c-104">Tutorial: Migrate existing code with nullable reference types</span></span>

<span data-ttu-id="36c4c-105">C#8 presenta **tipos de referencia que aceptan valores NULL**, qué complementan a los tipos de referencia del mismo modo que los tipos de valor que aceptan valores NULL complementan a los tipos de valor.</span><span class="sxs-lookup"><span data-stu-id="36c4c-105">C# 8 introduces **nullable reference types**, which complement reference types the same way nullable value types complement value types.</span></span> <span data-ttu-id="36c4c-106">Declarará una variable para que sea un **tipo de referencia que acepta valores NULL** anexando un elemento `?` al tipo.</span><span class="sxs-lookup"><span data-stu-id="36c4c-106">You declare a variable to be a **nullable reference type** by appending a `?` to the type.</span></span> <span data-ttu-id="36c4c-107">Por ejemplo, `string?` representa un elemento `string` que acepta valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-107">For example, `string?` represents a nullable `string`.</span></span> <span data-ttu-id="36c4c-108">Puede utilizar estos nuevos tipos para expresar más claramente la intención del diseño: algunas variables *siempre deben tener un valor*, y a otras *les puede faltar un valor*.</span><span class="sxs-lookup"><span data-stu-id="36c4c-108">You can use these new types to more clearly express your design intent: some variables *must always have a value*, others *may be missing a value*.</span></span> <span data-ttu-id="36c4c-109">Las variables existentes de un tipo de referencia se interpretarían como un tipo de referencia que no admite valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-109">Any existing variables of a reference type would be interpreted as a non-nullable reference type.</span></span> 

<span data-ttu-id="36c4c-110">En este tutorial aprenderá lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="36c4c-110">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="36c4c-111">Habilitar las comprobaciones de referencia NULL mientras trabaja con código.</span><span class="sxs-lookup"><span data-stu-id="36c4c-111">Enable null reference checks as you work with code.</span></span>
> - <span data-ttu-id="36c4c-112">Diagnosticar y corregir diferentes advertencias relacionadas con los valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-112">Diagnose and correct different warnings related to null values.</span></span>
> - <span data-ttu-id="36c4c-113">Administrar la interfaz entre contextos habilitados y deshabilitados que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-113">Manage the interface between nullable enabled and nullable disabled contexts.</span></span>
> - <span data-ttu-id="36c4c-114">Controlar contextos de anotación que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-114">Control nullable annotation contexts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="36c4c-115">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="36c4c-115">Prerequisites</span></span>

<span data-ttu-id="36c4c-116">Deberá configurar la máquina para ejecutar .NET Core, incluido el compilador de C# 8.0.</span><span class="sxs-lookup"><span data-stu-id="36c4c-116">You’ll need to set up your machine to run .NET Core, including the C# 8.0 compiler.</span></span> <span data-ttu-id="36c4c-117">El compilador de C# 8 está disponible a partir de la [versión 16.3 de Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) o del [SDK de .NET Core 3.0](https://dotnet.microsoft.com/download).</span><span class="sxs-lookup"><span data-stu-id="36c4c-117">The C# 8 compiler is available starting with [Visual Studio 2019 version 16.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) or [.NET Core 3.0 SDK](https://dotnet.microsoft.com/download).</span></span>

<span data-ttu-id="36c4c-118">En este tutorial se da por supuesto que está familiarizado con C# y. NET, incluidos Visual Studio o la CLI de .NET Core.</span><span class="sxs-lookup"><span data-stu-id="36c4c-118">This tutorial assumes you're familiar with C# and .NET, including either Visual Studio or the .NET Core CLI.</span></span>

## <a name="explore-the-sample-application"></a><span data-ttu-id="36c4c-119">Exploración de la aplicación de ejemplo</span><span class="sxs-lookup"><span data-stu-id="36c4c-119">Explore the sample application</span></span>

<span data-ttu-id="36c4c-120">La aplicación de ejemplo que va a migrar es una aplicación web de lector de fuentes RSS.</span><span class="sxs-lookup"><span data-stu-id="36c4c-120">The sample application that you'll migrate is an RSS feed reader web app.</span></span> <span data-ttu-id="36c4c-121">Esta aplicación lee una única fuente RSS y muestra los resúmenes de los artículos más recientes.</span><span class="sxs-lookup"><span data-stu-id="36c4c-121">It reads from a single RSS feed and displays summaries for the most recent articles.</span></span> <span data-ttu-id="36c4c-122">Puede hacer clic en cualquiera de los artículos para visitar el sitio.</span><span class="sxs-lookup"><span data-stu-id="36c4c-122">You can click on any of the articles to visit the site.</span></span> <span data-ttu-id="36c4c-123">La aplicación es relativamente nueva, pero se escribió antes de que estuvieran disponibles los tipos de referencia que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-123">The application is relatively new but was written before nullable reference types were available.</span></span> <span data-ttu-id="36c4c-124">Las decisiones de diseño para la aplicación representaban principios de sonido, pero no aprovechan esta importante característica del lenguaje.</span><span class="sxs-lookup"><span data-stu-id="36c4c-124">The design decisions for the application represented sound principles, but don't take advantage of this important language feature.</span></span>

<span data-ttu-id="36c4c-125">La aplicación de ejemplo incluye una biblioteca de pruebas unitarias que valida la funcionalidad principal de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="36c4c-125">The sample application includes a unit test library that validates the major functionality of the app.</span></span> <span data-ttu-id="36c4c-126">Ese proyecto facilitará la actualización de forma segura si cambia cualquiera de las implementaciones en función de las advertencias generadas.</span><span class="sxs-lookup"><span data-stu-id="36c4c-126">That project will make it easier to upgrade safely, if you change any of the implementation based on the warnings generated.</span></span> <span data-ttu-id="36c4c-127">Puede descargar el código de inicio del repositorio [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) de GitHub.</span><span class="sxs-lookup"><span data-stu-id="36c4c-127">You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span></span>

<span data-ttu-id="36c4c-128">El objetivo al migrar un proyecto debe ser aprovechar las nuevas características del lenguaje para que exprese claramente su intención sobre la capacidad de admitir valores NULL de las variables, y hacerlo de tal manera que el compilador no genere advertencias cuando los contextos de anotación y advertencia que admiten valores NULL estén establecidos en `enabled`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-128">Your goal migrating a project should be to leverage the new language features so that you clearly express your intent on the nullability of variables, and do so in such a way that the compiler doesn't generate warnings when you have the nullable annotation context and nullable warning context set to `enabled`.</span></span>

## <a name="upgrade-the-projects-to-c-8"></a><span data-ttu-id="36c4c-129">Actualización de proyectos a C# 8</span><span class="sxs-lookup"><span data-stu-id="36c4c-129">Upgrade the projects to C# 8</span></span>

<span data-ttu-id="36c4c-130">Un buen primer paso es determinar el ámbito de la tarea de migración.</span><span class="sxs-lookup"><span data-stu-id="36c4c-130">A good first step is to determine the scope of the migration task.</span></span> <span data-ttu-id="36c4c-131">Empiece por actualizar el proyecto a C# 8.0 (o posterior).</span><span class="sxs-lookup"><span data-stu-id="36c4c-131">Start by upgrading the project to C# 8.0 (or newer).</span></span> <span data-ttu-id="36c4c-132">Agregue el elemento `LangVersion` a ambos archivos csproj para el proyecto web y el proyecto de prueba unitaria:</span><span class="sxs-lookup"><span data-stu-id="36c4c-132">Add the `LangVersion` element to both csproj files for the web project and the unit test project:</span></span>

```xml
<LangVersion>8.0</LangVersion>
```

<span data-ttu-id="36c4c-133">La actualización de la versión de idioma selecciona C# 8.0, pero no habilita los contextos de anotación y de advertencia que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-133">Upgrading the language version selects C# 8.0, but does not enable the nullable annotation context or the nullable warning context.</span></span> <span data-ttu-id="36c4c-134">Recompile el proyecto para asegurarse de que se compila sin advertencias.</span><span class="sxs-lookup"><span data-stu-id="36c4c-134">Rebuild the project to ensure that it builds without warnings.</span></span>

<span data-ttu-id="36c4c-135">Un buen paso es activar el contexto de anotación que admite valores NULL y ver cuántas advertencias se generan.</span><span class="sxs-lookup"><span data-stu-id="36c4c-135">A good next step is to turn on the nullable annotation context and see how many warnings are generated.</span></span> <span data-ttu-id="36c4c-136">Agregue el siguiente elemento a ambos archivos csproj de la solución, directamente bajo el elemento `LangVersion`:</span><span class="sxs-lookup"><span data-stu-id="36c4c-136">Add the following element to both csproj files in the solution, directly under the `LangVersion` element:</span></span>

```xml
<Nullable>enable</Nullable>
```

<span data-ttu-id="36c4c-137">Realice una compilación de prueba y observe la lista de advertencias.</span><span class="sxs-lookup"><span data-stu-id="36c4c-137">Do a test build, and notice the warning list.</span></span> <span data-ttu-id="36c4c-138">En esta pequeña aplicación, el compilador genera cinco advertencias, por lo que es probable que dejara el contexto de anotación que admite valores NULL habilitado y empezara a corregir las advertencias para todo el proyecto.</span><span class="sxs-lookup"><span data-stu-id="36c4c-138">In this small application, the compiler generates five warnings, so it's likely you'd leave the nullable annotation context enabled and start fixing warnings for the entire project.</span></span>

<span data-ttu-id="36c4c-139">Esa estrategia solo funciona para los proyectos más pequeños.</span><span class="sxs-lookup"><span data-stu-id="36c4c-139">That strategy works only for smaller projects.</span></span> <span data-ttu-id="36c4c-140">Para los proyectos más grandes, el número de advertencias generadas al habilitar el contexto de anotación que admite valores NULL para todo el código base dificulta la corrección de las advertencias de forma sistemática.</span><span class="sxs-lookup"><span data-stu-id="36c4c-140">For any larger projects, the number of warnings generated by enabling the nullable annotation context for the entire codebase makes it harder to fix the warnings systematically.</span></span> <span data-ttu-id="36c4c-141">Para los proyectos empresariales más grandes, suele ser conveniente migrar los proyectos de uno en uno.</span><span class="sxs-lookup"><span data-stu-id="36c4c-141">For larger enterprise projects, you'll often want to migrate one project at a time.</span></span> <span data-ttu-id="36c4c-142">En cada proyecto, migre una clase o un archivo de uno en uno.</span><span class="sxs-lookup"><span data-stu-id="36c4c-142">In each project, migrate one class or file at a time.</span></span>

## <a name="warnings-help-discover-original-design-intent"></a><span data-ttu-id="36c4c-143">Las advertencias ayudan a detectar la intención del diseño original</span><span class="sxs-lookup"><span data-stu-id="36c4c-143">Warnings help discover original design intent</span></span>

<span data-ttu-id="36c4c-144">Hay dos clases que generan varias advertencias.</span><span class="sxs-lookup"><span data-stu-id="36c4c-144">There are two classes that generate multiple warnings.</span></span> <span data-ttu-id="36c4c-145">Empiece con la clase `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-145">Start with the `NewsStoryViewModel` class.</span></span> <span data-ttu-id="36c4c-146">Quite el elemento `Nullable` de ambos archivos csproj de forma que pueda limitar el ámbito de las advertencias para las secciones de código con las que está trabajando.</span><span class="sxs-lookup"><span data-stu-id="36c4c-146">Remove the `Nullable` element from both csproj files so that you can limit the scope of warnings to the sections of code you're working with.</span></span> <span data-ttu-id="36c4c-147">Abra el archivo *NewsStoryViewModel.cs* y agregue las siguientes directivas para habilitar el contexto de anotación que admite valores NULL para `NewsStoryViewModel` y restáurelo siguiendo esa definición de clase:</span><span class="sxs-lookup"><span data-stu-id="36c4c-147">Open the *NewsStoryViewModel.cs* file and add the following directives to enable the nullable annotation context for the `NewsStoryViewModel` and restore it following that class definition:</span></span>

```csharp
#nullable enable
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; }
    public string Uri { get; set; }
}
#nullable restore
```

<span data-ttu-id="36c4c-148">Estas dos directivas le ayudan a centrar sus esfuerzos en la migración.</span><span class="sxs-lookup"><span data-stu-id="36c4c-148">These two directives help you focus your migration efforts.</span></span> <span data-ttu-id="36c4c-149">Las advertencias que admiten valores NULL se generan para el área del código en el que está trabajando activamente.</span><span class="sxs-lookup"><span data-stu-id="36c4c-149">The nullable warnings are generated for the area of code you're actively working on.</span></span> <span data-ttu-id="36c4c-150">Podrá dejarlas hasta que esté listo para activar las advertencias para todo el proyecto.</span><span class="sxs-lookup"><span data-stu-id="36c4c-150">You'll leave them on until you're ready to turn on the warnings for the entire project.</span></span> <span data-ttu-id="36c4c-151">Debe usar `restore` en lugar del valor `disable` para que no deshabilite accidentalmente el contexto más adelante cuando haya activado las anotaciones que admiten valores NULL para todo el proyecto.</span><span class="sxs-lookup"><span data-stu-id="36c4c-151">You should use the `restore` rather than `disable` value so that you don't accidentally disable the context later when you've turned on nullable annotations for the entire project.</span></span> <span data-ttu-id="36c4c-152">Cuando haya activado el contexto de anotación que admite valores NULL para todo el proyecto, podrá quitar todas las pragmas `#nullable` de ese proyecto.</span><span class="sxs-lookup"><span data-stu-id="36c4c-152">Once you've turned on the nullable annotation context for the entire project, you can remove all the `#nullable` pragmas from that project.</span></span>

<span data-ttu-id="36c4c-153">La clase `NewsStoryViewModel` es un objeto de transferencia de datos (DTO) y dos de las propiedades son cadenas de lectura y escritura:</span><span class="sxs-lookup"><span data-stu-id="36c4c-153">The `NewsStoryViewModel` class is a data transfer object (DTO) and two of the properties are read/write strings:</span></span>

[!code-csharp[InitialViewModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#StarterViewModel)]

<span data-ttu-id="36c4c-154">Estas dos propiedades generan `CS8618`, "La propiedad que admite valores NULL no está inicializada".</span><span class="sxs-lookup"><span data-stu-id="36c4c-154">These two properties cause `CS8618`, "Non-nullable property is uninitialized".</span></span> <span data-ttu-id="36c4c-155">Eso es muy claro: ambas propiedades `string` tienen el valor predeterminado de `null` cuando `NewsStoryViewModel` se construye.</span><span class="sxs-lookup"><span data-stu-id="36c4c-155">That's clear enough: both `string` properties have the default value of `null` when a `NewsStoryViewModel` is constructed.</span></span> <span data-ttu-id="36c4c-156">Lo que es importante descubrir es cómo se construyen los objetos `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-156">What's important to discover is how `NewsStoryViewModel` objects are constructed.</span></span> <span data-ttu-id="36c4c-157">Examinando esta clase no puede saber si el valor de `null` es parte del diseño o si estos objetos se establecen en valores que no admiten valores NULL siembre que se crea uno.</span><span class="sxs-lookup"><span data-stu-id="36c4c-157">Looking at this class, you can't tell if the `null` value is part of the design, or if these objects are set to non-null values whenever one is created.</span></span> <span data-ttu-id="36c4c-158">Los artículos de noticias se crean en el método `GetNews` de la clase `NewsService`:</span><span class="sxs-lookup"><span data-stu-id="36c4c-158">The news stories are created in the `GetNews` method of the `NewsService` class:</span></span>

[!code-csharp[StarterCreateNewsItem](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#CreateNewsItem)]

<span data-ttu-id="36c4c-159">Suceden algunas cosas en el bloque de código anterior.</span><span class="sxs-lookup"><span data-stu-id="36c4c-159">There's quite a bit going on in the preceding block of code.</span></span> <span data-ttu-id="36c4c-160">Esta aplicación usa el paquete NuGet [AutoMapper](https://automapper.org/) para construir un elemento de noticias a partir de `ISyndicationItem`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-160">This application uses the [AutoMapper](https://automapper.org/) NuGet package to construct a news item from an `ISyndicationItem`.</span></span> <span data-ttu-id="36c4c-161">Ha detectado que los elementos de artículo de noticias se construyen y las propiedades se establecen en esa instrucción.</span><span class="sxs-lookup"><span data-stu-id="36c4c-161">You've discovered that the news story items are constructed and the properties are set in that one statement.</span></span> <span data-ttu-id="36c4c-162">Esto significa que el diseño de `NewsStoryViewModel` indica que estas propiedades nunca deben tener el valor `null`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-162">That means the design for the `NewsStoryViewModel` indicates that these properties should never have the `null` value.</span></span> <span data-ttu-id="36c4c-163">Estas propiedades deben ser **tipos de referencia que no admiten valores NULL**.</span><span class="sxs-lookup"><span data-stu-id="36c4c-163">These properties should be **nonnullable reference types**.</span></span> <span data-ttu-id="36c4c-164">Eso expresa mejor la intención del diseño original.</span><span class="sxs-lookup"><span data-stu-id="36c4c-164">That best expresses the original design intent.</span></span> <span data-ttu-id="36c4c-165">De hecho, para `NewsStoryViewModel`, *se* crean instancias correctamente con valores no NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-165">In fact, any `NewsStoryViewModel` *is* correctly instantiated with non-null values.</span></span> <span data-ttu-id="36c4c-166">Eso convierte al siguiente código de inicialización en una corrección válida:</span><span class="sxs-lookup"><span data-stu-id="36c4c-166">That makes the following initialization code a valid fix:</span></span>

```csharp
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; } = default!;
    public string Uri { get; set; } = default!;
}
```

<span data-ttu-id="36c4c-167">La asignación de `Title` y `Uri` a `default` que es `null` para el `string` tipo no cambia el comportamiento en tiempo de ejecución del programa.</span><span class="sxs-lookup"><span data-stu-id="36c4c-167">The assignment of `Title` and `Uri` to `default` which is `null` for the `string` type doesn't change the runtime behavior of the program.</span></span> <span data-ttu-id="36c4c-168">`NewsStoryViewModel` se sigue construyendo con valores NULL, pero ahora el compilador no informa de ninguna advertencia.</span><span class="sxs-lookup"><span data-stu-id="36c4c-168">The `NewsStoryViewModel` is still constructed with null values, but now the compiler reports no warnings.</span></span> <span data-ttu-id="36c4c-169">El **operador que permite valores NULL**, el carácter `!` que sigue a la expresión `default`, indica al compilador que la expresión anterior no es NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-169">The **null-forgiving operator**, the `!` character following the `default` expression tells the compiler that the preceding expression is not null.</span></span> <span data-ttu-id="36c4c-170">Esta técnica puede ser conveniente cuando otros cambios fuerzan cambios mucho mayores en una base de código, pero en esta aplicación hay una solución relativamente rápida y mejor: convierta a `NewsStoryViewModel` en un tipo inmutable donde todas las propiedades se establecen en el constructor.</span><span class="sxs-lookup"><span data-stu-id="36c4c-170">This technique may be expedient when other changes force much larger changes to a code base, but in this application there is a relatively quick and better solution: Make the `NewsStoryViewModel` an immutable type where all the properties are set in the constructor.</span></span> <span data-ttu-id="36c4c-171">Realice los cambios siguientes en `NewsStoryViewModel`:</span><span class="sxs-lookup"><span data-stu-id="36c4c-171">Make the following changes to the `NewsStoryViewModel`:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#FinishedViewModel)]

<span data-ttu-id="36c4c-172">Una vez hecho esto, deberá actualizar el código que configura AutoMapper para que utilice el constructor en lugar de establecer las propiedades.</span><span class="sxs-lookup"><span data-stu-id="36c4c-172">Once that's done, you need to update the code that configures the AutoMapper so that it uses the constructor rather than setting properties.</span></span> <span data-ttu-id="36c4c-173">Abra `NewsService.cs` y busque el código siguiente en la parte inferior del archivo:</span><span class="sxs-lookup"><span data-stu-id="36c4c-173">Open `NewsService.cs` and look for the following code at the bottom of the file:</span></span>

[!code-csharp[StarterAutoMapper](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="36c4c-174">Ese código asigna las propiedades del objeto `ISyndicationItem` a las propiedades de `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-174">That code maps properties of the `ISyndicationItem` object to the `NewsStoryViewModel` properties.</span></span> <span data-ttu-id="36c4c-175">Desea AutoMapper para proporcionar la asignación mediante un constructor.</span><span class="sxs-lookup"><span data-stu-id="36c4c-175">You want the AutoMapper to provide the mapping using a constructor instead.</span></span> <span data-ttu-id="36c4c-176">Reemplace el código anterior con la siguiente configuración de AutoMapper:</span><span class="sxs-lookup"><span data-stu-id="36c4c-176">Replace the above code with the following automapper configuration:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="36c4c-177">Tenga en cuenta que, dado que esta clase es pequeña y ha realizado un examinen meticuloso, debe activar la directiva `#nullable enable` sobre esta declaración de clase.</span><span class="sxs-lookup"><span data-stu-id="36c4c-177">Notice that because this class is small, and you've examined carefully, you should turn on the `#nullable enable` directive above this class declaration.</span></span> <span data-ttu-id="36c4c-178">El cambio en el constructor podría haberse interrumpido en cierta medida, por lo que vale la pena ejecutar todas las pruebas y probar la aplicación antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="36c4c-178">The change to the constructor could have broken something, so it's worthwhile to run all the tests and test the application before moving on.</span></span>

<span data-ttu-id="36c4c-179">El primer conjunto de cambios le mostraba cómo detectar cuándo el diseño original indicaba que las variables no debían establecerse en `null`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-179">The first set of changes showed you how to discover when the original design indicated that variables shouldn't be set to `null`.</span></span> <span data-ttu-id="36c4c-180">La técnica se conoce como **correcto por construcción**.</span><span class="sxs-lookup"><span data-stu-id="36c4c-180">The technique is referred to as **correct by construction**.</span></span> <span data-ttu-id="36c4c-181">Declara que un objeto y sus propiedades no pueden ser `null` cuando se construye.</span><span class="sxs-lookup"><span data-stu-id="36c4c-181">You declare that an object and its properties cannot be `null` when it's constructed.</span></span> <span data-ttu-id="36c4c-182">El análisis de flujo del compilador proporciona garantía de que esas propiedades no están establecidas en `null` después de la construcción.</span><span class="sxs-lookup"><span data-stu-id="36c4c-182">The compiler's flow analysis provides assurance that those properties aren't set to `null` after construction.</span></span> <span data-ttu-id="36c4c-183">Tenga en cuenta que el código externo llama a este constructor y, dicho código, es **ajeno a la admisión de valores NULL**.</span><span class="sxs-lookup"><span data-stu-id="36c4c-183">Note that this constructor is called by external code, and that code is **nullable oblivious**.</span></span> <span data-ttu-id="36c4c-184">La nueva sintaxis no proporciona comprobación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="36c4c-184">The new syntax doesn't provide runtime checking.</span></span> <span data-ttu-id="36c4c-185">El código externo podría eludir el análisis de flujo del compilador.</span><span class="sxs-lookup"><span data-stu-id="36c4c-185">External code might circumvent the compiler's flow analysis.</span></span> 

<span data-ttu-id="36c4c-186">En otras ocasiones, la estructura de una clase proporciona pistas diferentes a la intención.</span><span class="sxs-lookup"><span data-stu-id="36c4c-186">Other times, the structure of a class provides different clues to the intent.</span></span> <span data-ttu-id="36c4c-187">Abra el archivo *Error.cshtml.cs* en la carpeta *Páginas*.</span><span class="sxs-lookup"><span data-stu-id="36c4c-187">Open the *Error.cshtml.cs* file in the *Pages* folder.</span></span> <span data-ttu-id="36c4c-188">`ErrorViewModel` contiene el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="36c4c-188">The `ErrorViewModel` contains the following code:</span></span>

[!code-csharp[StarterErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Error.cshtml.cs#StartErrorModel)]

<span data-ttu-id="36c4c-189">Agregue la directiva `#nullable enable` antes de la declaración de clase y una directiva `#nullable restore` después de ella.</span><span class="sxs-lookup"><span data-stu-id="36c4c-189">Add the `#nullable enable` directive before the class declaration, and a `#nullable restore` directive after it.</span></span> <span data-ttu-id="36c4c-190">Recibirá una advertencia que indica que `RequestId` no se ha inicializado.</span><span class="sxs-lookup"><span data-stu-id="36c4c-190">You'll get one warning that `RequestId` is not initialized.</span></span> <span data-ttu-id="36c4c-191">Si examina la clase, debe decidir que la propiedad `RequestId` debe ser NULL en algunos casos.</span><span class="sxs-lookup"><span data-stu-id="36c4c-191">By looking at the class, you should decide that the `RequestId` property should be null in some cases.</span></span> <span data-ttu-id="36c4c-192">La existencia de la propiedad `ShowRequestId` indica que puede haber valores que faltan.</span><span class="sxs-lookup"><span data-stu-id="36c4c-192">The existence of the `ShowRequestId` property indicates that missing values are possible.</span></span> <span data-ttu-id="36c4c-193">Dado que `null` es válido, agregue `?` en el tipo `string` para indicar que la propiedad `RequestId` es un *tipo de referencia que admite valores NULL*.</span><span class="sxs-lookup"><span data-stu-id="36c4c-193">Because `null` is valid, add the `?` on the `string` type to indicate the `RequestId` property is a *nullable reference type*.</span></span> <span data-ttu-id="36c4c-194">La clase final se parece al ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="36c4c-194">The final class looks like the following example:</span></span>

[!code-csharp[FinishedErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Error.cshtml.cs#ErrorModel)]

<span data-ttu-id="36c4c-195">Compruebe los usos de la propiedad y verá que, en la página asociada, se comprueba si la propiedad es NULL antes de representarla en el marcado.</span><span class="sxs-lookup"><span data-stu-id="36c4c-195">Check for the uses of the property, and you see that in the associated page, the property is checked for null before rendering it in markup.</span></span> <span data-ttu-id="36c4c-196">Ese es un uso seguro de un tipo de referencia que admite valores NULL, por lo que ha terminado con esta clase.</span><span class="sxs-lookup"><span data-stu-id="36c4c-196">That's a safe use of a nullable reference type, so you're done with this class.</span></span>

## <a name="fixing-nulls-causes-change"></a><span data-ttu-id="36c4c-197">La corrección de valores NULL provoca cambio</span><span class="sxs-lookup"><span data-stu-id="36c4c-197">Fixing nulls causes change</span></span>

<span data-ttu-id="36c4c-198">Con frecuencia, la corrección de un conjunto de advertencias crea nuevas advertencias de código relacionado.</span><span class="sxs-lookup"><span data-stu-id="36c4c-198">Frequently, the fix for one set of warnings creates new warnings in related code.</span></span> <span data-ttu-id="36c4c-199">Vamos a ver las advertencias en acción mediante la corrección de la clase `index.cshtml.cs`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-199">Let's see the warnings in action by fixing the `index.cshtml.cs` class.</span></span> <span data-ttu-id="36c4c-200">Abra el archivo `index.cshtml.cs` y examine el código.</span><span class="sxs-lookup"><span data-stu-id="36c4c-200">Open the `index.cshtml.cs` file and examine the code.</span></span> <span data-ttu-id="36c4c-201">Este archivo contiene el código de la página de índice:</span><span class="sxs-lookup"><span data-stu-id="36c4c-201">This file contains the code behind for the index page:</span></span>

[!code-csharp[StarterIndexModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Index.cshtml.cs#IndexModelStart)]

<span data-ttu-id="36c4c-202">Agregue la directiva `#nullable enable` y verá dos advertencias.</span><span class="sxs-lookup"><span data-stu-id="36c4c-202">Add the `#nullable enable` directive and you'll see two warnings.</span></span> <span data-ttu-id="36c4c-203">Ni la propiedad `ErrorText` ni la propiedad `NewsItems` se inicializan.</span><span class="sxs-lookup"><span data-stu-id="36c4c-203">Neither the `ErrorText` property nor the `NewsItems` property is initialized.</span></span> <span data-ttu-id="36c4c-204">Al examinar esta clase se llegará a la conclusión de que ambas propiedades deben ser tipos de referencia que admiten valores NULL: Ambas tienen establecedores privados.</span><span class="sxs-lookup"><span data-stu-id="36c4c-204">An examination of this class would lead you to believe that both properties should be nullable reference types: Both have private setters.</span></span> <span data-ttu-id="36c4c-205">Se asigna exactamente una en el método `OnGet`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-205">Exactly one is assigned in the `OnGet` method.</span></span> <span data-ttu-id="36c4c-206">Antes de realizar cambios, examine los consumidores de ambas propiedades.</span><span class="sxs-lookup"><span data-stu-id="36c4c-206">Before making changes, look at the consumers of both properties.</span></span> <span data-ttu-id="36c4c-207">En la propia página, `ErrorText` se comprueba con NULL antes de generar el marcado para los errores.</span><span class="sxs-lookup"><span data-stu-id="36c4c-207">In the page itself, the `ErrorText` is checked against null before generating markup for any errors.</span></span> <span data-ttu-id="36c4c-208">La colección `NewsItems` se compara con `null` y se comprueba para asegurar que tiene elementos.</span><span class="sxs-lookup"><span data-stu-id="36c4c-208">The `NewsItems` collection is checked against `null`, and checked to ensure the collection has items.</span></span> <span data-ttu-id="36c4c-209">Una corrección rápida sería convertir ambas propiedades en tipos de referencia que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-209">A quick fix would be to make both properties nullable reference types.</span></span> <span data-ttu-id="36c4c-210">Una corrección mejor sería convertir a la colección en un tipo de referencia que no admite valores NULL y agregar elementos a la colección existente cuando se recuperan noticias.</span><span class="sxs-lookup"><span data-stu-id="36c4c-210">A better fix would be to make the collection a nonnullable reference type, and add items to the existing collection when retrieving news.</span></span> <span data-ttu-id="36c4c-211">La primera corrección consiste en agregar `?` al tipo `string` para `ErrorText`:</span><span class="sxs-lookup"><span data-stu-id="36c4c-211">The first fix is to add the `?` to the `string` type for the `ErrorText`:</span></span>

[!code-csharp[UpdateErrorText](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#UpdateErrorText)]

<span data-ttu-id="36c4c-212">Ese cambio no se propagará por otro código, porque cualquier acceso a la propiedad `ErrorText` ya estaba protegido por comprobaciones NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-212">That change won't ripple through other code, because any access to the `ErrorText` property was already guarded by null checks.</span></span> <span data-ttu-id="36c4c-213">A continuación, inicialice la lista `NewsItems` y quite el establecedor de propiedad, convirtiéndola en una propiedad de solo lectura:</span><span class="sxs-lookup"><span data-stu-id="36c4c-213">Next, initialize the `NewsItems` list and remove the property setter, making it a readonly property:</span></span>

[!code-csharp[InitializeNewsItems](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#InitializeNewsItems)]

<span data-ttu-id="36c4c-214">Esa acción corrigió la advertencia pero introdujo un error.</span><span class="sxs-lookup"><span data-stu-id="36c4c-214">That fixed the warning but introduced an error.</span></span> <span data-ttu-id="36c4c-215">La lista `NewsItems` es ahora **correcta por construcción**, pero el código que establece la lista en `OnGet` debe cambiar para que coincida con la nueva API.</span><span class="sxs-lookup"><span data-stu-id="36c4c-215">The `NewsItems` list is now **correct by construction**, but the code that sets the list in `OnGet` must change to match the new API.</span></span> <span data-ttu-id="36c4c-216">En lugar de una asignación, llame a `AddRange` para agregar los elementos de noticias a la lista existente:</span><span class="sxs-lookup"><span data-stu-id="36c4c-216">Instead of an assignment, call `AddRange` to add the news items to the existing list:</span></span>

[!code-csharp[AddRange](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#AddRange)]

<span data-ttu-id="36c4c-217">El uso de `AddRange` en lugar de una asignación significa que el método `GetNews` puede devolver `IEnumerable` en lugar de `List`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-217">Using `AddRange` instead of an assignment means that the `GetNews` method can return an `IEnumerable` instead of a `List`.</span></span> <span data-ttu-id="36c4c-218">Eso guarda una asignación.</span><span class="sxs-lookup"><span data-stu-id="36c4c-218">That saves one allocation.</span></span> <span data-ttu-id="36c4c-219">Cambie la firma del método y quite la llamada `ToList`, como se muestra en el ejemplo de código siguiente:</span><span class="sxs-lookup"><span data-stu-id="36c4c-219">Change the signature of the method, and remove the `ToList` call, as shown in the following code sample:</span></span>

[!code-csharp[GetNews](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#GetNewsFinished)]

<span data-ttu-id="36c4c-220">El cambio de firma también rompe una de las pruebas.</span><span class="sxs-lookup"><span data-stu-id="36c4c-220">Changing the signature breaks one of tests as well.</span></span> <span data-ttu-id="36c4c-221">Abra el archivo `NewsServiceTests.cs` de la carpeta `Services` del proyecto `SimpleFeedReader.Tests`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-221">Open the `NewsServiceTests.cs` file in the `Services` folder of the `SimpleFeedReader.Tests` project.</span></span> <span data-ttu-id="36c4c-222">Vaya a la prueba `Returns_News_Stories_Given_Valid_Uri` y cambie el tipo de la variable `result` a `IEnumerable<NewsItem>`.</span><span class="sxs-lookup"><span data-stu-id="36c4c-222">Navigate to the `Returns_News_Stories_Given_Valid_Uri` test and change the type of the `result` variable to `IEnumerable<NewsItem>`.</span></span> <span data-ttu-id="36c4c-223">El cambio de tipo significa que la propiedad `Count` ya no está disponible, por tanto, reemplace la propiedad `Count` en `Assert` con una llamada a `Any()`:</span><span class="sxs-lookup"><span data-stu-id="36c4c-223">Changing the type means the `Count` property is no longer available, so replace the `Count` property in the `Assert` with a call to `Any()`:</span></span>

[!code-csharp[FixTests](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader.Tests/Services/NewsServiceTests.cs#FixTestSignature)]

<span data-ttu-id="36c4c-224">También deberá agregar una instrucción `using System.Linq` al principio del archivo.</span><span class="sxs-lookup"><span data-stu-id="36c4c-224">You'll need to add a `using System.Linq` statement to the beginning of the file as well.</span></span>

<span data-ttu-id="36c4c-225">Este conjunto de cambios resalta una consideración especial al actualizar el código que incluye creación de instancias genéricas.</span><span class="sxs-lookup"><span data-stu-id="36c4c-225">This set of changes highlights special consideration when updating code that includes generic instantiations.</span></span> <span data-ttu-id="36c4c-226">La lista y los elementos de la lista de tipos que no admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-226">Both the list and the elements in the list of non-nullable types.</span></span> <span data-ttu-id="36c4c-227">Uno o ambos podrían ser tipos que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-227">Either or both could be nullable types.</span></span> <span data-ttu-id="36c4c-228">Se permiten todas las declaraciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="36c4c-228">All the following declarations are allowed:</span></span>

- <span data-ttu-id="36c4c-229">`List<NewsStoryViewModel>`: lista que no admite valores NULL de modelos de vista que no admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-229">`List<NewsStoryViewModel>`: nonnullable list of nonullable view models.</span></span>
- <span data-ttu-id="36c4c-230">`List<NewsStoryViewModel?>`: lista que no admite valores NULL de modelos de vista que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-230">`List<NewsStoryViewModel?>`: nonnullable list of nullable view models.</span></span>
- <span data-ttu-id="36c4c-231">`List<NewsStoryViewModel>?`: lista que admite valores NULL de modelos de vista que no admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-231">`List<NewsStoryViewModel>?`: nullable list of nonnullable view models.</span></span>
- <span data-ttu-id="36c4c-232">`List<NewsStoryViewModel?>?`: lista que admite valores NULL de modelos de vista que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-232">`List<NewsStoryViewModel?>?`: nullable list of nullable view models.</span></span>

## <a name="interfaces-with-external-code"></a><span data-ttu-id="36c4c-233">Interfaces con código externo</span><span class="sxs-lookup"><span data-stu-id="36c4c-233">Interfaces with external code</span></span>

<span data-ttu-id="36c4c-234">Ha realizado cambios en la clase `NewsService`, así que active la anotación `#nullable enable` para esa clase.</span><span class="sxs-lookup"><span data-stu-id="36c4c-234">You've made changes to the `NewsService` class, so turn on the `#nullable enable` annotation for that class.</span></span> <span data-ttu-id="36c4c-235">Esto no generará nuevas advertencias.</span><span class="sxs-lookup"><span data-stu-id="36c4c-235">This won't generate any new warnings.</span></span> <span data-ttu-id="36c4c-236">Sin embargo, un examen cuidadoso de la clase ayuda a ilustrar algunas de las limitaciones del análisis de flujo del compilador.</span><span class="sxs-lookup"><span data-stu-id="36c4c-236">However, careful examination of the class helps to illustrate some of the limitations of the compiler's flow analysis.</span></span> <span data-ttu-id="36c4c-237">Examine el constructor:</span><span class="sxs-lookup"><span data-stu-id="36c4c-237">Examine the constructor:</span></span>

[!code-csharp[ServiceConstructor](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ServiceConstructor)]

<span data-ttu-id="36c4c-238">El parámetro `IMapper` se escribe como una referencia que no admite valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-238">The `IMapper` parameter is typed as a nonnullable reference.</span></span> <span data-ttu-id="36c4c-239">El código de infraestructura de ASP.NET Core lo llama, por lo que el compilador realmente no sabe que `IMapper` nunca será NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-239">It's called by ASP.NET Core infrastructure code, so the compiler doesn't really know that the `IMapper` will never be null.</span></span> <span data-ttu-id="36c4c-240">El contenedor predeterminado de inyección de dependencias (DI) de ASP.NET Core inicia una excepción si no se puede resolver un servicio necesario, por lo que el código es correcto.</span><span class="sxs-lookup"><span data-stu-id="36c4c-240">The default ASP.NET Core dependency injection (DI) container throws an exception if it can't resolve a necessary service, so the code is correct.</span></span> <span data-ttu-id="36c4c-241">El compilador no puede validar todas las llamadas a las API públicas, incluso si el código se compila con contextos de anotación que acepta valores NULL habilitados.</span><span class="sxs-lookup"><span data-stu-id="36c4c-241">The compiler can't validate all calls to your public APIs, even if your code is compiled with nullable annotation contexts enabled.</span></span> <span data-ttu-id="36c4c-242">Además, las bibliotecas pueden ser consumidas por proyectos que aún no han participado mediante tipos de referencia que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-242">Furthermore, your libraries may be consumed by projects that have not yet opted into using nullable reference types.</span></span> <span data-ttu-id="36c4c-243">Valide las entradas en API públicas aunque las haya declarado como tipos que no admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-243">Validate inputs to public APIs even though you've declared them as nonnullable types.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="36c4c-244">Obtención del código</span><span class="sxs-lookup"><span data-stu-id="36c4c-244">Get the code</span></span>

<span data-ttu-id="36c4c-245">Ha corregido las advertencias que identificó en la compilación de prueba inicial, así que ahora puede activar el contexto de anotación que acepta valores NULL para ambos proyectos.</span><span class="sxs-lookup"><span data-stu-id="36c4c-245">You've fixed the warnings you identified in the initial test compile, so now you can turn on the nullable annotation context for both projects.</span></span> <span data-ttu-id="36c4c-246">Vuelva a compilar los proyectos; el compilador no notifica advertencias.</span><span class="sxs-lookup"><span data-stu-id="36c4c-246">Rebuild the projects; the compiler reports no warnings.</span></span> <span data-ttu-id="36c4c-247">Puede obtener el código del proyecto finalizado en el repositorio [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) de GitHub.</span><span class="sxs-lookup"><span data-stu-id="36c4c-247">You can get the code for the finished project in the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) GitHub repository.</span></span>

<span data-ttu-id="36c4c-248">Las nuevas características compatibles con tipos de referencia que admiten valores NULL le ayudan a encontrar y corregir los posibles errores en la forma de controlar valores `null` en el código.</span><span class="sxs-lookup"><span data-stu-id="36c4c-248">The new features that support nullable reference types help you find and fix potential errors in how you handle `null` values in your code.</span></span> <span data-ttu-id="36c4c-249">La habilitación del contexto de anotación que acepta valores NULL permite expresar la intención del diseño: algunas variables nunca deberían ser NULL y otras pueden contener valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-249">Enabling the nullable annotation context allows you to express your design intent: some variables should never be null, other variables may contain null values.</span></span> <span data-ttu-id="36c4c-250">Estas características hacen que sea más fácil declarar la intención del diseño.</span><span class="sxs-lookup"><span data-stu-id="36c4c-250">These features make it easier for you to declare your design intent.</span></span> <span data-ttu-id="36c4c-251">De forma similar, el contexto de advertencia que admite valores NULL indica al compilador que emita advertencias cuando se haya infringido dicha intención.</span><span class="sxs-lookup"><span data-stu-id="36c4c-251">Similarly, the nullable warning context instructs the compiler to issue warnings when you have violated that intent.</span></span> <span data-ttu-id="36c4c-252">Esas advertencias le guían para realizar actualizaciones que hacen que el código sea más resistente y tenga menos probabilidad de iniciar `NullReferenceException` durante la ejecución.</span><span class="sxs-lookup"><span data-stu-id="36c4c-252">Those warnings guide you to make updates that make your code more resilient and less likely to throw a `NullReferenceException` during execution.</span></span> <span data-ttu-id="36c4c-253">Puede controlar el ámbito de estos contextos para que pueda centrarse en áreas locales del código que desea migrar mientras el código base restante permanece intacto.</span><span class="sxs-lookup"><span data-stu-id="36c4c-253">You can control the scope of these contexts so that you can focus on local areas of code to migrate while the remaining codebase is untouched.</span></span> <span data-ttu-id="36c4c-254">En la práctica, puede hacer que esta tarea de migración sea una parte del mantenimiento convencional de las clases.</span><span class="sxs-lookup"><span data-stu-id="36c4c-254">In practice, you can make this migration task a part of regular maintenance to your classes.</span></span> <span data-ttu-id="36c4c-255">En este tutorial se ha mostrado el proceso para migrar una aplicación para usar tipos de referencia que admiten valores NULL.</span><span class="sxs-lookup"><span data-stu-id="36c4c-255">This tutorial demonstrated the process to migrate an application to use nullable reference types.</span></span> <span data-ttu-id="36c4c-256">Puede explorar un ejemplo más grande real de este proceso mediante el examen del repositorio popular [Jon Skeet](https://github.com/jskeet) creado para incorporar tipos de referencia que admitan valores NULL en [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span><span class="sxs-lookup"><span data-stu-id="36c4c-256">You can explore a larger real-world example of this process by examining the PR [Jon Skeet](https://github.com/jskeet) made to incorporate nullable reference types into [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span></span>
