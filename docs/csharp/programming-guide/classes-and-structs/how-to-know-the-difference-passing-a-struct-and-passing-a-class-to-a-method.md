---
title: Procedimiento para saber las diferencias entre pasar a un método un struct y una referencia a clase - Guía de programación de C#
description: El proceso de pasar un struct a un método es diferente de pasar una instancia de clase a un método en C#. En este ejemplo se muestra la instancia de struct y de clase pasada por valor.
ms.date: 07/20/2015
helpviewer_keywords:
- structs [C#], passing as method parameter
- passing parameters [C#], structs vs. classes
- methods [C#], passing classes vs. structs
ms.topic: how-to
ms.custom: contperf-fy21q2
ms.assetid: 9c1313a6-32a8-4ea7-a59f-450f66af628b
ms.openlocfilehash: a4d969617b450fcd788764e97afe3aa1ff19a48c
ms.sourcegitcommit: 8299abfbd5c49b596d61f1e4d09bc6b8ba055b36
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/27/2021
ms.locfileid: "98898806"
---
# <a name="how-to-know-the-difference-between-passing-a-struct-and-passing-a-class-reference-to-a-method-c-programming-guide"></a><span data-ttu-id="79766-104">Procedimiento para saber las diferencias entre pasar a un método un struct y una referencia a clase (Guía de programación de C#)</span><span class="sxs-lookup"><span data-stu-id="79766-104">How to know the difference between passing a struct and passing a class reference to a method (C# Programming Guide)</span></span>

<span data-ttu-id="79766-105">En el ejemplo siguiente se muestra cómo pasar un [struct](../../language-reference/builtin-types/struct.md) a un método es diferente de pasar una instancia de [clase](../../language-reference/keywords/class.md) a un método.</span><span class="sxs-lookup"><span data-stu-id="79766-105">The following example demonstrates how passing a [struct](../../language-reference/builtin-types/struct.md) to a method differs from passing a [class](../../language-reference/keywords/class.md) instance to a method.</span></span> <span data-ttu-id="79766-106">En el ejemplo, los dos argumentos (struct e instancia de clase) se pasan mediante valor, y ambos métodos cambian el valor de un campo del argumento.</span><span class="sxs-lookup"><span data-stu-id="79766-106">In the example, both of the arguments (struct and class instance) are passed by value, and both methods change the value of one field of the argument.</span></span> <span data-ttu-id="79766-107">En cambio, los resultados de los dos métodos no son los mismos porque lo que se pasa cuando pasa un struct difiere de lo que se pasa cuando pasa una instancia de una clase.</span><span class="sxs-lookup"><span data-stu-id="79766-107">However, the results of the two methods are not the same because what is passed when you pass a struct differs from what is passed when you pass an instance of a class.</span></span>  
  
 <span data-ttu-id="79766-108">Como un struct es un [tipo de valor](../../language-reference/builtin-types/value-types.md), cuando [pasa un struct mediante valor](./passing-value-type-parameters.md) a un método, el método recibe y funciona en una copia del argumento struct.</span><span class="sxs-lookup"><span data-stu-id="79766-108">Because a struct is a [value type](../../language-reference/builtin-types/value-types.md), when you [pass a struct by value](./passing-value-type-parameters.md) to a method, the method receives and operates on a copy of the struct argument.</span></span> <span data-ttu-id="79766-109">El método no tiene acceso al struct original en el método de llamada y, por lo tanto, no puede cambiarlo de ninguna manera.</span><span class="sxs-lookup"><span data-stu-id="79766-109">The method has no access to the original struct in the calling method and therefore can't change it in any way.</span></span> <span data-ttu-id="79766-110">El método solo puede cambiar la copia.</span><span class="sxs-lookup"><span data-stu-id="79766-110">The method can change only the copy.</span></span>  
  
 <span data-ttu-id="79766-111">Una instancia de clase es un [tipo de referencia](../../language-reference/keywords/reference-types.md), no un tipo de valor.</span><span class="sxs-lookup"><span data-stu-id="79766-111">A class instance is a [reference type](../../language-reference/keywords/reference-types.md), not a value type.</span></span> <span data-ttu-id="79766-112">Cuando [un tipo de referencia se pasa mediante valor](./passing-reference-type-parameters.md) a un método, el método recibe una copia de la referencia a la instancia de clase.</span><span class="sxs-lookup"><span data-stu-id="79766-112">When [a reference type is passed by value](./passing-reference-type-parameters.md) to a method, the method receives a copy of the reference to the class instance.</span></span> <span data-ttu-id="79766-113">Es decir, el método al que se llama recibe una copia de la dirección de la instancia y el método de llamada conserva la dirección original de la instancia.</span><span class="sxs-lookup"><span data-stu-id="79766-113">That is, the called method receives a copy of the address of the instance, and the calling method retains the original address of the instance.</span></span> <span data-ttu-id="79766-114">La instancia de clase en el método de llamada tiene una dirección, el parámetro en el método que se ha llamado tiene una copia de la dirección, y ambas direcciones hacen referencia al mismo objeto.</span><span class="sxs-lookup"><span data-stu-id="79766-114">The class instance in the calling method has an address, the parameter in the called method has a copy of the address, and both addresses refer to the same object.</span></span> <span data-ttu-id="79766-115">Como el parámetro solo contiene una copia de la dirección, el método al que se ha llamado no puede cambiar la dirección de la instancia de clase en el método de llamada.</span><span class="sxs-lookup"><span data-stu-id="79766-115">Because the parameter contains only a copy of the address, the called method cannot change the address of the class instance in the calling method.</span></span> <span data-ttu-id="79766-116">En cambio, el método al que se ha llamado puede usar la copia de la dirección para acceder a los miembros de clase a los que hacen referencia la dirección original y la copia de la dirección.</span><span class="sxs-lookup"><span data-stu-id="79766-116">However, the called method can use the copy of the address to access the class members that both the original address and the copy of the address reference.</span></span> <span data-ttu-id="79766-117">Si el método al que se ha llamado cambia un miembro de clase, la instancia de clase original en el método de llamada también cambia.</span><span class="sxs-lookup"><span data-stu-id="79766-117">If the called method changes a class member, the original class instance in the calling method also changes.</span></span>  
  
 <span data-ttu-id="79766-118">En el resultado del ejemplo siguiente se ilustra la diferencia.</span><span class="sxs-lookup"><span data-stu-id="79766-118">The output of the following example illustrates the difference.</span></span> <span data-ttu-id="79766-119">El valor del campo `willIChange` de la instancia de clase se cambia mediante la llamada al método `ClassTaker` porque el método usa la dirección en el parámetro para buscar el campo especificado de la instancia de clase.</span><span class="sxs-lookup"><span data-stu-id="79766-119">The value of the `willIChange` field of the class instance is changed by the call to method `ClassTaker` because the method uses the address in the parameter to find the specified field of the class instance.</span></span> <span data-ttu-id="79766-120">El campo `willIChange` del struct en el método de llamada no se cambia mediante la llamada al método `StructTaker` porque el valor del argumento es una copia del propio struct, no una copia de su dirección.</span><span class="sxs-lookup"><span data-stu-id="79766-120">The `willIChange` field of the struct in the calling method is not changed by the call to method `StructTaker` because the value of the argument is a copy of the struct itself, not a copy of its address.</span></span> <span data-ttu-id="79766-121">`StructTaker` cambia la copia, y la copia se pierde cuando se completa la llamada a `StructTaker`.</span><span class="sxs-lookup"><span data-stu-id="79766-121">`StructTaker` changes the copy, and the copy is lost when the call to `StructTaker` is completed.</span></span>  
  
## <a name="example"></a><span data-ttu-id="79766-122">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="79766-122">Example</span></span>  

 [!code-csharp[PassingStructVsClass](snippets/how-to-know-the-difference-passing-a-struct-and-passing-a-class-to-a-method/Program.cs)]  
  
## <a name="see-also"></a><span data-ttu-id="79766-123">Vea también</span><span class="sxs-lookup"><span data-stu-id="79766-123">See also</span></span>

- [<span data-ttu-id="79766-124">Guía de programación de C#</span><span class="sxs-lookup"><span data-stu-id="79766-124">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="79766-125">Clases</span><span class="sxs-lookup"><span data-stu-id="79766-125">Classes</span></span>](./classes.md)
- [<span data-ttu-id="79766-126">Tipos de estructura</span><span class="sxs-lookup"><span data-stu-id="79766-126">Structure types</span></span>](../../language-reference/builtin-types/struct.md)
- [<span data-ttu-id="79766-127">Pasar parámetros</span><span class="sxs-lookup"><span data-stu-id="79766-127">Passing Parameters</span></span>](./passing-parameters.md)
