---
title: 'CA1802: usar literales cuando sea apropiado (análisis de código)'
description: 'Más información sobre la regla de análisis de código CA1802: usar literales cuando sea necesario'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- UseLiteralsWhereAppropriate
- CA1802
helpviewer_keywords:
- UseLiteralsWhereAppropriate
- CA1802
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 761911923dc8636a2795bfd23cab1b87b888f590
ms.sourcegitcommit: e301979e3049ce412d19b094c60ed95b316a8f8c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/16/2020
ms.locfileid: "98190356"
---
# <a name="ca1802-use-literals-where-appropriate"></a><span data-ttu-id="1de2a-103">CA1802: Utilizar literales cuando sea apropiado</span><span class="sxs-lookup"><span data-stu-id="1de2a-103">CA1802: Use Literals Where Appropriate</span></span>

| | <span data-ttu-id="1de2a-104">Valor</span><span class="sxs-lookup"><span data-stu-id="1de2a-104">Value</span></span> |
|-|-|
| <span data-ttu-id="1de2a-105">**Identificador de la regla**</span><span class="sxs-lookup"><span data-stu-id="1de2a-105">**Rule ID**</span></span> |<span data-ttu-id="1de2a-106">CA1802</span><span class="sxs-lookup"><span data-stu-id="1de2a-106">CA1802</span></span>|
| <span data-ttu-id="1de2a-107">**Categoría**</span><span class="sxs-lookup"><span data-stu-id="1de2a-107">**Category**</span></span> |<span data-ttu-id="1de2a-108">Microsoft. performance</span><span class="sxs-lookup"><span data-stu-id="1de2a-108">Microsoft.Performance</span></span>|
| <span data-ttu-id="1de2a-109">**Corrección o interrupción**</span><span class="sxs-lookup"><span data-stu-id="1de2a-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="1de2a-110">Poco problemático</span><span class="sxs-lookup"><span data-stu-id="1de2a-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="1de2a-111">Causa</span><span class="sxs-lookup"><span data-stu-id="1de2a-111">Cause</span></span>

<span data-ttu-id="1de2a-112">Un campo se declara `static` y `readonly` ( `Shared` y `ReadOnly` en Visual Basic) y se inicializa con un valor que se calcula en tiempo de compilación.</span><span class="sxs-lookup"><span data-stu-id="1de2a-112">A field is declared `static` and `readonly` (`Shared` and `ReadOnly` in Visual Basic), and is initialized with a value that is computable at compile time.</span></span>

<span data-ttu-id="1de2a-113">De forma predeterminada, esta regla solo examina los campos de solo lectura, estáticos y visibles externamente, pero esto es [configurable](#configure-code-to-analyze).</span><span class="sxs-lookup"><span data-stu-id="1de2a-113">By default, this rule only looks at externally visible, static, readonly fields, but this is [configurable](#configure-code-to-analyze).</span></span>

## <a name="rule-description"></a><span data-ttu-id="1de2a-114">Descripción de la regla</span><span class="sxs-lookup"><span data-stu-id="1de2a-114">Rule description</span></span>

<span data-ttu-id="1de2a-115">El valor de un `static readonly` campo se calcula en tiempo de ejecución cuando se llama al constructor estático del tipo declarativo.</span><span class="sxs-lookup"><span data-stu-id="1de2a-115">The value of a `static readonly` field is computed at run time when the static constructor for the declaring type is called.</span></span> <span data-ttu-id="1de2a-116">Si el `static readonly` campo se inicializa cuando se declara y no se declara explícitamente un constructor estático, el compilador emite un constructor estático para inicializar el campo.</span><span class="sxs-lookup"><span data-stu-id="1de2a-116">If the `static readonly` field is initialized when it is declared and a static constructor is not declared explicitly, the compiler emits a static constructor to initialize the field.</span></span>

<span data-ttu-id="1de2a-117">El valor de un `const` campo se calcula en tiempo de compilación y se almacena en los metadatos, lo que aumenta el rendimiento en tiempo de ejecución cuando se compara con un `static readonly` campo.</span><span class="sxs-lookup"><span data-stu-id="1de2a-117">The value of a `const` field is computed at compile time and stored in the metadata, which increases run-time performance when it is compared to a `static readonly` field.</span></span>

<span data-ttu-id="1de2a-118">Dado que el valor asignado al campo de destino es calculable en tiempo de compilación, cambie la declaración a un `const` campo para que el valor se calcule en tiempo de compilación en lugar de en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="1de2a-118">Because the value assigned to the targeted field is computable at compile time, change the declaration to a `const` field so that the value is computed at compile time instead of at run time.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="1de2a-119">Cómo corregir infracciones</span><span class="sxs-lookup"><span data-stu-id="1de2a-119">How to fix violations</span></span>

<span data-ttu-id="1de2a-120">Para corregir una infracción de esta regla, reemplace `static` los `readonly` modificadores y por el `const` modificador.</span><span class="sxs-lookup"><span data-stu-id="1de2a-120">To fix a violation of this rule, replace the `static` and `readonly` modifiers with the `const` modifier.</span></span>

> [!NOTE]
> <span data-ttu-id="1de2a-121">El uso del modificador [const](../../../csharp/language-reference/keywords/const.md) no se recomienda para todos los escenarios.</span><span class="sxs-lookup"><span data-stu-id="1de2a-121">The use of the [const](../../../csharp/language-reference/keywords/const.md) modifier is not recommended for all scenarios.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="1de2a-122">Cuándo suprimir advertencias</span><span class="sxs-lookup"><span data-stu-id="1de2a-122">When to suppress warnings</span></span>

<span data-ttu-id="1de2a-123">Es seguro suprimir una advertencia de esta regla o deshabilitar la regla si no le preocupa el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="1de2a-123">It is safe to suppress a warning from this rule, or disable the rule, if performance is not of concern.</span></span>

## <a name="configure-code-to-analyze"></a><span data-ttu-id="1de2a-124">Configurar el código para analizar</span><span class="sxs-lookup"><span data-stu-id="1de2a-124">Configure code to analyze</span></span>

<span data-ttu-id="1de2a-125">Use las opciones siguientes para configurar en qué partes del código base ejecutar esta regla.</span><span class="sxs-lookup"><span data-stu-id="1de2a-125">Use the following options to configure which parts of your codebase to run this rule on.</span></span>

- [<span data-ttu-id="1de2a-126">Incluir superficies de API específicas</span><span class="sxs-lookup"><span data-stu-id="1de2a-126">Include specific API surfaces</span></span>](#include-specific-api-surfaces)
- [<span data-ttu-id="1de2a-127">Modificadores obligatorios</span><span class="sxs-lookup"><span data-stu-id="1de2a-127">Required modifiers</span></span>](#required-modifiers)

<span data-ttu-id="1de2a-128">Puede configurar estas opciones solo para esta regla, para todas las reglas o para todas las reglas de esta categoría (rendimiento).</span><span class="sxs-lookup"><span data-stu-id="1de2a-128">You can configure these options for just this rule, for all rules, or for all rules in this category (Performance).</span></span> <span data-ttu-id="1de2a-129">Para obtener más información, vea [Opciones de configuración de reglas de calidad de código](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="1de2a-129">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

[!INCLUDE[api-surface](~/includes/code-analysis/api-surface.md)]

### <a name="required-modifiers"></a><span data-ttu-id="1de2a-130">Modificadores obligatorios</span><span class="sxs-lookup"><span data-stu-id="1de2a-130">Required modifiers</span></span>

<span data-ttu-id="1de2a-131">Puede configurar esta regla para invalidar los modificadores de campo obligatorios.</span><span class="sxs-lookup"><span data-stu-id="1de2a-131">You can configure this rule to override the required field modifiers.</span></span> <span data-ttu-id="1de2a-132">De forma predeterminada, `static` y `readonly` son modificadores obligatorios para los campos que se analizan.</span><span class="sxs-lookup"><span data-stu-id="1de2a-132">By default, `static` and `readonly` are both required modifiers for fields that are analyzed.</span></span> <span data-ttu-id="1de2a-133">Puede invalidar este valor en una lista separada por comas de uno o más valores de modificador de la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="1de2a-133">You can override this to a comma separated listed of one or more modifier values from the below table:</span></span>

| <span data-ttu-id="1de2a-134">Valor de la opción</span><span class="sxs-lookup"><span data-stu-id="1de2a-134">Option Value</span></span> | <span data-ttu-id="1de2a-135">Resumen</span><span class="sxs-lookup"><span data-stu-id="1de2a-135">Summary</span></span> |
| --- | --- |
| `none` | <span data-ttu-id="1de2a-136">Ningún requisito modificador.</span><span class="sxs-lookup"><span data-stu-id="1de2a-136">No modifier requirement.</span></span> |
| <span data-ttu-id="1de2a-137">`static` o `Shared`</span><span class="sxs-lookup"><span data-stu-id="1de2a-137">`static` or `Shared`</span></span> | <span data-ttu-id="1de2a-138">Se debe declarar como ' Static ' (' Shared ' en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="1de2a-138">Must be declared as 'static' ('Shared' in Visual Basic).</span></span> |
| `const` | <span data-ttu-id="1de2a-139">Se debe declarar como ' const '.</span><span class="sxs-lookup"><span data-stu-id="1de2a-139">Must be declared as 'const'.</span></span> |
| `readonly` | <span data-ttu-id="1de2a-140">Se debe declarar como ' readonly '.</span><span class="sxs-lookup"><span data-stu-id="1de2a-140">Must be declared as 'readonly'.</span></span> |

<span data-ttu-id="1de2a-141">Por ejemplo, para especificar que la regla se debe ejecutar en los campos estáticos y de instancia, agregue el siguiente par clave-valor a un archivo *. editorconfig* en el proyecto:</span><span class="sxs-lookup"><span data-stu-id="1de2a-141">For example, to specify that the rule should run against both static and instance fields, add the following key-value pair to an *.editorconfig* file in your project:</span></span>

```ini
dotnet_code_quality.CA1802.required_modifiers = none
```

## <a name="example"></a><span data-ttu-id="1de2a-142">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="1de2a-142">Example</span></span>

<span data-ttu-id="1de2a-143">En el ejemplo siguiente se muestra un tipo, `UseReadOnly` , que infringe la regla y un tipo, `UseConstant` , que cumple la regla.</span><span class="sxs-lookup"><span data-stu-id="1de2a-143">The following example shows a type, `UseReadOnly`, that violates the rule and a type, `UseConstant`, that satisfies the rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca1802-use-literals-where-appropriate_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca1802.cs" id="snippet1":::
