---
title: 'CA2211: los campos no constantes no deben ser visibles (análisis de código)'
description: 'Más información sobre la regla de análisis de código CA2211: los campos no constantes no deben ser visibles'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2211
- NonConstantFieldsShouldNotBeVisible
helpviewer_keywords:
- NonConstantFieldsShouldNotBeVisible
- CA2211
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 1b72f7bd034c36bdcbdc6da13455f50e30af21a9
ms.sourcegitcommit: 4df8e005c074ceb1f978f007b222fe253be2baf3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/04/2021
ms.locfileid: "99545300"
---
# <a name="ca2211-non-constant-fields-should-not-be-visible"></a><span data-ttu-id="08175-103">CA2211: Los campos no constantes no deben ser visibles</span><span class="sxs-lookup"><span data-stu-id="08175-103">CA2211: Non-constant fields should not be visible</span></span>

| | <span data-ttu-id="08175-104">Valor</span><span class="sxs-lookup"><span data-stu-id="08175-104">Value</span></span> |
|-|-|
| <span data-ttu-id="08175-105">**Identificador de la regla**</span><span class="sxs-lookup"><span data-stu-id="08175-105">**Rule ID**</span></span> |<span data-ttu-id="08175-106">CA2211</span><span class="sxs-lookup"><span data-stu-id="08175-106">CA2211</span></span>|
| <span data-ttu-id="08175-107">**Categoría**</span><span class="sxs-lookup"><span data-stu-id="08175-107">**Category**</span></span> |[<span data-ttu-id="08175-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="08175-108">Microsoft.Usage</span></span>](usage-warnings.md)|
| <span data-ttu-id="08175-109">**Corrección o interrupción**</span><span class="sxs-lookup"><span data-stu-id="08175-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="08175-110">Problemático</span><span class="sxs-lookup"><span data-stu-id="08175-110">Breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="08175-111">Causa</span><span class="sxs-lookup"><span data-stu-id="08175-111">Cause</span></span>

<span data-ttu-id="08175-112">Un campo estático público o protegido no es constante ni es de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="08175-112">A public or protected static field is not constant nor is it read-only.</span></span>

## <a name="rule-description"></a><span data-ttu-id="08175-113">Descripción de la regla</span><span class="sxs-lookup"><span data-stu-id="08175-113">Rule description</span></span>

<span data-ttu-id="08175-114">Los campos estáticos que no son constantes ni de sólo lectura no son seguros para subprocesos.</span><span class="sxs-lookup"><span data-stu-id="08175-114">Static fields that are neither constants nor read-only are not thread-safe.</span></span> <span data-ttu-id="08175-115">El acceso a este tipo de campo debe controlarse cuidadosamente y requiere técnicas de programación avanzada para sincronizar el acceso al objeto de clase.</span><span class="sxs-lookup"><span data-stu-id="08175-115">Access to such a field must be carefully controlled and requires advanced programming techniques for synchronizing access to the class object.</span></span> <span data-ttu-id="08175-116">Dado que estos son conocimientos difíciles de aprender y dominar, y probar este tipo de objeto plantea sus propios desafíos, los campos estáticos se utilizan mejor para almacenar datos que no cambian.</span><span class="sxs-lookup"><span data-stu-id="08175-116">Because these are difficult skills to learn and master, and testing such an object poses its own challenges, static fields are best used to store data that does not change.</span></span> <span data-ttu-id="08175-117">Esta regla se aplica a las bibliotecas; las aplicaciones no deben exponer ningún campo.</span><span class="sxs-lookup"><span data-stu-id="08175-117">This rule applies to libraries; applications should not expose any fields.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="08175-118">Cómo corregir infracciones</span><span class="sxs-lookup"><span data-stu-id="08175-118">How to fix violations</span></span>

<span data-ttu-id="08175-119">Para corregir una infracción de esta regla, haga que la constante del campo estático o sea de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="08175-119">To fix a violation of this rule, make the static field constant or read-only.</span></span> <span data-ttu-id="08175-120">Si esto no es posible, vuelva a diseñar el tipo para utilizar un mecanismo alternativo, como una propiedad segura para subprocesos que administra el acceso seguro para subprocesos al campo subyacente.</span><span class="sxs-lookup"><span data-stu-id="08175-120">If this is not possible, redesign the type to use an alternative mechanism such as a thread-safe property that manages thread-safe access to the underlying field.</span></span> <span data-ttu-id="08175-121">Tenga en cuentan que los problemas como la contención de bloqueos y los interbloqueos pueden afectar al rendimiento y el comportamiento de la biblioteca.</span><span class="sxs-lookup"><span data-stu-id="08175-121">Realize that issues such as lock contention and deadlocks might affect the performance and behavior of the library.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="08175-122">Cuándo suprimir advertencias</span><span class="sxs-lookup"><span data-stu-id="08175-122">When to suppress warnings</span></span>

<span data-ttu-id="08175-123">Es seguro suprimir una advertencia de esta regla si está desarrollando una aplicación y, por tanto, tiene control total sobre el acceso al tipo que contiene el campo estático.</span><span class="sxs-lookup"><span data-stu-id="08175-123">It is safe to suppress a warning from this rule if you are developing an application and therefore have full control over access to the type that contains the static field.</span></span> <span data-ttu-id="08175-124">Los diseñadores de bibliotecas no deben suprimir una advertencia de esta regla. el uso de campos estáticos no constantes puede hacer que el uso de la biblioteca sea difícil para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="08175-124">Library designers should not suppress a warning from this rule; using non-constant static fields can make using the library difficult for developers to use correctly.</span></span>

## <a name="example"></a><span data-ttu-id="08175-125">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="08175-125">Example</span></span>

<span data-ttu-id="08175-126">En el ejemplo siguiente se muestra un tipo que infringe esta regla.</span><span class="sxs-lookup"><span data-stu-id="08175-126">The following example shows a type that violates this rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca2211-non-constant-fields-should-not-be-visible_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca2211.cs" id="snippet1":::
