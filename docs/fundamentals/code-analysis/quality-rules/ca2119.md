---
title: 'CA2119: sellar los métodos que satisfacen las interfaces privadas (análisis de código)'
description: 'Más información sobre la regla de análisis de código CA2119: sellar los métodos que satisfacen las interfaces privadas'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- SealMethodsThatSatisfyPrivateInterfaces
- CA2119
helpviewer_keywords:
- CA2119
- SealMethodsThatSatisfyPrivateInterfaces
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: c4e735e23dd6b9bcd8bb98a15e59d88b722c6ccd
ms.sourcegitcommit: 4df8e005c074ceb1f978f007b222fe253be2baf3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/04/2021
ms.locfileid: "99545469"
---
# <a name="ca2119-seal-methods-that-satisfy-private-interfaces"></a><span data-ttu-id="a5711-103">CA2119: Sellar los métodos que satisfacen las interfaces privadas</span><span class="sxs-lookup"><span data-stu-id="a5711-103">CA2119: Seal methods that satisfy private interfaces</span></span>

| | <span data-ttu-id="a5711-104">Valor</span><span class="sxs-lookup"><span data-stu-id="a5711-104">Value</span></span> |
|-|-|
| <span data-ttu-id="a5711-105">**Identificador de la regla**</span><span class="sxs-lookup"><span data-stu-id="a5711-105">**Rule ID**</span></span> |<span data-ttu-id="a5711-106">CA2119</span><span class="sxs-lookup"><span data-stu-id="a5711-106">CA2119</span></span>|
| <span data-ttu-id="a5711-107">**Categoría**</span><span class="sxs-lookup"><span data-stu-id="a5711-107">**Category**</span></span> |[<span data-ttu-id="a5711-108">Microsoft.Security</span><span class="sxs-lookup"><span data-stu-id="a5711-108">Microsoft.Security</span></span>](security-warnings.md)|
| <span data-ttu-id="a5711-109">**Corrección o interrupción**</span><span class="sxs-lookup"><span data-stu-id="a5711-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="a5711-110">Problemático</span><span class="sxs-lookup"><span data-stu-id="a5711-110">Breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="a5711-111">Causa</span><span class="sxs-lookup"><span data-stu-id="a5711-111">Cause</span></span>

<span data-ttu-id="a5711-112">Un tipo público heredable proporciona una implementación de método reemplazable de `internal` una `Friend` interfaz (en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a5711-112">An inheritable public type provides an overridable method implementation of an `internal` (`Friend` in Visual Basic) interface.</span></span>

## <a name="rule-description"></a><span data-ttu-id="a5711-113">Descripción de la regla</span><span class="sxs-lookup"><span data-stu-id="a5711-113">Rule description</span></span>

<span data-ttu-id="a5711-114">Los métodos de interfaz tienen accesibilidad pública, que el tipo de implementación no puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="a5711-114">Interface methods have public accessibility, which cannot be changed by the implementing type.</span></span> <span data-ttu-id="a5711-115">Una interfaz interna crea un contrato que no está diseñado para implementarse fuera del ensamblado que define la interfaz.</span><span class="sxs-lookup"><span data-stu-id="a5711-115">An internal interface creates a contract that is not intended to be implemented outside the assembly that defines the interface.</span></span> <span data-ttu-id="a5711-116">Un tipo público que implementa un método de una interfaz interna mediante el `virtual` `Overridable` modificador (en Visual Basic) permite que un tipo derivado que está fuera del ensamblado invalide el método.</span><span class="sxs-lookup"><span data-stu-id="a5711-116">A public type that implements a method of an internal interface using the `virtual` (`Overridable` in Visual Basic) modifier allows the method to be overridden by a derived type that is outside the assembly.</span></span> <span data-ttu-id="a5711-117">Si un segundo tipo del ensamblado de definición llama al método y espera un contrato solo interno, el comportamiento puede verse comprometido cuando, en su lugar, se ejecuta el método invalidado en el ensamblado externo.</span><span class="sxs-lookup"><span data-stu-id="a5711-117">If a second type in the defining assembly calls the method and expects an internal-only contract, behavior might be compromised when, instead, the overridden method in the outside assembly is executed.</span></span> <span data-ttu-id="a5711-118">Esto crea una vulnerabilidad de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a5711-118">This creates a security vulnerability.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="a5711-119">Cómo corregir infracciones</span><span class="sxs-lookup"><span data-stu-id="a5711-119">How to fix violations</span></span>

<span data-ttu-id="a5711-120">Para corregir una infracción de esta regla, evite que el método se invalide fuera del ensamblado mediante una de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="a5711-120">To fix a violation of this rule, prevent the method from being overridden outside the assembly by using one of the following:</span></span>

- <span data-ttu-id="a5711-121">Cree el tipo declarativo `sealed` ( `NotInheritable` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a5711-121">Make the declaring type `sealed` (`NotInheritable` in Visual Basic).</span></span>

- <span data-ttu-id="a5711-122">Cambie la accesibilidad del tipo declarativo a `internal` ( `Friend` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a5711-122">Change the accessibility of the declaring type to `internal` (`Friend` in Visual Basic).</span></span>

- <span data-ttu-id="a5711-123">Quite todos los constructores públicos del tipo declarativo.</span><span class="sxs-lookup"><span data-stu-id="a5711-123">Remove all public constructors from the declaring type.</span></span>

- <span data-ttu-id="a5711-124">Implemente el método sin usar el `virtual` modificador.</span><span class="sxs-lookup"><span data-stu-id="a5711-124">Implement the method without using the `virtual` modifier.</span></span>

- <span data-ttu-id="a5711-125">Implemente el método explícitamente.</span><span class="sxs-lookup"><span data-stu-id="a5711-125">Implement the method explicitly.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="a5711-126">Cuándo suprimir advertencias</span><span class="sxs-lookup"><span data-stu-id="a5711-126">When to suppress warnings</span></span>

<span data-ttu-id="a5711-127">Es seguro suprimir una advertencia de esta regla si, después de una revisión cuidadosa, no existe ningún problema de seguridad que pueda ser aprovechable si el método se invalida fuera del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="a5711-127">It is safe to suppress a warning from this rule if, after careful review, no security issues exist that might be exploitable if the method is overridden outside the assembly.</span></span>

## <a name="example-1"></a><span data-ttu-id="a5711-128">Ejemplo 1</span><span class="sxs-lookup"><span data-stu-id="a5711-128">Example 1</span></span>

<span data-ttu-id="a5711-129">En el ejemplo siguiente se muestra un tipo, `BaseImplementation` , que infringe esta regla.</span><span class="sxs-lookup"><span data-stu-id="a5711-129">The following example shows a type, `BaseImplementation`, that violates this rule.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca2119.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca2119-seal-methods-that-satisfy-private-interfaces_1.vb" id="snippet1":::

## <a name="example-2"></a><span data-ttu-id="a5711-130">Ejemplo 2</span><span class="sxs-lookup"><span data-stu-id="a5711-130">Example 2</span></span>

<span data-ttu-id="a5711-131">En el ejemplo siguiente se aprovecha la implementación del método virtual del ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="a5711-131">The following example exploits the virtual method implementation of the previous example.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca2119.cs" id="snippet2":::

:::code language="vb" source="snippets/vb/all-rules/ca2119-seal-methods-that-satisfy-private-interfaces_1.vb" id="snippet2":::

## <a name="see-also"></a><span data-ttu-id="a5711-132">Vea también</span><span class="sxs-lookup"><span data-stu-id="a5711-132">See also</span></span>

- [<span data-ttu-id="a5711-133">Interfaces (C#)</span><span class="sxs-lookup"><span data-stu-id="a5711-133">Interfaces (C#)</span></span>](../../../csharp/programming-guide/interfaces/index.md)
- [<span data-ttu-id="a5711-134">Interfaces (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="a5711-134">Interfaces (Visual Basic)</span></span>](../../../visual-basic/programming-guide/language-features/interfaces/index.md)
