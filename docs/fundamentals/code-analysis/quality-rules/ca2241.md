---
title: 'CA2241: proporcionar argumentos correctos a los métodos de formato (análisis de código)'
description: 'Más información sobre la regla de análisis de código CA2241: proporcionar argumentos correctos para los métodos de formato'
ms.date: 05/28/2020
ms.topic: reference
f1_keywords:
- CA2241
- Provide correct arguments to formatting methods
- ProvideCorrectArgumentsToFormattingMethods
helpviewer_keywords:
- ProvideCorrectArgumentsToFormattingMethods
- CA2241
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 5d4ffe32edb8fae9e8590024756694edf69510bd
ms.sourcegitcommit: fcbe432482464b1639decad78cc4dc8387c6269e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/12/2020
ms.locfileid: "97366759"
---
# <a name="ca2241-provide-correct-arguments-to-formatting-methods"></a><span data-ttu-id="e65ed-103">CA2241: Proporcionar argumentos correctos a los métodos de formato</span><span class="sxs-lookup"><span data-stu-id="e65ed-103">CA2241: Provide correct arguments to formatting methods</span></span>

| | <span data-ttu-id="e65ed-104">Value</span><span class="sxs-lookup"><span data-stu-id="e65ed-104">Value</span></span> |
|-|-|
| <span data-ttu-id="e65ed-105">**Identificador de la regla**</span><span class="sxs-lookup"><span data-stu-id="e65ed-105">**Rule ID**</span></span> |<span data-ttu-id="e65ed-106">CA2241</span><span class="sxs-lookup"><span data-stu-id="e65ed-106">CA2241</span></span>|
| <span data-ttu-id="e65ed-107">**Categoría**</span><span class="sxs-lookup"><span data-stu-id="e65ed-107">**Category**</span></span> |<span data-ttu-id="e65ed-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="e65ed-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="e65ed-109">**Corrección o interrupción**</span><span class="sxs-lookup"><span data-stu-id="e65ed-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="e65ed-110">Poco problemático</span><span class="sxs-lookup"><span data-stu-id="e65ed-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="e65ed-111">Causa</span><span class="sxs-lookup"><span data-stu-id="e65ed-111">Cause</span></span>

<span data-ttu-id="e65ed-112">El `format` argumento de cadena que se pasa a un método como <xref:System.Console.WriteLine%2A> ,  <xref:System.Console.Write%2A> o no  <xref:System.String.Format%2A?displayProperty=fullName> contiene un elemento de formato que corresponda a cada argumento de objeto, o viceversa.</span><span class="sxs-lookup"><span data-stu-id="e65ed-112">The `format` string argument passed to a method such as <xref:System.Console.WriteLine%2A>,  <xref:System.Console.Write%2A>, or  <xref:System.String.Format%2A?displayProperty=fullName> does not contain a format item that corresponds to each object argument, or vice versa.</span></span>

<span data-ttu-id="e65ed-113">De forma predeterminada, esta regla solo analiza las llamadas a los tres métodos mencionados anteriormente, pero esto es [configurable](#configurability).</span><span class="sxs-lookup"><span data-stu-id="e65ed-113">By default, this rule only analyzes calls to the three methods mentioned above, but this is [configurable](#configurability).</span></span>

## <a name="rule-description"></a><span data-ttu-id="e65ed-114">Descripción de la regla</span><span class="sxs-lookup"><span data-stu-id="e65ed-114">Rule description</span></span>

<span data-ttu-id="e65ed-115">Los argumentos para métodos como <xref:System.Console.WriteLine%2A> , <xref:System.Console.Write%2A> y se <xref:System.String.Format%2A> componen de una cadena de formato seguida de varias <xref:System.Object?displayProperty=fullName> instancias.</span><span class="sxs-lookup"><span data-stu-id="e65ed-115">The arguments to methods such as <xref:System.Console.WriteLine%2A>, <xref:System.Console.Write%2A>, and <xref:System.String.Format%2A> consist of a format string followed by several <xref:System.Object?displayProperty=fullName> instances.</span></span> <span data-ttu-id="e65ed-116">La cadena de formato consta de texto y elementos de formato incrustados con el formato, {index [, alignment] [: formatString]}.</span><span class="sxs-lookup"><span data-stu-id="e65ed-116">The format string consists of text and embedded format items of the form, {index[,alignment][:formatString]}.</span></span> <span data-ttu-id="e65ed-117">' index ' es un entero basado en cero que indica a qué objetos se va a dar formato.</span><span class="sxs-lookup"><span data-stu-id="e65ed-117">'index' is a zero-based integer that indicates which of the objects to format.</span></span> <span data-ttu-id="e65ed-118">Si un objeto no tiene un índice correspondiente en la cadena de formato, se omite el objeto.</span><span class="sxs-lookup"><span data-stu-id="e65ed-118">If an object does not have a corresponding index in the format string, the object is ignored.</span></span> <span data-ttu-id="e65ed-119">Si el objeto especificado por ' index ' no existe, <xref:System.FormatException?displayProperty=fullName> se produce una excepción en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="e65ed-119">If the object specified by 'index' does not exist, a <xref:System.FormatException?displayProperty=fullName> is thrown at run time.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="e65ed-120">Cómo corregir infracciones</span><span class="sxs-lookup"><span data-stu-id="e65ed-120">How to fix violations</span></span>

<span data-ttu-id="e65ed-121">Para corregir una infracción de esta regla, proporcione un elemento de formato para cada argumento de objeto y proporcione un argumento de objeto para cada elemento de formato.</span><span class="sxs-lookup"><span data-stu-id="e65ed-121">To fix a violation of this rule, provide a format item for each object argument and provide an object argument for each format item.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="e65ed-122">Cuándo suprimir advertencias</span><span class="sxs-lookup"><span data-stu-id="e65ed-122">When to suppress warnings</span></span>

<span data-ttu-id="e65ed-123">No suprima las advertencias de esta regla.</span><span class="sxs-lookup"><span data-stu-id="e65ed-123">Do not suppress a warning from this rule.</span></span>

## <a name="configurability"></a><span data-ttu-id="e65ed-124">Configurabilidad</span><span class="sxs-lookup"><span data-stu-id="e65ed-124">Configurability</span></span>

<span data-ttu-id="e65ed-125">Esta regla tiene las siguientes opciones configurables.</span><span class="sxs-lookup"><span data-stu-id="e65ed-125">This rule has the following configurable options.</span></span>

### <a name="additional-string-formatting-methods"></a><span data-ttu-id="e65ed-126">Métodos de formato de cadena adicionales</span><span class="sxs-lookup"><span data-stu-id="e65ed-126">Additional string formatting methods</span></span>

<span data-ttu-id="e65ed-127">Puede configurar los nombres de métodos de formato de cadena adicionales que debe analizar esta regla.</span><span class="sxs-lookup"><span data-stu-id="e65ed-127">You can configure names of additional string formatting methods which should be analyzed by this rule.</span></span> <span data-ttu-id="e65ed-128">Por ejemplo, para especificar todos los métodos denominados `MyFormat` como métodos de formato de cadena, puede Agregar el siguiente par clave-valor a un archivo *. editorconfig* en el proyecto:</span><span class="sxs-lookup"><span data-stu-id="e65ed-128">For example, to specify all methods named `MyFormat` as string formatting methods, you can add the following key-value pair to an *.editorconfig* file in your project:</span></span>

```ini
dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat
```

<span data-ttu-id="e65ed-129">Formatos de nombre de método permitidos en el valor de opción (separados por `|` ):</span><span class="sxs-lookup"><span data-stu-id="e65ed-129">Allowed method name formats in the option value (separated by `|`):</span></span>

- <span data-ttu-id="e65ed-130">Solo nombre del método (incluye todos los métodos con el nombre, sin tener en cuenta el tipo o espacio de nombres contenedor)</span><span class="sxs-lookup"><span data-stu-id="e65ed-130">Method name only (includes all methods with the name, regardless of the containing type or namespace)</span></span>
- <span data-ttu-id="e65ed-131">Nombres completos en el [formato de identificador de documentación](../../../csharp/programming-guide/xmldoc/processing-the-xml-file.md#id-strings)del símbolo, con un `M:` prefijo opcional.</span><span class="sxs-lookup"><span data-stu-id="e65ed-131">Fully qualified names in the symbol's [documentation ID format](../../../csharp/programming-guide/xmldoc/processing-the-xml-file.md#id-strings), with an optional `M:` prefix.</span></span>

<span data-ttu-id="e65ed-132">Ejemplos:</span><span class="sxs-lookup"><span data-stu-id="e65ed-132">Examples:</span></span>

| <span data-ttu-id="e65ed-133">Valor de la opción</span><span class="sxs-lookup"><span data-stu-id="e65ed-133">Option Value</span></span> | <span data-ttu-id="e65ed-134">Resumen</span><span class="sxs-lookup"><span data-stu-id="e65ed-134">Summary</span></span> |
| --- | --- |
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat` | <span data-ttu-id="e65ed-135">Coincide con todos los métodos denominados ' AlDarFormato ' en la compilación</span><span class="sxs-lookup"><span data-stu-id="e65ed-135">Matches all methods named 'MyFormat' in the compilation</span></span>
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat1|MyFormat2` | <span data-ttu-id="e65ed-136">Coincide con todos los métodos denominados ' MyFormat1 ' o ' MyFormat2 ' en la compilación</span><span class="sxs-lookup"><span data-stu-id="e65ed-136">Matches all methods named either 'MyFormat1' or 'MyFormat2' in the compilation</span></span>
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS.MyType.MyFormat(ParamType)` | <span data-ttu-id="e65ed-137">Coincide con el método específico ' AlDarFormato ' con la firma completa proporcionada</span><span class="sxs-lookup"><span data-stu-id="e65ed-137">Matches specific method 'MyFormat' with given fully qualified signature</span></span>
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS1.MyType1.MyFormat1(ParamType)|NS2.MyType2.MyFormat2(ParamType)` | <span data-ttu-id="e65ed-138">Coincide con los métodos específicos ' MyFormat1 ' y ' MyFormat2 ' con la firma completa correspondiente</span><span class="sxs-lookup"><span data-stu-id="e65ed-138">Matches specific methods 'MyFormat1' and 'MyFormat2' with respective fully qualified signature</span></span>

<span data-ttu-id="e65ed-139">Puede configurar esta opción solo para esta regla, para todas las reglas o para todas las reglas de esta categoría (uso).</span><span class="sxs-lookup"><span data-stu-id="e65ed-139">You can configure this option for just this rule, for all rules, or for all rules in this category (Usage).</span></span> <span data-ttu-id="e65ed-140">Para obtener más información, vea [Opciones de configuración de reglas de calidad de código](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="e65ed-140">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

<span data-ttu-id="e65ed-141">Como alternativa, en lugar de especificar una lista explícita de métodos de formato de cadena adicionales, puede configurar el analizador para que intente determinar automáticamente el método de formato de cadena.</span><span class="sxs-lookup"><span data-stu-id="e65ed-141">Alternatively, instead of specifying an explicit list of additional string formatting methods, you can configure the analyzer to automatically attempt to determine the string formatting method.</span></span> <span data-ttu-id="e65ed-142">Esta opción está deshabilitada de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e65ed-142">By default, this option is disabled.</span></span> <span data-ttu-id="e65ed-143">Si la opción está habilitada, cualquier método que tenga un `string format` parámetro seguido de un `params object[]` parámetro se considera un método de formato de cadena:</span><span class="sxs-lookup"><span data-stu-id="e65ed-143">If the option is enabled, any method that has a `string format` parameter followed by a `params object[]` parameter is considered a string formatting method:</span></span>

```ini
dotnet_code_quality.CA2241.try_determine_additional_string_formatting_methods_automatically = true
```

## <a name="example"></a><span data-ttu-id="e65ed-144">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="e65ed-144">Example</span></span>

<span data-ttu-id="e65ed-145">En el ejemplo siguiente se muestran dos infracciones de la regla.</span><span class="sxs-lookup"><span data-stu-id="e65ed-145">The following example shows two violations of the rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca2241-provide-correct-arguments-to-formatting-methods_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca2241.cs" id="snippet1":::
