---
title: 'CA3076: ejecución de script XSLT no segura (análisis de código)'
description: 'Más información sobre la regla de análisis de código CA3076: ejecución de script XSLT no segura'
ms.date: 11/04/2016
ms.topic: reference
author: gewarren
ms.author: gewarren
ms.openlocfilehash: 6f2f2382ad9423210c969584c310ee0a55f4f895
ms.sourcegitcommit: 4df8e005c074ceb1f978f007b222fe253be2baf3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/04/2021
ms.locfileid: "99544065"
---
# <a name="ca3076-insecure-xslt-script-execution"></a><span data-ttu-id="cb4ca-103">CA3076: Ejecución del script XSLT no segura</span><span class="sxs-lookup"><span data-stu-id="cb4ca-103">CA3076: Insecure XSLT Script Execution</span></span>

| | <span data-ttu-id="cb4ca-104">Valor</span><span class="sxs-lookup"><span data-stu-id="cb4ca-104">Value</span></span> |
|-|-|
| <span data-ttu-id="cb4ca-105">**Identificador de la regla**</span><span class="sxs-lookup"><span data-stu-id="cb4ca-105">**Rule ID**</span></span> |<span data-ttu-id="cb4ca-106">CA3076</span><span class="sxs-lookup"><span data-stu-id="cb4ca-106">CA3076</span></span>|
| <span data-ttu-id="cb4ca-107">**Categoría**</span><span class="sxs-lookup"><span data-stu-id="cb4ca-107">**Category**</span></span> |[<span data-ttu-id="cb4ca-108">Microsoft.Security</span><span class="sxs-lookup"><span data-stu-id="cb4ca-108">Microsoft.Security</span></span>](security-warnings.md)|
| <span data-ttu-id="cb4ca-109">**Corrección o interrupción**</span><span class="sxs-lookup"><span data-stu-id="cb4ca-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="cb4ca-110">Poco problemático</span><span class="sxs-lookup"><span data-stu-id="cb4ca-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="cb4ca-111">Causa</span><span class="sxs-lookup"><span data-stu-id="cb4ca-111">Cause</span></span>

<span data-ttu-id="cb4ca-112">Si ejecuta el lenguaje de transformación basado en hojas de estilo (XSLT) en aplicaciones .NET de forma insegura, el procesador podría resolver referencias URI que no sean de confianza y que podrían revelar información confidencial a atacantes, dando lugar a ataques de denegación de servicio y entre sitios.</span><span class="sxs-lookup"><span data-stu-id="cb4ca-112">If you execute Extensible Stylesheets Language Transformations (XSLT) in .NET applications insecurely, the processor may resolve untrusted URI references that could disclose sensitive information to attackers, leading to Denial of Service and Cross-Site attacks.</span></span> <span data-ttu-id="cb4ca-113">Para obtener más información, vea [consideraciones de seguridad de XSLT (.net Guide)](../../../standard/data/xml/xslt-security-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="cb4ca-113">For more information, see [XSLT Security Considerations(.NET Guide)](../../../standard/data/xml/xslt-security-considerations.md).</span></span>

## <a name="rule-description"></a><span data-ttu-id="cb4ca-114">Descripción de la regla</span><span class="sxs-lookup"><span data-stu-id="cb4ca-114">Rule description</span></span>

<span data-ttu-id="cb4ca-115">**XSLT** es un estándar de World Wide Web Consortium (W3C) para transformar datos XML.</span><span class="sxs-lookup"><span data-stu-id="cb4ca-115">**XSLT** is a World Wide Web Consortium (W3C) standard for transforming XML data.</span></span> <span data-ttu-id="cb4ca-116">XSLT normalmente se usa para escribir hojas de estilos para transformar datos XML en otros formatos, como HTML, texto de longitud fija, texto separado por comas o un formato XML distinto.</span><span class="sxs-lookup"><span data-stu-id="cb4ca-116">XSLT is typically used to write style sheets to transform XML data to other formats such as HTML, fixed-length text, comma-separated text, or a different XML format.</span></span> <span data-ttu-id="cb4ca-117">Aunque está prohibido de forma predeterminada, puede habilitarlo para su proyecto.</span><span class="sxs-lookup"><span data-stu-id="cb4ca-117">Although prohibited by default, you may choose to enable it for your project.</span></span>

<span data-ttu-id="cb4ca-118">Para asegurarse de que no expone una superficie expuesta a ataques, esta regla se desencadena cuando XslCompiledTransform.<xref:System.Xml.Xsl.XslCompiledTransform.Load%2A></span><span class="sxs-lookup"><span data-stu-id="cb4ca-118">To ensure you're not exposing an attack surface, this rule triggers whenever the XslCompiledTransform.<xref:System.Xml.Xsl.XslCompiledTransform.Load%2A></span></span> <span data-ttu-id="cb4ca-119">recibe instancias de combinación no seguras de <xref:System.Xml.Xsl.XsltSettings> y <xref:System.Xml.XmlResolver> , lo que permite el procesamiento de scripts malintencionados.</span><span class="sxs-lookup"><span data-stu-id="cb4ca-119">receives insecure combination instances of <xref:System.Xml.Xsl.XsltSettings> and <xref:System.Xml.XmlResolver>, which allows malicious script processing.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="cb4ca-120">Cómo corregir infracciones</span><span class="sxs-lookup"><span data-stu-id="cb4ca-120">How to fix violations</span></span>

- <span data-ttu-id="cb4ca-121">Reemplace el argumento XsltSettings inseguro por XsltSettings.<xref:System.Xml.Xsl.XsltSettings.Default%2A></span><span class="sxs-lookup"><span data-stu-id="cb4ca-121">Replace the insecure XsltSettings argument with XsltSettings.<xref:System.Xml.Xsl.XsltSettings.Default%2A></span></span> <span data-ttu-id="cb4ca-122">o con una instancia de que ha deshabilitado la función de documento y la ejecución de scripts.</span><span class="sxs-lookup"><span data-stu-id="cb4ca-122">or with an instance that has disabled document function and script execution.</span></span>

- <span data-ttu-id="cb4ca-123">Reemplace el argumento <xref:System.Xml.XmlResolver> por NULL o una instancia <xref:System.Xml.XmlSecureResolver> .</span><span class="sxs-lookup"><span data-stu-id="cb4ca-123">Replace the <xref:System.Xml.XmlResolver> argument with null or an <xref:System.Xml.XmlSecureResolver> instance.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="cb4ca-124">Cuándo suprimir advertencias</span><span class="sxs-lookup"><span data-stu-id="cb4ca-124">When to suppress warnings</span></span>

<span data-ttu-id="cb4ca-125">A menos que esté seguro de que la entrada es de un origen de confianza, no suprima ninguna regla de esta advertencia.</span><span class="sxs-lookup"><span data-stu-id="cb4ca-125">Unless you're sure that the input is known to be from a trusted source, do not suppress a rule from this warning.</span></span>

## <a name="pseudo-code-examples"></a><span data-ttu-id="cb4ca-126">Ejemplos de pseudocódigo</span><span class="sxs-lookup"><span data-stu-id="cb4ca-126">Pseudo-code examples</span></span>

### <a name="violation-that-uses-xsltsettingstrustedxslt"></a><span data-ttu-id="cb4ca-127">Infracción que usa XsltSettings. TrustedXslt</span><span class="sxs-lookup"><span data-stu-id="cb4ca-127">Violation that uses XsltSettings.TrustedXslt</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
         void TestMethod()
        {
             XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
             var settings = XsltSettings.TrustedXslt;
             var resolver = new XmlUrlResolver();
             xslCompiledTransform.Load("testStylesheet", settings, resolver); // warn
        }
    }
}
```

### <a name="solution-that-uses-xsltsettingsdefault"></a><span data-ttu-id="cb4ca-128">Solución que usa XsltSettings. default</span><span class="sxs-lookup"><span data-stu-id="cb4ca-128">Solution that uses XsltSettings.Default</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        void TestMethod()
        {
            XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
            var settings = XsltSettings.Default;
            var resolver = new XmlUrlResolver();
            xslCompiledTransform.Load("testStylesheet", settings, resolver);
        }
    }
}
```

### <a name="violationmdashdocument-function-and-script-execution-not-disabled"></a><span data-ttu-id="cb4ca-129">&mdash;Función de documento de infracción y ejecución de script no deshabilitada</span><span class="sxs-lookup"><span data-stu-id="cb4ca-129">Violation&mdash;document function and script execution not disabled</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        private static void TestMethod(XsltSettings settings)
        {
            try
            {
                XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
                var resolver = new XmlUrlResolver();
                xslCompiledTransform.Load("testStylesheet", settings, resolver); // warn
            }
            catch { throw; }
            finally { }
        }
    }
}
```

### <a name="solutionmdashdisable-document-function-and-script-execution"></a><span data-ttu-id="cb4ca-130">Solución &mdash; deshabilite la función de documento y la ejecución de script</span><span class="sxs-lookup"><span data-stu-id="cb4ca-130">Solution&mdash;disable document function and script execution</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        private static void TestMethod(XsltSettings settings)
        {
            try
            {
                XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
                settings.EnableDocumentFunction = false;
                settings.EnableScript = false;
                var resolver = new XmlUrlResolver();
                xslCompiledTransform.Load("testStylesheet", settings, resolver);
            }
            catch { throw; }
            finally { }
        }
    }
}
```

## <a name="see-also"></a><span data-ttu-id="cb4ca-131">Vea también</span><span class="sxs-lookup"><span data-stu-id="cb4ca-131">See also</span></span>

- [<span data-ttu-id="cb4ca-132">Consideraciones de seguridad de XSLT (Guía de .net)</span><span class="sxs-lookup"><span data-stu-id="cb4ca-132">XSLT Security Considerations(.NET Guide)</span></span>](../../../standard/data/xml/xslt-security-considerations.md)
