---
title: Portabilidad de .NET Framework a .NET Core
description: Comprenda el proceso de portabilidad y descubra herramientas que le pueden resultar útiles al realizar la portabilidad de un proyecto de .NET Framework a .NET Core.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: 247e709ac6898a6a89318626e3aa9a2a8e239a9a
ms.sourcegitcommit: a4cecb7389f02c27e412b743f9189bd2a6dea4d6
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/14/2021
ms.locfileid: "98189940"
---
# <a name="overview-of-porting-from-net-framework-to-net-core"></a><span data-ttu-id="9e12a-103">Introducción a la portabilidad de .NET Framework a .NET Core</span><span class="sxs-lookup"><span data-stu-id="9e12a-103">Overview of porting from .NET Framework to .NET Core</span></span>

<span data-ttu-id="9e12a-104">Es posible que tenga código que se ejecuta actualmente en .NET Framework que le interesa portar a .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-104">You might have code that currently runs on the .NET Framework that you're interested in porting to .NET Core.</span></span> <span data-ttu-id="9e12a-105">En este artículo se proporciona:</span><span class="sxs-lookup"><span data-stu-id="9e12a-105">This article provides:</span></span>

* <span data-ttu-id="9e12a-106">Una introducción al proceso de portabilidad.</span><span class="sxs-lookup"><span data-stu-id="9e12a-106">An overview of the porting process.</span></span>
* <span data-ttu-id="9e12a-107">Una lista de las herramientas que puede encontrar de utilidad al portar el código a .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-107">A list of tools that you may find helpful when you're porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="9e12a-108">Introducción al proceso de portabilidad</span><span class="sxs-lookup"><span data-stu-id="9e12a-108">Overview of the porting process</span></span>

<span data-ttu-id="9e12a-109">La portabilidad a .NET Core (o .NET Standard) desde .NET Framework es relativamente sencilla para muchos proyectos.</span><span class="sxs-lookup"><span data-stu-id="9e12a-109">Porting to .NET Core (or .NET Standard) from .NET Framework for many projects is relatively straightforward.</span></span> <span data-ttu-id="9e12a-110">Hay una serie de cambios necesarios, pero muchos de ellos siguen los patrones descritos a continuación.</span><span class="sxs-lookup"><span data-stu-id="9e12a-110">There are a number of changes that are required, but many of them follow the patterns outlined below.</span></span> <span data-ttu-id="9e12a-111">Los proyectos para los que el modelo de aplicación está disponible en .NET Core (por ejemplo, bibliotecas, aplicaciones de consola y aplicaciones de escritorio) suelen requerir pocos cambios.</span><span class="sxs-lookup"><span data-stu-id="9e12a-111">Projects where the app-model is available in .NET Core (such as libraries, console apps, and desktop applications) usually require little changes.</span></span> <span data-ttu-id="9e12a-112">Los proyectos que requieren un nuevo modelo de aplicación, como cuando se pasa a ASP.NET Core desde ASP.NET, requieren un poco más de trabajo, pero muchos patrones cuentan con elementos similares que se pueden usar durante la conversión.</span><span class="sxs-lookup"><span data-stu-id="9e12a-112">Projects that require a new app model, such as moving to ASP.NET Core from ASP.NET, require a bit more work, but many patterns have analogs that can be used during the conversion.</span></span> <span data-ttu-id="9e12a-113">En este documento se pretende ayudar a identificar las principales estrategias que han empleado los usuarios para convertir correctamente sus bases de código para que tengan como destino .NET Standard o .NET Core. Se aborda la conversión desde dos niveles: en todo el proyecto y solo en un proyecto específico.</span><span class="sxs-lookup"><span data-stu-id="9e12a-113">This document should help with identifying the main strategies that have been employed by users to successfully convert their code bases to target .NET Standard or .NET Core and will address the conversion at two levels: solution-wide and project specific.</span></span> <span data-ttu-id="9e12a-114">Vea los vínculos que encontrará en la parte inferior para obtener instrucciones sobre las conversiones específicas de modelos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="9e12a-114">See the links at the bottom for directions on app-model specific conversions.</span></span>

<span data-ttu-id="9e12a-115">Le recomendamos que use el proceso que se indica a continuación para portar su proyecto a .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-115">We recommend you use the following process when porting your project to .NET Core.</span></span> <span data-ttu-id="9e12a-116">En cada uno de estos pasos, se presentan los posibles aspectos afectados por los cambios de comportamiento, por lo que debe asegurarse de probar adecuadamente la biblioteca o la aplicación antes de continuar con los pasos posteriores.</span><span class="sxs-lookup"><span data-stu-id="9e12a-116">Each of these steps introduces potential places for behavior changes, so ensure that you adequately test your library or application before continuing on to later steps.</span></span> <span data-ttu-id="9e12a-117">Los primeros pasos consisten en preparar el proyecto para un cambio a .NET Standard o .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-117">The first steps are to get your project ready for a switch to .NET Standard or .NET Core.</span></span> <span data-ttu-id="9e12a-118">Si tiene pruebas unitarias, es mejor convertirlas primero para poder seguir probando los cambios en el producto en el que está trabajando.</span><span class="sxs-lookup"><span data-stu-id="9e12a-118">If you have unit tests, it's best to convert them first so that you can continue testing changes in the product you're working on.</span></span> <span data-ttu-id="9e12a-119">Dado que portar a .NET Core es un cambio considerable para el código base, se recomienda encarecidamente portar las proyectos de prueba de forma que se puedan ejecutar mientras porta el código.</span><span class="sxs-lookup"><span data-stu-id="9e12a-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to port your test projects so that you can run tests as you port your code over.</span></span> <span data-ttu-id="9e12a-120">MSTest, xUnit y NUnit funcionan en .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-120">MSTest, xUnit, and NUnit all work on .NET Core.</span></span>

## <a name="getting-started"></a><span data-ttu-id="9e12a-121">Introducción</span><span class="sxs-lookup"><span data-stu-id="9e12a-121">Getting started</span></span>

<span data-ttu-id="9e12a-122">En todo el proceso se utilizarán las siguientes herramientas:</span><span class="sxs-lookup"><span data-stu-id="9e12a-122">The following tools will be used throughout the process:</span></span>

- <span data-ttu-id="9e12a-123">Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="9e12a-123">Visual Studio 2019</span></span>
- <span data-ttu-id="9e12a-124">Descarga del [Analizador de portabilidad de .NET](../../standard/analyzers/portability-analyzer.md)</span><span class="sxs-lookup"><span data-stu-id="9e12a-124">Download [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md)</span></span>
- <span data-ttu-id="9e12a-125">Instalación _opcional_ de [dotnet try-convert](https://github.com/dotnet/try-convert)</span><span class="sxs-lookup"><span data-stu-id="9e12a-125">_Optional_ Install [dotnet try-convert](https://github.com/dotnet/try-convert)</span></span>

## <a name="porting-a-solution"></a><span data-ttu-id="9e12a-126">Portabilidad de una solución</span><span class="sxs-lookup"><span data-stu-id="9e12a-126">Porting a solution</span></span>

<span data-ttu-id="9e12a-127">Cuando una solución contiene varios proyectos, la portabilidad puede parecer más complicada, ya que los proyectos deben abordarse en un orden específico.</span><span class="sxs-lookup"><span data-stu-id="9e12a-127">When there are multiple projects in a solution, the porting can seem more complicated because you must address projects in a specific order.</span></span> <span data-ttu-id="9e12a-128">La conversión debe seguir un proceso con orden ascendente, en el que los proyectos sin dependencias de otros proyectos de la solución se conviertan primero y se pase a otros proyectos de la solución después.</span><span class="sxs-lookup"><span data-stu-id="9e12a-128">The conversion process should be a bottom-up approach, where the projects with no dependencies on other projects in the solution are converted first, and continue up through the whole solution.</span></span>

<span data-ttu-id="9e12a-129">Para identificar el orden en el que se deben migrar los proyectos, puede usar las siguientes herramientas:</span><span class="sxs-lookup"><span data-stu-id="9e12a-129">In order to identify the order projects should be migrated, you can use the following tools:</span></span>

- <span data-ttu-id="9e12a-130">[Los diagramas de dependencia de Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) pueden crear un gráfico dirigido del código en una solución.</span><span class="sxs-lookup"><span data-stu-id="9e12a-130">[Dependency Diagrams in Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) can create a directed graph of the code in a solution.</span></span>
- <span data-ttu-id="9e12a-131">Ejecute `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` para generar un documento JSON que incluya la lista de referencias del proyecto.</span><span class="sxs-lookup"><span data-stu-id="9e12a-131">Run `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` to generate a json document that includes list of project references.</span></span>
- <span data-ttu-id="9e12a-132">Ejecute el [Analizador de portabilidad de .NET](../../standard/analyzers/portability-analyzer.md) con el modificador `-r DGML` para recuperar un diagrama de dependencias de los ensamblados.</span><span class="sxs-lookup"><span data-stu-id="9e12a-132">Run [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) with the `-r DGML` switch to retrieve a dependency diagram of the assemblies.</span></span> <span data-ttu-id="9e12a-133">Para más información, consulte [esta página](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span><span class="sxs-lookup"><span data-stu-id="9e12a-133">For more information, see [here](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span></span>

<span data-ttu-id="9e12a-134">Una vez que tenga la información de dependencias, puede usarla para empezar en los nodos de hoja y subir hasta el árbol de dependencias aplicando los pasos de la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="9e12a-134">Once you have dependency information, you can use that information to start at the leaf nodes and work your way up the dependency tree applying the steps in the next section.</span></span>

## <a name="per-project-steps"></a><span data-ttu-id="9e12a-135">Pasos por proyecto</span><span class="sxs-lookup"><span data-stu-id="9e12a-135">Per project steps</span></span>

<span data-ttu-id="9e12a-136">Le recomendamos que use el siguiente proceso al portar un proyecto a .NET Core:</span><span class="sxs-lookup"><span data-stu-id="9e12a-136">We recommend you use the following process when porting your project to .NET Core:</span></span>

1. <span data-ttu-id="9e12a-137">Convierta todas las dependencias de `packages.config` en el formato de [PackageReference](/nuget/consume-packages/package-references-in-project-files) con la [herramienta de conversión en Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span><span class="sxs-lookup"><span data-stu-id="9e12a-137">Convert all of your `packages.config` dependencies to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format with the [conversion tool in Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span></span>

   <span data-ttu-id="9e12a-138">Este paso implica convertir las dependencias del formato `packages.config` heredado.</span><span class="sxs-lookup"><span data-stu-id="9e12a-138">This step involves converting your dependencies from the legacy `packages.config` format.</span></span> <span data-ttu-id="9e12a-139">`packages.config` no funciona en .NET Core, por lo que esta conversión es necesaria si tiene dependencias de paquete.</span><span class="sxs-lookup"><span data-stu-id="9e12a-139">`packages.config` doesn't work on .NET Core, so this conversion is required if you have package dependencies.</span></span> <span data-ttu-id="9e12a-140">También requiere las dependencias que está utilizando directamente en un proyecto; esto facilitará los pasos posteriores, ya que reduce la cantidad de dependencias que debe administrar.</span><span class="sxs-lookup"><span data-stu-id="9e12a-140">It also only requires the dependencies you are directly using in a project, which makes later steps easier by reducing the number of dependencies you must manage.</span></span>

1. <span data-ttu-id="9e12a-141">Convierta el archivo de proyecto a la nueva estructura de archivos de estilo SDK.</span><span class="sxs-lookup"><span data-stu-id="9e12a-141">Convert your project file to the new SDK-style files structure.</span></span> <span data-ttu-id="9e12a-142">Puede crear nuevos proyectos para .NET Core y copiar los archivos de código fuente, o bien intentar convertir el archivo de proyecto existente usando una herramienta.</span><span class="sxs-lookup"><span data-stu-id="9e12a-142">You can create new projects for .NET Core and copy over source files, or attempt to convert your existing project file with a tool.</span></span>

   <span data-ttu-id="9e12a-143">.NET Core usa un [formato de archivo de proyecto](../project-sdk/overview.md) simplificado y diferente al de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9e12a-143">.NET Core uses a simplified (and different) [project file format](../project-sdk/overview.md) than .NET Framework.</span></span> <span data-ttu-id="9e12a-144">Deberá convertir los archivos de proyecto en este formato para continuar.</span><span class="sxs-lookup"><span data-stu-id="9e12a-144">You'll need to convert your project files into this format to continue.</span></span> <span data-ttu-id="9e12a-145">Este estilo de proyecto también le permite tener como destino .NET Framework, algo interesante en este punto.</span><span class="sxs-lookup"><span data-stu-id="9e12a-145">This project style allows you to also target .NET Framework, which at this point you'll still want to target.</span></span>

   <span data-ttu-id="9e12a-146">Puede intentar portar soluciones más pequeñas o proyectos individuales en una operación en el formato de archivo de proyecto de .NET Core con la herramienta [dotnet try-convert](https://github.com/dotnet/try-convert).</span><span class="sxs-lookup"><span data-stu-id="9e12a-146">You can attempt to port smaller solutions or individual projects in one operation to the .NET Core project file format with the [dotnet try-convert](https://github.com/dotnet/try-convert) tool.</span></span> <span data-ttu-id="9e12a-147">No hay ninguna garantía de que `dotnet try-convert` funcione con todos los proyectos y puede provocar cambios sutiles de comportamiento de los que dependa.</span><span class="sxs-lookup"><span data-stu-id="9e12a-147">`dotnet try-convert` is not guaranteed to work for all your projects, and it may cause subtle changes in behavior that you depended on.</span></span> <span data-ttu-id="9e12a-148">Use esta herramienta como _punto inicial_ que automatice los elementos básicos que se pueden automatizar.</span><span class="sxs-lookup"><span data-stu-id="9e12a-148">Use it as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="9e12a-149">No es una solución garantizada para migrar un proyecto, ya que hay muchas diferencias en los destinos que utilizan los proyectos de estilo SDK en comparación con los archivos de proyecto de estilo antiguo.</span><span class="sxs-lookup"><span data-stu-id="9e12a-149">It isn't a guaranteed solution to migrating a project, as there are many differences in the targets used by the SDK style projects compared to the old-style project files.</span></span>

1. <span data-ttu-id="9e12a-150">Redirija todos los proyectos que quiere portar a .NET Framework 4.7.2 o versiones superiores.</span><span class="sxs-lookup"><span data-stu-id="9e12a-150">Retarget all projects you wish to port to target .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="9e12a-151">Este paso garantiza que puede usar alternativas de API para destinos específicos de .NET Framework en los casos donde .NET Core no admite una API determinada.</span><span class="sxs-lookup"><span data-stu-id="9e12a-151">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

1. <span data-ttu-id="9e12a-152">Actualice todas las dependencias a la versión más reciente.</span><span class="sxs-lookup"><span data-stu-id="9e12a-152">Update all dependencies to the latest version.</span></span> <span data-ttu-id="9e12a-153">Es posible que los proyectos estén usando versiones anteriores de bibliotecas que no son compatibles con .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="9e12a-153">Projects may be using older versions of libraries that may not have .NET Standard support.</span></span> <span data-ttu-id="9e12a-154">Sin embargo, las versiones posteriores pueden admitirlo con un modificador simple.</span><span class="sxs-lookup"><span data-stu-id="9e12a-154">However, later versions may support it with a simple switch.</span></span> <span data-ttu-id="9e12a-155">Esto puede requerir cambios en el código si hay cambios importantes en las bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="9e12a-155">This may require code changes if there are breaking changes in libraries.</span></span>

1. <span data-ttu-id="9e12a-156">Use el [Analizador de portabilidad de .NET](../../standard/analyzers/portability-analyzer.md) para analizar los ensamblados y ver si se pueden portar a .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-156">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and see if they're portable to .NET Core.</span></span>

   <span data-ttu-id="9e12a-157">La herramienta Analizador de portabilidad de .NET analiza los ensamblados compilados y genera un informe.</span><span class="sxs-lookup"><span data-stu-id="9e12a-157">The .NET Portability Analyzer tool analyzes your compiled assemblies and generates a report.</span></span> <span data-ttu-id="9e12a-158">Este informe muestra un resumen de portabilidad de alto nivel y un desglose de cada API que usa y que no está disponible en .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-158">This report shows a high-level portability summary and a breakdown of each API you're using that isn't available on .NET Core.</span></span> <span data-ttu-id="9e12a-159">Al usar la herramienta, envíe solo el proyecto específico que quiera convertir para centrarse en los cambios de la API que puedan ser necesarios.</span><span class="sxs-lookup"><span data-stu-id="9e12a-159">While using the tool, only submit the individual project you are converting to focus on the API changes that are potentially needed.</span></span> <span data-ttu-id="9e12a-160">Muchas de las API tienen una disponibilidad equivalente en .NET Core, por lo que podrá cambiar a estas.</span><span class="sxs-lookup"><span data-stu-id="9e12a-160">Many of the APIs have equivalent availability in .NET Core, which you'll want to switch to.</span></span>

   <span data-ttu-id="9e12a-161">Al leer los informes generados por el analizador, la información importante son las API que realmente se usan, y no necesariamente el porcentaje de compatibilidad con la plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="9e12a-161">While reading the reports generated by the analyzer, the important information is the actual APIs that are being used and not necessarily the percentage of support for the target platform.</span></span> <span data-ttu-id="9e12a-162">Muchas API tienen opciones equivalentes en .NET Standard/Core, por lo que comprender los escenarios en los que la biblioteca o la aplicación necesitan la API ayudará a determinar las consecuencias de la portabilidad.</span><span class="sxs-lookup"><span data-stu-id="9e12a-162">Many APIs have equivalent options in .NET Standard/Core, and so understanding the scenarios your library or application needs the API for will help determine the implication for portability.</span></span>

   <span data-ttu-id="9e12a-163">Hay algunos casos en los que las API no son equivalentes, por lo que deberá establecer algunas directivas de preprocesador del compilador (es decir, `#if NET45`) con el objetivo de crear casos especiales para las plataformas.</span><span class="sxs-lookup"><span data-stu-id="9e12a-163">There are some cases where APIs are not equivalent and you'll need to do some compiler preprocessor directives (that is, `#if NET45`) to special case the platforms.</span></span> <span data-ttu-id="9e12a-164">En este punto, el proyecto seguirá teniendo como destino .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9e12a-164">At this point, your project will still be targeting .NET Framework.</span></span> <span data-ttu-id="9e12a-165">Para cada uno de estos casos de destino, se recomienda utilizar condicionales conocidos que se puedan entender como un escenario.</span><span class="sxs-lookup"><span data-stu-id="9e12a-165">For each of these targeted cases, it is recommended to use well-known conditionals that can be understood as a scenario.</span></span>  <span data-ttu-id="9e12a-166">Por ejemplo, la compatibilidad con AppDomain en .NET Core está limitada, pero, para el escenario de carga y descarga de ensamblados, hay una nueva API que no está disponible en .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e12a-166">For example, AppDomain support in .NET Core is limited, but for the scenario of loading and unloading assemblies, there is a new API that's not available in .NET Core.</span></span> <span data-ttu-id="9e12a-167">Una forma común de controlar esto en el código sería como lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9e12a-167">A common way to handle this in code would be something like this:</span></span>

   ```csharp
   #if FEATURE_APPDOMAIN_LOADING
   // Code that uses appdomains
   #elif FEATURE_ASSEMBLY_LOAD_CONTEXT
   // Code that uses assembly load context
   #else
   #error Unsupported platform
   #endif
   ```

1. <span data-ttu-id="9e12a-168">Instale el [analizador de API de .NET](../../standard/analyzers/api-analyzer.md) en los proyectos para identificar las API que inician <xref:System.PlatformNotSupportedException> en algunas plataformas y otros posibles problemas de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="9e12a-168">Install the [.NET API analyzer](../../standard/analyzers/api-analyzer.md) into your projects to identify APIs that throw <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

   <span data-ttu-id="9e12a-169">Esta herramienta es similar al analizador de portabilidad, pero en lugar de analizar si el código se pueden basar en .NET Core, analiza si se usa una API de forma que se inicie <xref:System.PlatformNotSupportedException> en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="9e12a-169">This tool is similar to the portability analyzer, but instead of analyzing if code can build on .NET Core, it analyzes whether you're using an API in a way that will throw a <xref:System.PlatformNotSupportedException> at run time.</span></span> <span data-ttu-id="9e12a-170">Aunque esto no es habitual si va a realizar la portabilidad desde .NET Framework 4.7.2 o superior, es conveniente comprobarlo.</span><span class="sxs-lookup"><span data-stu-id="9e12a-170">Although this isn't common if you're moving from .NET Framework 4.7.2 or higher, it's good to check.</span></span> <span data-ttu-id="9e12a-171">Para obtener más información sobre las [API que generan excepciones en .NET Core](../compatibility/unsupported-apis.md), consulte el artículo.</span><span class="sxs-lookup"><span data-stu-id="9e12a-171">For more information about APIs that throw exceptions on .NET Core, see [APIs that always throw exceptions on .NET Core](../compatibility/unsupported-apis.md).</span></span>

1. <span data-ttu-id="9e12a-172">En este punto, puede cambiar el destino a .NET Core (generalmente para aplicaciones) o .NET Standard (para bibliotecas).</span><span class="sxs-lookup"><span data-stu-id="9e12a-172">At this point, you can switch to targeting .NET Core (generally for applications) or .NET Standard (for libraries).</span></span>

   <span data-ttu-id="9e12a-173">La elección entre .NET Core y .NET Standard depende en gran medida de dónde se ejecutará el proyecto.</span><span class="sxs-lookup"><span data-stu-id="9e12a-173">The choice between .NET Core and .NET Standard is largely dependent on where the project will be run.</span></span> <span data-ttu-id="9e12a-174">Si se trata de una biblioteca que usarán otras aplicaciones o se distribuirá a través de NuGet, suele elegirse .NET Standard como destino.</span><span class="sxs-lookup"><span data-stu-id="9e12a-174">If it is a library that will be consumed by other applications or distributed via NuGet, the preference is usually to target .NET Standard.</span></span> <span data-ttu-id="9e12a-175">Pero puede haber algunas API que solo estén disponibles en .NET Core por motivos de rendimiento u otras razones. En ese caso, .NET Core debe tener como destino una compilación de .NET Standard disponible, así como un rendimiento o funcionalidad reducidos.</span><span class="sxs-lookup"><span data-stu-id="9e12a-175">However, there may be APIs that are only available on .NET Core for performance or other reasons; if that's the case, .NET Core should be targeted with potentially a .NET Standard build available as well with reduced performance or functionality.</span></span> <span data-ttu-id="9e12a-176">Al tener como destino .NET Standard, el proyecto estará listo para ejecutarse en nuevas plataformas (como WebAssembly).</span><span class="sxs-lookup"><span data-stu-id="9e12a-176">By targeting .NET Standard, the project will be ready to run on new platforms (such as WebAssembly).</span></span> <span data-ttu-id="9e12a-177">Si el proyecto tiene dependencias en marcos de aplicaciones específicos (como ASP.NET Core), el destino estará limitado por la compatibilidad de las dependencias.</span><span class="sxs-lookup"><span data-stu-id="9e12a-177">If the project has dependencies on specific app frameworks (such as ASP.NET Core), then the target will be limited by what the dependencies support.</span></span>

   <span data-ttu-id="9e12a-178">Si no hay ninguna directiva de preprocesador para el código de compilación condicional de .NET Framework o .NET Standard, bastará con encontrar lo siguiente en el archivo de proyecto:</span><span class="sxs-lookup"><span data-stu-id="9e12a-178">If there are no preprocessor directives to conditional compile code for .NET Framework or .NET Standard, this will be as simple as finding the following in the project file:</span></span>

   ```xml
   <TargetFramework>net472</TargetFramework>
   ```

   <span data-ttu-id="9e12a-179">y cambiar al marco que quiera.</span><span class="sxs-lookup"><span data-stu-id="9e12a-179">and switch it to the desired framework.</span></span> <span data-ttu-id="9e12a-180">Para .NET Core 3.1, esto sería:</span><span class="sxs-lookup"><span data-stu-id="9e12a-180">For .NET Core 3.1, this would be:</span></span>

   ```xml
   <TargetFramework>netcoreapp3.1</TargetFramework>
   ```

   <span data-ttu-id="9e12a-181">Pero, si se trata de una biblioteca que quiere que siga siendo compatible con compilaciones específicas de .NET Framework, puede [tener varios destinos](../../standard/library-guidance/cross-platform-targeting.md); para ello, sustituya la biblioteca por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9e12a-181">However, if this is a library for which you want to continue supporting .NET Framework-specific builds, you can [multi-target](../../standard/library-guidance/cross-platform-targeting.md) by replacing it with the following:</span></span>

   ```xml
   <TargetFrameworks>net472;netstandard2.0</TargetFrameworks>
   ```

   <span data-ttu-id="9e12a-182">Si usa las API específicas de Windows (como el acceso al registro), instale el [paquete de compatibilidad con Windows](./windows-compat-pack.md).</span><span class="sxs-lookup"><span data-stu-id="9e12a-182">If you're using Windows-specific APIs (such as registry access), install the [Windows Compatibility Pack](./windows-compat-pack.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="9e12a-183">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="9e12a-183">Next steps</span></span>

> [!div class="nextstepaction"]
> <span data-ttu-id="9e12a-184">[Análisis de dependencias](third-party-deps.md)
> [Empaquetado de un paquete NuGet](../deploying/creating-nuget-packages.md)</span><span class="sxs-lookup"><span data-stu-id="9e12a-184">[Analyze dependencies](third-party-deps.md)
[Package a NuGet package](../deploying/creating-nuget-packages.md)</span></span>

## <a name="see-also"></a><span data-ttu-id="9e12a-185">Consulta también</span><span class="sxs-lookup"><span data-stu-id="9e12a-185">See also</span></span>

- [<span data-ttu-id="9e12a-186">Migración de ASP.NET s ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="9e12a-186">ASP.NET to ASP.NET Core migration</span></span>](/aspnet/core/migration/proper-to-2x)
- [<span data-ttu-id="9e12a-187">Migración de aplicaciones de WPF a .NET Core</span><span class="sxs-lookup"><span data-stu-id="9e12a-187">Migrate WPF apps to .NET Core</span></span>](/dotnet/desktop/wpf/migration/convert-project-from-net-framework)
- [<span data-ttu-id="9e12a-188">Migración a .NET de aplicaciones de Windows Forms para .NET Framework</span><span class="sxs-lookup"><span data-stu-id="9e12a-188">Migrate .NET Framework Windows Forms apps to .NET</span></span>](/dotnet/desktop/winforms/migration/?view=netdesktop-5.0&preserve-view=true)
