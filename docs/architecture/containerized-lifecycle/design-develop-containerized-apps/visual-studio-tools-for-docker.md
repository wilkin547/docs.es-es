---
title: Visual Studio Tools para Docker en Windows
description: Conozca las herramientas de Docker disponibles en Visual Studio 2017, versión 15.7 y posteriores.
ms.date: 01/06/2021
ms.custom: vs-dotnet
ms.openlocfilehash: 0f6a0ca0e90021f5d374cfacc5c498f257ab5422
ms.sourcegitcommit: 7ef96827b161ef3fcde75f79d839885632e26ef1
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "97970518"
---
# <a name="use-docker-tools-in-visual-studio-on-windows"></a><span data-ttu-id="eefbd-103">Uso de herramientas de Docker de Visual Studio en Windows</span><span class="sxs-lookup"><span data-stu-id="eefbd-103">Use Docker Tools in Visual Studio on Windows</span></span>

<span data-ttu-id="eefbd-104">El flujo de trabajo del desarrollador al utilizar las herramientas de Docker incluidas en Visual Studio 2017, versión 15.7 y posteriores, es similar al de usar Visual Studio Code y la CLI de Docker (de hecho, se basa en la misma CLI de Docker), pero es más fácil de iniciar, simplifica el proceso y aumenta la productividad en las tareas de compilación, ejecución y composición.</span><span class="sxs-lookup"><span data-stu-id="eefbd-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="eefbd-105">También puede ejecutar y depurar los contenedores a través de las teclas `F5` y `Ctrl+F5` habituales de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="eefbd-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="eefbd-106">Incluso puede depurar una solución completa si sus contenedores se definen en el mismo archivo `docker-compose.yml` en el nivel de solución.</span><span class="sxs-lookup"><span data-stu-id="eefbd-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="eefbd-107">Configuración del entorno local</span><span class="sxs-lookup"><span data-stu-id="eefbd-107">Configure your local environment</span></span>

<span data-ttu-id="eefbd-108">Con las últimas versiones de Docker para Windows, resulta más fácil que nunca desarrollar aplicaciones de Docker porque la configuración es sencilla, tal y como se explica en las siguientes referencias.</span><span class="sxs-lookup"><span data-stu-id="eefbd-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="eefbd-109">Para más información sobre cómo instalar Docker para Windows, vaya a (<https://docs.docker.com/docker-for-windows/>).</span><span class="sxs-lookup"><span data-stu-id="eefbd-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio"></a><span data-ttu-id="eefbd-110">Compatibilidad con Docker en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="eefbd-110">Docker support in Visual Studio</span></span>

<span data-ttu-id="eefbd-111">Hay dos niveles de compatibilidad con Docker que puede agregar a un proyecto.</span><span class="sxs-lookup"><span data-stu-id="eefbd-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="eefbd-112">En los proyectos de ASP.NET Core, basta con agregar un archivo `Dockerfile` al proyecto habilitando la compatibilidad con Docker.</span><span class="sxs-lookup"><span data-stu-id="eefbd-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="eefbd-113">El siguiente nivel es la compatibilidad con la orquestación de contenedores, que agrega un archivo `Dockerfile` al proyecto (si aún no existe) y un archivo `docker-compose.yml` en el nivel de solución.</span><span class="sxs-lookup"><span data-stu-id="eefbd-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="eefbd-114">La compatibilidad con la orquestación de contenedores, mediante Docker Compose, se agrega de forma predeterminada en las versiones 15.0 a 15.7 de Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="eefbd-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="eefbd-115">La compatibilidad con la orquestación de contenedores es una característica opcional en Visual Studio 2017, versión 15.8 o posteriores.</span><span class="sxs-lookup"><span data-stu-id="eefbd-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="eefbd-116">Visual Studio 2019 y versiones posteriores también admiten la implementación de **Kubernetes/Helm**.</span><span class="sxs-lookup"><span data-stu-id="eefbd-116">Visual Studio 2019 and later supports **Kubernetes/Helm** deployment as well.</span></span>

<span data-ttu-id="eefbd-117">Los comandos **Agregar > Compatibilidad con Docker** y **Agregar > Compatibilidad con el orquestador de contenedores** se encuentran en el menú contextual del nodo de proyecto de un proyecto de ASP.NET Core en el **Explorador de soluciones**, tal y como se muestra en la figura 4-31:</span><span class="sxs-lookup"><span data-stu-id="eefbd-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Opción de menú Agregar compatibilidad con Docker en Visual Studio](media/add-docker-support-menu.png)

<span data-ttu-id="eefbd-119">**Figura 4-31**.</span><span class="sxs-lookup"><span data-stu-id="eefbd-119">**Figure 4-31**.</span></span> <span data-ttu-id="eefbd-120">Incorporación de compatibilidad con Docker a un proyecto de Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="eefbd-120">Adding Docker support to a Visual Studio 2019 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="eefbd-121">Agregue compatibilidad con Docker</span><span class="sxs-lookup"><span data-stu-id="eefbd-121">Add Docker support</span></span>

<span data-ttu-id="eefbd-122">Además de la opción para agregar compatibilidad con Docker a una aplicación existente, como se ha mostrado en la sección anterior, también puede habilitar la compatibilidad con Docker durante la creación del proyecto si selecciona **Habilitar compatibilidad con Docker** en el cuadro de diálogo **Nueva aplicación web ASP.NET Core** que se abre al hacer clic en **Aceptar** en el cuadro de diálogo **Nuevo proyecto**, como se muestra en la figura 4-32.</span><span class="sxs-lookup"><span data-stu-id="eefbd-122">Besides the option to add Docker support to an existing application, as shown in the previous section, you can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Habilitación de la compatibilidad con Docker para una nueva aplicación web de ASP.NET Core en Visual Studio](media/enable-docker-support-visual-studio.png)

<span data-ttu-id="eefbd-124">**Figura 4-32**.</span><span class="sxs-lookup"><span data-stu-id="eefbd-124">**Figure 4-32**.</span></span> <span data-ttu-id="eefbd-125">Habilitación de la compatibilidad con Docker durante la creación del proyecto en Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="eefbd-125">Enable Docker support during project creation in Visual Studio 2019</span></span>

<span data-ttu-id="eefbd-126">Al agregar o habilitar la compatibilidad con Docker, Visual Studio agrega al proyecto un archivo _Dockerfile_ que incluye referencias a todos los proyectos necesarios de la solución.</span><span class="sxs-lookup"><span data-stu-id="eefbd-126">When you add or enable Docker support, Visual Studio adds a _Dockerfile_ file to the project, that includes references to all required project from the solution.</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="eefbd-127">Incorporación de compatibilidad con la orquestación de contenedores</span><span class="sxs-lookup"><span data-stu-id="eefbd-127">Add container orchestration support</span></span>

<span data-ttu-id="eefbd-128">Cuando quiera crear una solución de varios contenedores, agregue compatibilidad con la orquestación de contenedores a sus proyectos.</span><span class="sxs-lookup"><span data-stu-id="eefbd-128">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="eefbd-129">De esta manera podrá ejecutar y depurar un grupo de contenedores (una solución completa) al mismo tiempo si se definen en el mismo archivo _docker-compose.yml_.</span><span class="sxs-lookup"><span data-stu-id="eefbd-129">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same _docker-compose.yml_ file.</span></span>

<span data-ttu-id="eefbd-130">Para agregar compatibilidad con la orquestación de contenedores, haga clic con el botón derecho en el nodo de la solución o del proyecto en el **Explorador de soluciones** y elija **Agregar > Compatibilidad con la orquestación de contenedores**.</span><span class="sxs-lookup"><span data-stu-id="eefbd-130">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="eefbd-131">Luego seleccione **Kubernetes/Helm** o **Docker Compose** para administrar los contenedores.</span><span class="sxs-lookup"><span data-stu-id="eefbd-131">Then choose **Kubernetes/Helm** or **Docker Compose** to manage the containers.</span></span>

<span data-ttu-id="eefbd-132">Después de agregar al proyecto compatibilidad con la orquestación de contenedores, ve que se han agregado un archivo Dockerfile al proyecto y una carpeta **docker-compose** a la solución en el **Explorador de soluciones**, como se muestra en la figura 4-33:</span><span class="sxs-lookup"><span data-stu-id="eefbd-132">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-33:</span></span>

![Archivos de Docker en el Explorador de soluciones en Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="eefbd-134">**Figura 4-33**.</span><span class="sxs-lookup"><span data-stu-id="eefbd-134">**Figure 4-33**.</span></span> <span data-ttu-id="eefbd-135">Archivos de Docker en el Explorador de soluciones de Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="eefbd-135">Docker files in Solution Explorer in Visual Studio 2019</span></span>

<span data-ttu-id="eefbd-136">Si _docker-compose.yml_ ya existe, Visual Studio le agrega simplemente las líneas de código de configuración necesarias.</span><span class="sxs-lookup"><span data-stu-id="eefbd-136">If _docker-compose.yml_ already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="eefbd-137">Configuración de herramientas de Docker</span><span class="sxs-lookup"><span data-stu-id="eefbd-137">Configure Docker tools</span></span>

<span data-ttu-id="eefbd-138">En el menú principal, elija **Herramientas > Opciones** y expanda **Herramientas de contenedor > Configuración**.</span><span class="sxs-lookup"><span data-stu-id="eefbd-138">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="eefbd-139">Aparecerá la configuración de las herramientas de contenedor.</span><span class="sxs-lookup"><span data-stu-id="eefbd-139">The container tools settings appear.</span></span>

![Opciones de herramientas de Docker de Visual Studio con tres páginas: General, Proyecto único y Docker Compose, detalles en el texto del artículo.](media/visual-studio-docker-tools-options.png)

<span data-ttu-id="eefbd-141">**Figura 4-34**.</span><span class="sxs-lookup"><span data-stu-id="eefbd-141">**Figure 4-34**.</span></span> <span data-ttu-id="eefbd-142">Opciones de herramientas de Docker</span><span class="sxs-lookup"><span data-stu-id="eefbd-142">Docker Tools Options</span></span>

<span data-ttu-id="eefbd-143">La tabla siguiente puede ayudarle a decidir cómo configurar estas opciones.</span><span class="sxs-lookup"><span data-stu-id="eefbd-143">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="eefbd-144">Página o valor</span><span class="sxs-lookup"><span data-stu-id="eefbd-144">Page/Setting</span></span>                                |  <span data-ttu-id="eefbd-145">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="eefbd-145">Default Setting</span></span>   | <span data-ttu-id="eefbd-146">Descripción</span><span class="sxs-lookup"><span data-stu-id="eefbd-146">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------------------- | :----------------: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="eefbd-147">**Página General**</span><span class="sxs-lookup"><span data-stu-id="eefbd-147">**General page**</span></span>                            |
| <span data-ttu-id="eefbd-148">Instalar Docker Desktop si es necesario</span><span class="sxs-lookup"><span data-stu-id="eefbd-148">Install Docker Desktop if needed</span></span>            |     <span data-ttu-id="eefbd-149">Preguntarme</span><span class="sxs-lookup"><span data-stu-id="eefbd-149">Prompt me</span></span>      |
| <span data-ttu-id="eefbd-150">Iniciar Docker Desktop si es necesario</span><span class="sxs-lookup"><span data-stu-id="eefbd-150">Start Docker Desktop if needed</span></span>              |     <span data-ttu-id="eefbd-151">Preguntarme</span><span class="sxs-lookup"><span data-stu-id="eefbd-151">Prompt me</span></span>      |
| <span data-ttu-id="eefbd-152">Confiar en el certificado SSL de ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="eefbd-152">Trust ASP.NET Core SSL certificate</span></span>          |     <span data-ttu-id="eefbd-153">Preguntarme</span><span class="sxs-lookup"><span data-stu-id="eefbd-153">Prompt me</span></span>      | <span data-ttu-id="eefbd-154">Si el certificado SSL de localhost no se ha marcado como de confianza (con `dotnet dev-certs https --trust`), Visual Studio le pregunta cada vez que ejecuta el proyecto.</span><span class="sxs-lookup"><span data-stu-id="eefbd-154">If the localhost SSL certificate hasn't been marked as trusted (with `dotnet dev-certs https --trust`), Visual Studio will prompt every time you run your project.</span></span>                                                                                                                                                                                                                                                    |
| <span data-ttu-id="eefbd-155">**Página Proyecto único**</span><span class="sxs-lookup"><span data-stu-id="eefbd-155">**Single Project page**</span></span>                     |
| <span data-ttu-id="eefbd-156">Extraer las imágenes de Docker necesarias al abrir el proyecto</span><span class="sxs-lookup"><span data-stu-id="eefbd-156">Pull required Docker images on project open</span></span> |        <span data-ttu-id="eefbd-157">True</span><span class="sxs-lookup"><span data-stu-id="eefbd-157">True</span></span>        | <span data-ttu-id="eefbd-158">Para un mejor rendimiento al ejecutar el proyecto, Visual Studio inicia una operación pull de Docker en segundo plano para que cuando esté listo para ejecutar el código, la imagen ya esté descargada o en proceso de descarga.</span><span class="sxs-lookup"><span data-stu-id="eefbd-158">For increased performance when running the project, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="eefbd-159">Si simplemente carga proyectos y explora código, puede desactivar esta opción para evitar la descarga de imágenes de contenedor que no son necesarias.</span><span class="sxs-lookup"><span data-stu-id="eefbd-159">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> <span data-ttu-id="eefbd-160">Esto puede ralentizar la experiencia del usuario de apertura del proyecto.</span><span class="sxs-lookup"><span data-stu-id="eefbd-160">This could slow the open project user experience.</span></span> |
| <span data-ttu-id="eefbd-161">Extraer las imágenes de Docker actualizadas al abrir el proyecto</span><span class="sxs-lookup"><span data-stu-id="eefbd-161">Pull updated Docker images on project load</span></span>  | <span data-ttu-id="eefbd-162">Proyectos de .NET Core</span><span class="sxs-lookup"><span data-stu-id="eefbd-162">.NET Core projects</span></span> | <span data-ttu-id="eefbd-163">Extraiga las actualizaciones de las imágenes existentes para obtener las últimas actualizaciones al abrir el proyecto.</span><span class="sxs-lookup"><span data-stu-id="eefbd-163">Pull updates to existing images to get the latest updates on project open.</span></span> <span data-ttu-id="eefbd-164">Esto puede ralentizar la experiencia del usuario de apertura del proyecto.</span><span class="sxs-lookup"><span data-stu-id="eefbd-164">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="eefbd-165">Quitar los contenedores al cerrar el proyecto</span><span class="sxs-lookup"><span data-stu-id="eefbd-165">Remove containers on project close</span></span>          |        <span data-ttu-id="eefbd-166">True</span><span class="sxs-lookup"><span data-stu-id="eefbd-166">True</span></span>        | <span data-ttu-id="eefbd-167">Limpie al cerrar el proyecto. Esto puede ralentizar la experiencia del usuario de cierre del proyecto, pero suele ser rápido de todos modos.</span><span class="sxs-lookup"><span data-stu-id="eefbd-167">Clean up on project close, This could slow the close project user experience but it's usually fast anyway.</span></span>                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="eefbd-168">Ejecutar contenedores al abrir el proyecto</span><span class="sxs-lookup"><span data-stu-id="eefbd-168">Run containers on project open</span></span>              |        <span data-ttu-id="eefbd-169">True</span><span class="sxs-lookup"><span data-stu-id="eefbd-169">True</span></span>        | <span data-ttu-id="eefbd-170">Para un mejor rendimiento al ejecutar el proyecto, Visual Studio inicia todos los contenedores de la solución.</span><span class="sxs-lookup"><span data-stu-id="eefbd-170">For increased performance when running the project, Visual Studio will start all containers in the solution.</span></span> <span data-ttu-id="eefbd-171">Esto puede ralentizar la experiencia del usuario de apertura del proyecto.</span><span class="sxs-lookup"><span data-stu-id="eefbd-171">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="eefbd-172">**Docker Compose**</span><span class="sxs-lookup"><span data-stu-id="eefbd-172">**Docker Compose**</span></span>                          |                    | <span data-ttu-id="eefbd-173">La página Docker Compose contiene la misma configuración que la página Proyecto único, pero se aplica a las soluciones de varios contenedores.</span><span class="sxs-lookup"><span data-stu-id="eefbd-173">The Docker Compose page contains the same settings as the Single Project page, but they apply to multi-container solutions.</span></span>                                                                                                                                                                                                                                                                                           |

> [!WARNING]
> <span data-ttu-id="eefbd-174">Si el certificado SSL de localhost no es de confianza y la opción se establece en **Nunca**, se puede producir un error de las solicitudes web HTTPS en tiempo de ejecución en la aplicación o el servicio.</span><span class="sxs-lookup"><span data-stu-id="eefbd-174">If the localhost SSL certificate is not trusted, and you set the option to **Never**, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="eefbd-175">En ese caso, vuelva a establecer el valor en **Preguntarme** o, mejor aún, confíe en los certificados del equipo de desarrollo mediante el comando `dotnet dev-certs https --trust`.</span><span class="sxs-lookup"><span data-stu-id="eefbd-175">In that case, set the value back again to **Prompt me** or, better again, trust the certificates in your dev machine using the command `dotnet dev-certs https --trust`.</span></span>

> [!TIP]
> <span data-ttu-id="eefbd-176">Para más información sobre la implementación de servicios y el uso de Visual Studio Tools para Docker, lea los artículos siguientes:</span><span class="sxs-lookup"><span data-stu-id="eefbd-176">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
> <span data-ttu-id="eefbd-177">Depuración de aplicaciones en un contenedor de Docker local: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="eefbd-177">Debug apps in a local Docker container: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span></span>
>
> <span data-ttu-id="eefbd-178">Implementación de un contenedor ASP.NET en un registro de contenedor con Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="eefbd-178">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="eefbd-179">[Anterior](docker-apps-inner-loop-workflow.md)
> [Siguiente](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="eefbd-179">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
