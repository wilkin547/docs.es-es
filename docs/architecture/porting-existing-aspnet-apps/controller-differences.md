---
title: Comparar controladores en ASP.NET MVC y ASP.NET Core
description: ASP.NET Core controladores MVC son similares a los controladores ASP.NET MVC 5 y Web API 2, pero hay diferencias importantes. En esta sección se examinan las diferencias y los pasos necesarios para migrar aplicaciones de ASP.NET MVC y Web API 2 a ASP.NET Core.
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: 2c2b7b848162a6ab9901ac9f7779787e2cc994ce
ms.sourcegitcommit: 42d436ebc2a7ee02fc1848c7742bc7d80e13fc2f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/04/2021
ms.locfileid: "102401782"
---
# <a name="compare-controllers-in-aspnet-mvc-and-web-api-with-controllers-in-aspnet-core"></a><span data-ttu-id="fdb56-104">Comparar controladores en ASP.NET MVC y Web API con controladores en ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="fdb56-104">Compare controllers in ASP.NET MVC and Web API with controllers in ASP.NET Core</span></span>

<span data-ttu-id="fdb56-105">En ASP.NET MVC 5 y Web API 2, había dos `Controller` tipos base diferentes.</span><span class="sxs-lookup"><span data-stu-id="fdb56-105">In ASP.NET MVC 5 and Web API 2, there were two different `Controller` base types.</span></span> <span data-ttu-id="fdb56-106">Controladores MVC heredados de `Controller` ; Controladores de API Web heredados de `ApiController` .</span><span class="sxs-lookup"><span data-stu-id="fdb56-106">MVC controllers inherited from `Controller`; Web API controllers inherited from `ApiController`.</span></span> <span data-ttu-id="fdb56-107">En ASP.NET Core, esta jerarquía de objetos se ha combinado.</span><span class="sxs-lookup"><span data-stu-id="fdb56-107">In ASP.NET Core, this object hierarchy has been merged.</span></span> <span data-ttu-id="fdb56-108">Se recomienda que los controladores de API de ASP.NET Core hereden de `ControllerBase` y agreguen el `[ApiController]` atributo.</span><span class="sxs-lookup"><span data-stu-id="fdb56-108">It's recommended that API controllers in ASP.NET Core inherit from `ControllerBase` and add the `[ApiController]` attribute.</span></span> <span data-ttu-id="fdb56-109">Los controladores MVC basados en la vista estándar deben heredar de `Controller` .</span><span class="sxs-lookup"><span data-stu-id="fdb56-109">Standard view-based MVC controllers should inherit from `Controller`.</span></span>

<span data-ttu-id="fdb56-110">En ambos marcos, los controladores se usan para organizar conjuntos de métodos de acción.</span><span class="sxs-lookup"><span data-stu-id="fdb56-110">In both frameworks, controllers are used to organize sets of action methods.</span></span> <span data-ttu-id="fdb56-111">Los filtros y las rutas se pueden aplicar en un nivel de controlador además de en el nivel de acción.</span><span class="sxs-lookup"><span data-stu-id="fdb56-111">Filters and routes can be applied on a controller level in addition to at the action level.</span></span> <span data-ttu-id="fdb56-112">Estas convenciones se pueden ampliar aún más mediante el uso de tipos base personalizados `Controller` con el comportamiento predeterminado y los atributos que se les aplican.</span><span class="sxs-lookup"><span data-stu-id="fdb56-112">These conventions can be extended further by using custom base `Controller` types with default behavior and attributes applied to them.</span></span>

<span data-ttu-id="fdb56-113">En ASP.NET MVC, no se admite la negociación de contenido.</span><span class="sxs-lookup"><span data-stu-id="fdb56-113">In ASP.NET MVC, content negotiation isn't supported.</span></span> <span data-ttu-id="fdb56-114">ASP.NET Web API 2 admite la negociación de contenido, como hace ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="fdb56-114">ASP.NET Web API 2 does support content negotiation, as does ASP.NET Core.</span></span> <span data-ttu-id="fdb56-115">Mediante el uso de la [negociación de contenido](/aspnet/core/web-api/advanced/formatting), el formato del contenido devuelto a una solicitud se puede determinar mediante encabezados que el cliente proporciona para indicar su manera preferida de recibir el contenido.</span><span class="sxs-lookup"><span data-stu-id="fdb56-115">Using [content negotiation](/aspnet/core/web-api/advanced/formatting), the format of the content returned to a request can be determined by headers the client provides indicating its preferred manner of receiving the content.</span></span>

<span data-ttu-id="fdb56-116">Al migrar controladores de ASP.NET Web API a ASP.NET Core, es necesario cambiar algunos componentes si existen.</span><span class="sxs-lookup"><span data-stu-id="fdb56-116">When migrating ASP.NET Web API controllers to ASP.NET Core, a few components need to be changed if they exist.</span></span> <span data-ttu-id="fdb56-117">Entre ellas se incluyen las referencias a la `ApiController` clase base, el `System.Web.Http` espacio de nombres y la `IHttpActionResult` interfaz.</span><span class="sxs-lookup"><span data-stu-id="fdb56-117">These include references to the `ApiController` base class, the `System.Web.Http` namespace, and the `IHttpActionResult` interface.</span></span> <span data-ttu-id="fdb56-118">Consulte la [documentación para obtener recomendaciones sobre cómo migrar estas diferencias específicas](/aspnet/core/migration/webapi).</span><span class="sxs-lookup"><span data-stu-id="fdb56-118">Refer to the [documentation for recommendations on how to migrate these specific differences](/aspnet/core/migration/webapi).</span></span> <span data-ttu-id="fdb56-119">Tenga en cuenta que el tipo de valor devuelto preferido para las acciones de API en ASP.NET Core es `ActionResult<T>` .</span><span class="sxs-lookup"><span data-stu-id="fdb56-119">Note that the preferred return type for API actions in ASP.NET Core is `ActionResult<T>`.</span></span>

<span data-ttu-id="fdb56-120">Además, el `[ChildActionOnly]` atributo no se admite en ASP.net Core.</span><span class="sxs-lookup"><span data-stu-id="fdb56-120">In addition, the `[ChildActionOnly]` attribute isn't supported in ASP.NET Core.</span></span> <span data-ttu-id="fdb56-121">En ASP.NET Core, se consigue una funcionalidad similar con [los componentes de vista](/aspnet/core/mvc/views/view-components).</span><span class="sxs-lookup"><span data-stu-id="fdb56-121">In ASP.NET Core, similar functionality is achieved using [View Components](/aspnet/core/mvc/views/view-components).</span></span>

<span data-ttu-id="fdb56-122">ASP.NET Core incluye dos nuevos atributos: [ConsumesAttribute](/dotnet/api/microsoft.aspnetcore.mvc.consumesattribute) y [ProducesAttribute](/dotnet/api/microsoft.aspnetcore.mvc.producesattribute).</span><span class="sxs-lookup"><span data-stu-id="fdb56-122">ASP.NET Core includes two new attributes: [ConsumesAttribute](/dotnet/api/microsoft.aspnetcore.mvc.consumesattribute) and [ProducesAttribute](/dotnet/api/microsoft.aspnetcore.mvc.producesattribute).</span></span> <span data-ttu-id="fdb56-123">Se usan para especificar el tipo que una acción consume o genera, lo que puede ser útil para el enrutamiento y la documentación de la API mediante herramientas como [Swagger/OpenAPI](/aspnet/core/tutorials/web-api-help-pages-using-swagger).</span><span class="sxs-lookup"><span data-stu-id="fdb56-123">These are used to specify the type an action consumes or produces, which can be helpful for routing and documenting the API using tools like [Swagger/OpenAPI](/aspnet/core/tutorials/web-api-help-pages-using-swagger).</span></span>

## <a name="references"></a><span data-ttu-id="fdb56-124">Referencias</span><span class="sxs-lookup"><span data-stu-id="fdb56-124">References</span></span>

- [<span data-ttu-id="fdb56-125">Aplicación de formato a datos de respuesta en ASP.NET Core Web API</span><span class="sxs-lookup"><span data-stu-id="fdb56-125">Format response data in ASP.NET Core Web API</span></span>](/aspnet/core/web-api/advanced/formatting)
- [<span data-ttu-id="fdb56-126">Migrar de ASP.NET Web API a ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="fdb56-126">Migrate from ASP.NET Web API to ASP.NET Core</span></span>](/aspnet/core/migration/webapi)

>[!div class="step-by-step"]
><span data-ttu-id="fdb56-127">[Anterior](identity-differences.md)
>[Siguiente](razor-differences.md)</span><span class="sxs-lookup"><span data-stu-id="fdb56-127">[Previous](identity-differences.md)
[Next](razor-differences.md)</span></span>
