---
title: Diferencias de registro entre ASP.NET MVC y ASP.NET Core
description: ¿Cómo es el registro diferente entre ASP.NET MVC y aplicaciones de API Web y aplicaciones ASP.NET Core?
author: ardalis
ms.date: 11/13/2020
ms.openlocfilehash: 0ad12463c8d13d13516ab027e56f809b67f713e4
ms.sourcegitcommit: 42d436ebc2a7ee02fc1848c7742bc7d80e13fc2f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/04/2021
ms.locfileid: "102401737"
---
# <a name="logging-differences-between-aspnet-mvc-and-aspnet-core"></a><span data-ttu-id="c7b33-103">Diferencias de registro entre ASP.NET MVC y ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="c7b33-103">Logging differences between ASP.NET MVC and ASP.NET Core</span></span>

<span data-ttu-id="c7b33-104">El registro de aplicaciones proporciona información de diagnóstico importante, especialmente para las aplicaciones que se ejecutan en producción.</span><span class="sxs-lookup"><span data-stu-id="c7b33-104">Application logging provides important diagnostic information, especially for apps running in production.</span></span> <span data-ttu-id="c7b33-105">ASP.NET Core introduce un nuevo sistema para agregar el registro estandarizado a cualquier aplicación.</span><span class="sxs-lookup"><span data-stu-id="c7b33-105">ASP.NET Core introduces a new system for adding standardized logging to any app.</span></span> <span data-ttu-id="c7b33-106">Las aplicaciones de ASP.NET MVC y Web API existentes tienen más probabilidades de usar soluciones de registro de terceros, que probablemente sigan siendo compatibles con ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="c7b33-106">Existing ASP.NET MVC and Web API apps most likely use third-party logging solutions, which likely continue to be supported on ASP.NET Core.</span></span>

## <a name="aspnet-mvc-logging"></a><span data-ttu-id="c7b33-107">Registro de ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="c7b33-107">ASP.NET MVC logging</span></span>

<span data-ttu-id="c7b33-108">No hay ninguna solución de registro integrada en las aplicaciones de ASP.NET MVC y Web API.</span><span class="sxs-lookup"><span data-stu-id="c7b33-108">There's no built-in logging solution in ASP.NET MVC and Web API apps.</span></span> <span data-ttu-id="c7b33-109">En su lugar, la mayoría de las aplicaciones usan soluciones de registro de terceros como [log4net](https://www.nuget.org/packages/log4net/), [NLog](https://www.nuget.org/packages/NLog/)o [Serilog](https://www.nuget.org/packages/Serilog).</span><span class="sxs-lookup"><span data-stu-id="c7b33-109">Instead, most apps use third-party logging solutions like [log4net](https://www.nuget.org/packages/log4net/), [NLog](https://www.nuget.org/packages/NLog/), or [Serilog](https://www.nuget.org/packages/Serilog).</span></span> <span data-ttu-id="c7b33-110">Muchos equipos también optan por lanzar su propia solución de registro.</span><span class="sxs-lookup"><span data-stu-id="c7b33-110">Many teams also choose to roll their own logging solution.</span></span> <span data-ttu-id="c7b33-111">Los marcos de registro suelen admitir varios "receptores" (o destinos o anexadores) para la salida del registro, como archivos de texto, bases de datos o incluso correos electrónicos.</span><span class="sxs-lookup"><span data-stu-id="c7b33-111">Logging frameworks typically support multiple "sinks" (or targets or appenders) for log output, such as text files, databases, or even emails.</span></span> <span data-ttu-id="c7b33-112">Utilizan la configuración para determinar qué niveles de mensajes de registro desde qué partes del sistema se enrutan a distintos receptores.</span><span class="sxs-lookup"><span data-stu-id="c7b33-112">They use configuration to determine which levels of log messages from which parts of the system are routed to different sinks.</span></span> <span data-ttu-id="c7b33-113">Al considerar cómo migrar el registro de una aplicación a .NET Core, revise cómo se realiza el registro y cómo se [configura](configuration-differences.md) en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c7b33-113">When considering how to migrate an app's logging to .NET Core, review how logging is performed and [configured](configuration-differences.md) in the app.</span></span>

## <a name="aspnet-core-logging"></a><span data-ttu-id="c7b33-114">Registro de ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="c7b33-114">ASP.NET Core logging</span></span>

<span data-ttu-id="c7b33-115">En ASP.NET Core, el [registro es una característica integrada](/aspnet/core/fundamentals/logging/) que se puede configurar y ampliar cuando se inicia la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c7b33-115">In ASP.NET Core, [logging is a built-in feature](/aspnet/core/fundamentals/logging/) that can be configured and extended when the app starts up.</span></span> <span data-ttu-id="c7b33-116">Los registradores de terceros, incluidos los mencionados anteriormente, se pueden integrar con ASP.NET Core para mejorar su funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="c7b33-116">Third-party loggers, including those mentioned above, can be integrated with ASP.NET Core to enhance its functionality.</span></span>

<span data-ttu-id="c7b33-117">El registro de ASP.NET Core utiliza categorías y niveles para controlar lo que se registra y cómo.</span><span class="sxs-lookup"><span data-stu-id="c7b33-117">ASP.NET Core logging uses categories and levels to control what is logged and how.</span></span> <span data-ttu-id="c7b33-118">Las clases suelen usar instancias de la `ILogger<T>` interfaz, con el tipo de clase usado como `T` tipo genérico.</span><span class="sxs-lookup"><span data-stu-id="c7b33-118">Classes typically use instances of the `ILogger<T>` interface, with the class's type used as the generic `T` type.</span></span> <span data-ttu-id="c7b33-119">En este escenario, el nombre completo de la clase se usa como categoría.</span><span class="sxs-lookup"><span data-stu-id="c7b33-119">In this scenario, the class's fully qualified name is used as the category.</span></span> <span data-ttu-id="c7b33-120">Los registradores también se pueden crear con una categoría personalizada mediante `ILoggerFactory` .</span><span class="sxs-lookup"><span data-stu-id="c7b33-120">Loggers can also be created with a custom category using an `ILoggerFactory`.</span></span> <span data-ttu-id="c7b33-121">Los niveles de registro van desde el más detallado, `Trace` hasta el más importante `Critical` .</span><span class="sxs-lookup"><span data-stu-id="c7b33-121">Log levels range from the most detailed, `Trace`, to the most important, `Critical`.</span></span> <span data-ttu-id="c7b33-122">Mediante la configuración, las aplicaciones pueden especificar el nivel mínimo de registro que debe incluirse en cada categoría (con caracteres comodín).</span><span class="sxs-lookup"><span data-stu-id="c7b33-122">Using configuration, apps can specify what minimum level of logging should be included on a per-category (with wildcards) basis.</span></span>

<span data-ttu-id="c7b33-123">Una configuración de registro típica podría registrar `Information` y por encima de la información de forma predeterminada, pero solo `Warning` o por encima de las `Microsoft` categorías prefijas:</span><span class="sxs-lookup"><span data-stu-id="c7b33-123">A typical logging configuration could log `Information` and above information by default, but only `Warning` or above from `Microsoft`-prefixed categories:</span></span>

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning"
    }
  }
}
```

<span data-ttu-id="c7b33-124">La compatibilidad con el inicio de sesión ASP.NET Core es amplia y flexible.</span><span class="sxs-lookup"><span data-stu-id="c7b33-124">Support for logging in ASP.NET Core is extensive and flexible.</span></span> <span data-ttu-id="c7b33-125">Para obtener información más detallada, [consulte los documentos](/aspnet/core/fundamentals/logging/).</span><span class="sxs-lookup"><span data-stu-id="c7b33-125">For more detailed information, [refer to the docs](/aspnet/core/fundamentals/logging/).</span></span>

## <a name="migrate-logging"></a><span data-ttu-id="c7b33-126">Migración del registro</span><span class="sxs-lookup"><span data-stu-id="c7b33-126">Migrate logging</span></span>

<span data-ttu-id="c7b33-127">La forma de migrar el registro de la aplicación de .NET Framework a .NET Core depende de cómo se registre la aplicación ahora.</span><span class="sxs-lookup"><span data-stu-id="c7b33-127">How you migrate your .NET Framework app's logging to .NET Core depends on how the app is logging now.</span></span> <span data-ttu-id="c7b33-128">Si usa un paquete NuGet de terceros, consulte la documentación de actualización de ese paquete.</span><span class="sxs-lookup"><span data-stu-id="c7b33-128">If it's using a third-party NuGet package, refer to the upgrade documentation for that package.</span></span> <span data-ttu-id="c7b33-129">Lo más probable es que la ruta de actualización sea bastante sencilla.</span><span class="sxs-lookup"><span data-stu-id="c7b33-129">Most likely the upgrade path will be fairly straightforward.</span></span> <span data-ttu-id="c7b33-130">Si utiliza su propia solución de registro, realice una de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="c7b33-130">If you're using your own logging solution, take one of the following actions:</span></span>

1. <span data-ttu-id="c7b33-131">Migración de la solución de registro</span><span class="sxs-lookup"><span data-stu-id="c7b33-131">Migrate the logging solution yourself</span></span>
1. <span data-ttu-id="c7b33-132">Migrar a una solución de registro de otro fabricante</span><span class="sxs-lookup"><span data-stu-id="c7b33-132">Migrate to a third-party logging solution</span></span>
1. <span data-ttu-id="c7b33-133">Usar la compatibilidad de registro integrada en ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="c7b33-133">Use the built-in logging support in ASP.NET Core</span></span>

<span data-ttu-id="c7b33-134">Puede hacer referencia al `Microsoft.Extensions.Logging` paquete desde .NET Framework aplicaciones, siempre y cuando use NuGet 4,3 o posterior y estén en .NET Framework 4.6.1 o posterior.</span><span class="sxs-lookup"><span data-stu-id="c7b33-134">You can reference the `Microsoft.Extensions.Logging` package from .NET Framework apps as long as they're using NuGet 4.3 or later and are on .NET Framework 4.6.1 or later.</span></span> <span data-ttu-id="c7b33-135">Una vez que la aplicación hace referencia a este paquete, puede convertir las instrucciones de registro para que usen las nuevas extensiones antes de migrar la aplicación a .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c7b33-135">Once your app has referenced this package, you can convert your logging statements to use the new extensions before migrating the app to .NET Core.</span></span> <span data-ttu-id="c7b33-136">Esto puede proporcionar una piedra de paso hacia la migración completa, ya que la aplicación puede seguir ejecutándose en .NET Framework mientras se registra con el paquete de extensiones más reciente.</span><span class="sxs-lookup"><span data-stu-id="c7b33-136">This can provide a stepping stone toward full migration, since the app can continue running on .NET Framework while logging using the newer extensions package.</span></span>

## <a name="references"></a><span data-ttu-id="c7b33-137">Referencias</span><span class="sxs-lookup"><span data-stu-id="c7b33-137">References</span></span>

- [<span data-ttu-id="c7b33-138">Registros en .NET Core y ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="c7b33-138">Logging in .NET Core and ASP.NET Core</span></span>](/aspnet/core/fundamentals/logging/)
- [<span data-ttu-id="c7b33-139">Paquete NuGet Microsoft. Extensions. Logging</span><span class="sxs-lookup"><span data-stu-id="c7b33-139">Microsoft.Extensions.Logging NuGet Package</span></span>](https://www.nuget.org/packages/microsoft.extensions.logging/)

>[!div class="step-by-step"]
><span data-ttu-id="c7b33-140">[Anterior](middleware-modules-handlers.md)
>[Siguiente](routing-differences.md)</span><span class="sxs-lookup"><span data-stu-id="c7b33-140">[Previous](middleware-modules-handlers.md)
[Next](routing-differences.md)</span></span>
