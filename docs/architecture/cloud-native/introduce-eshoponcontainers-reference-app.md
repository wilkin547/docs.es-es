---
title: Presentación de la aplicación de referencia eShopOnContainers
description: Introducción a la aplicación de referencia de microservicios nativos en la nube de eShopOnContainers para ASP.NET Core y Azure.
ms.date: 06/30/2019
ms.openlocfilehash: 8d4ad982716a07613ebbef6668afab69d5a8b4f6
ms.sourcegitcommit: 957c49696eaf048c284ef8f9f8ffeb562357ad95
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/07/2020
ms.locfileid: "82895536"
---
# <a name="introducing-eshoponcontainers-reference-app"></a><span data-ttu-id="5ab59-103">Presentación de la aplicación de referencia eShopOnContainers</span><span class="sxs-lookup"><span data-stu-id="5ab59-103">Introducing eShopOnContainers reference app</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="5ab59-104">Microsoft, en colaboración con los principales expertos de la comunidad, ha creado una aplicación de referencia de microservicios nativa en la nube, eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="5ab59-104">Microsoft, in partnership with leading community experts, has produced a full-featured cloud-native microservices reference application, eShopOnContainers.</span></span> <span data-ttu-id="5ab59-105">Esta aplicación se ha creado para exhibir con .NET Core y Docker, y, opcionalmente, Azure, Kubernetes y Visual Studio, para crear un escaparate en línea.</span><span class="sxs-lookup"><span data-stu-id="5ab59-105">This application is built to showcase using .NET Core and Docker, and optionally Azure, Kubernetes, and Visual Studio, to build an online storefront.</span></span>

![Captura de pantalla de la aplicación de ejemplo eShopOnContainers.](./media/eshoponcontainers-sample-app-screenshot.png)

<span data-ttu-id="5ab59-107">**Figura 2-1**.</span><span class="sxs-lookup"><span data-stu-id="5ab59-107">**Figure 2-1**.</span></span> <span data-ttu-id="5ab59-108">Captura de pantalla de la aplicación de ejemplo eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="5ab59-108">eShopOnContainers Sample App Screenshot.</span></span>

<span data-ttu-id="5ab59-109">Antes de comenzar este capítulo, se recomienda descargar la [aplicación de referencia eShopOnContainers](https://github.com/dotnet-architecture/eShopOnContainers).</span><span class="sxs-lookup"><span data-stu-id="5ab59-109">Before starting this chapter, we recommend that you download the [eShopOnContainers reference application](https://github.com/dotnet-architecture/eShopOnContainers).</span></span> <span data-ttu-id="5ab59-110">Si lo hace, debe ser más fácil de seguir junto con la información que se presenta.</span><span class="sxs-lookup"><span data-stu-id="5ab59-110">If you do so, it should be easier for you to follow along with the information presented.</span></span>

## <a name="features-and-requirements"></a><span data-ttu-id="5ab59-111">Características y requisitos</span><span class="sxs-lookup"><span data-stu-id="5ab59-111">Features and requirements</span></span>

<span data-ttu-id="5ab59-112">Comencemos con una revisión de las características y los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="5ab59-112">Let's start with a review of the application's features and requirements.</span></span> <span data-ttu-id="5ab59-113">La aplicación eShopOnContainers representa una tienda en línea que vende varios productos físicos, como camisetas y tazas de café.</span><span class="sxs-lookup"><span data-stu-id="5ab59-113">The eShopOnContainers application represents an online store that sells various physical products like t-shirts and coffee mugs.</span></span> <span data-ttu-id="5ab59-114">Si ha comprado cualquier cosa en línea antes, la experiencia del uso del almacén debe ser relativamente familiar.</span><span class="sxs-lookup"><span data-stu-id="5ab59-114">If you've bought anything online before, the experience of using the store should be relatively familiar.</span></span> <span data-ttu-id="5ab59-115">Estas son algunas de las características básicas que implementa el almacén:</span><span class="sxs-lookup"><span data-stu-id="5ab59-115">Here are some of the basic features the store implements:</span></span>

- <span data-ttu-id="5ab59-116">Enumeración de elementos del catálogo</span><span class="sxs-lookup"><span data-stu-id="5ab59-116">List catalog items</span></span>
- <span data-ttu-id="5ab59-117">Filtrar elementos por tipo</span><span class="sxs-lookup"><span data-stu-id="5ab59-117">Filter items by type</span></span>
- <span data-ttu-id="5ab59-118">Filtrar elementos por marca</span><span class="sxs-lookup"><span data-stu-id="5ab59-118">Filter items by brand</span></span>
- <span data-ttu-id="5ab59-119">Agregar elementos a la cesta de la compra</span><span class="sxs-lookup"><span data-stu-id="5ab59-119">Add items to the shopping basket</span></span>
- <span data-ttu-id="5ab59-120">Editar o quitar elementos de la cesta</span><span class="sxs-lookup"><span data-stu-id="5ab59-120">Edit or remove items from the basket</span></span>
- <span data-ttu-id="5ab59-121">Restauración</span><span class="sxs-lookup"><span data-stu-id="5ab59-121">Checkout</span></span>
- <span data-ttu-id="5ab59-122">Registrar una cuenta</span><span class="sxs-lookup"><span data-stu-id="5ab59-122">Register an account</span></span>
- <span data-ttu-id="5ab59-123">Iniciar sesión</span><span class="sxs-lookup"><span data-stu-id="5ab59-123">Sign in</span></span>
- <span data-ttu-id="5ab59-124">Cerrar sesión</span><span class="sxs-lookup"><span data-stu-id="5ab59-124">Sign out</span></span>
- <span data-ttu-id="5ab59-125">Revisar pedidos</span><span class="sxs-lookup"><span data-stu-id="5ab59-125">Review orders</span></span>

<span data-ttu-id="5ab59-126">La aplicación también tiene los siguientes requisitos no funcionales:</span><span class="sxs-lookup"><span data-stu-id="5ab59-126">The application also has the following non-functional requirements:</span></span>

- <span data-ttu-id="5ab59-127">Debe ser de alta disponibilidad y debe escalarse automáticamente para satisfacer el mayor tráfico (y reducirse verticalmente una vez que el tráfico se encuentre).</span><span class="sxs-lookup"><span data-stu-id="5ab59-127">It needs to be highly available and it must scale automatically to meet increased traffic (and scale back down once traffic subsides).</span></span>
- <span data-ttu-id="5ab59-128">Debe proporcionar una supervisión fácil de usar de los registros de estado y diagnóstico para ayudar a solucionar los problemas que encuentre.</span><span class="sxs-lookup"><span data-stu-id="5ab59-128">It should provide easy-to-use monitoring of its health and diagnostic logs to help troubleshoot any issues it encounters.</span></span>
- <span data-ttu-id="5ab59-129">Debe admitir un proceso de desarrollo ágil, incluida la compatibilidad con la integración e implementación continuas (CI/CD).</span><span class="sxs-lookup"><span data-stu-id="5ab59-129">It should support an agile development process, including support for continuous integration and deployment (CI/CD).</span></span>
- <span data-ttu-id="5ab59-130">Además de los dos servidores front-end web (aplicación tradicional y de página única), la aplicación también debe admitir aplicaciones cliente móviles que ejecuten diferentes tipos de sistemas operativos.</span><span class="sxs-lookup"><span data-stu-id="5ab59-130">In addition to the two web front ends (traditional and Single Page Application), the application must also support mobile client apps running different kinds of operating systems.</span></span>
- <span data-ttu-id="5ab59-131">Debe admitir el hospedaje multiplataforma y el desarrollo multiplataforma.</span><span class="sxs-lookup"><span data-stu-id="5ab59-131">It should support cross-platform hosting and cross-platform development.</span></span>

![arquitectura de desarrollo de aplicaciones de referencia de eShopOnContainers.](./media/eshoponcontainers-development-architecture.png)

<span data-ttu-id="5ab59-133">**Figura 2-2**.</span><span class="sxs-lookup"><span data-stu-id="5ab59-133">**Figure 2-2**.</span></span> <span data-ttu-id="5ab59-134">arquitectura de desarrollo de aplicaciones de referencia de eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="5ab59-134">eShopOnContainers reference application development architecture.</span></span>

<span data-ttu-id="5ab59-135">Se puede acceder a la aplicación eShopOnContainers desde clientes Web o móviles que tienen acceso a la aplicación a través de HTTPS que tienen como destino la aplicación de servidor de ASP.NET Core MVC o una puerta de enlace de API adecuada.</span><span class="sxs-lookup"><span data-stu-id="5ab59-135">The eShopOnContainers application is accessible from web or mobile clients that access the application over HTTPS targeting either the ASP.NET Core MVC server application or an appropriate API Gateway.</span></span> <span data-ttu-id="5ab59-136">Las puertas de enlace de API ofrecen varias ventajas, como separar los servicios back-end de clientes front-end individuales y proporcionar una mejor seguridad.</span><span class="sxs-lookup"><span data-stu-id="5ab59-136">API Gateways offer several advantages, such as decoupling back-end services from individual front-end clients and providing better security.</span></span> <span data-ttu-id="5ab59-137">La aplicación también usa un patrón relacionado conocido como back-ends-para-frontends (BFF), que recomienda crear puertas de enlace de API independientes para cada cliente front-end.</span><span class="sxs-lookup"><span data-stu-id="5ab59-137">The application also makes use of a related pattern known as Backends-for-Frontends (BFF), which recommends creating separate API gateways for each front-end client.</span></span> <span data-ttu-id="5ab59-138">La arquitectura de referencia muestra la división de las puertas de enlace de API en función de si la solicitud procede de un cliente web o móvil.</span><span class="sxs-lookup"><span data-stu-id="5ab59-138">The reference architecture demonstrates breaking up the API gateways based on whether the request is coming from a web or mobile client.</span></span>

<span data-ttu-id="5ab59-139">La funcionalidad de la aplicación se divide en una serie de microservicios distintos.</span><span class="sxs-lookup"><span data-stu-id="5ab59-139">The application's functionality is broken up into a number of distinct microservices.</span></span> <span data-ttu-id="5ab59-140">Hay servicios responsables de la autenticación y la identidad, la enumeración de elementos del catálogo de productos, la administración de las cestas de la compra de los usuarios y la realización de pedidos.</span><span class="sxs-lookup"><span data-stu-id="5ab59-140">There are services responsible for authentication and identity, listing items from the product catalog, managing users' shopping baskets, and  placing orders.</span></span> <span data-ttu-id="5ab59-141">Cada uno de estos servicios independientes tiene su propio almacenamiento persistente.</span><span class="sxs-lookup"><span data-stu-id="5ab59-141">Each of these separate services has its own persistent storage.</span></span> <span data-ttu-id="5ab59-142">Tenga en cuenta que no hay un único almacén de datos maestros con el que todos los servicios interactúan.</span><span class="sxs-lookup"><span data-stu-id="5ab59-142">Note that there's no single master data store with which all services interact.</span></span> <span data-ttu-id="5ab59-143">En su lugar, la coordinación y la comunicación entre los servicios se realizan según sea necesario y mediante el uso de un bus de mensajes.</span><span class="sxs-lookup"><span data-stu-id="5ab59-143">Instead, coordination and communication between the services is done on an as-needed basis and through the use of a message bus.</span></span>

<span data-ttu-id="5ab59-144">Cada uno de los microservicios diferentes está diseñado de manera diferente, en función de sus requisitos individuales.</span><span class="sxs-lookup"><span data-stu-id="5ab59-144">Each of the different microservices is designed differently, based on their individual requirements.</span></span> <span data-ttu-id="5ab59-145">Esto significa que su pila de tecnología puede ser diferente, aunque todas se han creado con .NET Core y están diseñadas para la nube.</span><span class="sxs-lookup"><span data-stu-id="5ab59-145">This means their technology stack may differ, although they're all built using .NET Core and designed for the cloud.</span></span> <span data-ttu-id="5ab59-146">Los servicios más sencillos proporcionan acceso básico de creación, lectura, actualización y eliminación (CRUD) a los almacenes de datos subyacentes, mientras que los servicios más avanzados utilizan patrones y enfoques de diseño controlados por el dominio para administrar la complejidad empresarial.</span><span class="sxs-lookup"><span data-stu-id="5ab59-146">Simpler services provide basic Create-Read-Update-Delete (CRUD) access to the underlying data stores, while more advanced services use Domain-Driven Design approaches and patterns to manage business complexity.</span></span>

![Distintos tipos de microservicios](./media/different-kinds-of-microservices.png)

<span data-ttu-id="5ab59-148">**Figura 2-3**.</span><span class="sxs-lookup"><span data-stu-id="5ab59-148">**Figure 2-3**.</span></span> <span data-ttu-id="5ab59-149">Distintos tipos de microservicios.</span><span class="sxs-lookup"><span data-stu-id="5ab59-149">Different kinds of microservices.</span></span>

## <a name="overview-of-the-code"></a><span data-ttu-id="5ab59-150">Información general sobre el código</span><span class="sxs-lookup"><span data-stu-id="5ab59-150">Overview of the code</span></span>

<span data-ttu-id="5ab59-151">Dado que aprovecha los microservicios, la aplicación eShopOnContainers incluye bastantes proyectos y soluciones en su repositorio de GitHub.</span><span class="sxs-lookup"><span data-stu-id="5ab59-151">Because it leverages microservices, the eShopOnContainers app includes quite a few separate projects and solutions in its GitHub repository.</span></span> <span data-ttu-id="5ab59-152">Además de separar soluciones y archivos ejecutables, los distintos servicios están diseñados para ejecutarse dentro de sus propios contenedores, durante el desarrollo local y en tiempo de ejecución en producción.</span><span class="sxs-lookup"><span data-stu-id="5ab59-152">In addition to separate solutions and executable files, the various services are designed to run inside their own containers, both during local development and at runtime in production.</span></span> <span data-ttu-id="5ab59-153">En la figura 2-4 se muestra la solución completa de Visual Studio, en la que se organizan los distintos proyectos.</span><span class="sxs-lookup"><span data-stu-id="5ab59-153">Figure 2-4 shows the full Visual Studio solution, in which the various different projects are organized.</span></span>

![Proyectos de la solución de Visual Studio.](./media/projects-in-visual-studio-solution.png)

<span data-ttu-id="5ab59-155">**Figura 2-4**.</span><span class="sxs-lookup"><span data-stu-id="5ab59-155">**Figure 2-4**.</span></span> <span data-ttu-id="5ab59-156">Proyectos de la solución de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5ab59-156">Projects in Visual Studio solution.</span></span>

<span data-ttu-id="5ab59-157">El código está organizado para admitir los diferentes microservicios y, dentro de cada microservicio, el código se divide en la lógica de dominio, los problemas de infraestructura y el punto de conexión de servicio o interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="5ab59-157">The code is organized to support the different microservices, and within each microservice, the code is broken up into domain logic, infrastructure concerns, and user interface or service endpoint.</span></span> <span data-ttu-id="5ab59-158">En muchos casos, los servicios de Azure pueden satisfacer las dependencias de cada servicio en producción, así como opciones alternativas para el desarrollo local.</span><span class="sxs-lookup"><span data-stu-id="5ab59-158">In many cases, each service's dependencies can be fulfilled by Azure services in production, as well as alternative options for local development.</span></span> <span data-ttu-id="5ab59-159">Vamos a examinar cómo se asignan los requisitos de la aplicación a los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="5ab59-159">Let's examine how the application's requirements map to Azure services.</span></span>

## <a name="understanding-microservices"></a><span data-ttu-id="5ab59-160">Descripción de los microservicios</span><span class="sxs-lookup"><span data-stu-id="5ab59-160">Understanding microservices</span></span>

<span data-ttu-id="5ab59-161">Este libro se centra en las aplicaciones nativas en la nube creadas con la tecnología de Azure.</span><span class="sxs-lookup"><span data-stu-id="5ab59-161">This book focuses on cloud-native applications built using Azure technology.</span></span> <span data-ttu-id="5ab59-162">Para obtener más información sobre los procedimientos recomendados para los microservicios y cómo diseñar aplicaciones basadas en microservicios, lea el libro complementario, [microservicios de .net: arquitectura para aplicaciones .net en contenedor](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span><span class="sxs-lookup"><span data-stu-id="5ab59-162">To learn more about microservices best practices and how to architect microservice-based applications, read the companion book, [.NET Microservices: Architecture for Containerized .NET Applications](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="5ab59-163">[Anterior](candidate-apps.md)
>[Siguiente](map-eshoponcontainers-azure-services.md)</span><span class="sxs-lookup"><span data-stu-id="5ab59-163">[Previous](candidate-apps.md)
[Next](map-eshoponcontainers-azure-services.md)</span></span>
