---
title: Patrones de comunicación nativa en la nube
description: Más información sobre las principales preocupaciones sobre la comunicación de servicios en aplicaciones nativas en la nube
author: robvet
ms.date: 08/31/2019
ms.openlocfilehash: b3edc0817fb76ad99a1344b17d600eb747187f86
ms.sourcegitcommit: 957c49696eaf048c284ef8f9f8ffeb562357ad95
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/07/2020
ms.locfileid: "82895629"
---
# <a name="cloud-native-communication-patterns"></a><span data-ttu-id="605f2-103">Patrones de comunicación nativa en la nube</span><span class="sxs-lookup"><span data-stu-id="605f2-103">Cloud-native communication patterns</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="605f2-104">Al construir un sistema nativo en la nube, la comunicación se convierte en una decisión de diseño significativa.</span><span class="sxs-lookup"><span data-stu-id="605f2-104">When constructing a cloud-native system, communication becomes a significant design decision.</span></span> <span data-ttu-id="605f2-105">¿Cómo se comunica una aplicación cliente front-end con un microservicio de back-end?</span><span class="sxs-lookup"><span data-stu-id="605f2-105">How does a front-end client application communicate with a back-end microservice?</span></span> <span data-ttu-id="605f2-106">¿Cómo se comunican entre sí los microservicios de back-end?</span><span class="sxs-lookup"><span data-stu-id="605f2-106">How do back-end microservices communicate with each other?</span></span> <span data-ttu-id="605f2-107">¿Cuáles son los principios, patrones y procedimientos recomendados que se deben tener en cuenta al implementar la comunicación en aplicaciones nativas de la nube?</span><span class="sxs-lookup"><span data-stu-id="605f2-107">What are the principles, patterns, and best practices to consider when implementing communication in cloud-native applications?</span></span>

## <a name="communication-considerations"></a><span data-ttu-id="605f2-108">Consideraciones de comunicación</span><span class="sxs-lookup"><span data-stu-id="605f2-108">Communication considerations</span></span>

<span data-ttu-id="605f2-109">En una aplicación monolítica, la comunicación es sencilla.</span><span class="sxs-lookup"><span data-stu-id="605f2-109">In a monolithic application, communication is straightforward.</span></span> <span data-ttu-id="605f2-110">Los módulos de código se ejecutan juntos en el mismo espacio ejecutable (proceso) en un servidor.</span><span class="sxs-lookup"><span data-stu-id="605f2-110">The code modules execute together in the same executable space (process) on a server.</span></span> <span data-ttu-id="605f2-111">Este enfoque puede tener ventajas de rendimiento, ya que todo se ejecuta en la memoria compartida, pero tiene como resultado un código estrechamente acoplado que resulta difícil de mantener, evolucionar y escalar.</span><span class="sxs-lookup"><span data-stu-id="605f2-111">This approach can have performance advantages as everything runs together in shared memory, but results in tightly coupled code that becomes difficult to maintain, evolve, and scale.</span></span>

<span data-ttu-id="605f2-112">Los sistemas nativos en la nube implementan una arquitectura basada en microservicios con muchos microservicios pequeños e independientes.</span><span class="sxs-lookup"><span data-stu-id="605f2-112">Cloud-native systems implement a microservice-based architecture with many small, independent microservices.</span></span> <span data-ttu-id="605f2-113">Cada microservicio se ejecuta en un proceso independiente y normalmente se ejecuta dentro de un contenedor que se implementa en un *clúster*.</span><span class="sxs-lookup"><span data-stu-id="605f2-113">Each microservice executes in a separate process and typically runs inside a container that is deployed to a *cluster*.</span></span>

<span data-ttu-id="605f2-114">Un clúster agrupa un grupo de máquinas virtuales para formar un entorno de alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="605f2-114">A cluster groups a pool of virtual machines together to form a highly available environment.</span></span> <span data-ttu-id="605f2-115">Se administran con una herramienta de orquestación, que es responsable de implementar y administrar los microservicios en contenedores.</span><span class="sxs-lookup"><span data-stu-id="605f2-115">They're managed with an orchestration tool, which is responsible for deploying and managing the containerized microservices.</span></span> <span data-ttu-id="605f2-116">En la figura 4-1 se muestra un clúster de [Kubernetes](https://kubernetes.io) implementado en la nube de Azure con [Azure Kubernetes Services](https://docs.microsoft.com/azure/aks/intro-kubernetes)totalmente administrado.</span><span class="sxs-lookup"><span data-stu-id="605f2-116">Figure 4-1 shows a [Kubernetes](https://kubernetes.io) cluster deployed into the Azure cloud with the fully managed [Azure Kubernetes Services](https://docs.microsoft.com/azure/aks/intro-kubernetes).</span></span>

![Un clúster de Kubernetes en Azure](./media/kubernetes-cluster-in-azure.png)

<span data-ttu-id="605f2-118">**Figura 4-1**.</span><span class="sxs-lookup"><span data-stu-id="605f2-118">**Figure 4-1**.</span></span> <span data-ttu-id="605f2-119">Un clúster de Kubernetes en Azure</span><span class="sxs-lookup"><span data-stu-id="605f2-119">A Kubernetes cluster in Azure</span></span>

<span data-ttu-id="605f2-120">En el clúster, los microservicios se comunican entre sí a través de las API y las tecnologías de mensajería.</span><span class="sxs-lookup"><span data-stu-id="605f2-120">Across the cluster, microservices communicate with each other through APIs and messaging technologies.</span></span>

<span data-ttu-id="605f2-121">Aunque ofrecen muchas ventajas, los microservicios no son comer.</span><span class="sxs-lookup"><span data-stu-id="605f2-121">While they provide many benefits, microservices are no free lunch.</span></span> <span data-ttu-id="605f2-122">Ahora, las llamadas a métodos locales en proceso entre componentes se reemplazan por llamadas de red.</span><span class="sxs-lookup"><span data-stu-id="605f2-122">Local in-process method calls between components are now replaced with network calls.</span></span> <span data-ttu-id="605f2-123">Cada microservicio debe comunicarse a través de un protocolo de red, lo que aumenta la complejidad del sistema:</span><span class="sxs-lookup"><span data-stu-id="605f2-123">Each microservice must communicate over a network protocol, which adds complexity to your system:</span></span>

- <span data-ttu-id="605f2-124">La congestión de la red, la latencia y los errores transitorios son un problema constante.</span><span class="sxs-lookup"><span data-stu-id="605f2-124">Network congestion, latency, and transient faults are a constant concern.</span></span>

- <span data-ttu-id="605f2-125">La resistencia (es decir, el reintento de solicitudes con error) es fundamental.</span><span class="sxs-lookup"><span data-stu-id="605f2-125">Resiliency (that is, retrying failed requests) is essential.</span></span>

- <span data-ttu-id="605f2-126">Algunas llamadas deben ser [idempotente](https://www.restapitutorial.com/lessons/idempotency.html) para mantener el estado coherente.</span><span class="sxs-lookup"><span data-stu-id="605f2-126">Some calls must be [idempotent](https://www.restapitutorial.com/lessons/idempotency.html) as to keep consistent state.</span></span>

- <span data-ttu-id="605f2-127">Cada microservicio debe autenticar y autorizar las llamadas.</span><span class="sxs-lookup"><span data-stu-id="605f2-127">Each microservice must authenticate and authorize calls.</span></span>

- <span data-ttu-id="605f2-128">Cada mensaje se debe serializar y, a continuación, deserializar, lo que puede ser caro.</span><span class="sxs-lookup"><span data-stu-id="605f2-128">Each message must be serialized and then deserialized - which can be expensive.</span></span>

- <span data-ttu-id="605f2-129">El cifrado/descifrado de mensajes es importante.</span><span class="sxs-lookup"><span data-stu-id="605f2-129">Message encryption/decryption becomes important.</span></span>

<span data-ttu-id="605f2-130">El libro [microservicios de .net: arquitectura para aplicaciones .net en contenedor](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook), disponible de forma gratuita de Microsoft, proporciona una cobertura detallada de los patrones de comunicación para las aplicaciones de microservicios.</span><span class="sxs-lookup"><span data-stu-id="605f2-130">The book [.NET Microservices: Architecture for Containerized .NET Applications](https://dotnet.microsoft.com/download/thank-you/microservices-architecture-ebook), available for free from Microsoft, provides an in-depth coverage of communication patterns for microservice applications.</span></span> <span data-ttu-id="605f2-131">En este capítulo, se proporciona información general de alto nivel de estos patrones junto con las opciones de implementación disponibles en la nube de Azure.</span><span class="sxs-lookup"><span data-stu-id="605f2-131">In this chapter, we provide a high-level overview of these patterns along with implementation options available in the Azure cloud.</span></span>

<span data-ttu-id="605f2-132">En este capítulo, primero abordaremos la comunicación entre las aplicaciones front-end y los microservicios de back-end.</span><span class="sxs-lookup"><span data-stu-id="605f2-132">In this chapter, we'll first address communication between front-end applications and back-end microservices.</span></span> <span data-ttu-id="605f2-133">A continuación, veremos que los microservicios de back-end se comunican entre sí.</span><span class="sxs-lookup"><span data-stu-id="605f2-133">We'll then look at back-end microservices communicate with each other.</span></span> <span data-ttu-id="605f2-134">Exploraremos la tecnología de comunicación up y gRPC.</span><span class="sxs-lookup"><span data-stu-id="605f2-134">We'll explore the up and gRPC communication technology.</span></span> <span data-ttu-id="605f2-135">Por último, veremos nuevos patrones de comunicación innovadores con la tecnología de la malla de servicio.</span><span class="sxs-lookup"><span data-stu-id="605f2-135">Finally, we'll look new innovative communication patterns using service mesh technology.</span></span> <span data-ttu-id="605f2-136">También veremos cómo la nube de Azure proporciona diferentes tipos de *servicios de respaldo* para admitir la comunicación nativa en la nube.</span><span class="sxs-lookup"><span data-stu-id="605f2-136">We'll also see how the Azure cloud provides different kinds of *backing services* to support cloud-native communication.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="605f2-137">[Anterior](other-deployment-options.md)
>[Siguiente](front-end-communication.md)</span><span class="sxs-lookup"><span data-stu-id="605f2-137">[Previous](other-deployment-options.md)
[Next](front-end-communication.md)</span></span>
