---
title: Azure Monitor
description: El uso de Azure Monitor para obtener visibilidad en el sistema se está ejecutando.
ms.date: 01/19/2021
ms.openlocfilehash: a93b71db642e05a830b20b80d8387c24d35ea8c1
ms.sourcegitcommit: f2ab02d9a780819ca2e5310bbcf5cfe5b7993041
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/03/2021
ms.locfileid: "99506180"
---
# <a name="azure-monitor"></a><span data-ttu-id="0b9db-103">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="0b9db-103">Azure Monitor</span></span>

<span data-ttu-id="0b9db-104">Ningún otro proveedor de servicios en la nube ha sido maduro de una solución de supervisión de aplicaciones en la nube que la que se encuentra en Azure.</span><span class="sxs-lookup"><span data-stu-id="0b9db-104">No other cloud provider has as mature of a cloud application monitoring solution than that found in Azure.</span></span> <span data-ttu-id="0b9db-105">Azure Monitor es un nombre de paraguas para una colección de herramientas diseñadas para proporcionar visibilidad sobre el estado del sistema.</span><span class="sxs-lookup"><span data-stu-id="0b9db-105">Azure Monitor is an umbrella name for a collection of tools designed to provide visibility into the state of your system.</span></span> <span data-ttu-id="0b9db-106">Le ayuda a comprender el rendimiento de los servicios nativos de la nube y a identificar proactivamente los problemas que afectan a ellos.</span><span class="sxs-lookup"><span data-stu-id="0b9db-106">It helps you understand how your cloud-native services are performing and proactively identifies issues affecting them.</span></span> <span data-ttu-id="0b9db-107">En la figura 7-12 se muestra un alto nivel de vista de Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="0b9db-107">Figure 7-12 presents a high level of view of Azure Monitor.</span></span>

<span data-ttu-id="0b9db-108">![Vista de alto nivel de Azure Monitor. ](./media/azure-monitor.png)
 **Figura 7-12**.</span><span class="sxs-lookup"><span data-stu-id="0b9db-108">![High-level view of Azure Monitor.](./media/azure-monitor.png)
**Figure 7-12**.</span></span> <span data-ttu-id="0b9db-109">Vista de alto nivel de Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="0b9db-109">High-level view of Azure Monitor.</span></span>

## <a name="gathering-logs-and-metrics"></a><span data-ttu-id="0b9db-110">Recopilación de registros y métricas</span><span class="sxs-lookup"><span data-stu-id="0b9db-110">Gathering logs and metrics</span></span>

<span data-ttu-id="0b9db-111">El primer paso en cualquier solución de supervisión es recopilar tantos datos como sea posible.</span><span class="sxs-lookup"><span data-stu-id="0b9db-111">The first step in any monitoring solution is to gather as much data as possible.</span></span> <span data-ttu-id="0b9db-112">Cuanto más datos se recopilen, más profunda es la información.</span><span class="sxs-lookup"><span data-stu-id="0b9db-112">The more data gathered, the deeper the insights.</span></span> <span data-ttu-id="0b9db-113">Tradicionalmente, los sistemas de instrumentación han sido difíciles.</span><span class="sxs-lookup"><span data-stu-id="0b9db-113">Instrumenting systems has traditionally been difficult.</span></span> <span data-ttu-id="0b9db-114">El Protocolo simple de administración de redes (SNMP) era el protocolo estándar Gold para recopilar información de nivel de máquina, pero requirió una gran cantidad de conocimientos y configuración.</span><span class="sxs-lookup"><span data-stu-id="0b9db-114">Simple Network Management Protocol (SNMP) was the gold standard protocol for collecting machine level information, but it required a great deal of knowledge and configuration.</span></span> <span data-ttu-id="0b9db-115">Afortunadamente, gran parte de este trabajo duro se ha eliminado, ya que Azure Monitor recopila automáticamente las métricas más comunes.</span><span class="sxs-lookup"><span data-stu-id="0b9db-115">Fortunately, much of this hard work has been eliminated as the most common metrics are gathered automatically by Azure Monitor.</span></span>

<span data-ttu-id="0b9db-116">No es posible instrumentar eventos y métricas de nivel de aplicación de forma automática porque son específicos de la aplicación que se está implementando.</span><span class="sxs-lookup"><span data-stu-id="0b9db-116">Application level metrics and events aren't possible to instrument automatically because they're specific to the application being deployed.</span></span> <span data-ttu-id="0b9db-117">Con el fin de recopilar estas métricas, hay [SDK y API disponibles](/azure/azure-monitor/app/api-custom-events-metrics) para notificar directamente dicha información, como cuando un cliente se suscribe o completa un pedido.</span><span class="sxs-lookup"><span data-stu-id="0b9db-117">In order to gather these metrics, there are [SDKs and APIs available](/azure/azure-monitor/app/api-custom-events-metrics) to directly report such information, such as when a customer signs up or completes an order.</span></span> <span data-ttu-id="0b9db-118">Las excepciones también se pueden capturar y volver a informar en Azure Monitor a través de Application Insights.</span><span class="sxs-lookup"><span data-stu-id="0b9db-118">Exceptions can also be captured and reported back into Azure Monitor via Application Insights.</span></span> <span data-ttu-id="0b9db-119">Los SDK admiten la mayoría de los lenguajes que se encuentran en las aplicaciones nativas de la nube, como Go, Python, JavaScript y los lenguajes .NET.</span><span class="sxs-lookup"><span data-stu-id="0b9db-119">The SDKs support most every language found in Cloud Native Applications including Go, Python, JavaScript, and the .NET languages.</span></span>

<span data-ttu-id="0b9db-120">El objetivo final de recopilar información sobre el estado de la aplicación es asegurarse de que los usuarios finales tengan una buena experiencia.</span><span class="sxs-lookup"><span data-stu-id="0b9db-120">The ultimate goal of gathering information about the state of your application is to ensure that your end users have a good experience.</span></span> <span data-ttu-id="0b9db-121">¿Cuál es la mejor manera de saber si los usuarios experimentan problemas que realizar [pruebas Web externas](/azure/azure-monitor/app/monitor-web-app-availability)?</span><span class="sxs-lookup"><span data-stu-id="0b9db-121">What better way to tell if users are experiencing issues than doing [outside-in web tests](/azure/azure-monitor/app/monitor-web-app-availability)?</span></span> <span data-ttu-id="0b9db-122">Estas pruebas pueden ser tan sencillas como hacer ping en el sitio web desde ubicaciones de todo el mundo o como implicar que los agentes inicien sesión en el sitio y simulen las acciones del usuario.</span><span class="sxs-lookup"><span data-stu-id="0b9db-122">These tests can be as simple as pinging your website from locations around the world or as involved as having agents log into the site and simulate user actions.</span></span>

## <a name="reporting-data"></a><span data-ttu-id="0b9db-123">Datos de informes</span><span class="sxs-lookup"><span data-stu-id="0b9db-123">Reporting data</span></span>

<span data-ttu-id="0b9db-124">Una vez que se recopilan los datos, se pueden manipular, resumir y trazar en los gráficos, lo que permite a los usuarios ver al instante Cuándo hay problemas.</span><span class="sxs-lookup"><span data-stu-id="0b9db-124">Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow users to instantly see when there are problems.</span></span> <span data-ttu-id="0b9db-125">Estos gráficos se pueden recopilar en paneles o en libros, un informe de varias páginas diseñado para indicar una historia sobre algún aspecto del sistema.</span><span class="sxs-lookup"><span data-stu-id="0b9db-125">These charts can be gathered into dashboards or into Workbooks, a multi-page report designed to tell a story about some aspect of the system.</span></span>

<span data-ttu-id="0b9db-126">No se completará ninguna aplicación moderna sin algunas inteligencia artificial o aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="0b9db-126">No modern application would be complete without some artificial intelligence or machine learning.</span></span> <span data-ttu-id="0b9db-127">Para este fin, los datos [se pueden pasar](https://www.youtube.com/watch?v=Cuza-I1g9tw) a las diversas herramientas de aprendizaje automático de Azure para que pueda extraer tendencias e información que, de otro modo, se ocultaría.</span><span class="sxs-lookup"><span data-stu-id="0b9db-127">To this end, data [can be passed](https://www.youtube.com/watch?v=Cuza-I1g9tw) to the various machine learning tools in Azure to allow you to extract trends and information that would otherwise be hidden.</span></span>

<span data-ttu-id="0b9db-128">Application Insights proporciona un lenguaje de consulta eficaz (similar a SQL) denominado *Kusto* que puede consultar registros, resumirlos e incluso gráficos de trazados.</span><span class="sxs-lookup"><span data-stu-id="0b9db-128">Application Insights provides a powerful (SQL-like) query language called *Kusto* that can query records, summarize them, and even plot charts.</span></span> <span data-ttu-id="0b9db-129">Por ejemplo, la consulta siguiente buscará todos los registros del mes de noviembre de 2007, los agrupará por estado y trazará los 10 principales como un gráfico circular.</span><span class="sxs-lookup"><span data-stu-id="0b9db-129">For example, the following query will locate all records for the month of November 2007, group them by state, and plot the top 10 as a pie chart.</span></span>

```kusto
StormEvents
| where StartTime >= datetime(2007-11-01) and StartTime < datetime(2007-12-01)
| summarize count() by State
| top 10 by count_
| render piechart
```

<span data-ttu-id="0b9db-130">En la figura 7-13 se muestran los resultados de esta Application Insights consulta.</span><span class="sxs-lookup"><span data-stu-id="0b9db-130">Figure 7-13 shows the results of this Application Insights Query.</span></span>

<span data-ttu-id="0b9db-131">![Application Insights la ](./media/application_insights_example.png)
 **figura 7-13** de resultados de la consulta.</span><span class="sxs-lookup"><span data-stu-id="0b9db-131">![Application Insights query results](./media/application_insights_example.png)
**Figure 7-13**.</span></span> <span data-ttu-id="0b9db-132">Application Insights resultados de la consulta.</span><span class="sxs-lookup"><span data-stu-id="0b9db-132">Application Insights query results.</span></span>

<span data-ttu-id="0b9db-133">Hay una [animación para experimentar con consultas Kusto](https://dataexplorer.azure.com/clusters/help/databases/Samples) .</span><span class="sxs-lookup"><span data-stu-id="0b9db-133">There is a [playground for experimenting with Kusto](https://dataexplorer.azure.com/clusters/help/databases/Samples) queries.</span></span> <span data-ttu-id="0b9db-134">Leer [consultas de ejemplo](/azure/kusto/query/samples) también puede ser instructivo.</span><span class="sxs-lookup"><span data-stu-id="0b9db-134">Reading [sample queries](/azure/kusto/query/samples) can also be instructive.</span></span>

## <a name="dashboards"></a><span data-ttu-id="0b9db-135">Paneles</span><span class="sxs-lookup"><span data-stu-id="0b9db-135">Dashboards</span></span>

<span data-ttu-id="0b9db-136">Hay varias tecnologías de panel diferentes que se pueden usar para exponer la información de Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="0b9db-136">There are several different dashboard technologies that may be used to surface the information from Azure Monitor.</span></span> <span data-ttu-id="0b9db-137">Quizás lo más sencillo es ejecutar consultas en Application Insights y [trazar los datos en un gráfico](/azure/azure-monitor/learn/tutorial-app-dashboards).</span><span class="sxs-lookup"><span data-stu-id="0b9db-137">Perhaps the simplest is to just run queries in Application Insights and [plot the data into a chart](/azure/azure-monitor/learn/tutorial-app-dashboards).</span></span>

<span data-ttu-id="0b9db-138">![Un ejemplo de gráficos de Application Insights insertados en el panel principal de Azure ](./media/azure_dashboard.png)
 **figura 7-14**.</span><span class="sxs-lookup"><span data-stu-id="0b9db-138">![An example of Application Insights charts embedded in the main Azure Dashboard](./media/azure_dashboard.png)
**Figure 7-14**.</span></span> <span data-ttu-id="0b9db-139">Un ejemplo de gráficos de Application Insights insertados en el panel principal de Azure.</span><span class="sxs-lookup"><span data-stu-id="0b9db-139">An example of Application Insights charts embedded in the main Azure Dashboard.</span></span>

<span data-ttu-id="0b9db-140">Estos gráficos se pueden incrustar en el Azure Portal adecuado a través del uso de la característica del panel.</span><span class="sxs-lookup"><span data-stu-id="0b9db-140">These charts can then be embedded in the Azure portal proper through use of the dashboard feature.</span></span> <span data-ttu-id="0b9db-141">Para los usuarios con más requisitos de peractuación, como la posibilidad de explorar en profundidad varios niveles de datos, Azure Monitor datos están disponibles para [Power BI](https://powerbi.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="0b9db-141">For users with more exacting requirements, such as being able to drill down into several tiers of data, Azure Monitor data is available to [Power BI](https://powerbi.microsoft.com/).</span></span> <span data-ttu-id="0b9db-142">Power BI es una herramienta de inteligencia empresarial líder del sector que puede agregar datos de muchos orígenes de datos diferentes.</span><span class="sxs-lookup"><span data-stu-id="0b9db-142">Power BI is an industry-leading, enterprise class, business intelligence tool that can aggregate data from many different data sources.</span></span>

![Un ejemplo de panel de Power BI](./media/powerbidashboard.png)

<span data-ttu-id="0b9db-144">**Figura 7-15**.</span><span class="sxs-lookup"><span data-stu-id="0b9db-144">**Figure 7-15**.</span></span> <span data-ttu-id="0b9db-145">Un ejemplo Power BI panel.</span><span class="sxs-lookup"><span data-stu-id="0b9db-145">An example Power BI dashboard.</span></span>

## <a name="alerts"></a><span data-ttu-id="0b9db-146">Alertas</span><span class="sxs-lookup"><span data-stu-id="0b9db-146">Alerts</span></span>

<span data-ttu-id="0b9db-147">A veces, tener paneles de datos no es suficiente.</span><span class="sxs-lookup"><span data-stu-id="0b9db-147">Sometimes, having data dashboards is insufficient.</span></span> <span data-ttu-id="0b9db-148">Si nadie está activo para ver los paneles, puede seguir siendo de muchas horas antes de que se solucione un problema, o incluso cuando se detecte.</span><span class="sxs-lookup"><span data-stu-id="0b9db-148">If nobody is awake to watch the dashboards, then it can still be many hours before a problem is addressed, or even detected.</span></span> <span data-ttu-id="0b9db-149">Con este fin, Azure Monitor también proporciona una solución de [alerta](/azure/azure-monitor/platform/alerts-overview)de muesca.</span><span class="sxs-lookup"><span data-stu-id="0b9db-149">To this end, Azure Monitor also provides a top notch [alerting solution](/azure/azure-monitor/platform/alerts-overview).</span></span> <span data-ttu-id="0b9db-150">Las alertas se pueden desencadenar en una amplia variedad de condiciones, entre las que se incluyen:</span><span class="sxs-lookup"><span data-stu-id="0b9db-150">Alerts can be triggered by a wide range of conditions including:</span></span>

- <span data-ttu-id="0b9db-151">Valores de métrica</span><span class="sxs-lookup"><span data-stu-id="0b9db-151">Metric values</span></span>
- <span data-ttu-id="0b9db-152">Consultas de búsqueda de registros</span><span class="sxs-lookup"><span data-stu-id="0b9db-152">Log search queries</span></span>
- <span data-ttu-id="0b9db-153">Eventos del registro de actividad</span><span class="sxs-lookup"><span data-stu-id="0b9db-153">Activity Log events</span></span>
- <span data-ttu-id="0b9db-154">Estado de la plataforma Azure subyacente</span><span class="sxs-lookup"><span data-stu-id="0b9db-154">Health of the underlying Azure platform</span></span>
- <span data-ttu-id="0b9db-155">Pruebas de disponibilidad del sitio web</span><span class="sxs-lookup"><span data-stu-id="0b9db-155">Tests for web site availability</span></span>

<span data-ttu-id="0b9db-156">Cuando se desencadena, las alertas pueden realizar una amplia variedad de tareas.</span><span class="sxs-lookup"><span data-stu-id="0b9db-156">When triggered, the alerts can perform a wide variety of tasks.</span></span> <span data-ttu-id="0b9db-157">En el lado sencillo, las alertas solo pueden enviar una notificación por correo electrónico a una lista de distribución de correo o un mensaje de texto a un individuo.</span><span class="sxs-lookup"><span data-stu-id="0b9db-157">On the simple side, the alerts may just send an e-mail notification to a mailing list or a text message to an individual.</span></span> <span data-ttu-id="0b9db-158">Las alertas más complicadas podrían desencadenar un flujo de trabajo en una herramienta como PagerDuty, que es consciente de quién está llamando a para una aplicación determinada.</span><span class="sxs-lookup"><span data-stu-id="0b9db-158">More involved alerts might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular application.</span></span> <span data-ttu-id="0b9db-159">Las alertas pueden desencadenar acciones en [Microsoft Flow](https://flow.microsoft.com/) desbloquear las posibilidades sin límites para los flujos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0b9db-159">Alerts can trigger actions in [Microsoft Flow](https://flow.microsoft.com/) unlocking near limitless possibilities for workflows.</span></span>

<span data-ttu-id="0b9db-160">A medida que se identifican las causas comunes de las alertas, las alertas se pueden mejorar con detalles sobre las causas comunes de las alertas y los pasos que deben seguirse para resolverlos.</span><span class="sxs-lookup"><span data-stu-id="0b9db-160">As common causes of alerts are identified, the alerts can be enhanced with details about the common causes of the alerts and the steps to take to resolve them.</span></span> <span data-ttu-id="0b9db-161">Las implementaciones de aplicaciones nativas en la nube de gran madurez pueden optar por iniciar tareas de recuperación automática, que realizan acciones como la eliminación de nodos con errores de un conjunto de escalado o la activación de una actividad de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="0b9db-161">Highly mature cloud-native application deployments may opt to kick off self-healing tasks, which perform actions such as removing failing nodes from a scale set or triggering an autoscaling activity.</span></span> <span data-ttu-id="0b9db-162">Finalmente, es posible que ya no sea necesario reactivar al personal de la llamada en 2AM para resolver un problema en el sitio activo, ya que el sistema podrá ajustarse a sí mismo para compensar o al menos Limp, hasta que alguien llegue al trabajo la mañana siguiente.</span><span class="sxs-lookup"><span data-stu-id="0b9db-162">Eventually it may no longer be necessary to wake up on-call personnel at 2AM to resolve a live-site issue as the system will be able to adjust itself to compensate or at least limp along until somebody arrives at work the next morning.</span></span>

<span data-ttu-id="0b9db-163">Azure Monitor aprovecha automáticamente el aprendizaje automático para comprender los parámetros operativos normales de las aplicaciones implementadas.</span><span class="sxs-lookup"><span data-stu-id="0b9db-163">Azure Monitor automatically leverages machine learning to understand the normal operating parameters of deployed applications.</span></span> <span data-ttu-id="0b9db-164">Este enfoque permite detectar servicios que funcionan fuera de sus parámetros normales.</span><span class="sxs-lookup"><span data-stu-id="0b9db-164">This approach enables it to detect services that are operating outside of their normal parameters.</span></span> <span data-ttu-id="0b9db-165">Por ejemplo, el tráfico de día de la semana típico en el sitio podría ser 10.000 solicitudes por minuto.</span><span class="sxs-lookup"><span data-stu-id="0b9db-165">For instance, the typical weekday traffic on the site might be 10,000 requests per minute.</span></span> <span data-ttu-id="0b9db-166">Y después, en una semana determinada, el número de solicitudes alcanza una cantidad muy inusual de 20.000 solicitudes por minuto.</span><span class="sxs-lookup"><span data-stu-id="0b9db-166">And then, on a given week, suddenly the number of requests hits a highly unusual 20,000 requests per minute.</span></span> <span data-ttu-id="0b9db-167">La [detección inteligente](/azure/azure-monitor/app/proactive-diagnostics) observará esta desviación de la norma y desencadenará una alerta.</span><span class="sxs-lookup"><span data-stu-id="0b9db-167">[Smart Detection](/azure/azure-monitor/app/proactive-diagnostics) will notice this deviation from the norm and trigger an alert.</span></span> <span data-ttu-id="0b9db-168">Al mismo tiempo, el análisis de tendencias es lo suficientemente inteligente como para evitar la activación de falsos positivos cuando se espera la carga del tráfico.</span><span class="sxs-lookup"><span data-stu-id="0b9db-168">At the same time, the trend analysis is smart enough to avoid firing false positives when the traffic load is expected.</span></span>

## <a name="references"></a><span data-ttu-id="0b9db-169">Referencias</span><span class="sxs-lookup"><span data-stu-id="0b9db-169">References</span></span>

- [<span data-ttu-id="0b9db-170">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="0b9db-170">Azure Monitor</span></span>](/azure/azure-monitor/overview)

>[!div class="step-by-step"]
><span data-ttu-id="0b9db-171">[Anterior](monitoring-azure-kubernetes.md)
>[Siguiente](identity.md)</span><span class="sxs-lookup"><span data-stu-id="0b9db-171">[Previous](monitoring-azure-kubernetes.md)
[Next](identity.md)</span></span>
