---
title: Asignación de eShopOnContainers a los servicios de Azure
description: Asignación de eShopOnContainers a servicios de Azure como Azure Kubernetes Service, API Gateway y Azure Service Bus.
ms.date: 01/19/2021
ms.openlocfilehash: aa0d5cc3bf6c0226627ce558606f974b0e7ec238
ms.sourcegitcommit: f2ab02d9a780819ca2e5310bbcf5cfe5b7993041
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/03/2021
ms.locfileid: "99506258"
---
# <a name="mapping-eshoponcontainers-to-azure-services"></a><span data-ttu-id="0c7fe-103">Asignación de eShopOnContainers a los servicios de Azure</span><span class="sxs-lookup"><span data-stu-id="0c7fe-103">Mapping eShopOnContainers to Azure Services</span></span>

<span data-ttu-id="0c7fe-104">Aunque no es necesario, Azure es idóneo para admitir eShopOnContainers porque el proyecto se creó para ser una aplicación nativa en la nube.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-104">Although not required, Azure is well-suited to supporting the eShopOnContainers because the project was built to be a cloud-native application.</span></span> <span data-ttu-id="0c7fe-105">La aplicación se compila con .NET, por lo que se puede ejecutar en contenedores de Linux o Windows, en función del host de Docker.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-105">The application is built with .NET, so it can run on Linux or Windows containers depending on the Docker host.</span></span> <span data-ttu-id="0c7fe-106">La aplicación se compone de varios microservicios autónomos, cada uno con sus propios datos.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-106">The application is made up of multiple autonomous microservices, each with its own data.</span></span> <span data-ttu-id="0c7fe-107">Los diferentes microservicios exhiben diferentes enfoques, desde operaciones CRUD simples hasta patrones DDD y CQRS más complejos.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-107">The different microservices showcase different approaches, ranging from simple CRUD operations to more complex DDD and CQRS patterns.</span></span> <span data-ttu-id="0c7fe-108">Los microservicios se comunican con los clientes a través de HTTP y entre sí a través de la comunicación basada en mensajes.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-108">Microservices communicate with clients over HTTP and with one another via message-based communication.</span></span> <span data-ttu-id="0c7fe-109">La aplicación también admite varias plataformas para los clientes, ya que adopta HTTP como protocolo de comunicación estándar e incluye ASP.NET Core y Xamarin Mobile Apps que se ejecutan en plataformas Android, iOS y Windows.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-109">The application supports multiple platforms for clients as well, since it adopts HTTP as a standard communication protocol and includes ASP.NET Core and Xamarin mobile apps that run on Android, iOS, and Windows platforms.</span></span>

<span data-ttu-id="0c7fe-110">La arquitectura de la aplicación se muestra en la figura 2-5.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-110">The application's architecture is shown in Figure 2-5.</span></span> <span data-ttu-id="0c7fe-111">A la izquierda se encuentran las aplicaciones cliente, divididas en aplicaciones móviles, web tradicionales y de aplicación de una sola página web (SPA).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-111">On the left are the client apps, broken up into mobile, traditional Web, and Web Single Page Application (SPA) flavors.</span></span> <span data-ttu-id="0c7fe-112">A la derecha están los componentes del lado servidor que componen el sistema y cada uno de ellos se puede hospedar en los contenedores de Docker y en los clústeres de Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-112">On the right are the server-side components that make up the system, each of which can be hosted in Docker containers and Kubernetes clusters.</span></span> <span data-ttu-id="0c7fe-113">La aplicación web tradicional se basa en la ASP.NET Core aplicación MVC que se muestra en amarillo.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-113">The traditional web app is powered by the ASP.NET Core MVC application shown in yellow.</span></span> <span data-ttu-id="0c7fe-114">Esta aplicación y las aplicaciones móviles y Web SPA se comunican con los microservicios individuales a través de una o varias puertas de enlace de API.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-114">This app and the mobile and web SPA applications communicate with the individual microservices through one or more API gateways.</span></span> <span data-ttu-id="0c7fe-115">Las puertas de enlace de API siguen el patrón "back-ends para front-ends" (BFF), lo que significa que cada puerta de enlace está diseñada para admitir un cliente de front-end determinado.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-115">The API gateways follow the "backends for front ends" (BFF) pattern, meaning that each gateway is designed to support a given front-end client.</span></span> <span data-ttu-id="0c7fe-116">Los microservicios individuales se enumeran a la derecha de las puertas de enlace de API e incluyen la lógica de negocios y algún tipo de almacén de persistencia.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-116">The individual microservices are listed to the right of the API gateways and include both business logic and some kind of persistence store.</span></span> <span data-ttu-id="0c7fe-117">Los diferentes servicios hacen uso de SQL Server bases de datos, instancias de caché en Redis y almacenes MongoDB/CosmosDB.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-117">The different services make use of SQL Server databases, Redis cache instances, and MongoDB/CosmosDB stores.</span></span> <span data-ttu-id="0c7fe-118">En el extremo derecho se encuentra el bus de eventos del sistema, que se usa para la comunicación entre los microservicios.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-118">On the far right is the system's Event Bus, which is used for communication between the microservices.</span></span>

<span data-ttu-id="0c7fe-119">![eShopOnContainers arquitectura de la ](./media/eshoponcontainers-architecture.png)
 **figura 2-5**.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-119">![eShopOnContainers Architecture](./media/eshoponcontainers-architecture.png)
**Figure 2-5**.</span></span> <span data-ttu-id="0c7fe-120">Arquitectura de eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-120">The eShopOnContainers Architecture.</span></span>

<span data-ttu-id="0c7fe-121">Todos los componentes del lado servidor de esta arquitectura se asignan fácilmente a los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-121">The server-side components of this architecture all map easily to Azure services.</span></span>

## <a name="container-orchestration-and-clustering"></a><span data-ttu-id="0c7fe-122">Orquestación de contenedores y agrupación en clústeres</span><span class="sxs-lookup"><span data-stu-id="0c7fe-122">Container orchestration and clustering</span></span>

<span data-ttu-id="0c7fe-123">Los servicios hospedados en contenedores de la aplicación, desde ASP.NET Core aplicaciones MVC hasta los microservicios de catálogo y de ordenación, se pueden hospedar y administrar en Azure Kubernetes Service (AKS).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-123">The application's container-hosted services, from ASP.NET Core MVC apps to individual Catalog and Ordering microservices, can be hosted and managed in Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="0c7fe-124">La aplicación se puede ejecutar localmente en Docker y Kubernetes, y los mismos contenedores se pueden implementar en entornos de ensayo y producción hospedados en AKS.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-124">The application can run locally on Docker and Kubernetes, and the same containers can then be deployed to staging and production environments hosted in AKS.</span></span> <span data-ttu-id="0c7fe-125">Este proceso se puede automatizar, como veremos en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-125">This process can be automated as we'll see in the next section.</span></span>

<span data-ttu-id="0c7fe-126">AKS proporciona servicios de administración para clústeres individuales de contenedores.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-126">AKS provides management services for individual clusters of containers.</span></span> <span data-ttu-id="0c7fe-127">La aplicación implementará contenedores independientes para cada microservicio en el clúster de AKS, tal como se muestra en el diagrama de arquitectura anterior.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-127">The application will deploy separate containers for each microservice in the AKS cluster, as shown in the architecture diagram above.</span></span> <span data-ttu-id="0c7fe-128">Este enfoque permite escalar cada servicio individual de forma independiente según sus necesidades de recursos.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-128">This approach allows each individual service to scale independently according to its resource demands.</span></span> <span data-ttu-id="0c7fe-129">Cada microservicio también se puede implementar de forma independiente y, idealmente, estas implementaciones deberían incurrir en tiempo de inactividad del sistema.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-129">Each microservice can also be deployed independently, and ideally such deployments should incur zero system downtime.</span></span>

## <a name="api-gateway"></a><span data-ttu-id="0c7fe-130">API Gateway</span><span class="sxs-lookup"><span data-stu-id="0c7fe-130">API Gateway</span></span>

<span data-ttu-id="0c7fe-131">La aplicación eShopOnContainers tiene varios clientes front-end y varios servicios back-end diferentes.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-131">The eShopOnContainers application has multiple front-end clients and multiple different back-end services.</span></span> <span data-ttu-id="0c7fe-132">No hay una correspondencia uno a uno entre las aplicaciones cliente y los microservicios que las admiten.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-132">There's no one-to-one correspondence between the client applications and the microservices that support them.</span></span> <span data-ttu-id="0c7fe-133">En este escenario, puede haber una gran complejidad al escribir software cliente para interactuar con los distintos servicios back-end de una manera segura.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-133">In such a scenario, there may be a great deal of complexity when writing client software to interface with the various back-end services in a secure manner.</span></span> <span data-ttu-id="0c7fe-134">Cada cliente tendría que abordar esta complejidad por su cuenta, lo que provocaría la duplicación y muchos lugares en los que realizar las actualizaciones a medida que los servicios cambian o se implementan nuevas directivas.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-134">Each client would need to address this complexity on its own, resulting in duplication and many places in which to make updates as services change or new policies are implemented.</span></span>

<span data-ttu-id="0c7fe-135">Azure API Management (APIM) ayuda a las organizaciones a publicar API de un modo coherente y manejable.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-135">Azure API Management (APIM) helps organizations publish APIs in a consistent, manageable fashion.</span></span> <span data-ttu-id="0c7fe-136">APIM consta de tres componentes: la puerta de enlace de API y el portal de administración (el Azure Portal) y un portal para desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-136">APIM consists of three components: the API Gateway, and administration portal (the Azure portal), and a developer portal.</span></span>

<span data-ttu-id="0c7fe-137">La puerta de enlace de API acepta llamadas API y las enruta a la API de back-end adecuada.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-137">The API Gateway accepts API calls and routes them to the appropriate back-end API.</span></span> <span data-ttu-id="0c7fe-138">También puede proporcionar servicios adicionales, como la comprobación de claves de API o tokens JWT y la transformación de API sobre la marcha sin modificaciones en el código (por ejemplo, para dar cabida a los clientes que esperan una interfaz anterior).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-138">It can also provide additional services like verification of API keys or JWT tokens and API transformation on the fly without code modifications (for instance, to accommodate clients expecting an older interface).</span></span>

<span data-ttu-id="0c7fe-139">En el Azure Portal se define el esquema de la API y se empaquetan diferentes API en productos.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-139">The Azure portal is where you define the API schema and package different APIs into products.</span></span> <span data-ttu-id="0c7fe-140">También puede configurar el acceso de usuario, ver informes y configurar directivas para cuotas o transformaciones.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-140">You also configure user access, view reports, and configure policies for quotas or transformations.</span></span>

<span data-ttu-id="0c7fe-141">El portal para desarrolladores sirve como recurso principal para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-141">The developer portal serves as the main resource for developers.</span></span> <span data-ttu-id="0c7fe-142">Proporciona a los desarrolladores la documentación de la API, una consola de prueba interactiva e informa sobre su propio uso.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-142">It provides developers with API documentation, an interactive test console, and reports on their own usage.</span></span> <span data-ttu-id="0c7fe-143">Los desarrolladores también usan el portal para crear y administrar sus propias cuentas, incluida la compatibilidad con la suscripción y la clave de API.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-143">Developers also use the portal to create and manage their own accounts, including subscription and API key support.</span></span>

<span data-ttu-id="0c7fe-144">Con APIM, las aplicaciones pueden exponer varios grupos diferentes de servicios, cada uno de los cuales proporciona un back-end para un cliente de front-end determinado.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-144">Using APIM, applications can expose several different groups of services, each providing a back end for a particular front-end client.</span></span> <span data-ttu-id="0c7fe-145">Se recomienda APIM para escenarios complejos.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-145">APIM is recommended for complex scenarios.</span></span> <span data-ttu-id="0c7fe-146">Para las necesidades más sencillas, se puede usar la puerta de enlace de API ligera Ocelot.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-146">For simpler needs, the lightweight API Gateway Ocelot can be used.</span></span> <span data-ttu-id="0c7fe-147">La aplicación eShopOnContainers usa Ocelot debido a su simplicidad y porque se puede implementar en el mismo entorno de aplicación que la propia aplicación.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-147">The eShopOnContainers app uses Ocelot because of its simplicity and because it can be deployed into the same application environment as the application itself.</span></span> [<span data-ttu-id="0c7fe-148">Más información acerca de eShopOnContainers, APIM y Ocelot.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-148">Learn more about eShopOnContainers, APIM, and Ocelot.</span></span>](../microservices/architect-microservice-container-applications/direct-client-to-microservice-communication-versus-the-api-gateway-pattern.md#azure-api-management)

<span data-ttu-id="0c7fe-149">Otra opción si la aplicación usa AKS es implementar el controlador de entrada de puerta de enlace de Azure como Pod en el clúster de AKS.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-149">Another option if your application is using AKS is to deploy the Azure Gateway Ingress Controller as a pod within your AKS cluster.</span></span> <span data-ttu-id="0c7fe-150">Este enfoque permite que el clúster se integre con una puerta de enlace de Aplicación de Azure, lo que permite que la puerta de enlace equilibre la carga del tráfico a los pods de AKS.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-150">This approach allows your cluster to integrate with an Azure Application Gateway, allowing the gateway to load-balance traffic to the AKS pods.</span></span> <span data-ttu-id="0c7fe-151">[Obtenga más información sobre el controlador de entrada de puerta de enlace de Azure para AKS](https://github.com/Azure/application-gateway-kubernetes-ingress).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-151">[Learn more about the Azure Gateway Ingress Controller for AKS](https://github.com/Azure/application-gateway-kubernetes-ingress).</span></span>

## <a name="data"></a><span data-ttu-id="0c7fe-152">data</span><span class="sxs-lookup"><span data-stu-id="0c7fe-152">Data</span></span>

<span data-ttu-id="0c7fe-153">Los diversos servicios de back-end que usa eShopOnContainers tienen requisitos de almacenamiento diferentes.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-153">The various back-end services used by eShopOnContainers have different storage requirements.</span></span> <span data-ttu-id="0c7fe-154">Varios microservicios utilizan bases de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-154">Several microservices use SQL Server databases.</span></span> <span data-ttu-id="0c7fe-155">El microservicio de cesta aprovecha la caché en Redis para su persistencia.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-155">The Basket microservice leverages a Redis cache for its persistence.</span></span> <span data-ttu-id="0c7fe-156">El microservicio locations espera una API de MongoDB para sus datos.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-156">The Locations microservice expects a MongoDB API for its data.</span></span> <span data-ttu-id="0c7fe-157">Azure admite cada uno de estos formatos de datos.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-157">Azure supports each of these data formats.</span></span>

<span data-ttu-id="0c7fe-158">Por SQL Server compatibilidad con bases de datos, Azure tiene productos para todo, desde bases de datos únicas hasta grupos elásticos de gran escalabilidad SQL Database.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-158">For SQL Server database support, Azure has products for everything from single databases up to highly scalable SQL Database elastic pools.</span></span> <span data-ttu-id="0c7fe-159">Los microservicios individuales se pueden configurar para comunicarse con sus propias bases de datos de SQL Server individuales de forma rápida y sencilla.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-159">Individual microservices can be configured to communicate with their own individual SQL Server databases quickly and easily.</span></span> <span data-ttu-id="0c7fe-160">Estas bases de datos se pueden escalar según sea necesario para admitir cada microservicio independiente según sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-160">These databases can be scaled as needed to support each separate microservice according to its needs.</span></span>

<span data-ttu-id="0c7fe-161">La aplicación eShopOnContainers almacena la cesta de la compra actual del usuario entre las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-161">The eShopOnContainers application stores the user's current shopping basket between requests.</span></span> <span data-ttu-id="0c7fe-162">Este aspecto lo administra el microservicio de cesta que almacena los datos en una caché en Redis.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-162">This aspect is managed by the Basket microservice that stores the data in a Redis cache.</span></span> <span data-ttu-id="0c7fe-163">En desarrollo, esta caché se puede implementar en un contenedor, mientras que en producción puede usar caché de Azure para Redis.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-163">In development, this cache can be deployed in a container, while in production it can utilize Azure Cache for Redis.</span></span> <span data-ttu-id="0c7fe-164">Caché de Azure para Redis es un servicio totalmente administrado que ofrece un alto rendimiento y confiabilidad sin necesidad de implementar y administrar instancias o contenedores de Redis por su cuenta.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-164">Azure Cache for Redis is a fully managed service offering high performance and reliability without the need to deploy and manage Redis instances or containers on your own.</span></span>

<span data-ttu-id="0c7fe-165">El microservicio de ubicaciones utiliza una base de datos de MongoDB NoSQL para su persistencia.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-165">The Locations microservice uses a MongoDB NoSQL database for its persistence.</span></span> <span data-ttu-id="0c7fe-166">Durante el desarrollo, la base de datos se puede implementar en su propio contenedor, mientras que en producción el servicio puede aprovechar la [API de Azure Cosmos dB para MongoDB](/azure/cosmos-db/mongodb-introduction).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-166">During development, the database can be deployed in its own container, while in production the service can leverage [Azure Cosmos DB's API for MongoDB](/azure/cosmos-db/mongodb-introduction).</span></span> <span data-ttu-id="0c7fe-167">Una de las ventajas de Azure Cosmos DB es su capacidad para aprovechar varios protocolos de comunicación diferentes, entre los que se incluyen una API de SQL y las API NoSQL comunes, como MongoDB, Cassandra, Gremlin y Azure Table Storage.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-167">One of the benefits of Azure Cosmos DB is its ability to leverage multiple different communication protocols, including a SQL API and common NoSQL APIs including MongoDB, Cassandra, Gremlin, and Azure Table Storage.</span></span> <span data-ttu-id="0c7fe-168">Azure Cosmos DB ofrece una base de datos totalmente administrada y distribuida globalmente como servicio que se puede escalar para satisfacer las necesidades de los servicios que la usan.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-168">Azure Cosmos DB offers a fully managed and globally distributed database as a service that can scale to meet the needs of the services that use it.</span></span>

<span data-ttu-id="0c7fe-169">Los datos distribuidos en aplicaciones nativas en la nube se describen con más detalle en el [capítulo 5](distributed-data.md).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-169">Distributed data in cloud-native applications is covered in more detail in [chapter 5](distributed-data.md).</span></span>

## <a name="event-bus"></a><span data-ttu-id="0c7fe-170">Bus de eventos</span><span class="sxs-lookup"><span data-stu-id="0c7fe-170">Event Bus</span></span>

<span data-ttu-id="0c7fe-171">La aplicación utiliza eventos para comunicar cambios entre distintos servicios.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-171">The application uses events to communicate changes between different services.</span></span> <span data-ttu-id="0c7fe-172">Esta funcionalidad se puede implementar con varias implementaciones y localmente la aplicación de eShopOnContainers usa [RabbitMQ](https://www.rabbitmq.com/).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-172">This functionality can be implemented with various implementations, and locally the eShopOnContainers application uses [RabbitMQ](https://www.rabbitmq.com/).</span></span> <span data-ttu-id="0c7fe-173">Cuando se hospeda en Azure, la aplicación aprovecharía [Azure Service Bus](/azure/service-bus/) para su mensajería.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-173">When hosted in Azure, the application would leverage [Azure Service Bus](/azure/service-bus/) for its messaging.</span></span> <span data-ttu-id="0c7fe-174">Azure Service Bus es un agente de mensajes de integración totalmente administrado que permite a las aplicaciones y servicios comunicarse entre sí de forma desacoplada, confiable y asincrónica.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-174">Azure Service Bus is a fully managed integration message broker that allows applications and services to communicate with one another in a decoupled, reliable, asynchronous manner.</span></span> <span data-ttu-id="0c7fe-175">Azure Service Bus admite colas individuales, así como *temas* independientes para admitir escenarios de suscriptor de publicador.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-175">Azure Service Bus supports individual queues as well as separate *topics* to support publisher-subscriber scenarios.</span></span> <span data-ttu-id="0c7fe-176">La aplicación eShopOnContainers aprovecharía temas con Azure Service Bus para admitir la distribución de mensajes de un microservicio a cualquier otro microservicio que necesitaba reaccionar a un mensaje determinado.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-176">The eShopOnContainers application would leverage topics with Azure Service Bus to support distributing messages from one microservice to any other microservice that needed to react to a given message.</span></span>

## <a name="resiliency"></a><span data-ttu-id="0c7fe-177">Resistencia</span><span class="sxs-lookup"><span data-stu-id="0c7fe-177">Resiliency</span></span>

<span data-ttu-id="0c7fe-178">Una vez implementada en producción, la aplicación eShopOnContainers podría aprovecharse de varios servicios de Azure disponibles para mejorar su resistencia.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-178">Once deployed to production, the eShopOnContainers application would be able to take advantage of several Azure services available to improve its resiliency.</span></span> <span data-ttu-id="0c7fe-179">La aplicación publica comprobaciones de estado, que se pueden integrar con Application Insights para proporcionar informes y alertas en función de la disponibilidad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-179">The application publishes health checks, which can be integrated with Application Insights to provide reporting and alerts based on the app's availability.</span></span> <span data-ttu-id="0c7fe-180">Los recursos de Azure también proporcionan registros de diagnóstico que se pueden usar para identificar y corregir errores y problemas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-180">Azure resources also provide diagnostic logs that can be used to identify and correct bugs and performance issues.</span></span> <span data-ttu-id="0c7fe-181">Los registros de recursos proporcionan información detallada sobre cuándo y cómo se usan los distintos recursos de Azure en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0c7fe-181">Resource logs provide detailed information on when and how different Azure resources are used by the application.</span></span> <span data-ttu-id="0c7fe-182">Obtendrá más información sobre las características de resistencia nativa en la nube en el [capítulo 6](resiliency.md).</span><span class="sxs-lookup"><span data-stu-id="0c7fe-182">You'll learn more about cloud-native resiliency features in [chapter 6](resiliency.md).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="0c7fe-183">[Anterior](introduce-eshoponcontainers-reference-app.md)
>[Siguiente](deploy-eshoponcontainers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="0c7fe-183">[Previous](introduce-eshoponcontainers-reference-app.md)
[Next](deploy-eshoponcontainers-azure.md)</span></span>
