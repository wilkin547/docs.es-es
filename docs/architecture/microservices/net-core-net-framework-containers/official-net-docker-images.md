---
title: Imágenes oficiales de Docker de .NET
description: Arquitectura de microservicios de .NET para aplicaciones .NET en contenedor | Imágenes de Docker de .NET oficiales
ms.date: 01/30/2020
ms.openlocfilehash: 50a50587b35f811859841c4e049f40cb99479372
ms.sourcegitcommit: f38e527623883b92010cf4760246203073e12898
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/20/2020
ms.locfileid: "77501879"
---
# <a name="official-net-docker-images"></a><span data-ttu-id="a48d4-103">Imágenes oficiales de Docker de .NET</span><span class="sxs-lookup"><span data-stu-id="a48d4-103">Official .NET Docker images</span></span>

<span data-ttu-id="a48d4-104">Las imágenes oficiales de Docker de .NET son imágenes de Docker que Microsoft ha creado y optimizado.</span><span class="sxs-lookup"><span data-stu-id="a48d4-104">The Official .NET Docker images are Docker images created and optimized by Microsoft.</span></span> <span data-ttu-id="a48d4-105">Están disponibles públicamente en los repositorios de Microsoft en [Docker Hub](https://hub.docker.com/u/microsoft/).</span><span class="sxs-lookup"><span data-stu-id="a48d4-105">They are publicly available in the Microsoft repositories on [Docker Hub](https://hub.docker.com/u/microsoft/).</span></span> <span data-ttu-id="a48d4-106">Cada repositorio puede contener varias imágenes, según las versiones de .NET y según el sistema operativo y las versiones (Linux Debian, Linux Alpine, Windows Nano Server, Windows Server Core, etcétera).</span><span class="sxs-lookup"><span data-stu-id="a48d4-106">Each repository can contain multiple images, depending on .NET versions, and depending on the OS and versions (Linux Debian, Linux Alpine, Windows Nano Server, Windows Server Core, etc.).</span></span>

<span data-ttu-id="a48d4-107">Desde .NET Core 2.1, todas las imágenes de .NET Core, incluidas las de ASP.NET Core, están disponibles en Docker Hub, en el repositorio de imágenes de .NET Core: <https://hub.docker.com/_/microsoft-dotnet-core/>.</span><span class="sxs-lookup"><span data-stu-id="a48d4-107">Since .NET Core 2.1, all the .NET Core images, including for ASP.NET Core are available at Docker Hub at the .NET Core image repository: <https://hub.docker.com/_/microsoft-dotnet-core/>.</span></span>

<span data-ttu-id="a48d4-108">Desde mayo de 2018, las imágenes de Microsoft [se distribuyen en Microsoft Container Registry](https://azure.microsoft.com/blog/microsoft-syndicates-container-catalog/).</span><span class="sxs-lookup"><span data-stu-id="a48d4-108">Since May 2018, Microsoft images are being [syndicated in the Microsoft Container Registry](https://azure.microsoft.com/blog/microsoft-syndicates-container-catalog/).</span></span> <span data-ttu-id="a48d4-109">El catálogo oficial todavía está disponible, pero únicamente en Docker Hub, y allí encontrará la dirección actualizada para extraer la imagen.</span><span class="sxs-lookup"><span data-stu-id="a48d4-109">The official catalog is still only available in Docker Hub, and there you'll find the updated address to pull the image.</span></span>

<span data-ttu-id="a48d4-110">La mayoría de los repositorios de imágenes ofrece un etiquetado exhaustivo con el que es más fácil elegir no solo la versión de un marco concreto, sino también un sistema operativo (distribución de Linux o versión de Windows).</span><span class="sxs-lookup"><span data-stu-id="a48d4-110">Most image repositories provide extensive tagging to help you select not just a specific framework version, but also to choose an OS (Linux distribution or Windows version).</span></span>

## <a name="net-core-and-docker-image-optimizations-for-development-versus-production"></a><span data-ttu-id="a48d4-111">Optimizaciones de imágenes de .NET Core y Docker para desarrollo y para producción</span><span class="sxs-lookup"><span data-stu-id="a48d4-111">.NET Core and Docker image optimizations for development versus production</span></span>

<span data-ttu-id="a48d4-112">Al compilar imágenes de Docker para desarrolladores, Microsoft se centró en los siguientes escenarios principales:</span><span class="sxs-lookup"><span data-stu-id="a48d4-112">When building Docker images for developers, Microsoft focused on the following main scenarios:</span></span>

- <span data-ttu-id="a48d4-113">Imágenes que se usan para *desarrollar* y compilar aplicaciones de .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a48d4-113">Images used to *develop* and build .NET Core apps.</span></span>

- <span data-ttu-id="a48d4-114">Imágenes que se usan para *ejecutar* aplicaciones de .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a48d4-114">Images used to *run* .NET Core apps.</span></span>

<span data-ttu-id="a48d4-115">¿Por qué varias imágenes?</span><span class="sxs-lookup"><span data-stu-id="a48d4-115">Why multiple images?</span></span> <span data-ttu-id="a48d4-116">Al desarrollar, compilar y ejecutar aplicaciones en contenedor, normalmente hay prioridades diferentes.</span><span class="sxs-lookup"><span data-stu-id="a48d4-116">When developing, building, and running containerized applications, you usually have different priorities.</span></span> <span data-ttu-id="a48d4-117">Al proporcionar diferentes imágenes para estas tareas independientes, con Microsoft es más fácil optimizar los procesos independientes de desarrollo, creación e implementación de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="a48d4-117">By providing different images for these separate tasks, Microsoft helps optimize the separate processes of developing, building, and deploying apps.</span></span>

### <a name="during-development-and-build"></a><span data-ttu-id="a48d4-118">Durante el desarrollo y la compilación</span><span class="sxs-lookup"><span data-stu-id="a48d4-118">During development and build</span></span>

<span data-ttu-id="a48d4-119">Durante el desarrollo, lo importante es la velocidad con que se pueden iterar los cambios y la capacidad para depurar los cambios.</span><span class="sxs-lookup"><span data-stu-id="a48d4-119">During development, what is important is how fast you can iterate changes, and the ability to debug the changes.</span></span> <span data-ttu-id="a48d4-120">El tamaño de la imagen no es tan importante como la capacidad de realizar cambios en el código y ver rápidamente los cambios.</span><span class="sxs-lookup"><span data-stu-id="a48d4-120">The size of the image isn't as important as the ability to make changes to your code and see the changes quickly.</span></span> <span data-ttu-id="a48d4-121">Algunas herramientas y "contenedores de agente de compilación" usan la imagen de .NET Core de desarrollo (*mcr.microsoft.com/dotnet/core/sdk:3.1*) durante el proceso de desarrollo y compilación.</span><span class="sxs-lookup"><span data-stu-id="a48d4-121">Some tools and "build-agent containers", use the development .NET Core image (*mcr.microsoft.com/dotnet/core/sdk:3.1*) during development and build process.</span></span> <span data-ttu-id="a48d4-122">Al compilar dentro de un contenedor de Docker, los aspectos importantes son los elementos necesarios para compilar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a48d4-122">When building inside a Docker container, the important aspects are the elements that are needed to compile your app.</span></span> <span data-ttu-id="a48d4-123">Esto incluye el compilador y cualquier otra dependencia de .NET.</span><span class="sxs-lookup"><span data-stu-id="a48d4-123">This includes the compiler and any other .NET dependencies.</span></span>

<span data-ttu-id="a48d4-124">¿Por qué es importante este tipo de imagen de compilación?</span><span class="sxs-lookup"><span data-stu-id="a48d4-124">Why is this type of build image important?</span></span> <span data-ttu-id="a48d4-125">Esta imagen no se implementa para producción,</span><span class="sxs-lookup"><span data-stu-id="a48d4-125">You don't deploy this image to production.</span></span> <span data-ttu-id="a48d4-126">sino que es una imagen que se usa para compilar el contenido que se coloca en una imagen de producción.</span><span class="sxs-lookup"><span data-stu-id="a48d4-126">Instead, it's an image that you use to build the content you place into a production image.</span></span> <span data-ttu-id="a48d4-127">Esta imagen se usaría en el entorno de integración continua (CI) o el entorno de compilación al utilizar compilaciones de Docker de varias fases.</span><span class="sxs-lookup"><span data-stu-id="a48d4-127">This image would be used in your continuous integration (CI) environment or build environment when using Docker multi-stage builds.</span></span>

### <a name="in-production"></a><span data-ttu-id="a48d4-128">En producción</span><span class="sxs-lookup"><span data-stu-id="a48d4-128">In production</span></span>

<span data-ttu-id="a48d4-129">Lo importante en producción es la rapidez con que se pueden implementar e iniciar los contenedores según una imagen de .NET Core de producción.</span><span class="sxs-lookup"><span data-stu-id="a48d4-129">What is important in production is how fast you can deploy and start your containers based on a production .NET Core image.</span></span> <span data-ttu-id="a48d4-130">Por tanto, la imagen solo en tiempo de ejecución basada en *mcr.microsoft.com/dotnet/core/aspnet:3.1* es pequeña, por lo que puede desplazarse rápidamente a través de la red desde el Registro de Docker hasta los hosts de Docker.</span><span class="sxs-lookup"><span data-stu-id="a48d4-130">Therefore, the runtime-only image based on *mcr.microsoft.com/dotnet/core/aspnet:3.1* is small so that it can travel quickly across the network from your Docker registry to your Docker hosts.</span></span> <span data-ttu-id="a48d4-131">El contenido está listo para ejecutarse, lo que agiliza el proceso que va desde iniciar el contenedor hasta procesar los resultados.</span><span class="sxs-lookup"><span data-stu-id="a48d4-131">The contents are ready to run, enabling the fastest time from starting the container to processing results.</span></span> <span data-ttu-id="a48d4-132">En el modelo de Docker, no es necesario compilar desde el código C\#, como cuando se ejecuta dotnet build o dotnet publish al usar el contenedor de compilación.</span><span class="sxs-lookup"><span data-stu-id="a48d4-132">In the Docker model, there is no need for compilation from C\# code, as there is when you run dotnet build or dotnet publish when using the build container.</span></span>

<span data-ttu-id="a48d4-133">En esta imagen optimizada solo se colocan los archivos binarios y otros contenidos necesarios para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a48d4-133">In this optimized image, you put only the binaries and other content needed to run the application.</span></span> <span data-ttu-id="a48d4-134">Por ejemplo, el contenido que crea `dotnet publish` solo contiene los archivos binarios de .NET compilados, las imágenes y los archivos .js y .css.</span><span class="sxs-lookup"><span data-stu-id="a48d4-134">For example, the content created by `dotnet publish` contains only the compiled .NET binaries, images, .js, and .css files.</span></span> <span data-ttu-id="a48d4-135">Con el tiempo, verá imágenes que contienen paquetes anteriores a la compilación (la compilación del lenguaje intermedio al nativo que se produce en tiempo de ejecución).</span><span class="sxs-lookup"><span data-stu-id="a48d4-135">Over time, you will see images that contain pre-jitted (the compilation from IL to native that occurs at runtime) packages.</span></span>

<span data-ttu-id="a48d4-136">Aunque hay varias versiones de las imágenes de .NET Core y ASP.NET Core, todas ellas comparten una o más capas, incluida la capa base.</span><span class="sxs-lookup"><span data-stu-id="a48d4-136">Although there are multiple versions of the .NET Core and ASP.NET Core images, they all share one or more layers, including the base layer.</span></span> <span data-ttu-id="a48d4-137">Por tanto, la cantidad de espacio en disco necesaria para almacenar una imagen es pequeña; consiste únicamente en las diferencias entre la imagen personalizada y su imagen base.</span><span class="sxs-lookup"><span data-stu-id="a48d4-137">Therefore, the amount of disk space needed to store an image is small; it consists only of the delta between your custom image and its base image.</span></span> <span data-ttu-id="a48d4-138">El resultado es que es rápido extraer la imagen desde el registro.</span><span class="sxs-lookup"><span data-stu-id="a48d4-138">The result is that it is quick to pull the image from your registry.</span></span>

<span data-ttu-id="a48d4-139">Al explorar los repositorios de imágenes de .NET en Docker Hub, encontrará varias versiones de imágenes clasificadas o marcadas con etiquetas.</span><span class="sxs-lookup"><span data-stu-id="a48d4-139">When you explore the .NET image repositories at Docker Hub, you will find multiple image versions classified or marked with tags.</span></span> <span data-ttu-id="a48d4-140">Estas etiquetas ayudan a decidir cuál usar, según la versión que necesite, como las de la tabla siguiente:</span><span class="sxs-lookup"><span data-stu-id="a48d4-140">These tags help to decide which one to use, depending on the version you need, like those in the following table:</span></span>

| <span data-ttu-id="a48d4-141">Imagen</span><span class="sxs-lookup"><span data-stu-id="a48d4-141">Image</span></span> | <span data-ttu-id="a48d4-142">Comentarios</span><span class="sxs-lookup"><span data-stu-id="a48d4-142">Comments</span></span> |
|-------|----------|
| <span data-ttu-id="a48d4-143">mcr.microsoft.com/dotnet/core/aspnet:**3.1**</span><span class="sxs-lookup"><span data-stu-id="a48d4-143">mcr.microsoft.com/dotnet/core/aspnet:**3.1**</span></span> | <span data-ttu-id="a48d4-144">ASP.NET Core, solo con tiempo de ejecución y las optimizaciones de ASP.NET Core, en Linux y Windows (multiarquitectura)</span><span class="sxs-lookup"><span data-stu-id="a48d4-144">ASP.NET Core, with runtime only and ASP.NET Core optimizations, on Linux and Windows (multi-arch)</span></span> |
| <span data-ttu-id="a48d4-145">mcr.microsoft.com/dotnet/core/sdk:**3.1**</span><span class="sxs-lookup"><span data-stu-id="a48d4-145">mcr.microsoft.com/dotnet/core/sdk:**3.1**</span></span> | <span data-ttu-id="a48d4-146">.NET Core, con los SDK incluidos, en Linux y Windows (multiarquitectura)</span><span class="sxs-lookup"><span data-stu-id="a48d4-146">.NET Core, with SDKs included, on Linux and Windows (multi-arch)</span></span> |

> [!div class="step-by-step"]
> <span data-ttu-id="a48d4-147">[Anterior](net-container-os-targets.md)
> [Siguiente](../architect-microservice-container-applications/index.md)</span><span class="sxs-lookup"><span data-stu-id="a48d4-147">[Previous](net-container-os-targets.md)
[Next](../architect-microservice-container-applications/index.md)</span></span>
